(self.webpackChunkfootlocker=self.webpackChunkfootlocker||[]).push([[9289],{9207:(e,t,r)=>{"use strict";var n=r(65606),i=r(24994),o=i(r(17383)),a=i(r(34579)),s=r(95486),l=r(44613),u=r(4423),c=r(82965),h=r(6333),d=r(75093),f=r(26679),p=r(14136),m=r(76747).default,g=r(14148),y=r(1545),v=function(){var e=[];return p.canUseDOM()||e.push("domless"),void 0!==n&&void 0!==n.env&&n.env.BUNDLED&&e.push("bundled"),"".concat("ciojs-client-").concat(e.join("-")).concat(e.length?"-":"").concat(m)},b=function(){function e(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e);var a=i.apiKey,m=i.version,b=i.serviceUrl,_=i.quizzesServiceUrl,x=i.assistantServiceUrl,w=i.segments,S=i.testCells,T=i.clientId,E=i.sessionId,P=i.userId,C=i.fetch,A=i.trackingSendDelay,M=i.sendReferrerWithTrackingEvents,k=i.sendTrackingEvents,O=i.eventDispatcher,I=i.idOptions,R=i.beaconMode,D=i.networkParameters;if(!a||"string"!=typeof a)throw Error("API key is a required parameter of type string");var L=void 0!==r.g&&r.g.CLIENT_VERSION;if(p.canUseDOM()){var j=new s(I||{});t=j.session_id,n=j.client_id}else{if(!E||"number"!=typeof E)throw Error("sessionId is a required user parameter of type number");if(!T||"string"!=typeof T)throw Error("clientId is a required user parameter of type string")}var z=b&&b.replace(/\/$/,"");this.options={apiKey:a,version:m||L||v(),serviceUrl:p.addHTTPSToString(z)||"https://ac.cnstrc.com",quizzesServiceUrl:_&&_.replace(/\/$/,"")||"https://quizzes.cnstrc.com",assistantServiceUrl:x&&x.replace(/\/$/,"")||"https://assistant.cnstrc.com",sessionId:E||t,clientId:T||n,userId:P,segments:w,testCells:S,fetch:C||fetch,trackingSendDelay:A,sendTrackingEvents:k,sendReferrerWithTrackingEvents:M,eventDispatcher:O,beaconMode:!1!==R,networkParameters:D||{}},this.search=new l(this.options),this.browse=new u(this.options),this.autocomplete=new c(this.options),this.recommendations=new h(this.options),this.tracker=new d(this.options),this.quizzes=new g(this.options),this.assistant=new y(this.options),new f(i.eventDispatcher).queue("instantiated",this.options)}return(0,a.default)(e,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var t=e.apiKey,r=e.segments,n=e.testCells,i=e.sessionId,o=e.userId;t&&(this.options.apiKey=t),r&&(this.options.segments=r),n&&(this.options.testCells=n),i&&!p.canUseDOM()&&(this.options.sessionId=i),this.options.userId=void 0===o?"":o}}}]),e}();b.Tracker=d,p.canUseDOM()&&(window.ConstructorioClient=b),e.exports=b},1545:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=n(r(43693)),s=r(14136),l=s.cleanParams,u=s.trimNonBreakingSpaces,c=s.encodeURIComponentRFC3986,h=s.stringify;function d(e,t,r){var n=r.apiKey,i=r.version,o=r.sessionId,a=r.clientId,s=r.userId,d=r.segments,f=r.testCells,p=r.assistantServiceUrl,m={c:i};if(m.key=n,m.i=a,m.s=o,!e||"string"!=typeof e)throw Error("intent is a required parameter of type string");if(!t.domain||"string"!=typeof t.domain)throw Error("parameters.domain is a required parameter of type string");if(f&&Object.keys(f).forEach(function(e){m["ef-".concat(e)]=f[e]}),d&&d.length&&(m.us=d),s&&(m.ui=String(s)),t){var g=t.domain,y=t.numResultsPerPage;g&&(m.domain=g),y&&(m.num_results_per_page=y)}m._dt=Date.now();var v=h(m=l(m)),b=e.replace(/^\//,"|");return"".concat(p,"/v1/intent/").concat(c(u(b)),"?").concat(v)}function f(e,t,r){var n=function(r){e.addEventListener(r,function(e){var n=JSON.parse(e.data);t.enqueue({type:r,data:n})})};Object.values(r).forEach(function(e){e!==r.END&&n(e)}),e.addEventListener(r.END,function(){t.close(),e.close()}),e.onerror=function(r){t.error(r),e.close()}}var p=function(){function e(t){(0,i.default)(this,e),this.options=t||{}}return(0,o.default)(e,[{key:"getAssistantResultsStream",value:function(t,r){try{var n,i,o,a,s=d(t,r,this.options);n=new EventSource(s),i=new ReadableStream({start:function(t){f(n,t,e.EventTypes)},cancel:function(){n.close()}})}catch(e){throw i?null===(o=i)||void 0===o||o.cancel():null===(a=n)||void 0===a||a.close(),Error(e.message)}return i}}]),e}();(0,a.default)(p,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"}),e.exports=p,e.exports.createAssistantUrl=d,e.exports.setupEventListeners=f},82965:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(26679),s=r(14136),l=s.convertResponseToJson,u=s.cleanParams,c=s.applyNetworkTimeout,h=s.trimNonBreakingSpaces,d=s.encodeURIComponentRFC3986,f=s.stringify,p=function(){function e(t){(0,i.default)(this,e),this.options=t||{},this.eventDispatcher=new a(t.eventDispatcher)}return(0,o.default)(e,[{key:"getAutocompleteResults",value:function(e,t){var r,n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var s=new AbortController;n=s&&s.signal,c(this.options,o,s)}try{r=function(e,t,r){var n=r.apiKey,i=r.version,o=r.serviceUrl,a=r.sessionId,s=r.clientId,l=r.userId,c=r.segments,p=r.testCells,m={c:i};if(m.key=n,m.i=s,m.s=a,!e||"string"!=typeof e)throw Error("query is a required parameter of type string");if(p&&Object.keys(p).forEach(function(e){m["ef-".concat(e)]=p[e]}),c&&c.length&&(m.us=c),l&&(m.ui=String(l)),t){var g=t.numResults,y=t.resultsPerSection,v=t.filters,b=t.filtersPerSection,_=t.hiddenFields,x=t.variationsMap,w=t.preFilterExpression,S=t.qsParam;g&&(m.num_results=g),y&&Object.keys(y).forEach(function(e){m["num_results_".concat(e)]=y[e]}),v&&(m.filters=v),b&&Object.keys(b).forEach(function(e){m["filters[".concat(e,"]")]=b[e]}),w&&(m.pre_filter_expression=JSON.stringify(w)),_&&(m.fmt_options?m.fmt_options.hidden_fields=_:m.fmt_options={hidden_fields:_}),x&&(m.variations_map=JSON.stringify(x)),S&&(m.qs=JSON.stringify(S))}m._dt=Date.now();var T=f(m=u(m)),E=e.replace(/^\//,"|");return"".concat(o,"/autocomplete/").concat(d(h(E)),"?").concat(T)}(e,t,this.options)}catch(e){return Promise.reject(e)}return a(r,{signal:n}).then(l).then(function(e){if(e.sections)return e.result_id&&Object.keys(e.sections).forEach(function(t){var r=e.sections[t];r.length&&r.forEach(function(t){t.result_id=e.result_id})}),i.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",e),e;throw Error("getAutocompleteResults response data is malformed")})}}]),e}();e.exports=p},4423:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=n(r(43693));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=r(26679),c=r(14136);function h(e,t){var r=t.apiKey,n=t.version,i=t.sessionId,o=t.clientId,a=t.userId,s=t.segments,l=t.testCells,u={c:n};if(u.key=r,u.i=o,u.s=i,l&&Object.keys(l).forEach(function(e){u["ef-".concat(e)]=l[e]}),s&&s.length&&(u.us=s),a&&(u.ui=String(a)),e){var h=e.page,d=e.offset,f=e.resultsPerPage,p=e.filters,m=e.sortBy,g=e.sortOrder,y=e.section,v=e.fmtOptions,b=e.hiddenFields,_=e.hiddenFacets,x=e.variationsMap,w=e.qsParam,S=e.preFilterExpression;c.isNil(h)||(u.page=h),c.isNil(d)||(u.offset=d),c.isNil(f)||(u.num_results_per_page=f),p&&(u.filters=p),m&&(u.sort_by=m),g&&(u.sort_order=g),y&&(u.section=y),v&&(u.fmt_options=v),b&&(u.fmt_options?u.fmt_options.hidden_fields=b:u.fmt_options={hidden_fields:b}),_&&(u.fmt_options?u.fmt_options.hidden_facets=_:u.fmt_options={hidden_facets:_}),x&&(u.variations_map=JSON.stringify(x)),S&&(u.pre_filter_expression=JSON.stringify(S)),w&&(u.qs=JSON.stringify(w))}return u._dt=Date.now(),u=c.cleanParams(u)}var d=function(){function e(t){(0,i.default)(this,e),this.options=t||{},this.eventDispatcher=new u(t.eventDispatcher)}return(0,o.default)(e,[{key:"getBrowseResults",value:function(e,t,r){var n,i,o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=this.options.fetch;if("function"==typeof AbortController){var l=new AbortController;i=l&&l.signal,c.applyNetworkTimeout(this.options,a,l)}try{n=function(e,t,r,n){var i=n.serviceUrl;if(!e||"string"!=typeof e)throw Error("filterName is a required parameter of type string");if(!t||"string"!=typeof t)throw Error("filterValue is a required parameter of type string");var o=h(r,n),a=c.stringify(o);return"".concat(i,"/browse/").concat(c.encodeURIComponentRFC3986(c.trimNonBreakingSpaces(e)),"/").concat(c.encodeURIComponentRFC3986(c.trimNonBreakingSpaces(t)),"?").concat(a)}(e,t,r,this.options)}catch(e){return Promise.reject(e)}return s(n,{signal:i}).then(c.convertResponseToJson).then(function(e){if(e.response&&e.response.results)return e.result_id&&e.response.results.forEach(function(t){t.result_id=e.result_id}),o.eventDispatcher.queue("browse.getBrowseResults.completed",e),e;throw Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,t){var r,n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var s=new AbortController;n=s&&s.signal,c.applyNetworkTimeout(this.options,o,s)}try{r=function(e,t,r){var n=r.serviceUrl;if(!e||!Array.isArray(e)||!e.length)throw Error("ids is a required parameter of type array");var i=l(l({},h(t,r)),{},{ids:e}),o=c.stringify(i);return"".concat(n,"/browse/items?").concat(o)}(e,t,this.options)}catch(e){return Promise.reject(e)}return a(r,{signal:n}).then(c.convertResponseToJson).then(function(e){if(e.response&&e.response.results)return e.result_id&&e.response.results.forEach(function(t){t.result_id=e.result_id}),i.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",e),e;throw Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.options.fetch,o=this.options.serviceUrl,a=h(e,this.options);if("function"==typeof AbortController){var s=new AbortController;t=s&&s.signal,c.applyNetworkTimeout(this.options,n,s)}delete a._dt;var l=c.stringify(a);return i("".concat(o,"/browse/groups?").concat(l),{signal:t}).then(c.convertResponseToJson).then(function(e){if(e.response&&e.response.groups)return r.eventDispatcher.queue("browse.getBrowseGroups.completed",e),e;throw Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,t){var r,n,i,o,a,s,u=this,d=this.options.fetch;if("function"==typeof AbortController){var f=new AbortController;s=f&&f.signal,c.applyNetworkTimeout(this.options,t,f)}try{n=(r=this.options).serviceUrl,i=l({},h(e,r)),delete i._dt,o=c.stringify(i),a="".concat(n,"/browse/facets?").concat(o)}catch(e){return Promise.reject(e)}return d(a,{signal:s}).then(c.convertResponseToJson).then(function(e){if(e.response&&e.response.facets)return u.eventDispatcher.queue("browse.getBrowseFacets.completed",e),e;throw Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var t,r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var s=new AbortController;r=s&&s.signal,c.applyNetworkTimeout(this.options,o,s)}try{t=function(e,t,r){var n=r.serviceUrl;if(!e||"string"!=typeof e)throw Error("facetName is a required parameter of type string");var i=l({},h(t,r));i.facet_name=e,delete i._dt;var o=c.stringify(i);return"".concat(n,"/browse/facet_options?").concat(o)}(e,i,this.options)}catch(e){return Promise.reject(e)}return a(t,{signal:r}).then(c.convertResponseToJson).then(function(e){if(e.response&&e.response.facets)return n.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",e),e;throw Error("getBrowseFacetOptions response data is malformed")})}}]),e}();e.exports=d},14148:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=n(r(41132)),s=n(r(73738)),l=r(26679),u=r(14136);function c(e,t,r,n){var i=r.apiKey,o=r.clientId,l=r.sessionId,c=r.segments,h=r.userId,d=r.version,f=r.quizzesServiceUrl,p={c:d},m="";if(p.key=i,p.i=o,p.s=l,c&&c.length&&(p.us=c),h&&(p.ui=String(h)),!e||"string"!=typeof e)throw Error("quizId is a required parameter of type string");if("results"===n&&("object"!==(0,s.default)(t.answers)||!Array.isArray(t.answers)||0===t.answers.length))throw Error("answers is a required parameter of type array");if(t){var g=t.section,y=t.answers,v=t.quizSessionId,b=t.quizVersionId,_=t.page,x=t.resultsPerPage,w=t.filters,S=t.fmtOptions,T=t.hiddenFields;g&&(p.section=g),b&&(p.quiz_version_id=b),v&&(p.quiz_session_id=v),y&&y.length&&(m="&".concat(u.stringify({a:y.map(function(e){return(0,a.default)(e).join(",")})}))),u.isNil(_)||(p.page=_),u.isNil(x)||(p.num_results_per_page=x),w&&(p.filters=w),S&&(p.fmt_options=S),T&&(p.fmt_options?p.fmt_options.hidden_fields=T:p.fmt_options={hidden_fields:T})}p._dt=Date.now(),p=u.cleanParams(p);var E=u.stringify(p);return"".concat(f,"/v1/quizzes/").concat(encodeURIComponent(e),"/").concat(encodeURIComponent(n),"/?").concat(E).concat(m)}var h=function(){function e(t){(0,i.default)(this,e),this.options=t||{},this.eventDispatcher=new l(t.eventDispatcher)}return(0,o.default)(e,[{key:"getQuizNextQuestion",value:function(e,t){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.options.fetch,a=new AbortController,s=a.signal;try{r=c(e,t,this.options,"next")}catch(e){return Promise.reject(e)}return u.applyNetworkTimeout(this.options,i,a),o(r,{signal:s}).then(u.convertResponseToJson).then(function(e){if(e.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",e),e;throw Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,t){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.options.fetch,a=new AbortController,s=a.signal;try{r=c(e,t,this.options,"results")}catch(e){return Promise.reject(e)}return u.applyNetworkTimeout(this.options,i,a),o(r,{signal:s}).then(u.convertResponseToJson).then(function(e){if(e.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizResults.completed",e),e;throw Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,t){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.options.fetch,a=new AbortController,s=a.signal;try{r=c(e,t,this.options,"results_config")}catch(e){return Promise.reject(e)}return u.applyNetworkTimeout(this.options,i,a),o(r,{signal:s}).then(u.convertResponseToJson).then(function(e){if(e.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",e),e;throw Error("getQuizResultsConfig response data is malformed")})}}]),e}();e.exports=h},6333:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(26679),s=r(14136),l=function(){function e(t){(0,i.default)(this,e),this.options=t||{},this.eventDispatcher=new a(t.eventDispatcher)}return(0,o.default)(e,[{key:"getRecommendations",value:function(e,t){var r,n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var l=new AbortController;n=l&&l.signal,s.applyNetworkTimeout(this.options,o,l)}try{r=function(e,t,r){var n=r.apiKey,i=r.version,o=r.serviceUrl,a=r.sessionId,l=r.userId,u=r.clientId,c=r.segments,h={c:i};if(h.key=n,h.i=u,h.s=a,!e||"string"!=typeof e)throw Error("podId is a required parameter of type string");if(c&&c.length&&(h.us=c),l&&(h.ui=String(l)),t){var d=t.numResults,f=t.itemIds,p=t.section,m=t.term,g=t.filters,y=t.variationsMap,v=t.hiddenFields,b=t.preFilterExpression;s.isNil(d)||(h.num_results=d),f&&(h.item_id=f),p&&(h.section=p),m&&(h.term=m),g&&(h.filters=g),v&&(h.fmt_options?h.fmt_options.hidden_fields=v:h.fmt_options={hidden_fields:v}),y&&(h.variations_map=JSON.stringify(y)),b&&(h.pre_filter_expression=JSON.stringify(b))}h=s.cleanParams(h);var _=s.stringify(h);return"".concat(o,"/recommendations/v1/pods/").concat(s.encodeURIComponentRFC3986(s.trimNonBreakingSpaces(e)),"?").concat(_)}(e,t,this.options)}catch(e){return Promise.reject(e)}return a(r,{signal:n}).then(s.convertResponseToJson).then(function(e){if(e.response&&e.response.results)return e.result_id&&e.response.results.forEach(function(t){t.result_id=e.result_id}),i.eventDispatcher.queue("recommendations.getRecommendations.completed",e),e;throw Error("getRecommendations response data is malformed")})}}]),e}();e.exports=l},44613:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(26679),s=r(14136);function l(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r.apiKey,o=r.version,a=r.serviceUrl,l=r.sessionId,u=r.clientId,c=r.userId,h=r.segments,d=r.testCells,f={c:o};if(f.key=i,f.i=u,f.s=l,!e||"string"!=typeof e)throw Error("query is a required parameter of type string");if(d&&Object.keys(d).forEach(function(e){f["ef-".concat(e)]=d[e]}),h&&h.length&&(f.us=h),c&&(f.ui=String(c)),t){var p=t.offset,m=t.page,g=t.resultsPerPage,y=t.filters,v=t.sortBy,b=t.sortOrder,_=t.section,x=t.fmtOptions,w=t.hiddenFields,S=t.hiddenFacets,T=t.variationsMap,E=t.qsParam,P=t.preFilterExpression;s.isNil(p)||(f.offset=p),s.isNil(m)||(f.page=m),s.isNil(g)||(f.num_results_per_page=g),y&&(f.filters=y),v&&(f.sort_by=v),b&&(f.sort_order=b),_&&(f.section=_),x&&(f.fmt_options=x),w&&(f.fmt_options?f.fmt_options.hidden_fields=w:f.fmt_options={hidden_fields:w}),S&&(f.fmt_options?f.fmt_options.hidden_facets=S:f.fmt_options={hidden_facets:S}),T&&(f.variations_map=JSON.stringify(T)),P&&(f.pre_filter_expression=JSON.stringify(P)),E&&(f.qs=JSON.stringify(E))}f._dt=Date.now(),f=s.cleanParams(f);var C=s.stringify(f);return"".concat(a,"/").concat(n?"search/natural_language":"search","/").concat(s.encodeURIComponentRFC3986(s.trimNonBreakingSpaces(e)),"?").concat(C)}var u=function(){function e(t){(0,i.default)(this,e),this.options=t||{},this.eventDispatcher=new a(t.eventDispatcher)}return(0,o.default)(e,[{key:"getSearchResults",value:function(e,t){var r,n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var u=new AbortController;n=u&&u.signal,s.applyNetworkTimeout(this.options,o,u)}try{r=l(e,t,this.options)}catch(e){return Promise.reject(e)}return a(r,{signal:n}).then(s.convertResponseToJson).then(function(e){if(e.response&&e.response.results)return e.result_id&&e.response.results.forEach(function(t){t.result_id=e.result_id}),i.eventDispatcher.queue("search.getSearchResults.completed",e),e;if(e.response&&e.response.redirect)return i.eventDispatcher.queue("search.getSearchResults.completed",e),e;throw Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,t){var r,n,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.options.fetch;if("function"==typeof AbortController){var u=new AbortController;n=u&&u.signal,s.applyNetworkTimeout(this.options,o,u)}try{r=l(e,t,this.options,!0)}catch(e){return Promise.reject(e)}return a(r,{signal:n}).then(s.convertResponseToJson).then(function(e){if(e.response&&e.response.results)return e.result_id&&e.response.results.forEach(function(t){t.result_id=e.result_id}),i.eventDispatcher.queue("search.getVoiceSearchResults.completed",e),e;if(e.response&&e.response.redirect)return i.eventDispatcher.queue("search.getVoiceSearchResults.completed",e),e;throw Error("getVoiceSearchResults response data is malformed")})}}]),e}();e.exports=u},75093:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(73738)),o=n(r(43693)),a=n(r(17383)),s=n(r(34579));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=r(94160),h=r(14136),d=r(71254);function f(e,t){var r=t.apiKey,n=t.version,i=t.sessionId,o=t.clientId,a=t.userId,s=t.segments,l=t.testCells,u=t.requestMethod,c=t.beaconMode,d=h.getWindowLocation(),f=d.host,p=d.pathname,m=!1!==t.sendReferrerWithTrackingEvents,g=Object.assign(e);return n&&(g.c=n),o&&(g.i=o),i&&(g.s=i),a&&(g.ui=String(a)),s&&s.length&&(g.us=s),r&&(g.key=r),l&&Object.keys(l).forEach(function(e){g["ef-".concat(e)]=l[e]}),c&&u&&u.match(/POST/i)&&(g.beacon=!0),m&&f&&(g.origin_referrer=f,p&&(g.origin_referrer+=p)),g._dt=Date.now(),g=h.cleanParams(g)}function p(e,t){return h.stringify(f(e,t))}var m=function(){function e(t){(0,a.default)(this,e),this.options=t||{},this.eventemitter=new c,this.requests=new d(t,this.eventemitter)}return(0,s.default)(e,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(t).concat(p({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?");return this.requests.queue("".concat(t).concat(p({action:"session_start"},this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),i={},o=t.analyticsTags,a=void 0===o?null:o;a&&(i.analytics_tags=a),i.user_input=e;var s="POST",l=f(i,u(u({},this.options),{},{requestMethod:s}));return this.requests.queue("".concat(n).concat(p({},this.options)),s,l,r),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?");return this.requests.queue("".concat(t).concat(p({action:"focus"},this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),n={},o=e.item_name,a=e.name,s=e.item_id,l=e.customer_id,c=e.customerId,h=e.variation_id,d=e.itemName,m=void 0===d?o||a:d,g=e.itemId,y=void 0===g?s||(void 0===c?l:c):g,v=e.variationId,b=void 0===v?h:v,_=e.url,x=e.analyticsTags;m&&(n.item_name=m),y&&(n.item_id=y),b&&(n.variation_id=b),x&&(n.analytics_tags=x),_&&(n.url=_);var w="".concat(r).concat(p({},this.options)),S="POST",T=f(n,u(u({},this.options),{},{requestMethod:S}));return this.requests.queue(w,S,T,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),o=t.original_query,a=t.originalQuery,s=t.user_input,l=t.userInput,c=t.original_section,h=t.section,d=void 0===h?c:h,m=t.tr,g=t.group_id,y=t.groupId,v=t.item_id,b=t.itemId,_=t.variation_id,x=t.variationId,w={},S={user_input:void 0===l?(void 0===a?o:a)||s:l,tr:m,group_id:void 0===y?g:y,item_id:void 0===b?v:b,variation_id:void 0===x?_:x,item_name:e,section:d};d&&(w.section=d);var T="".concat(n).concat(p(w,this.options)),E="POST",P=f(S,u(u({},this.options),{},{requestMethod:E}));return this.requests.queue(T,E,P,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/autocomplete/").concat(h.encodeURIComponentRFC3986(h.trimNonBreakingSpaces(e)),"/select?"),o={},a=t.original_query,s=t.originalQuery,l=void 0===s?a:s,u=t.section,c=t.original_section,d=t.originalSection,f=void 0===d?c:d,m=t.tr,g=t.group_id,y=t.groupId,v=void 0===y?g:y,b=t.display_name,_=t.displayName;return l&&(o.original_query=l),m&&(o.tr=m),(f||u)&&(o.section=f||u),v&&(o.group={group_id:v,display_name:void 0===_?b:_}),this.requests.queue("".concat(n).concat(p(o,this.options)),void 0,void 0,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),o=t.original_query,a=t.originalQuery,s=t.user_input,l=t.userInput,c=t.group_id,h=t.groupId,d=void 0===h?c:h,m=t.section,g=t.analyticsTags,y=void 0===g?null:g,v={},b={user_input:void 0===l?(void 0===a?o:a)||s:l,search_term:e,section:m};d&&(b.filters={group_id:d}),m&&(v.section=m),y&&(b.analytics_tags=y);var _="".concat(n).concat(p(v,this.options)),x="POST",w=f(b,u(u({},this.options),{},{requestMethod:x}));return this.requests.queue(_,x,w,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/autocomplete/").concat(h.encodeURIComponentRFC3986(h.trimNonBreakingSpaces(e)),"/search?"),o={},a=t.original_query,s=t.originalQuery,l=void 0===s?a:s,u=t.group_id,c=t.groupId,d=void 0===c?u:c,f=t.display_name,m=t.displayName;return l&&(o.original_query=l),d&&(o.group={group_id:d,display_name:void 0===m?f:m}),this.requests.queue("".concat(n).concat(p(o,this.options)),void 0,void 0,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n,o,a="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),s=t.num_results,l=t.numResults,c=t.result_count,d=t.customerIds,m=t.customer_ids,g=t.itemIds,y=t.item_ids,v=t.items,b=void 0===v?(void 0===m?d:m)||(void 0===y?g:y):v,_=t.result_page,x=t.resultPage,w=t.result_id,S=t.resultId,T=t.sort_order,E=t.sortOrder,P=t.sort_by,C=t.sortBy,A=t.selected_filters,M=t.selectedFilters,k=t.url,O=void 0===k?(null===(n=h.getWindowLocation())||void 0===n?void 0:n.href)||"N/A":k,I=t.section,R=t.analyticsTags,D=t.resultCount,L=void 0===D?(void 0===l?s:l)||c||(null==b?void 0:b.length)||0:D,j={};if(b&&Array.isArray(b)&&0!==b.length){var z=b.slice(0,100);o="string"==typeof b[0]||"number"==typeof b[0]?z.map(function(e){return{item_id:String(e)}}):z.map(function(e){return h.toSnakeCaseKeys(e,!1)})}I&&(j.section=I);var B={search_term:e,result_count:L,items:o,result_page:void 0===x?_:x,result_id:void 0===S?w:S,sort_order:void 0===E?T:E,sort_by:void 0===C?P:C,selected_filters:void 0===M?A:M,analytics_tags:R,url:O,section:I},F="".concat(a).concat(p(j,this.options)),N="POST",V=f(B,u(u({},this.options),{},{requestMethod:N}));return this.requests.queue(F,N,V,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),o=t.num_results,a=t.customer_id,s=t.item_id,l=t.itemId,c=t.name,h=t.item_name,d=t.itemName,m=t.variation_id,g=t.variationId,y=t.result_id,v=t.resultId,b=t.result_count,_=t.resultCount,x=t.result_page,w=t.resultPage,S=t.result_position_on_page,T=t.resultPositionOnPage,E=t.num_results_per_page,P=t.numResultsPerPage,C=t.selected_filters,A=t.selectedFilters,M=t.section,k={};M&&(k.section=M);var O="".concat(n).concat(p(k,this.options)),I="POST",R=f({item_name:void 0===d?c||h:d,item_id:void 0===l?a||s:l,variation_id:void 0===g?m:g,result_id:void 0===v?y:v,result_count:void 0===_?o||b:_,result_page:void 0===w?x:w,result_position_on_page:void 0===T?S:T,num_results_per_page:void 0===P?E:P,selected_filters:void 0===A?C:A,section:M,search_term:e},u(u({},this.options),{},{requestMethod:I}));return this.requests.queue(O,I,R,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&"string"==typeof e){if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/autocomplete/").concat(h.encodeURIComponentRFC3986(h.trimNonBreakingSpaces(e)),"/click_through?"),o={},a=t.item_name,s=t.name,l=t.itemName,u=void 0===l?a||s:l,c=t.item_id,d=t.itemId,f=t.customer_id,m=t.customerId,g=void 0===m?f||(void 0===d?c:d):m,y=t.variation_id,v=t.variationId,b=void 0===v?y:v,_=t.result_id,x=t.resultId,w=void 0===x?_:x,S=t.item_is_convertible,T=t.itemIsConvertible,E=void 0===T?S:T,P=t.section;return u&&(o.name=u),g&&(o.customer_id=g),b&&(o.variation_id=b),w&&(o.result_id=w),"boolean"==typeof E&&(o.item_is_convertible=E),P&&(o.section=P),this.requests.queue("".concat(n).concat(p(o,this.options)),void 0,void 0,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}return this.requests.send(),Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&"object"===(0,i.default)(t)&&!Array.isArray(t)){var n=e||"TERM_UNKNOWN",o="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},s={},l=t.name,c=t.item_name,h=t.itemName,d=void 0===h?c||l:h,m=t.customer_id,g=t.customerId,y=t.item_id,v=t.itemId,b=void 0===v?y||(void 0===g?m:g):v,_=t.variation_id,x=t.variationId,w=void 0===x?_:x,S=t.revenue,T=t.section,E=void 0===T?"Products":T,P=t.display_name,C=t.displayName,A=void 0===C?P:C,M=t.type,k=t.is_custom_type,O=t.isCustomType,I=void 0===O?k:O;b&&(s.item_id=b),d&&(s.item_name=d),w&&(s.variation_id=w),(S||0===S)&&(s.revenue=S.toString()),E&&(a.section=E,s.section=E),n&&(s.search_term=n),M&&(s.type=M),I&&(s.is_custom_type=I),A&&(s.display_name=A);var R="".concat(o).concat(p(a,this.options)),D="POST",L=f(s,u(u({},this.options),{},{requestMethod:D}));return this.requests.queue(R,D,L,r),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),n={},o={},a=e.items,s=e.revenue,l=e.order_id,c=e.orderId,d=void 0===c?l:c,m=e.section,g=e.analyticsTags,y=this.options.apiKey;if(d){if(h.hasOrderIdRecord({orderId:d,apiKey:y}))return!1;h.addOrderIdRecord({orderId:d,apiKey:y}),o.order_id=d}a&&Array.isArray(a)&&(o.items=a.slice(0,100).map(function(e){return h.toSnakeCaseKeys(e,!1)})),(s||0===s)&&(o.revenue=s),m?n.section=m:n.section="Products",g&&(o.analytics_tags=g);var v="".concat(r).concat(p(n,this.options)),b="POST",_=f(o,u(u({},this.options),{},{requestMethod:b}));return this.requests.queue(v,b,_,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),n={},o=e.result_count,a=e.result_page,s=e.resultPage,l=void 0===s?a:s,c=e.result_id,d=e.resultId,m=void 0===d?c:d,g=e.section,y=e.url,v=e.pod_id,b=e.podId,_=void 0===b?v:b,x=e.num_results_viewed,w=e.numResultsViewed,S=void 0===w?x:w,T=e.items,E=e.analyticsTags,P=e.resultCount,C=void 0===P?o||(null==T?void 0:T.length)||0:P;h.isNil(C)||(n.result_count=C),h.isNil(l)||(n.result_page=l),m&&(n.result_id=m),g?n.section=g:n.section="Products",y&&(n.url=y),_&&(n.pod_id=_),h.isNil(S)||(n.num_results_viewed=S),T&&Array.isArray(T)&&(n.items=T.slice(0,100).map(function(e){return h.toSnakeCaseKeys(e,!1)})),E&&(n.analytics_tags=E);var A="".concat(r).concat(p({},this.options)),M="POST",k=f(n,u(u({},this.options),{},{requestMethod:M}));return this.requests.queue(A,M,k,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),n={},o=e.variation_id,a=e.variationId,s=void 0===a?o:a,l=e.section,c=void 0===l?"Products":l,d=e.result_id,m=e.resultId,g=void 0===m?d:m,y=e.result_count,v=e.resultCount,b=void 0===v?y:v,_=e.result_page,x=e.resultPage,w=void 0===x?_:x,S=e.result_position_on_page,T=e.resultPositionOnPage,E=void 0===T?S:T,P=e.num_results_per_page,C=e.numResultsPerPage,A=void 0===C?P:C,M=e.pod_id,k=e.podId,O=void 0===k?M:k,I=e.strategy_id,R=e.strategyId,D=void 0===R?I:R,L=e.item_id,j=e.itemId,z=void 0===j?L:j,B=e.item_name,F=e.itemName,N=void 0===F?B:F,V=e.analyticsTags;s&&(n.variation_id=s),c&&(n.section=c),g&&(n.result_id=g),h.isNil(b)||(n.result_count=b),h.isNil(w)||(n.result_page=w),h.isNil(E)||(n.result_position_on_page=E),h.isNil(A)||(n.num_results_per_page=A),O&&(n.pod_id=O),D&&(n.strategy_id=D),z&&(n.item_id=z),N&&(n.item_name=N),V&&(n.analytics_tags=V);var U="".concat(r).concat(p({},this.options)),G="POST",H=f(n,u(u({},this.options),{},{requestMethod:G}));return this.requests.queue(U,G,H,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),n={},o=e.section,a=void 0===o?"Products":o,s=e.result_count,l=e.result_page,c=e.resultPage,d=void 0===c?l:c,m=e.result_id,g=e.resultId,y=void 0===g?m:g,v=e.selected_filters,b=e.selectedFilters,_=void 0===b?v:b,x=e.url,w=e.sort_order,S=e.sortOrder,T=void 0===S?w:S,E=e.sort_by,P=e.sortBy,C=void 0===P?E:P,A=e.filter_name,M=e.filterName,k=void 0===M?A:M,O=e.filter_value,I=e.filterValue,R=void 0===I?O:I,D=e.items,L=e.analyticsTags,j=e.resultCount,z=void 0===j?s||(null==D?void 0:D.length)||0:j;a&&(n.section=a),h.isNil(z)||(n.result_count=z),h.isNil(d)||(n.result_page=d),y&&(n.result_id=y),_&&(n.selected_filters=_),x&&(n.url=x),T&&(n.sort_order=T),C&&(n.sort_by=C),k&&(n.filter_name=k),R&&(n.filter_value=R),D&&Array.isArray(D)&&(n.items=D.slice(0,100).map(function(e){return h.toSnakeCaseKeys(e,!1)})),L&&(n.analytics_tags=L);var B="".concat(r).concat(p({},this.options)),F="POST",N=f(n,u(u({},this.options),{},{requestMethod:F}));return this.requests.queue(B,F,N,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),n={},o=e.section,a=void 0===o?"Products":o,s=e.variation_id,l=e.variationId,c=void 0===l?s:l,d=e.result_id,m=e.resultId,g=void 0===m?d:m,y=e.result_count,v=e.resultCount,b=void 0===v?y:v,_=e.result_page,x=e.resultPage,w=void 0===x?_:x,S=e.result_position_on_page,T=e.resultPositionOnPage,E=void 0===T?S:T,P=e.num_results_per_page,C=e.numResultsPerPage,A=void 0===C?P:C,M=e.selected_filters,k=e.selectedFilters,O=void 0===k?M:k,I=e.filter_name,R=e.filterName,D=void 0===R?I:R,L=e.filter_value,j=e.filterValue,z=void 0===j?L:j,B=e.customer_id,F=e.customerId,N=e.item_id,V=e.itemId,U=void 0===V?(void 0===F?B:F)||N:V,G=e.item_name,H=e.name,q=e.itemName,$=void 0===q?G||H:q,W=e.analyticsTags;a&&(n.section=a),c&&(n.variation_id=c),g&&(n.result_id=g),h.isNil(b)||(n.result_count=b),h.isNil(w)||(n.result_page=w),h.isNil(E)||(n.result_position_on_page=E),h.isNil(A)||(n.num_results_per_page=A),O&&(n.selected_filters=O),D&&(n.filter_name=D),z&&(n.filter_value=z),U&&(n.item_id=U),$&&(n.item_name=$),W&&(n.analytics_tags=W);var X="".concat(r).concat(p({},this.options)),Z="POST",K=f(n,u(u({},this.options),{},{requestMethod:Z}));return this.requests.queue(X,Z,K,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===(0,i.default)(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),n={},o=e.item_id,a=e.itemId,s=void 0===a?o:a,l=e.item_name,c=e.itemName,h=void 0===c?l:c,d=e.variation_id,m=e.variationId,g=void 0===m?d:m,y=e.section,v=e.analyticsTags;if(s){n.section=void 0===y?"Products":y,n.item_id=s,h&&(n.item_name=h),g&&(n.variation_id=g),v&&(n.analytics_tags=v);var b="".concat(r).concat(p({},this.options)),_="POST",x=f(n,u(u({},this.options),{},{requestMethod:_}));return this.requests.queue(b,_,x,t),this.requests.send(),!0}}return this.requests.send(),Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),n=e.quiz_id,o=e.quizId,a=void 0===o?n:o,s=e.quiz_version_id,l=e.quizVersionId,c=void 0===l?s:l,d=e.quiz_session_id,m=e.quizSessionId,g=void 0===m?d:m,y=e.url,v=e.section,b=void 0===v?"Products":v,_=e.result_count,x=e.resultCount,w=void 0===x?_:x,S=e.result_id,T=e.resultId,E=void 0===T?S:T,P=e.result_page,C=e.resultPage,A=void 0===C?P:C,M=e.items,k={},O={};if(M&&Array.isArray(M)&&(O.items=M.slice(0,100).map(function(e){return h.toSnakeCaseKeys(e,!1)})),"string"!=typeof a)return Error('"quizId" is a required parameter of type string');if("string"!=typeof c)return Error('"quizVersionId" is a required parameter of type string');if("string"!=typeof g)return Error('"quizSessionId" is a required parameter of type string');if("string"!=typeof y)return Error('"url" is a required parameter of type string');if(O.quiz_id=a,O.quiz_version_id=c,O.quiz_session_id=g,O.url=y,!h.isNil(b)){if("string"!=typeof b)return Error('"section" must be a string');k.section=b,O.section=b}if(!h.isNil(w)){if("number"!=typeof w)return Error('"resultCount" must be a number');O.result_count=w}if(!h.isNil(E)){if("string"!=typeof E)return Error('"resultId" must be a string');O.result_id=E}if(!h.isNil(A)){if("number"!=typeof A)return Error('"resultPage" must be a number');O.result_page=A}var I="".concat(r).concat(p(k,this.options)),R="POST",D=f(O,u(u({},this.options),{},{requestMethod:R}));return this.requests.queue(I,R,D,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),n=e.quiz_id,o=e.quizId,a=void 0===o?n:o,s=e.quiz_version_id,l=e.quizVersionId,c=void 0===l?s:l,d=e.quiz_session_id,m=e.quizSessionId,g=void 0===m?d:m,y=e.item_id,v=e.itemId,b=void 0===v?y:v,_=e.item_name,x=e.itemName,w=void 0===x?_:x,S=e.result_count,T=e.resultCount,E=void 0===T?S:T,P=e.result_id,C=e.resultId,A=void 0===C?P:C,M=e.result_page,k=e.resultPage,O=void 0===k?M:k,I=e.num_results_per_page,R=e.numResultsPerPage,D=void 0===R?I:R,L=e.result_position_on_page,j=e.resultPositionOnPage,z=void 0===j?L:j,B=e.section,F=void 0===B?"Products":B,N=e.variationId,V={},U={};if("string"!=typeof a)return Error('"quizId" is a required parameter of type string');if("string"!=typeof c)return Error('"quizVersionId" is a required parameter of type string');if("string"!=typeof g)return Error('"quizSessionId" is a required parameter of type string');if("string"!=typeof b&&"string"!=typeof w)return Error('"itemId" or "itemName" is a required parameter of type string');if(U.quiz_id=a,U.quiz_version_id=c,U.quiz_session_id=g,!h.isNil(b)){if("string"!=typeof b)return Error('"itemId" must be a string');U.item_id=b}if(!h.isNil(w)){if("string"!=typeof w)return Error('"itemName" must be a string');U.item_name=w}if(!h.isNil(N)){if("string"!=typeof N)return Error('"variationId" must be a string');U.variation_id=N}if(!h.isNil(F)){if("string"!=typeof F)return Error('"section" must be a string');V.section=F}if(!h.isNil(E)){if("number"!=typeof E)return Error('"resultCount" must be a number');U.result_count=E}if(!h.isNil(A)){if("string"!=typeof A)return Error('"resultId" must be a string');U.result_id=A}if(!h.isNil(O)){if("number"!=typeof O)return Error('"resultPage" must be a number');U.result_page=O}if(!h.isNil(D)){if("number"!=typeof D)return Error('"numResultsPerPage" must be a number');U.num_results_per_page=D}if(!h.isNil(z)){if("number"!=typeof z)return Error('"resultPositionOnPage" must be a number');U.result_position_on_page=z}var G="".concat(r).concat(p(V,this.options)),H="POST",q=f(U,u(u({},this.options),{},{requestMethod:H}));return this.requests.queue(G,H,q,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),n=e.quiz_id,o=e.quizId,a=void 0===o?n:o,s=e.quiz_version_id,l=e.quizVersionId,c=void 0===l?s:l,d=e.quiz_session_id,m=e.quizSessionId,g=void 0===m?d:m,y=e.item_id,v=e.itemId,b=void 0===v?y:v,_=e.item_name,x=e.itemName,w=void 0===x?_:x,S=e.variation_id,T=e.variationId,E=void 0===T?S:T,P=e.revenue,C=e.section,A=void 0===C?"Products":C,M=e.type,k=e.is_custom_type,O=e.isCustomType,I=void 0===O?k:O,R=e.display_name,D=e.displayName,L=void 0===D?R:D,j={};if("string"!=typeof a)return Error('"quizId" is a required parameter of type string');if("string"!=typeof c)return Error('"quizVersionId" is a required parameter of type string');if("string"!=typeof g)return Error('"quizSessionId" is a required parameter of type string');if("string"!=typeof b&&"string"!=typeof w)return Error('"itemId" or "itemName" is a required parameter of type string');if(j.quiz_id=a,j.quiz_version_id=c,j.quiz_session_id=g,!h.isNil(b)){if("string"!=typeof b)return Error('"itemId" must be a string');j.item_id=b}if(!h.isNil(w)){if("string"!=typeof w)return Error('"itemName" must be a string');j.item_name=w}if(!h.isNil(E)){if("string"!=typeof E)return Error('"variationId" must be a string');j.variation_id=E}if(!h.isNil(P)){if("string"!=typeof P)return Error('"revenue" must be a string');j.revenue=P}if(!h.isNil(A)){if("string"!=typeof A)return Error('"section" must be a string');j.section=A}if(!h.isNil(M)){if("string"!=typeof M)return Error('"type" must be a string');j.type=M}if(!h.isNil(I)){if("boolean"!=typeof I)return Error('"isCustomType" must be a boolean');j.is_custom_type=I}if(!h.isNil(L)){if("string"!=typeof L)return Error('"displayName" must be a string');j.display_name=L}var z="".concat(r).concat(p({},this.options)),B="POST",F=f(j,u(u({},this.options),{},{requestMethod:B}));return this.requests.queue(z,B,F,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),n=e.section,o=e.intent,a="".concat(r).concat(p({},this.options)),s="POST",l=f({intent:o,section:n},u(u({},this.options),{},{requestMethod:s}));return this.requests.queue(a,s,l,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantResultLoadStarted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),n=e.section,o=e.intentResultId,a=e.intent,s="".concat(r).concat(p({},this.options)),l="POST",c=f({intent_result_id:o,intent:a,section:n},u(u({},this.options),{},{requestMethod:l}));return this.requests.queue(s,l,c,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantResultLoadFinished",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),n=e.section,o=e.searchResultCount,a=e.intentResultId,s=e.intent,l="".concat(r).concat(p({},this.options)),c="POST",h=f({intent_result_id:a,section:n,intent:s,search_result_count:o},u(u({},this.options),{},{requestMethod:c}));return this.requests.queue(l,c,h,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantResultClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),n=e.section,o=e.variationId,a=e.intentResultId,s=e.searchResultId,l=e.itemId,c=e.itemName,h=e.intent,d="".concat(r).concat(p({},this.options)),m="POST",g=f({section:void 0===n?"Products":n,variation_id:o,intent_result_id:a,search_result_id:s,item_id:l,item_name:c,intent:h},u(u({},this.options),{},{requestMethod:m}));return this.requests.queue(d,m,g,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantResultView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),n=e.section,o=e.items,a=e.numResultsViewed,s=e.intentResultId,l=e.searchResultId,c=e.intent,d={section:void 0===n?"Products":n,intent_result_id:s,search_result_id:l,num_results_viewed:a,items:o&&Array.isArray(o)&&o.slice(0,100).map(function(e){return h.toSnakeCaseKeys(e,!1)}),intent:c},m="".concat(r).concat(p({},this.options)),g="POST",y=f(d,u(u({},this.options),{},{requestMethod:g}));return this.requests.queue(m,g,y,t),this.requests.send(),!0}return this.requests.send(),Error("parameters are required of type object")}},{key:"trackAssistantSearchSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"object"===(0,i.default)(e)&&!Array.isArray(e)){var r="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),n=e.section,o=e.intent,a=e.searchTerm,s=e.searchResultId,l=e.intentResultId,c="".concat(r).concat(p({},this.options)),h="POST",d=f({intent:o,section:n,search_term:a,search_result_id:s,intent_result_id:l},u(u({},this.options),{},{requestMethod:h}));return this.requests.queue(c,h,d,t),this.requests.send(),!0}return this.requests.send(),Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,t){return"success"!==e&&"error"!==e?Error('messageType must be a string of value "success" or "error"'):t&&"function"==typeof t?(this.eventemitter.on(e,t),!0):Error("callback is required and must be a function")}}]),e}();m.RequestQueue=d,e.exports=m},3012:e=>{"use strict";e.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider","BTTAgent"]},26679:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(14136),s=function(){function e(t){var r=this;(0,i.default)(this,e),this.events=[],this.enabled=!t||!1!==t.enabled,this.waitForBeacon=!t||!1!==t.waitForBeacon,this.active=this.enabled,this.waitForBeacon&&(this.active=!1,a.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),a.addEventListener("cio.beacon.loaded",function(){r.enabled&&(r.active=!0,r.dispatchEvents())}))}return(0,o.default)(e,[{key:"queue",value:function(e,t){this.events.push({name:e,data:t}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),t=e.name,r=e.data,n="cio.client.".concat(t);a.dispatchEvent(a.createCustomEvent(n,r))}}}]),e}();e.exports=s},94160:(e,t,r)=>{"use strict";var n,i=r(24994)(r(73738)),o=("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))==="object"?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function o(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&v(e,"error",o,i))})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+(0,i.default)(e))}function h(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=h(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,s=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function m(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,i.default)(e))}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else for(var u=l.length,c=y(l,u),r=0;r<u;++r)a(c[r],this,t);return!0},l.prototype.addListener=function(e,t){return d(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return d(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},l.prototype.removeListener=function(e,t){var r,n,i,o,a;if(c(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},14136:(e,t,r)=>{"use strict";var n=r(24994)(r(73738)),i=r(52566),o=r(57972),a="_constructorio_purchase_order_ids",s=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],l={trimNonBreakingSpaces:function(e){return e.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];"string"==typeof n?t[r]=l.trimNonBreakingSpaces(n):t[r]=n}),t},throwHttpErrorFromResponse:function(e,t){return t.json().then(function(r){throw e.message=r.message,e.status=t.status,e.statusText=t.statusText,e.url=t.url,e.headers=t.headers,e})},canUseDOM:function(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)},addEventListener:function(e,t,r){l.canUseDOM()&&window.addEventListener(e,t,r)},removeEventListener:function(e,t,r){l.canUseDOM()&&window.removeEventListener(e,t,r)},getNavigator:function(){return l.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(e){return null==e},getWindowLocation:function(){return l.canUseDOM()?window.location:{}},dispatchEvent:function(e){l.canUseDOM()&&window.dispatchEvent(e)},createCustomEvent:function(e,t){if(l.canUseDOM())try{return new window.CustomEvent(e,{detail:t})}catch(n){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,t),r}return null},hasOrderIdRecord:function(e){var t=e.orderId,r=e.apiKey,n=t;r&&(n="".concat(r,"-").concat(t));var s=i.str(n.toString()),l=o.local.get(a);return"string"==typeof l&&(l=JSON.parse(l)),!!(l&&l.includes(s))||null},addOrderIdRecord:function(e){var t=e.orderId,r=e.apiKey,n=t;r&&(n="".concat(r,"-").concat(t));var s=i.str(n.toString()),l=o.local.get(a);if("string"==typeof l&&(l=JSON.parse(l)),l){if(l.includes(s))return;l.length>=10&&(l=l.slice(-9)),l.push(s)}else l=[s];o.local.set(a,l)},applyNetworkTimeout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e&&e.networkParameters&&e.networkParameters.timeout,i=t&&t.timeout||n;"number"==typeof i&&r&&setTimeout(function(){return r.abort()},i)},stringify:function(e,t,r){if(!e)return"";var i=[];return Object.keys(e).forEach(function(o){var a,s=e[o],u=l.encodeURIComponentRFC3986(o);if(null!=s){var c=t?"".concat(t,"%5B").concat(u,"%5D"):u;a=Array.isArray(s)?l.stringify(s,c,"array"):"object"===(0,n.default)(s)?l.stringify(s,c,"object"):"object"===r?"".concat(c,"=").concat(l.encodeURIComponentRFC3986(s)):"".concat(t||u,"=").concat(l.encodeURIComponentRFC3986(s)),i.push(a)}}),i.join("&")},toSnakeCase:function(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return Object.keys(e).forEach(function(i){r[l.toSnakeCase(i)]=t&&"object"===(0,n.default)(e[i])&&!Array.isArray(e[i])?l.toSnakeCaseKeys(e[i],t):e[i]}),r},containsPii:function(e,t){var r=e.toLowerCase();return t.test(r)},obfuscatePiiRequest:function(e){var t=e;try{var r,n,i,o=new URL(e),a=null==o?void 0:null===(r=o.pathname)||void 0===r?void 0:r.split("/"),u=null==o?void 0:null===(n=o.search)||void 0===n?void 0:null===(i=n.split("&"))||void 0===i?void 0:i.map(function(e){var t;return null===(t=e.split("="))||void 0===t?void 0:t[1]});s.forEach(function(e){var r=e.pattern,n=e.replaceWith;a.forEach(function(e){var i=decodeURIComponent(e);l.containsPii(i,r)&&(t=t.replaceAll(e,n))}),u.forEach(function(e){var i=decodeURIComponent(e);l.containsPii(i,r)&&(t=t.replaceAll(i,n))})})}catch(e){}return t},convertResponseToJson:function(e){return e.ok?e.json().catch(function(){return e.text().then(function(t){throw Error("Server responded with an invalid JSON object. Response code: ".concat(e.code,", Response: ").concat(t))})}):l.throwHttpErrorFromResponse(Error(),e)},addHTTPSToString:function(e){if("string"!=typeof e)return null;var t=e.startsWith("https://"),r=e.startsWith("http://");return!t&&r?e.replace("http","https"):r||t?e:"https://".concat(e)}};e.exports=l},5595:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(57972),s=r(3012),l=r(14136),u="_constructorio_is_human",c=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],h=function(){function e(){var t=this;(0,i.default)(this,e),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var r=function e(){t.isHumanBoolean=!0,a.session.set(u,!0),c.forEach(function(t){l.removeEventListener(t,e,!0)})};this.isHumanBoolean||c.forEach(function(e){l.addEventListener(e,r,!0)})}return(0,o.default)(e,[{key:"getIsHumanFromSessionStorage",value:function(){return!!a.session.get(u)}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!a.session.get(u)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=l.getNavigator(),t=e.userAgent,r=e.webdriver,n=new RegExp("(".concat(s.join("|"),")"));return!!t.match(n)||!!r}}]),e}();e.exports=h},71254:(e,t,r)=>{"use strict";var n=r(24994),i=n(r(17383)),o=n(r(34579)),a=r(57972),s=r(5595),l=r(14136),u=r(14136).obfuscatePiiRequest,c="_constructorio_requests",h=function(){function e(t,r){var n=this;(0,i.default)(this,e),this.options=t,this.eventemitter=r,this.humanity=new s,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!t&&!0===t.sendTrackingEvents,l.addEventListener("beforeunload",function(){n.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,o.default)(e,[{key:"queue",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var o=e.get(),a=u(t);o.push({url:a,method:r,body:n,networkParameters:i}),e.set(o)}}},{key:"sendEvents",value:function(){var t=this,r=this.options.fetch,n=e.get();if((!l.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&n.length){var i,o,a=n.shift(),s=a.networkParameters,u=this;if(e.set(n),s&&"function"==typeof AbortController){var c=new AbortController;o=c.signal,l.applyNetworkTimeout(this.options,s,c)}if("string"==typeof a&&(a={url:a,method:"GET"}),a.url){var h=a.url.match(/\?.*_dt=([^&]+)/),d=parseInt(h&&h[1],10),f=+new Date;if(d&&Number.isInteger(d)&&f-d>18e4){this.sendTrackingEvents=!1,e.remove();return}}"GET"===a.method&&(i=r(a.url,{signal:o})),"POST"===a.method&&(i=r(a.url,{method:a.method,body:JSON.stringify(a.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:o})),i&&(this.requestPending=!0,i.then(function(e){e.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:a.url,method:a.method,message:"ok"}),t.requestPending=!1,t.send()):e.json().then(function(e){u.eventemitter&&u.eventemitter.emit("error",{url:a.url,method:a.method,message:e&&e.message}),t.requestPending=!1,t.send()}).catch(function(e){u.eventemitter&&u.eventemitter.emit("error",{url:a.url,method:a.method,message:e.type}),t.requestPending=!1,t.send()})}).catch(function(e){u.eventemitter&&u.eventemitter.emit("error",{url:a.url,method:a.method,message:e&&e.toString&&e.toString()}),t.requestPending=!1,t.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&0===this.options.trackingSendDelay?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return a.local.get(c)||[]}},{key:"set",value:function(t){!t||Array.isArray(t)&&0===t.length?e.remove():a.local.set(c,t);var r=e.get();Array.isArray(r)&&r.length!==t.length&&(this.sendTrackingEvents=!1,e.remove())}},{key:"remove",value:function(){a.local.remove(c)}}]),e}();e.exports=h},57972:e=>{"use strict";function t(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||-1!==e.toString().indexOf("QUOTA_EXCEEDED_ERR")||-1!==e.toString().indexOf("QuotaExceededError"))&&t&&0!==t.length}}e.exports={local:{overflow:{},get:function(e){var r=this.overflow[e];if(r)return r;if(!t("localStorage"))return null;var n=localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(e){return n}return null},set:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){this.overflow[e]=t}},remove:function(e){var r;null!==(r=this.overflow)&&void 0!==r&&r[e]&&delete this.overflow[e],t("localStorage")&&localStorage.removeItem(e)},key:function(e){if(!t("localStorage"))return null===(a=Object.keys(this.overflow))||void 0===a?void 0:a[e];var r=null===(i=localStorage)||void 0===i?void 0:i.key(e),n=(null===(o=localStorage)||void 0===o?void 0:o.length)||0;if(e>=n){var i,o,a,s,l=e-n;return null===(s=Object.keys(this.overflow))||void 0===s?void 0:s[l]}return r},length:function(){var e=Object.keys(this.overflow).length;return t("localStorage")?localStorage.length+e:e},clear:function(){this.overflow={},t("localStorage")&&localStorage.clear()}},session:{overflow:{},get:function(e){var r=this.overflow[e];if(r)return r;if(!t("sessionStorage"))return null;var n=sessionStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(e){return n}return null},set:function(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(r){this.overflow[e]=t}},remove:function(e){var r;null!==(r=this.overflow)&&void 0!==r&&r[e]&&delete this.overflow[e],t("sessionStorage")&&sessionStorage.removeItem(e)},key:function(e){if(!t("sessionStorage"))return null===(a=Object.keys(this.overflow))||void 0===a?void 0:a[e];var r=null===(i=sessionStorage)||void 0===i?void 0:i.key(e),n=(null===(o=sessionStorage)||void 0===o?void 0:o.length)||0;if(e>=n){var i,o,a,s,l=e-n;return null===(s=Object.keys(this.overflow))||void 0===s?void 0:s[l]}return r},length:function(){var e=Object.keys(this.overflow).length;return t("sessionStorage")?sessionStorage.length+e:e},clear:function(){this.overflow={},t("sessionStorage")&&sessionStorage.clear()}},canUseStorage:t}},76747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="2.56.0"},95486:e=>{!function(){function t(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e instanceof DOMException&&"QuotaExceededError"===e.name&&t&&0!==t.length}}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(null==e)throw TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n){n=Object(n);for(var i=Object.keys(Object(n)),o=0,a=i.length;a>o;o++){var s=i[o],l=Object.getOwnPropertyDescriptor(n,s);void 0!==l&&l.enumerable&&(t[s]=n[s])}}}return t}});var r=function(e){var t;Object.assign(this,{user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:"undefined"==typeof window,session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"},e),this.client_id||(!this.on_node&&this.persist?("cookie"===this.client_id_storage_location&&(t=this.get_cookie(this.cookie_name_client_id))&&(this.delete_cookie(this.cookie_name_client_id),this.set_cookie(this.cookie_name_client_id,t)),"local"===this.client_id_storage_location&&(t=this.get_local_object(this.local_name_client_id)),this.client_id=t||this.generate_client_id()):this.client_id=this.generate_client_id()),this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};r.prototype.set_cookie=function(e,t){if(!this.on_node&&this.persist){var r=e+"="+t+"; expires="+new Date(Date.now()+864e5*this.cookie_days_to_live).toUTCString()+"; path=/";return this.cookie_domain&&(r+="; domain="+this.cookie_domain),this.cookie_secure&&(r+="; secure"),this.cookie_samesite&&(r+="; samesite="+this.cookie_samesite),document.cookie=r,r}return null},r.prototype.get_cookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var i=r[n];try{for(var o=decodeURIComponent(i);" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}catch(e){}}},r.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},r.prototype.generate_client_id=function(){var e;if(!this.on_node){var t=this.get_cookie(this.cookie_name_client_id),r=this.get_local_object(this.local_name_client_id);"cookie"===this.client_id_storage_location&&r&&(e=r,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),"local"===this.client_id_storage_location&&t&&(e=t,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),"cookie"===this.client_id_storage_location&&this.set_cookie(this.cookie_name_client_id,e),"local"===this.client_id_storage_location&&this.set_local_object(this.local_name_client_id,e)),e},r.prototype.get_local_object=function(e){var r,n=t("localStorage")&&window&&window.localStorage;if(n&&"string"==typeof e)try{r=JSON.parse(n.getItem(e))}catch(t){r=n.getItem(e)}return r},r.prototype.set_local_object=function(e,r){var n=t("localStorage")&&window&&window.localStorage;if(n&&"string"==typeof e){if("object"==typeof r)try{n.setItem(e,JSON.stringify(r))}catch(e){}if("string"==typeof r||"number"==typeof r)try{n.setItem(e,r)}catch(e){}}},r.prototype.delete_local_object=function(e){var r=t("localStorage")&&window&&window.localStorage;if(r&&"string"==typeof e)try{r.removeItem(e)}catch(e){}},r.prototype.generate_session_id=function(){var e,t=this.get_cookie(this.cookie_name_session_data),r=this.get_local_object(this.local_name_session_data),n=Date.now();if("local"!==this.session_id_storage_location||(e=this.get_local_object(this.local_name_session_data))||!t||(e=t,this.delete_cookie(this.cookie_name_session_data)),"cookie"===this.session_id_storage_location){e=this.get_cookie(this.cookie_name_session_data);try{e=JSON.parse(e)}catch(e){}!e&&r&&(e=r,this.delete_local_object(this.local_name_session_data))}var i=1,o=1;e&&"object"==typeof e&&(o=parseInt(e.sessionId,10)||1,i=e.lastTime>n-18e5?o:o+1),this.session_id=i,this.session_is_new=!e||o!==i,e&&e.newToBeacon&&(this.new_to_beacon=!0);let a={sessionId:i,lastTime:n};return this.session_is_new&&(a.newToBeacon=!0),"local"===this.session_id_storage_location&&(this.set_local_object(this.local_name_session_id,i),this.set_local_object(this.local_name_session_data,a)),"cookie"===this.session_id_storage_location&&(this.cookie_domain&&(this.delete_cookie(this.cookie_name_session_id),this.delete_cookie(this.cookie_name_session_data)),this.set_cookie(this.cookie_name_session_id,i),this.set_cookie(this.cookie_name_session_data,JSON.stringify(a))),i},e.exports=r}()},92583:(e,t,r)=>{"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[U]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===G}(e)||Array.isArray(e)||!!e[V]||!!(null===(t=e.constructor)||void 0===t?void 0:t[V])||h(e)||d(e))}function a(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:H)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function s(e){var t=e[U];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:3*!!d(e)}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return z&&e instanceof Map}function d(e){return B&&e instanceof Set}function f(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q(e);delete t[U];for(var r=H(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,function(e,t){return m(t,!0)},!0)),e}function g(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function v(e){var t=$[e];return t||n(18,e),t}function b(e,t){t&&(v("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){x(e),e.p.forEach(S),e.p=null}function x(e){e===L&&(L=e.l)}function w(e){return L={p:[],l:L,h:e,m:!0,_:0}}function S(e){var t=e[U];0===t.i||1===t.i?t.j():t.g=!0}function T(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||v("ES5").S(t,e,i),i?(r[U].P&&(_(t),n(4)),o(e)&&(e=E(t,e),t.l||C(t,e)),t.u&&v("Patches").M(r[U].t,e,t.u,t.s)):e=E(t,r,[]),_(t),t.u&&t.v(t.u,t.s),e!==N?e:void 0}function E(e,t,r){if(y(t))return t;var n=t[U];if(!n)return a(t,function(i,o){return P(e,n,t,i,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return C(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=p(n.k):n.o,o=i,s=!1;3===n.i&&(o=new Set(i),i.clear(),s=!0),a(o,function(t,o){return P(e,n,i,t,o,r,s)}),C(e,i,!1),r&&e.u&&v("Patches").N(n,r,e.u,e.s)}return n.o}function P(e,t,r,n,a,s,c){if(i(a)){var h=E(e,a,s&&t&&3!==t.i&&!l(t.R,n)?s.concat(n):void 0);if(u(r,n,h),!i(h))return;e.m=!1}else c&&r.add(a);if(o(a)&&!y(a)){if(!e.h.D&&e._<1)return;E(e,a),t&&t.A.l||C(e,a)}}function C(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&m(t,r)}function A(e,t){var r=e[U];return(r?f(r):e)[t]}function M(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function k(e){e.P||(e.P=!0,e.l&&k(e.l))}function O(e){e.o||(e.o=p(e.t))}function I(e,t,r){var n,i,o,a,s,l,u,c=h(t)?v("MapSet").F(t,r):d(t)?v("MapSet").T(t,r):e.O?(o=i={i:+!!(n=Array.isArray(t)),A:r?r.A:L,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},a=W,n&&(o=[i],a=X),l=(s=Proxy.revocable(o,a)).revoke,u=s.proxy,i.k=u,i.j=l,u):v("ES5").J(t,r);return(r?r.A:L).p.push(c),c}function R(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}r.d(t,{Z0:()=>ev});var D,L,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,B="undefined"!=typeof Set,F="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,N=j?Symbol.for("immer-nothing"):((D={})["immer-nothing"]=!0,D),V=j?Symbol.for("immer-draftable"):"__$immer_draftable",U=j?Symbol.for("immer-state"):"__$immer_state",G=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q=Object.getOwnPropertyDescriptors||function(e){var t={};return H(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},$={},W={get:function(e,t){if(t===U)return e;var r,n,i=f(e);if(!l(i,t))return(n=M(i,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var a=i[t];return e.I||!o(a)?a:a===A(e.t,t)?(O(e),e.o[t]=I(e.A.h,a,e)):a},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,r){var n=M(f(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=A(f(e),t),o=null==i?void 0:i[U];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(c(r,i)&&(void 0!==r||l(e.t,t)))return!0;O(e),k(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==A(e.t,t)||t in e.t?(e.R[t]=!1,O(e),k(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=f(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},X={};a(W,function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,r){return W.set.call(this,e[0],t,r,e[0])};var Z=new(function(){function e(e){var t=this;this.O=F,this.D=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var a,s=r;return r=e,function(e){var n=this;void 0===e&&(e=s);for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(o))})}}if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(e)){var l=w(t),u=I(t,e,void 0),c=!0;try{a=r(u),c=!1}finally{c?_(l):x(l)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return b(l,i),T(e,l)},function(e){throw _(l),e}):(b(l,i),T(a,l))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===N&&(a=void 0),t.D&&m(a,!0),i){var h=[],d=[];v("Patches").M(e,a,h,d),i(h,d)}return a}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(i))})};var n,i,o=t.produce(e,r,function(e,t){n=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,n,i]}):[o,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),i(e)&&(i(t=e)||n(22,t),e=function e(t){if(!o(t))return t;var r,n=t[U],i=s(t);if(n){if(!n.P&&(n.i<4||!v("ES5").K(n)))return n.t;n.I=!0,r=R(t,i),n.I=!1}else r=R(t,i);return a(r,function(t,i){var o;n&&(2===s(o=n.t)?o.get(t):o[t])===i||u(r,t,e(i))}),3===i?new Set(r):r}(t));var t,r=w(this),l=I(this,e,void 0);return l[U].C=!0,x(r),l},t.finishDraft=function(e,t){var r=(e&&e[U]).A;return b(r,t),T(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!F&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=v("Patches").$;return i(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),K=Z.produce;function Y(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z);var Q="function"==typeof Symbol&&Symbol.observable||"@@observable",J=function(){return Math.random().toString(36).substring(7).split("").join(".")},ee={INIT:"@@redux/INIT"+J(),REPLACE:"@@redux/REPLACE"+J(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+J()}};function et(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(Y(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(Y(1));return r(et)(e,t)}if("function"!=typeof e)throw Error(Y(2));var n,i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw Error(Y(3));return o}function h(e){if("function"!=typeof e)throw Error(Y(4));if(l)throw Error(Y(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw Error(Y(6));t=!1,u();var r=s.indexOf(e);s.splice(r,1),a=null}}}function d(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(Y(7));if(void 0===e.type)throw Error(Y(8));if(l)throw Error(Y(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,r=0;r<t.length;r++)(0,t[r])();return e}return d({type:ee.INIT}),(n={dispatch:d,subscribe:h,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw Error(Y(10));i=e,d({type:ee.REPLACE})}})[Q]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(Y(11));function t(){e.next&&e.next(c())}return t(),{unsubscribe:h(t)}}})[Q]=function(){return this},e},n}r(65606);var er=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ei=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},eo=Object.defineProperty,ea=Object.defineProperties,es=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,eu=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable,eh=function(e,t,r){return t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ed=function(e,t){for(var r in t||(t={}))eu.call(t,r)&&eh(e,r,t[r]);if(el)for(var n=0,i=el(t);n<i.length;n++){var r=i[n];ec.call(t,r)&&eh(e,r,t[r])}return e},ef=function(e,t){return ea(e,es(t))};function ep(e){return o(e)?K(e,function(){}):e}function em(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var i=t.apply(void 0,r);if(!i)throw Error("prepareAction did not return an object");return ed(ed({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function eg(e){return["type","payload","error","meta"].indexOf(e)>-1}function ey(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(n in r)throw Error("addCase cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}function ev(e){var t,r=e.name;if(!r)throw Error("`name` is a required option for createSlice");var n="function"==typeof e.initialState?e.initialState:ep(e.initialState),a=e.reducers||{},s=Object.keys(a),l={},u={},c={};function h(){var t="function"==typeof e.extraReducers?ey(e.extraReducers):[e.extraReducers],r=t[0],a=t[1],s=void 0===a?[]:a,l=t[2],c=void 0===l?void 0:l,h=ed(ed({},void 0===r?{}:r),u);return function(e,t,r,n){void 0===r&&(r=[]);var a,s="function"==typeof t?ey(t):[t,r,void 0],l=s[0],u=s[1],c=s[2];if("function"==typeof e)a=function(){return ep(e())};else{var h=ep(e);a=function(){return h}}function d(e,t){void 0===e&&(e=a());var r=ei([l[t.type]],u.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===r.filter(function(e){return!!e}).length&&(r=[c]),r.reduce(function(e,r){if(r){if(i(e)){var n=r(e,t);return void 0===n?e:n}if(o(e))return K(e,function(e){return r(e,t)});var n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return d.getInitialState=a,d}(n,function(e){for(var t in h)e.addCase(t,h[t]);for(var r=0;r<s.length;r++){var n=s[r];e.addMatcher(n.matcher,n.reducer)}c&&e.addDefaultCase(c)})}return s.forEach(function(e){var t,n,i=a[e],o=r+"/"+e;"reducer"in i?(t=i.reducer,n=i.prepare):t=i,l[e]=t,u[o]=t,c[e]=n?em(o,n):em(o)}),{name:r,reducer:function(e,r){return t||(t=h()),t(e,r)},actions:c,caseReducers:l,getInitialState:function(){return t||(t=h()),t.getInitialState()}}}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}er(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ei([void 0],e[0].concat(this)))):new(t.bind.apply(t,ei([void 0],e.concat(this))))}}(Array),function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}er(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ei([void 0],e[0].concat(this)))):new(t.bind.apply(t,ei([void 0],e.concat(this))))}}(Array);var eb=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},e_=["name","message","stack","code"],ex=function(e,t){this.payload=e,this.meta=t},ew=function(e,t){this.payload=e,this.meta=t},eS=function(e){if("object"==typeof e&&null!==e){for(var t={},r=0;r<e_.length;r++){var n=e_[r];"string"==typeof e[n]&&(t[n]=e[n])}return t}return{message:String(e)}};function eT(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}!function(){function e(e,t,r){var n=em(e+"/fulfilled",function(e,t,r,n){return{payload:e,meta:ef(ed({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}}),i=em(e+"/pending",function(e,t,r){return{payload:void 0,meta:ef(ed({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),o=em(e+"/rejected",function(e,t,n,i,o){return{payload:i,error:(r&&r.serializeError||eS)(e||"Rejected"),meta:ef(ed({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}}),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign(function(e){return function(s,l,u){var c,h=(null==r?void 0:r.idGenerator)?r.idGenerator(e):eb(),d=new a;function f(e){c=e,d.abort()}var p=function(){var a,p;return a=this,p=function(){var a,p,m,g,y,v;return en(this,function(b){switch(b.label){case 0:var _;if(b.trys.push([0,4,,5]),null===(_=g=null==(a=null==r?void 0:r.condition)?void 0:a.call(r,e,{getState:l,extra:u}))||"object"!=typeof _||"function"!=typeof _.then)return[3,2];return[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise(function(e,t){return d.signal.addEventListener("abort",function(){return t({name:"AbortError",message:c||"Aborted"})})}),s(i(h,e,null==(p=null==r?void 0:r.getPendingMeta)?void 0:p.call(r,{requestId:h,arg:e},{getState:l,extra:u}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:h,signal:d.signal,abort:f,rejectWithValue:function(e,t){return new ex(e,t)},fulfillWithValue:function(e,t){return new ew(e,t)}})).then(function(t){if(t instanceof ex)throw t;return t instanceof ew?n(t.payload,h,e,t.meta):n(t,h,e)})])];case 3:return m=b.sent(),[3,5];case 4:return m=(v=b.sent())instanceof ex?o(null,h,e,v.payload,v.meta):o(v,h,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}})},new Promise(function(e,t){var r=function(e){try{i(p.next(e))}catch(e){t(e)}},n=function(e){try{i(p.throw(e))}catch(e){t(e)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(r,n)};i((p=p.apply(a,null)).next())})}();return Object.assign(p,{abort:f,requestId:h,arg:e,unwrap:function(){return p.then(eT)}})}},{pending:i,rejected:o,fulfilled:n,typePrefix:e})}e.withTypes=function(){return e}}();var eE=function(e,t){if("function"!=typeof e)throw TypeError(t+" is not a function")},eP="cancelled",eC=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+eP+" (reason: "+e+")"};Object.assign;var eA="listenerMiddleware";em(eA+"/add"),em(eA+"/removeAll"),em(eA+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==r.g?r.g:globalThis),"undefined"!=typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame,function(){function e(e,t){var r=s[e];return r?r.enumerable=t:s[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[U];return W.get(t,e)},set:function(t){var r=this[U];W.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][U];if(!i.P)switch(i.i){case 5:n(i)&&k(i);break;case 4:r(i)&&k(i)}}}function r(e){for(var t=e.t,r=e.k,n=H(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==U){var a=t[o];if(void 0===a&&!l(t,o))return!0;var s=r[o],u=s&&s[U];if(u?u.t!==a:!c(s,a))return!0}}var h=!!t[U];return n.length!==H(t).length+ +!h}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var o,s={};o={J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var o=q(r);delete o[U];for(var a=H(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,t),o={i:n?5:4,A:r?r.A:L,P:!1,I:!1,R:{},l:r,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,U,{value:o,writable:!0}),i},S:function(e,r,o){o?i(r)&&r[U].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[U];if(r){var i=r.t,o=r.k,s=r.R,u=r.i;if(4===u)a(o,function(t){t!==U&&(void 0!==i[t]||l(i,t)?s[t]||e(o[t]):(s[t]=!0,k(r)))}),a(i,function(e){void 0!==o[e]||l(o,e)||(s[e]=!1,k(r))});else if(5===u){if(n(r)&&(k(r),s.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)s[c]=!1;else for(var h=i.length;h<o.length;h++)s[h]=!0;for(var d=Math.min(o.length,i.length),f=0;f<d;f++)o.hasOwnProperty(f)||(s[f]=!0),void 0===s[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}},$.ES5||($.ES5=o)}()},24537:(e,t,r)=>{"use strict";r.d(t,{Mz:()=>o});var n="NOT_FOUND",i=function(e,t){return e===t},o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=0,s={memoizeOptions:void 0},l=i.pop();if("object"==typeof l&&(s=l,l=i.pop()),"function"!=typeof l)throw Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=s.memoizeOptions,c=void 0===u?r:u,h=Array.isArray(c)?c:[c],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ")+"]");return t}(i),f=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(h)),p=e(function(){for(var e=[],r=d.length,n=0;n<r;n++)e.push(d[n].apply(null,arguments));return t=f.apply(null,e)});return Object.assign(p,{resultFunc:l,memoizedResultFunc:f,dependencies:d,lastResult:function(){return t},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}(function(e,t){var r,o,a="object"==typeof t?t:{equalityCheck:t},s=a.equalityCheck,l=a.maxSize,u=void 0===l?1:l,c=a.resultEqualityCheck,h=(r=void 0===s?i:s,function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var n=e.length,i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0}),d=1===u?{get:function(e){return o&&h(o.key,e)?o.value:n},put:function(e,t){o={key:e,value:t}},getEntries:function(){return o?[o]:[]},clear:function(){o=void 0}}:function(e,t){var r=[];function i(e){var i=r.findIndex(function(r){return t(e,r.key)});if(i>-1){var o=r[i];return i>0&&(r.splice(i,1),r.unshift(o)),o.value}return n}return{get:i,put:function(t,o){i(t)===n&&(r.unshift({key:t,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,h);function f(){var t=d.get(arguments);if(t===n){if(t=e.apply(null,arguments),c){var r=d.getEntries().find(function(e){return c(e.value,t)});r&&(t=r.value)}d.put(arguments,t)}return t}return f.clearCache=function(){return d.clear()},f})},15713:(e,t,r)=>{"use strict";r.d(t,{z:()=>k});var n,i=r(96540),o=r(69242),a=r(1275),s=r(8328),l=r(42428),u=r(98978),c=r(9466),h=r(31204),d=r(76724),f={deferEvents:!1},p=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,a.Cl)((0,a.Cl)({},f),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),m=r(91352),g=new Map,y=0,v={bookId:function(){return"x:".concat(y++)},register:function(e,t){return g.set(e,t),e},get:function(e){return g.get(e)},free:function(e){g.delete(e)}};function b(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void(h.p||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var _=r(30500),x={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(n||(n={}));var w=function(){function e(t,r){var i=this;void 0===r&&(r=e.defaultOptions),this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=n.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if((0,d.cy)(e))return i.batch(e),i.state;var r=(0,d.ft)((0,d.jK)(e,t));if(i.status===n.Stopped)return h.p||(0,d.R8)(!1,'Event "'.concat(r.name,'" was sent to stopped service "').concat(i.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(r.data))),i.state;if(i.status!==n.Running&&!i.options.deferEvents)throw Error('Event "'.concat(r.name,'" was sent to uninitialized service "').concat(i.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(r.data)));return i.scheduler.schedule(function(){i.forward(r);var e=i._nextState(r);i.update(e,r)}),i._state},this.sendTo=function(e,t){var r=i.parent&&(t===s.i.Parent||i.parent.id===t),o=r?i.parent:(0,d.Kg)(t)?i.children.get(t)||v.get(t):(0,d._3)(t)?t:void 0;if(!o){if(!r)throw Error("Unable to send event to child '".concat(t,"' from service '").concat(i.id,"'."));h.p||(0,d.R8)(!1,"Service '".concat(i.id,"' has no parent: unable to send event ").concat(e.type));return}if("machine"in o){if(i.status!==n.Stopped||i.parent!==o||i.state.done){var l=(0,a.Cl)((0,a.Cl)({},e),{name:e.name===u.z3?"".concat((0,c.z3)(i.id)):e.name,origin:i.sessionId});i.machine.config.predictableActionArguments?i._outgoingQueue.push([o,l]):o.send(l)}}else i.machine.config.predictableActionArguments?i._outgoingQueue.push([o,e.data]):o.send(e.data)},this._exec=function(e,t,r,o){void 0===o&&(o=i.machine.options.actions);var a=e.exec||(0,c.H7)(e.type,o),l=(0,d.Tn)(a)?a:a?a.exec:e.exec;if(l)try{return l(t,r.data,i.machine.config.predictableActionArguments?{action:e,_event:r}:{action:e,state:i.state,_event:r})}catch(e){throw i.parent&&i.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case u.tN:if("number"==typeof e.delay){i.defer(e);return}e.to?i.sendTo(e._event,e.to):i.send(e._event);break;case u.ZT:i.cancel(e.sendId);break;case u.ni:if(i.status!==n.Running)return;var f=e.activity;if(!i.machine.config.predictableActionArguments&&!i.state.activities[f.id||f.type])break;if(f.type===s.Q.Invoke){var p=(0,d.Xd)(f.src),m=i.machine.options.services?i.machine.options.services[p.type]:void 0,g=f.id,y=f.data;h.p||(0,d.R8)(!("forward"in f),"`forward` property is deprecated (found in invocation of '".concat(f.src,"' in in machine '").concat(i.machine.id,"'). ")+"Please use `autoForward` instead.");var v="autoForward"in f?f.autoForward:!!f.forward;if(!m){h.p||(0,d.R8)(!1,"No service found for invocation '".concat(f.src,"' in machine '").concat(i.machine.id,"'."));return}var b=y?(0,d.A9)(y,t,r):void 0;if("string"==typeof m)return;var _=(0,d.Tn)(m)?m(t,r.data,{data:b,src:p,meta:f.meta}):m;if(!_)return;var x=void 0;(0,d.Ai)(_)&&(_=b?_.withContext(b):_,x={autoForward:v}),i.spawn(_,g,x)}else i.spawnActivity(f);break;case u.ds:i.stopChild(e.activity.id);break;case u.Rm:var w=e.label,S=e.value;w?i.logger(w,S):i.logger(S);break;default:h.p||(0,d.R8)(!1,"No implementation found for action type '".concat(e.type,"'"))}};var o=(0,a.Cl)((0,a.Cl)({},e.defaultOptions),r),l=o.clock,f=o.logger,m=o.parent,g=o.id,y=void 0!==g?g:t.id;this.id=y,this.logger=f,this.clock=l,this.parent=m,this.options=o,this.scheduler=new p({deferEvents:this.options.deferEvents}),this.sessionId=v.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:(0,_.G)(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return h.p||(0,d.R8)(this.status!==n.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var r,n;try{for(var i=(0,a.Ju)(e.actions),o=i.next();!o.done;o=i.next()){var s=o.value;this.exec(s,e,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.update=function(e,t){var r,n,i,o,s,l,u,h,f=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||t===c.zp)&&this.options.execute)this.execute(this.state);else for(var p=void 0;p=this._outgoingQueue.shift();)p[0].send(p[1]);if(this.children.forEach(function(e){f.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var m=(0,a.Ju)(this.eventListeners),g=m.next();!g.done;g=m.next()){var y=g.value;y(e.event)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}try{for(var v=(0,a.Ju)(this.listeners),b=v.next();!b.done;b=v.next()){var y=b.value;y(e,e.event)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var _=(0,a.Ju)(this.contextListeners),x=_.next();!x.done;x=_.next())(0,x.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){s={error:e}}finally{try{x&&!x.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}if(this.state.done){var w=e.configuration.find(function(e){return"final"===e.type&&e.parent===f.machine}),S=w&&w.doneData?(0,d.A9)(w.doneData,e.context,t):void 0;try{for(var T=(0,a.Ju)(this.doneListeners),E=T.next();!E.done;E=T.next()){var y=E.value;y((0,c.tS)(this.id,S))}}catch(e){u={error:e}}finally{try{E&&!E.done&&(h=T.return)&&h.call(T)}finally{if(u)throw u.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===n.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,r){var i=this,o=(0,d.WV)(e,t,r);this.listeners.add(o.next),this.status!==n.NotStarted&&o.next(this.state);var a=function(){i.doneListeners.delete(a),i.stopListeners.delete(a),o.complete()};return this.status===n.Stopped?o.complete():(this.onDone(a),this.onStop(a)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(a),i.stopListeners.delete(a)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===n.Running)return this;this.machine._init(),v.register(this.sessionId,this),this.initialized=!0,this.status=n.Running;var r=void 0===e?this.initialState:(0,_.G)(this,function(){return(0,l.OS)(e)?t.machine.resolveState(e):t.machine.resolveState(l.Uw.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(r,c.zp)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(e){(0,d.Tn)(e.stop)&&e.stop()}),this.children.clear()},e.prototype._stop=function(){var e,t,r,i,o,s,l,u,c,h;try{for(var d=(0,a.Ju)(this.listeners),f=d.next();!f.done;f=d.next()){var m=f.value;this.listeners.delete(m)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var g=(0,a.Ju)(this.stopListeners),y=g.next();!y.done;y=g.next()){var m=y.value;m(),this.stopListeners.delete(m)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}try{for(var v=(0,a.Ju)(this.contextListeners),b=v.next();!b.done;b=v.next()){var m=b.value;this.contextListeners.delete(m)}}catch(e){o={error:e}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}try{for(var _=(0,a.Ju)(this.doneListeners),x=_.next();!x.done;x=_.next()){var m=x.value;this.doneListeners.delete(m)}}catch(e){l={error:e}}finally{try{x&&!x.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(!this.initialized)return this;this.initialized=!1,this.status=n.Stopped,this._initialState=void 0;try{for(var w=(0,a.Ju)(Object.keys(this.delayedEventsMap)),S=w.next();!S.done;S=w.next()){var T=S.value;this.clock.clearTimeout(this.delayedEventsMap[T])}}catch(e){c={error:e}}finally{try{S&&!S.done&&(h=w.return)&&h.call(w)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new p({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){var t=(0,d.ft)({type:"xstate.stop"}),r=(0,_.G)(e,function(){var r=(0,d.Bq)((0,a.fX)([],(0,a.zs)(e.state.configuration),!1).sort(function(e,t){return t.order-e.order}).map(function(t){return(0,c.Um)(t.onExit,e.machine.options.actions)})),n=(0,a.zs)((0,c.AS)(e.machine,e.state,e.state.context,t,[r],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=n[0],o=n[1],h=new l.Uw({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter(function(e){return e.type!==u.xl&&(e.type!==u.tN||!!e.to&&e.to!==s.i.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return h.changed=!0,h});e.update(r,t),e._stopChildren(),v.free(e.sessionId)}),this},e.prototype.batch=function(e){var t=this;if(this.status===n.NotStarted&&this.options.deferEvents)h.p||(0,d.R8)(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==n.Running)throw Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule(function(){var r,n,i=t.state,o=!1,s=[];try{for(var u=(0,a.Ju)(e),c=u.next();!c.done;c=u.next()){var h=c.value;!function(e){var r=(0,d.ft)(e);t.forward(r),i=(0,_.G)(t,function(){return t.machine.transition(i,r)}),s.push.apply(s,(0,a.fX)([],(0,a.zs)(i.actions.map(function(e){return(0,l.Sv)(e,i)})),!1)),o=o||!!i.changed}(h)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}i.changed=o,i.actions=s,t.update(i,(0,d.ft)(e[e.length-1]))})},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var r=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var n=(0,d.ft)(e);if(0===n.name.indexOf(u.O$)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(u.O$)}))throw n.data.data;return(0,_.G)(this,function(){return r.machine.transition(r.state,n,void 0,t||void 0)})},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,r;try{for(var n=(0,a.Ju)(this.forwardTo),i=n.next();!i.done;i=n.next()){var o=i.value,s=this.children.get(o);if(!s)throw Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)},e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,r){void 0===r&&(r=this.machine.options.actions),this._exec(e,t.context,t._event,r)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),(0,d.Tn)(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,r){if(this.status!==n.Running)return(0,m.Py)(e,t);if((0,d.$X)(e))return this.spawnPromise(Promise.resolve(e),t);if((0,d.Tn)(e))return this.spawnCallback(e,t);if((0,m.gY)(e))return this.spawnActor(e,t);if((0,d.AT)(e))return this.spawnObservable(e,t);if((0,d.Ai)(e))return this.spawnMachine(e,(0,a.Cl)((0,a.Cl)({},r),{id:t}));if((0,d.lx)(e))return this.spawnBehavior(e,t);throw Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,r){var n=this;void 0===r&&(r={});var i=new e(t,(0,a.Cl)((0,a.Cl)({},this.options),{parent:this,id:r.id||t.id})),o=(0,a.Cl)((0,a.Cl)({},x),r);return o.sync&&i.onTransition(function(e){n.send(u.yo,{state:e,id:i.id})}),this.children.set(i.id,i),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(e){n.removeChild(i.id),n.send((0,d.ft)(e,{origin:i.id}))}).start(),i},e.prototype.spawnBehavior=function(e,t){var r,n,i,o,a,s,l,u,c=(r={id:t,parent:this},n=e.initialState,i=new Set,o=[],a=!1,s=function(){if(!a){for(a=!0;o.length>0;){var t=o.shift();n=e.transition(n,t,u),i.forEach(function(e){return e.next(n)})}a=!1}},l=(0,m.sk)({id:r.id,send:function(e){o.push(e),s()},getSnapshot:function(){return n},subscribe:function(e,t,r){var o=(0,d.WV)(e,t,r);return i.add(o),o.next(n),{unsubscribe:function(){i.delete(o)}}}}),u={parent:r.parent,self:l,id:r.id||"anonymous",observers:i},n=e.start?e.start(u):n,l);return this.children.set(t,c),c},e.prototype.spawnPromise=function(e,t){var r,n,i=this,o=!1;e.then(function(e){o||(n=e,i.removeChild(t),i.send((0,d.ft)((0,c.tS)(t,e),{origin:t})))},function(e){if(!o){i.removeChild(t);var r=(0,c.z3)(t,e);try{i.send((0,d.ft)(r,{origin:t}))}catch(n){(0,d.En)(e,n,t),i.devTools&&i.devTools.send(r,i.state),i.machine.strict&&i.stop()}}});var a=((r={id:t,send:function(){},subscribe:function(t,r,n){var i=(0,d.WV)(t,r,n),o=!1;return e.then(function(e){!o&&(i.next(e),o||i.complete())},function(e){o||i.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[d.s7]=function(){return this},r);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var r,n,i,o=this,a=!1,s=new Set,l=new Set;try{i=e(function(e){n=e,l.forEach(function(t){return t(e)}),a||o.send((0,d.ft)(e,{origin:t}))},function(e){s.add(e)})}catch(e){this.send((0,c.z3)(t,e))}if((0,d.$X)(i))return this.spawnPromise(i,t);var u=((r={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){var t=(0,d.WV)(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){a=!0,(0,d.Tn)(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[d.s7]=function(){return this},r);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var r,n,i=this,o=e.subscribe(function(e){n=e,i.send((0,d.ft)(e,{origin:t}))},function(e){i.removeChild(t),i.send((0,d.ft)((0,c.z3)(t,e),{origin:t}))},function(){i.removeChild(t),i.send((0,d.ft)((0,c.tS)(t),{origin:t}))}),a=((r={id:t,send:function(){},subscribe:function(t,r,n){return e.subscribe(t,r,n)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}})[d.s7]=function(){return this},r);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!t){h.p||(0,d.R8)(!1,"No implementation found for activity '".concat(e.type,"'"));return}var r=t(this.state.context,e);this.spawnEffect(e.id,r)},e.prototype.spawnEffect=function(e,t){var r;this.children.set(e,((r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[d.s7]=function(){return this},r))},e.prototype.attachDev=function(){var e=b();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect((0,a.Cl)((0,a.Cl)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:(0,a.Cl)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(b()){var t=function(){var e=b();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[d.s7]=function(){return this},e.prototype.getSnapshot=function(){return this.status===n.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=S,e}();function S(e,t){return new w(e,t)}var T=i.useLayoutEffect;function E(e){var t=i.useRef();return t.current||(t.current={v:e()}),t.current.v}var P=function(){return(P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},A=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};function M(e){return e}function k(e){for(var t,r,a,s,u,c,h,d,f,p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var g=A(p,1)[0],y=void 0===g?{}:g,v=(t=E(function(){return"function"==typeof e?e():e}),r=y.context,a=y.guards,s=y.actions,u=y.activities,c=y.services,h=y.delays,y.state,d=C(y,["context","guards","actions","activities","services","delays","state"]),f=E(function(){return S(t.withConfig({context:r,guards:a,actions:s,activities:u,services:c,delays:h},function(){return P(P({},t.context),r)}),d)}),T(function(){Object.assign(f.machine.options.actions,s),Object.assign(f.machine.options.guards,a),Object.assign(f.machine.options.activities,u),Object.assign(f.machine.options.services,c),Object.assign(f.machine.options.delays,h)},[s,a,u,c,h]),f),b=(0,i.useCallback)(function(){return v.status===n.NotStarted?y.state?l.Uw.create(y.state):v.machine.initialState:v.state},[v]),_=(0,i.useCallback)(function(e,t){if(v.status===n.NotStarted)return!0;var r=void 0===t.changed&&(Object.keys(t.children).length>0||"boolean"==typeof e.changed);return!(t.changed||r)},[v]),x=(0,i.useCallback)(function(e){return v.subscribe(e).unsubscribe},[v]),w=(0,o.useSyncExternalStoreWithSelector)(x,b,b,M,_);return(0,i.useEffect)(function(){var e=y.state;return v.start(e?l.Uw.create(e):void 0),function(){v.stop(),v.status=n.NotStarted}},[]),[w,v.send,v]}},88385:e=>{"use strict";e.exports=function(e){if(e)throw e}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=l(e),a=o[0],s=o[1],u=new i((a+s)*3/4-s),c=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},48287:(e,t,r)=>{"use strict";let n=r(67526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);let i=function(e){var t;if(s.isBuffer(e)){let t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|f(e))}function h(e){let t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=B[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,a;return o=t,a=r,0===o&&a===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(o=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function _(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function w(e,t,r,n,i){k(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function S(e,t,r,n,i){k(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function T(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,o){return t*=1,r>>>=0,o||T(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,o){return t*=1,r>>>=0,o||T(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=s,t.IS=50,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(z(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<l;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){var i,o,a,s,l,u,c,h;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,j(D(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,j(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return l=t,u=r,j(L(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,j(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=F(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=F(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||_(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=F(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),s.prototype.readBigInt64BE=F(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=F(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=F(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=F(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=F(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let C={};function A(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function k(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new C.ERR_OUT_OF_RANGE("value",n,e)}O(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&I(i,n.length-(o+1))}function O(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,r){if(Math.floor(e)!==e)throw O(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}A("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),A("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),A("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=M(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=M(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let R=/[^+/0-9A-Za-z-_]/g;function D(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function L(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let B=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function F(e){return"undefined"==typeof BigInt?N:e}function N(){throw Error("BigInt not supported")}},13144:(e,t,r)=>{"use strict";var n=r(66743),i=r(11002),o=r(10076),a=r(47119);e.exports=a||n.call(o,i)},11002:e=>{"use strict";e.exports=Function.prototype.apply},10076:e=>{"use strict";e.exports=Function.prototype.call},73126:(e,t,r)=>{"use strict";var n=r(66743),i=r(69675),o=r(10076),a=r(13144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,o,e)}},47119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},36556:(e,t,r)=>{"use strict";var n=r(70453),i=r(73126),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},67465:e=>{"use strict";e.exports=function(e,t){var r,n=String(e),i=0;if("string"!=typeof t)throw Error("Expected character");for(r=n.indexOf(t);-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}},32485:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},52566:(e,t)=>{!function(e){"undefined"==typeof DO_NOT_EXPORT_CRC?e(t):e({})}(function(e){e.version="1.2.2";var t=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),r=function(e){var t=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var o=[];for(n=1;16!=n;++n)o[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return o}(t),n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],u=r[6],c=r[7],h=r[8],d=r[9],f=r[10],p=r[11],m=r[12],g=r[13],y=r[14];e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,o=e.length;i<o;)n=n>>>8^t[(n^e.charCodeAt(i++))&255];return~n},e.buf=function(e,r){for(var v=-1^r,b=e.length-15,_=0;_<b;)v=y[e[_++]^255&v]^g[e[_++]^v>>8&255]^m[e[_++]^v>>16&255]^p[e[_++]^v>>>24]^f[e[_++]]^d[e[_++]]^h[e[_++]]^c[e[_++]]^u[e[_++]]^l[e[_++]]^s[e[_++]]^a[e[_++]]^o[e[_++]]^i[e[_++]]^n[e[_++]]^t[e[_++]];for(b+=15;_<b;)v=v>>>8^t[(v^e[_++])&255];return~v},e.str=function(e,r){for(var n=-1^r,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?n=n>>>8^t[(n^a)&255]:a<2048?n=(n=n>>>8^t[(n^(192|a>>6&31))&255])>>>8^t[(n^(128|63&a))&255]:a>=55296&&a<57344?(a=(1023&a)+64,s=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[(n^(240|a>>8&7))&255])>>>8^t[(n^(128|a>>2&63))&255])>>>8^t[(n^(128|s>>6&15|(3&a)<<4))&255])>>>8^t[(n^(128|63&s))&255]):n=(n=(n=n>>>8^t[(n^(224|a>>12&15))&255])>>>8^t[(n^(128|a>>6&63))&255])>>>8^t[(n^(128|63&a))&255];return~n}})},87464:e=>{"use strict";var t={},r="visa",n="master-card",i="american-express",o="diners-club",a="discover",s="unionpay",l="maestro",u=[r,n,i,o,a,"jcb",s,l];function c(e){var t,r,n;return e?(t=e.prefixPattern.source,r=e.exactPattern.source,(n=JSON.parse(JSON.stringify(e))).prefixPattern=t,n.exactPattern=r,n):null}function h(e){var r,n,i=[],o=[];if(!("string"==typeof e||e instanceof String))return[];for(n=0;n<u.length;n++){if(r=t[u[n]],0===e.length){i.push(c(r));continue}r.exactPattern.test(e)?o.push(c(r)):r.prefixPattern.test(e)&&i.push(c(r))}return o.length?o:i}t[r]={niceType:"Visa",type:r,prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},t[n]={niceType:"MasterCard",type:n,prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},t[i]={niceType:"American Express",type:i,prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},t[o]={niceType:"Diners Club",type:o,prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},t[a]={niceType:"Discover",type:a,prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},t.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},t[s]={niceType:"UnionPay",type:s,prefixPattern:/^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,exactPattern:/^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\d*|622018\d{12})$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},t[l]={niceType:"Maestro",type:l,prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^(5[06-9]|6[37])\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},h.getTypeInfo=function(e){return c(t[e])},h.types={VISA:r,MASTERCARD:n,AMERICAN_EXPRESS:i,DINERS_CLUB:o,DISCOVER:a,JCB:"jcb",UNIONPAY:s,MAESTRO:l},e.exports=h},86547:function(){var e;e="undefined"!=typeof self?self:this,function(t){var r="undefined"!=typeof globalThis&&globalThis||void 0!==e&&e||void 0!==r&&r,n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=s(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];v.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,i){return new Promise(function(o,a){var l=new g(e,i);if(l.signal&&l.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function h(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout(function(){o(new v(n,r))},0)},c.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},c.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(n.blob?c.responseType="blob":n.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof u?l.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){c.setRequestHeader(e,s(i.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",h),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",h)}),c.send(void 0===l._bodyInit?null:l._bodyInit)})}_.polyfill=!0,r.fetch||(r.fetch=_,r.Headers=u,r.Request=g,r.Response=v),t.Headers=u,t.Request=g,t.Response=v,t.fetch=_}({})},1351:()=>{try{var e=new window.CustomEvent("test");if(e.preventDefault(),!0!==e.defaultPrevented)throw Error("Could not prevent default")}catch(e){var t=function(e,t){var r,n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=r.preventDefault,r.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}},54075:function(e,t,r){var n;!function(i){"use strict";var o,a,s,l=(o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g,function(e,t,r,n){if(1!=arguments.length||"string"!==(null===(i=e)?"null":void 0===i?"undefined":"object"!=typeof i?typeof i:Array.isArray(i)?"array":({}).toString.call(i).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i,c,h,d,f,p,m=(t=String(l.masks[t]||t||l.masks.default)).slice(0,4);("UTC:"===m||"GMT:"===m)&&(t=t.slice(4),r=!0,"GMT:"===m&&(n=!0));var g=r?"getUTC":"get",y=e[g+"Date"](),v=e[g+"Day"](),b=e[g+"Month"](),_=e[g+"FullYear"](),x=e[g+"Hours"](),w=e[g+"Minutes"](),S=e[g+"Seconds"](),T=e[g+"Milliseconds"](),E=r?0:e.getTimezoneOffset(),P=((h=new Date((c=e).getFullYear(),c.getMonth(),c.getDate())).setDate(h.getDate()-(h.getDay()+6)%7+3),(d=new Date(h.getFullYear(),0,4)).setDate(d.getDate()-(d.getDay()+6)%7+3),f=h.getTimezoneOffset()-d.getTimezoneOffset(),h.setHours(h.getHours()-f),1+Math.floor((h-d)/6048e5)),C=(0===(p=e.getDay())&&(p=7),p),A={d:y,dd:u(y),ddd:l.i18n.dayNames[v],dddd:l.i18n.dayNames[v+7],m:b+1,mm:u(b+1),mmm:l.i18n.monthNames[b],mmmm:l.i18n.monthNames[b+12],yy:String(_).slice(2),yyyy:_,h:x%12||12,hh:u(x%12||12),H:x,HH:u(x),M:w,MM:u(w),s:S,ss:u(S),l:u(T,3),L:u(Math.round(T/10)),t:x<12?"a":"p",tt:x<12?"am":"pm",T:x<12?"A":"P",TT:x<12?"AM":"PM",Z:n?"GMT":r?"UTC":(String(e).match(a)||[""]).pop().replace(s,""),o:(E>0?"-":"+")+u(100*Math.floor(Math.abs(E)/60)+Math.abs(E)%60,4),S:["th","st","nd","rd"][y%10>3?0:(y%100-y%10!=10)*y%10],W:P,N:C};return t.replace(o,function(e){return e in A?A[e]:e.slice(1,e.length-1)})});function u(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0!==(n=(function(){return l}).call(t,r,t,e))&&(e.exports=n)}(0)},17334:e=>{function t(e,t,r){function n(){var u=Date.now()-s;u<t&&u>=0?i=setTimeout(n,t-u):(i=null,r||(l=e.apply(a,o),a=o=null))}null==t&&(t=100);var i,o,a,s,l,u=function(){a=this,o=arguments,s=Date.now();var u=r&&!i;return i||(i=setTimeout(n,t)),u&&(l=e.apply(a,o),a=o=null),l};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(l=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},u}t.debounce=t,e.exports=t},50796:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==i},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s(Array.isArray(e)?[]:{},e,t):e}function a(e,t,r){return e.concat(t).map(function(e){return o(e,r)})}function s(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n;var i,l,u=Array.isArray(t);return u!==Array.isArray(e)?o(t,r):u?r.arrayMerge(e,t,r):(l={},(i=r).isMergeableObject(e)&&Object.keys(e).forEach(function(t){l[t]=o(e[t],i)}),Object.keys(t).forEach(function(r){i.isMergeableObject(t[r])&&e[r]?l[r]=s(e[r],t[r],i):l[r]=o(t[r],i)}),l)}s.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})};let l=s},58159:(e,t,r)=>{var n,i=r(37702);"undefined"!=typeof navigator&&navigator&&(n=navigator.userAgent),e.exports=i(n)},37702:(e,t,r)=>{var n=r(30954);e.exports=function(e){return e?[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]].map(function(t){if(t[1].test(e)){var r=t[1].exec(e),i=r&&r[1].split(/[._]/).slice(0,3);return i&&i.length<3&&Array.prototype.push.apply(i,1==i.length?[0,0]:[0]),{name:t[0],version:i.join("."),os:n(e)}}}).filter(Boolean).shift():null}},30954:e=>{e.exports=function(e){var t=[{name:"iOS",rule:/iP(hone|od|ad)/},{name:"Android OS",rule:/Android/},{name:"BlackBerry OS",rule:/BlackBerry|BB10/},{name:"Windows Mobile",rule:/IEMobile/},{name:"Amazon OS",rule:/Kindle/},{name:"Windows 3.11",rule:/Win16/},{name:"Windows 95",rule:/(Windows 95)|(Win95)|(Windows_95)/},{name:"Windows 98",rule:/(Windows 98)|(Win98)/},{name:"Windows 2000",rule:/(Windows NT 5.0)|(Windows 2000)/},{name:"Windows XP",rule:/(Windows NT 5.1)|(Windows XP)/},{name:"Windows Server 2003",rule:/(Windows NT 5.2)/},{name:"Windows Vista",rule:/(Windows NT 6.0)/},{name:"Windows 7",rule:/(Windows NT 6.1)/},{name:"Windows 8",rule:/(Windows NT 6.2)/},{name:"Windows 8.1",rule:/(Windows NT 6.3)/},{name:"Windows 10",rule:/(Windows NT 10.0)/},{name:"Windows ME",rule:/Windows ME/},{name:"Open BSD",rule:/OpenBSD/},{name:"Sun OS",rule:/SunOS/},{name:"Linux",rule:/(Linux)|(X11)/},{name:"Mac OS",rule:/(Mac_PowerPC)|(Macintosh)/},{name:"QNX",rule:/QNX/},{name:"BeOS",rule:/BeOS/},{name:"OS/2",rule:/OS\/2/},{name:"Search Bot",rule:/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/}].filter(function(t){if(e.match(t.rule))return!0});return t&&t[0]?t[0].name:null}},7176:(e,t,r)=>{"use strict";var n,i=r(73126),o=r(75795);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!n&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},71040:(e,t,r)=>{var n=r(88404),i=r(22524).each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var r=this;this.listener=function(e){r.mql=e.currentTarget||e,r.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,function(r,n){if(r.equals(e))return r.destroy(),!t.splice(n,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,function(t){t[e]()})}},e.exports=o},51098:(e,t,r)=>{var n=r(71040),i=r(22524),o=i.each,a=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,r){var i=this.queries,l=r&&this.browserIsIncapable;return i[e]||(i[e]=new n(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),o(t,function(t){a(t)&&(t={match:t}),i[e].addHandler(t)}),this},unregister:function(e,t){var r=this.queries[e];return r&&(t?r.removeHandler(t):(r.clear(),delete this.queries[e])),this}},e.exports=l},88404:e=>{function t(e){this.options=e,e.deferSetup||this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){this.initialised||this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},22524:e=>{e.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var r=0,n=e.length;r<n&&!1!==t(e[r],r);r++);}}},22386:(e,t,r)=>{var n=r(51098);e.exports=new n},30655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},79612:e=>{"use strict";e.exports=Object},86964:function(e,t,r){var n,i=r(65606);n=function(){"use strict";function e(e){return"function"==typeof e}var t,n,o,a,s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=0,u=void 0,c=void 0,h=function(e,t){v[l]=e,v[l+1]=t,2===(l+=2)&&(c?c(b):_())},d="undefined"!=typeof window?window:void 0,f=d||{},p=f.MutationObserver||f.WebKitMutationObserver,m="undefined"==typeof self&&void 0!==i&&"[object process]"===({}).toString.call(i),g="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function y(){var e=setTimeout;return function(){return e(b,1)}}var v=Array(1e3);function b(){for(var e=0;e<l;e+=2)(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0;l=0}var _=void 0;function x(e,t){var r=this,n=new this.constructor(T);void 0===n[S]&&L(n);var i=r._state;if(i){var o=arguments[i-1];h(function(){return R(i,n,o,r._result)})}else O(r,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return C(t,e),t}m?_=function(){return i.nextTick(b)}:p?(t=0,n=new p(b),o=document.createTextNode(""),n.observe(o,{characterData:!0}),_=function(){o.data=t=++t%2}):g?((a=new MessageChannel).port1.onmessage=b,_=function(){return a.port2.postMessage(0)}):_=void 0===d?function(){try{var e=Function("return this")().require("vertx");return u=e.runOnLoop||e.runOnContext,void 0!==u?function(){u(b)}:y()}catch(e){return y()}}():y();var S=Math.random().toString(36).substring(2);function T(){}var E=void 0;function P(t,r,n){r.constructor===t.constructor&&n===x&&r.constructor.resolve===w?1===r._state?M(t,r._result):2===r._state?k(t,r._result):O(r,void 0,function(e){return C(t,e)},function(e){return k(t,e)}):void 0===n?M(t,r):e(n)?h(function(e){var t=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(n,r,function(n){t||(t=!0,r!==n?C(e,n):M(e,n))},function(r){t||(t=!0,k(e,r))},"Settle: "+(e._label||" unknown promise"));!t&&i&&(t=!0,k(e,i))},t):M(t,r)}function C(e,t){if(e===t)k(e,TypeError("You cannot resolve a promise with itself"));else if(r=typeof t,null!==t&&("object"===r||"function"===r)){var r,n=void 0;try{n=t.then}catch(t){k(e,t);return}P(e,t,n)}else M(e,t)}function A(e){e._onerror&&e._onerror(e._result),I(e)}function M(e,t){e._state===E&&(e._result=t,e._state=1,0!==e._subscribers.length&&h(I,e))}function k(e,t){e._state===E&&(e._state=2,e._result=t,h(A,e))}function O(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=r,i[o+2]=n,0===o&&e._state&&h(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?R(r,n,i,o):i(o);e._subscribers.length=0}}function R(t,r,n,i){var o=e(n),a=void 0,s=void 0,l=!0;if(o){try{a=n(i)}catch(e){l=!1,s=e}if(r===a){k(r,TypeError("A promises callback cannot return that same promise."));return}}else a=i;r._state!==E||(o&&l?C(r,a):!1===l?k(r,s):1===t?M(r,a):2===t&&k(r,a))}var D=0;function L(e){e[S]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[S]||L(this.promise),s(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):k(this.promise,Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===E&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===x&&e._state!==E)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===z){var s=new r(T);a?k(s,o):P(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===E&&(this._remaining--,2===e?k(n,r):this._result[t]=r),0===this._remaining&&M(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;O(e,void 0,function(e){return r._settledAt(1,t,e)},function(e){return r._settledAt(2,t,e)})},e}(),z=function(){function t(e){this[S]=D++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){C(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}(this,e):function(){throw TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return z.prototype.then=x,z.all=function(e){return new j(this,e).promise},z.race=function(e){var t=this;return new t(s(e)?function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)}:function(e,t){return t(TypeError("You must pass an array to race."))})},z.resolve=w,z.reject=function(e){var t=new this(T);return k(t,e),t},z._setScheduler=function(e){c=e},z._setAsap=function(e){h=e},z._asap=h,z.polyfill=function(){var e=void 0;if(void 0!==r.g)e=r.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z},z.Promise=z,z},e.exports=n()},99915:function(e,t,r){(function(){var t,n;t=r(52834),n=function(e){return e.split("").reverse().join("")},e.exports=function(e,r,i){var o;return(null==r&&(r="'"),null==i&&(i="\\"),"string"!=typeof e)?e:(o=RegExp("(["+t(r)+"])(?!"+t(i)+")","g"),n(n(e).replace(o,"$1"+i)))}}).call(this)},52834:e=>{"use strict";var t=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(t,"\\$&")}},50411:(e,t,r)=>{var n;!function(){"use strict";var i=!!("undefined"!=typeof window&&window.document&&window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!!(window.addEventListener||window.attachEvent),canUseViewport:i&&!!window.screen};void 0!==(n=(function(){return o}).call(t,r,t,e))&&(e.exports=n)}()},92849:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,i=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(n in e);return void 0===n||t.call(e,n)},s=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;if(i)return i(e,r).value}return e[r]};e.exports=function e(){var t,r,n,i,u,c,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"==typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});d<f;++d)if(t=arguments[d],null!=t)for(r in t)n=l(h,r),h!==(i=l(t,r))&&(p&&i&&(a(i)||(u=o(i)))?(u?(u=!1,c=n&&o(n)?n:[]):c=n&&a(n)?n:{},s(h,{name:r,newValue:e(p,c,i)})):void 0!==i&&s(h,{name:r,newValue:i}));return h}},59348:function(e,t){var r,n,i;i=function(e,t){"use strict";var r={timeout:5e3,jsonpCallback:"callback"};function n(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,a=t.timeout||r.timeout,s=t.jsonpCallback||r.jsonpCallback,l=void 0;return new Promise(function(r,u){var c=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),h=s+"_"+c;window[c]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),i(h),n(c)},o+=-1===o.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+o+s+"="+c),t.charset&&d.setAttribute("charset",t.charset),d.id=h,document.getElementsByTagName("head")[0].appendChild(d),l=setTimeout(function(){u(Error("JSONP request to "+e+" timed out")),n(c),i(h),window[c]=function(){n(c)}},a),d.onerror=function(){u(Error("JSONP request to "+e+" failed")),n(c),i(h),l&&clearTimeout(l)}})}},r=[t,e],void 0!==(n=i.apply(t,r))&&(e.exports=n)},67356:(e,t,r)=>{"use strict";r.d(t,{DG:()=>O,Ym:()=>d,hB:()=>P,iF:()=>m,rE:()=>E,u9:()=>_});var n=r(58168),i=r(98587),o={},a=/[.[\]]+/,s=function(e){if(null==e||!e.length)return[];if("string"!=typeof e)throw Error("toPath() expects a string");return null==o[e]&&(o[e]=e.split(a).filter(Boolean)),o[e]},l=function(e,t){for(var r=s(t),n=e,i=0;i<r.length;i++){var o=r[i];if(null==n||"object"!=typeof n||Array.isArray(n)&&isNaN(o))return;n=n[o]}return n};function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=function e(t,r,o,a,s){if(r>=o.length)return a;var l=o[r];if(isNaN(l)){if(null==t){var c,h,d=e(void 0,r+1,o,a,s);return void 0===d?void 0:((h={})[l]=d,h)}if(Array.isArray(t))throw Error("Cannot set a non-numeric property on an array");var f=e(t[l],r+1,o,a,s);if(void 0===f){var p=Object.keys(t).length;return void 0===t[l]&&0===p?void 0:void 0!==t[l]&&p<=1?isNaN(o[r-1])||s?void 0:{}:(t[l],(0,i.A)(t,[l].map(u)))}return(0,n.A)({},t,((c={})[l]=f,c))}var m=Number(l);if(null==t){var g=e(void 0,r+1,o,a,s);if(void 0===g)return;var y=[];return y[m]=g,y}if(!Array.isArray(t))throw Error("Cannot set a numeric property on an object");var v=e(t[m],r+1,o,a,s),b=[].concat(t);if(s&&void 0===v){if(b.splice(m,1),0===b.length)return}else b[m]=v;return b},h=function(e,t,r,n){if(void 0===n&&(n=!1),null==e)throw Error("Cannot call setIn() with "+String(e)+" state");if(null==t)throw Error("Cannot call setIn() with "+String(t)+" key");return c(e,0,s(t),r,n)},d="FINAL_FORM/form-error",f="FINAL_FORM/array-error";function p(e,t){var r=e.errors,n=e.initialValues,i=e.lastSubmittedValues,o=e.submitErrors,a=e.submitFailed,s=e.submitSucceeded,u=e.submitting,c=e.values,h=t.active,d=t.blur,p=t.change,m=t.data,g=t.focus,y=t.modified,v=t.modifiedSinceLastSubmit,b=t.name,_=t.touched,x=t.validating,w=t.visited,S=l(c,b),T=l(r,b);T&&T[f]&&(T=T[f]);var E=o&&l(o,b),P=n&&l(n,b),C=t.isEqual(P,S),A=!!(i&&!t.isEqual(l(i,b),S)),M=!T&&!E;return{active:h,blur:d,change:p,data:m,dirty:!C,dirtySinceLastSubmit:A,error:T,focus:g,initial:P,invalid:!M,length:Array.isArray(S)?S.length:void 0,modified:y,modifiedSinceLastSubmit:v,name:b,pristine:C,submitError:E,submitFailed:a,submitSucceeded:s,submitting:u,touched:_,valid:M,value:S,visited:w,validating:x}}var m=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],g=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++){var a=r[o];if(!i(a)||e[a]!==t[a])return!1}return!0};function y(e,t,r,n,i,o){var a=!1;return i.forEach(function(i){!n[i]||(e[i]=t[i],r&&(~o.indexOf(i)?g(t[i],r[i]):t[i]===r[i])||(a=!0))}),a}var v=["data"],b=function(e,t,r,n){var i={blur:e.blur,change:e.change,focus:e.focus,name:e.name};return y(i,e,t,r,m,v)||!t||n?i:void 0},_=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],x=["touched","visited"];function w(e,t,r,n){var i={};return y(i,e,t,r,_,x)||!t||n?i:void 0}var S=function(e){var t,r;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(!t||i.length!==t.length||i.some(function(e,r){return!g(t[r],e)}))&&(t=i,r=e.apply(void 0,i)),r}},T=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},E="4.20.1",P=["debug","initialValues","keepDirtyOnReinitialize","mutators","onSubmit","validate","validateOnBlur"],C=function(e,t){return e===t},A=function e(t){return Object.keys(t).some(function(r){var n=t[r];return!n||"object"!=typeof n||n instanceof Error?void 0!==n:e(n)})};function M(e,t,r,n,i,o){var a=i(r,n,t,o);return!!a&&(e(a),!0)}function k(e,t,r,n,i){var o=e.entries;Object.keys(o).forEach(function(e){var a=o[Number(e)];if(a){var s=a.subscription,l=a.subscriber,u=a.notified;M(l,s,t,r,n,i||!u)&&(a.notified=!0)}})}function O(e){if(!e)throw Error("No config specified");var t=e.debug,r=e.destroyOnUnregister,i=e.keepDirtyOnReinitialize,o=e.initialValues,a=e.mutators,s=e.onSubmit,u=e.validate,c=e.validateOnBlur;if(!s)throw Error("No onSubmit function specified");var m={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:o&&(0,n.A)({},o),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,valid:!0,validating:0,values:o?(0,n.A)({},o):{}},lastFormState:void 0},y=0,v=!1,_=!1,x=0,E={},P=function(e,t,r){var n=r(l(e.formState.values,t));e.formState.values=h(e.formState.values,t,n)||{}},O=function(e,t,r){if(e.fields[t]){e.fields=(0,n.A)({},e.fields,((i={})[r]=(0,n.A)({},e.fields[t],{name:r,blur:function(){return H.blur(r)},change:function(e){return H.change(r,e)},focus:function(){return H.focus(r)},lastFieldState:void 0}),i)),delete e.fields[t],e.fieldSubscribers=(0,n.A)({},e.fieldSubscribers,((o={})[r]=e.fieldSubscribers[t],o)),delete e.fieldSubscribers[t];var i,o,a=l(e.formState.values,t);e.formState.values=h(e.formState.values,t,void 0)||{},e.formState.values=h(e.formState.values,r,a),delete e.lastFormState}},I=function(e){return function(){if(a){for(var t={formState:m.formState,fields:m.fields,fieldSubscribers:m.fieldSubscribers,lastFormState:m.lastFormState},r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=a[e](n,t,{changeValue:P,getIn:l,renameField:O,resetFieldState:H.resetFieldState,setIn:h,shallowEqual:g});return m.formState=t.formState,m.fields=t.fields,m.fieldSubscribers=t.fieldSubscribers,m.lastFormState=t.lastFormState,z(void 0,function(){B(),G()}),o}}},R=a?Object.keys(a).reduce(function(e,t){return e[t]=I(t),e},{}):{},D=function(e){var t=[];if(u){var r=u((0,n.A)({},m.formState.values));T(r)?t.push(r.then(e)):e(r)}return t},L=function(e){return Object.keys(e.validators).reduce(function(t,r){var n=e.validators[Number(r)]();return n&&t.push(n),t},[])},j=function(e,t){var r,n=[],i=L(e);return i.length&&(i.forEach(function(i){var o=i(l(m.formState.values,e.name),m.formState.values,0===i.length||3===i.length?p(m.formState,m.fields[e.name]):void 0);if(o&&T(o)){e.validating=!0;var a=o.then(function(r){e.validating=!1,t(r)});n.push(a)}else r||(r=o)}),t(r)),n},z=function(e,t){if(v){_=!0,t();return}var r=m.fields,i=m.formState,o=(0,n.A)({},r),a=Object.keys(o);if(!u&&!a.some(function(e){return L(o[e]).length})){t();return}var s=!1;if(e){var c=o[e];if(c){var p=c.validateFields;p&&(s=!0,a=p.length?p.concat(e):[e])}}var y={},b={},w=[].concat(D(function(e){y=e||{}}),a.reduce(function(e,t){return e.concat(j(r[t],function(e){b[t]=e}))},[])),S=w.length>0,T=++x,P=Promise.all(w).then(function(e){return delete E[T],e});S&&(E[T]=P);var C=function(){var e=(0,n.A)({},s?i.errors:{},y),t=function(t){a.forEach(function(n){if(r[n]){var i=l(y,n),a=l(e,n),c=L(o[n]).length,h=b[n];t(n,c&&h||u&&i||(i||s?void 0:a))}})};t(function(t,r){e=h(e,t,r)||{}}),t(function(t,r){if(r&&r[f]){var n=[].concat(l(e,t));n[f]=r[f],e=h(e,t,n)}}),g(i.errors,e)||(i.errors=e),i.error=y[d]};if(C(),t(),S){m.formState.validating++,t();var A=function(){m.formState.validating--,t()};P.then(function(){x>T||C()}).then(A,A)}},B=function(e){if(!y){var t=m.fields,r=m.fieldSubscribers,i=m.formState,o=(0,n.A)({},t),a=function(e){var t=o[e],n=p(i,t),a=t.lastFieldState;t.lastFieldState=n;var s=r[e];s&&k(s,n,a,b,void 0===a)};e?a(e):Object.keys(o).forEach(a)}},F=function(){Object.keys(m.fields).forEach(function(e){m.fields[e].touched=!0})},N=function(){var e,t,r,i,o,a,s,u,c,h,d,f,p,y,v,b=m.fields,_=m.formState,x=m.lastFormState,w=(0,n.A)({},b),S=Object.keys(w),T=!1,E=S.reduce(function(e,t){return w[t].isEqual(l(_.values,t),l(_.initialValues||{},t))||(T=!0,e[t]=!0),e},{}),P=S.reduce(function(e,t){var r=_.lastSubmittedValues||{};return w[t].isEqual(l(_.values,t),l(r,t))||(e[t]=!0),e},{});_.pristine=!T,_.dirtySinceLastSubmit=!!(_.lastSubmittedValues&&Object.values(P).some(function(e){return e})),_.modifiedSinceLastSubmit=!!(_.lastSubmittedValues&&Object.keys(w).some(function(e){return w[e].modifiedSinceLastSubmit})),_.valid=!_.error&&!_.submitError&&!A(_.errors)&&!(_.submitErrors&&A(_.submitErrors));var C=(e=_.active,t=_.dirtySinceLastSubmit,r=_.modifiedSinceLastSubmit,i=_.error,o=_.errors,a=_.initialValues,s=_.pristine,u=_.submitting,c=_.submitFailed,h=_.submitSucceeded,d=_.submitError,f=_.submitErrors,p=_.valid,y=_.validating,v=_.values,{active:e,dirty:!s,dirtySinceLastSubmit:t,modifiedSinceLastSubmit:r,error:i,errors:o,hasSubmitErrors:!!(d||f&&A(f)),hasValidationErrors:!!(i||A(o)),invalid:!p,initialValues:a,pristine:s,submitting:u,submitFailed:c,submitSucceeded:h,submitError:d,submitErrors:f,valid:p,validating:y>0,values:v}),M=S.reduce(function(e,t){return e.modified[t]=w[t].modified,e.touched[t]=w[t].touched,e.visited[t]=w[t].visited,e},{modified:{},touched:{},visited:{}}),k=M.modified,O=M.touched,I=M.visited;return C.dirtyFields=x&&g(x.dirtyFields,E)?x.dirtyFields:E,C.dirtyFieldsSinceLastSubmit=x&&g(x.dirtyFieldsSinceLastSubmit,P)?x.dirtyFieldsSinceLastSubmit:P,C.modified=x&&g(x.modified,k)?x.modified:k,C.touched=x&&g(x.touched,O)?x.touched:O,C.visited=x&&g(x.visited,I)?x.visited:I,x&&g(x,C)?x:C},V=!1,U=!1,G=function e(){if(V)U=!0;else{if(V=!0,t&&t(N(),Object.keys(m.fields).reduce(function(e,t){return e[t]=m.fields[t],e},{})),!y&&!v){var r=m.lastFormState,n=N();n!==r&&(m.lastFormState=n,k(m.subscribers,n,r,w))}V=!1,U&&(U=!1,e())}};z(void 0,function(){G()});var H={batch:function(e){y++,e(),y--,B(),G()},blur:function(e){var t=m.fields,r=m.formState,i=t[e];i&&(delete r.active,t[e]=(0,n.A)({},i,{active:!1,touched:!0}),c?z(e,function(){B(),G()}):(B(),G()))},change:function(e,t){var r=m.fields,i=m.formState;if(l(i.values,e)!==t){P(m,e,function(){return t});var o=r[e];o&&(r[e]=(0,n.A)({},o,{modified:!0,modifiedSinceLastSubmit:!!i.lastSubmittedValues})),c?(B(),G()):z(e,function(){B(),G()})}},get destroyOnUnregister(){return!!r},set destroyOnUnregister(value){r=value},focus:function(e){var t=m.fields[e];t&&!t.active&&(m.formState.active=e,t.active=!0,t.visited=!0,B(),G())},mutators:R,getFieldState:function(e){var t=m.fields[e];return t&&t.lastFieldState},getRegisteredFields:function(){return Object.keys(m.fields)},getState:function(){return N()},initialize:function(e){var t=m.fields,r=m.formState,o=(0,n.A)({},t),a="function"==typeof e?e(r.values):e;i||(r.values=a);var s=i?Object.keys(o).reduce(function(e,t){return o[t].isEqual(l(r.values,t),l(r.initialValues||{},t))||(e[t]=l(r.values,t)),e},{}):{};r.initialValues=a,r.values=a,Object.keys(s).forEach(function(e){r.values=h(r.values,e,s[e])}),z(void 0,function(){B(),G()})},isValidationPaused:function(){return v},pauseValidation:function(){v=!0},registerField:function(e,t,n,i){void 0===n&&(n={}),m.fieldSubscribers[e]||(m.fieldSubscribers[e]={index:0,entries:{}});var o=m.fieldSubscribers[e].index++;m.fieldSubscribers[e].entries[o]={subscriber:S(t),subscription:n,notified:!1},m.fields[e]||(m.fields[e]={active:!1,afterSubmit:i&&i.afterSubmit,beforeSubmit:i&&i.beforeSubmit,blur:function(){return H.blur(e)},change:function(t){return H.change(e,t)},data:i&&i.data||{},focus:function(){return H.focus(e)},isEqual:i&&i.isEqual||C,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:e,touched:!1,valid:!0,validateFields:i&&i.validateFields,validators:{},validating:!1,visited:!1});var a=!1,s=i&&i.silent,u=function(){s?B(e):(G(),B())};return i&&(a=!!(i.getValidator&&i.getValidator()),i.getValidator&&(m.fields[e].validators[o]=i.getValidator),void 0!==i.initialValue&&void 0===l(m.formState.values,e)&&(m.formState.initialValues=h(m.formState.initialValues||{},e,i.initialValue),m.formState.values=h(m.formState.values,e,i.initialValue),z(void 0,u)),void 0!==i.defaultValue&&void 0===i.initialValue&&void 0===l(m.formState.initialValues,e)&&(m.formState.values=h(m.formState.values,e,i.defaultValue))),a?z(void 0,u):u(),function(){var t=!1;m.fields[e]&&(t=!!(m.fields[e].validators[o]&&m.fields[e].validators[o]()),delete m.fields[e].validators[o]),delete m.fieldSubscribers[e].entries[o];var n=!Object.keys(m.fieldSubscribers[e].entries).length;n&&(delete m.fieldSubscribers[e],delete m.fields[e],t&&(m.formState.errors=h(m.formState.errors,e,void 0)||{}),r&&(m.formState.values=h(m.formState.values,e,void 0,!0)||{})),!s&&(t?z(void 0,function(){G(),B()}):n&&G())}},reset:function(e){if(void 0===e&&(e=m.formState.initialValues),m.formState.submitting)throw Error("Cannot reset() in onSubmit(), use setTimeout(form.reset)");m.formState.submitFailed=!1,m.formState.submitSucceeded=!1,delete m.formState.submitError,delete m.formState.submitErrors,delete m.formState.lastSubmittedValues,H.initialize(e||{})},resetFieldState:function(e){m.fields[e]=(0,n.A)({},m.fields[e],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),z(void 0,function(){B(),G()})},restart:function(e){void 0===e&&(e=m.formState.initialValues),H.batch(function(){for(var t in m.fields)H.resetFieldState(t),m.fields[t]=(0,n.A)({},m.fields[t],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});H.reset(e)})},resumeValidation:function(){v=!1,_&&z(void 0,function(){B(),G()}),_=!1},setConfig:function(e,n){switch(e){case"debug":t=n;break;case"destroyOnUnregister":r=n;break;case"initialValues":H.initialize(n);break;case"keepDirtyOnReinitialize":i=n;break;case"mutators":a=n,n?(Object.keys(R).forEach(function(e){e in n||delete R[e]}),Object.keys(n).forEach(function(e){R[e]=I(e)})):Object.keys(R).forEach(function(e){delete R[e]});break;case"onSubmit":s=n;break;case"validate":u=n,z(void 0,function(){B(),G()});break;case"validateOnBlur":c=n;break;default:throw Error("Unrecognised option "+e)}},submit:function(){var e,t=m.formState;if(!t.submitting){if(delete t.submitErrors,delete t.submitError,t.lastSubmittedValues=(0,n.A)({},t.values),m.formState.error||A(m.formState.errors)){F(),m.formState.submitFailed=!0,G(),B();return}var r=Object.keys(E);if(r.length){Promise.all(r.map(function(e){return E[Number(e)]})).then(H.submit,console.error);return}if(!Object.keys(m.fields).some(function(e){return m.fields[e].beforeSubmit&&!1===m.fields[e].beforeSubmit()})){var i=!1,o=function(r){return t.submitting=!1,r&&A(r)?(t.submitFailed=!0,t.submitSucceeded=!1,t.submitErrors=r,t.submitError=r[d],F()):(t.submitFailed=!1,t.submitSucceeded=!0,Object.keys(m.fields).forEach(function(e){return m.fields[e].afterSubmit&&m.fields[e].afterSubmit()})),G(),B(),i=!0,e&&e(r),r};t.submitting=!0,t.submitFailed=!1,t.submitSucceeded=!1,t.lastSubmittedValues=(0,n.A)({},t.values),Object.keys(m.fields).forEach(function(e){return m.fields[e].modifiedSinceLastSubmit=!1});var a=s(t.values,H,o);if(!i){if(a&&T(a))return G(),B(),a.then(o,function(e){throw o(),e});if(s.length>=3)return G(),B(),new Promise(function(t){e=t});o(a)}}}},subscribe:function(e,t){if(!e)throw Error("No callback given.");if(!t)throw Error("No subscription provided. What values do you want to listen to?");var r=S(e),n=m.subscribers,i=n.index++;n.entries[i]={subscriber:r,subscription:t,notified:!1};var o=N();return M(r,t,o,o,w,!0),function(){delete n.entries[i]}}};return H}},89353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},o=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var a,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var l=i(arguments,1),u=r(0,s.length-l.length),c=[],h=0;h<u;h++)c[h]="$"+h;if(a=Function("binder","return function ("+o(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=s.apply(this,n(l,arguments));return Object(t)===t?t:this}return s.apply(e,n(l,arguments))}),s.prototype){var d=function(){};d.prototype=s.prototype,a.prototype=new d,d.prototype=null}return a}},66743:(e,t,r)=>{"use strict";var n=r(89353);e.exports=Function.prototype.bind||n},70453:(e,t,r)=>{"use strict";var n,i=r(79612),o=r(69383),a=r(41237),s=r(79290),l=r(79538),u=r(58068),c=r(69675),h=r(35345),d=r(71514),f=r(58968),p=r(6188),m=r(68002),g=r(75880),y=r(70414),v=r(73093),b=Function,_=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},x=r(75795),w=r(30655),S=function(){throw new c},T=x?function(){try{return arguments.callee,S}catch(e){try{return x(arguments,"callee").get}catch(e){return S}}}():S,E=r(64039)(),P=r(93628),C=r(71064),A=r(48648),M=r(11002),k=r(10076),O={},I="undefined"!=typeof Uint8Array&&P?P(Uint8Array):n,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":E&&P?P([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":O,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&P?P(P([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E&&P?P(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E&&P?P(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&P?P(""[Symbol.iterator]()):n,"%Symbol%":E?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":T,"%TypedArray%":I,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":k,"%Function.prototype.apply%":M,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":C,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":A};if(P)try{null.error}catch(e){var D=P(P(e));R["%Error.prototype%"]=D}var L=function e(t){var r;if("%AsyncFunction%"===t)r=_("async function () {}");else if("%GeneratorFunction%"===t)r=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=_("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&P&&(r=P(i.prototype))}return R[t]=r,r},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=r(66743),B=r(9957),F=z.call(k,Array.prototype.concat),N=z.call(M,Array.prototype.splice),V=z.call(k,String.prototype.replace),U=z.call(k,String.prototype.slice),G=z.call(k,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,$=function(e){var t=U(e,0,1),r=U(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return V(e,H,function(e,t,r,i){n[n.length]=r?V(i,q,"$1"):t||e}),n},W=function(e,t){var r,n=e;if(B(j,n)&&(n="%"+(r=j[n])[0]+"%"),B(R,n)){var i=R[n];if(i===O&&(i=L(n)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=$(e),n=r.length>0?r[0]:"",i=W("%"+n+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],N(r,F([0,1],l)));for(var h=1,d=!0;h<r.length;h+=1){var f=r[h],p=U(f,0,1),m=U(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new u("property names with quotes must have matching quotes");if("constructor"!==f&&d||(s=!0),n+="."+f,B(R,o="%"+n+"%"))a=R[o];else if(null!=a){if(!(f in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(x&&h+1>=r.length){var g=x(a,f);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else d=B(a,f),a=a[f];d&&!s&&(R[o]=a)}}return a}},71064:(e,t,r)=>{"use strict";var n=r(79612);e.exports=n.getPrototypeOf||null},48648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},93628:(e,t,r)=>{"use strict";var n=r(48648),i=r(71064),o=r(7176);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},75795:(e,t,r)=>{"use strict";var n=r(6549);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},1155:e=>{e.exports=function(){try{if("undefined"==typeof localStorage||(localStorage.setItem("Storage-Test","1"),"1"!==localStorage.getItem("Storage-Test")))return!1;localStorage.removeItem("Storage-Test")}catch(e){return!1}return!0}},64039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(41333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(66743);e.exports=o.call(n,i)},17929:(e,t,r)=>{"use strict";r.d(t,{zR:()=>S,TM:()=>M,yJ:()=>m,sC:()=>O,AO:()=>p,Fu:()=>g});var n=r(58168);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}let a=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),u=s||l;if(e&&i(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var c=a[a.length-1];r="."===c||".."===c||""===c}else r=!1;for(var h=0,d=a.length;d>=0;d--){var f=a[d];"."===f?o(a,d):".."===f?(o(a,d),h++):h&&(o(a,d),h--)}if(!u)for(;h--;h)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return r&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}let l=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});if("object"==typeof t||"object"==typeof r){var n=s(t),i=s(r);return n!==t||i!==r?e(n,i):Object.keys(Object.assign({},t,r)).every(function(n){return e(t[n],r[n])})}return!1};var u=r(78997);function c(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function m(e,t,r,i){var o,s,l,u,c,h;"string"==typeof e?(l="",u="",-1!==(c=(s=e||"/").indexOf("#"))&&(u=s.substr(c),s=s.substr(0,c)),-1!==(h=s.indexOf("?"))&&(l=s.substr(h),s=s.substr(0,h)),(o={pathname:s,search:"?"===l?"":l,hash:"#"===u?"":u}).state=t):(void 0===(o=(0,n.A)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){if(e instanceof URIError)throw URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.');throw e}return r&&(o.key=r),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function y(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var o="function"==typeof e?e(t,r):e;"string"==typeof o?"function"==typeof n?n(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach(function(e){return e.apply(void 0,r)})}}}var v=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",x="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),v||(0,u.A)(!1);var t,r=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=-1!==window.navigator.userAgent.indexOf("Trident"),a=e,s=a.forceRefresh,l=void 0!==s&&s,h=a.getUserConfirmation,g=void 0===h?b:h,S=a.keyLength,T=void 0===S?6:S,E=e.basename?f(c(e.basename)):"";function P(e){var t=e||{},r=t.key,n=t.state,i=window.location,o=i.pathname+i.search+i.hash;return E&&(o=d(o,E)),m(o,n,r)}function C(){return Math.random().toString(36).substr(2,T)}var A=y();function M(e){(0,n.A)(V,e),V.length=r.length,A.notifyListeners(V.location,V.action)}function k(e){(void 0!==e.state||-1!==navigator.userAgent.indexOf("CriOS"))&&R(P(e.state))}function O(){R(P(w()))}var I=!1;function R(e){I?(I=!1,M()):A.confirmTransitionTo(e,"POP",g,function(t){var r,n,i,o;t?M({action:"POP",location:e}):(r=V.location,-1===(n=L.indexOf(r.key))&&(n=0),-1===(i=L.indexOf(e.key))&&(i=0),(o=n-i)&&(I=!0,z(o)))})}var D=P(w()),L=[D.key];function j(e){return E+p(e)}function z(e){r.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?(window.addEventListener(_,k),o&&window.addEventListener(x,O)):0===B&&(window.removeEventListener(_,k),o&&window.removeEventListener(x,O))}var N=!1,V={length:r.length,action:"POP",location:D,createHref:j,push:function(e,t){var n="PUSH",o=m(e,t,C(),V.location);A.confirmTransitionTo(o,n,g,function(e){if(e){var t=j(o),a=o.key,s=o.state;if(i){if(r.pushState({key:a,state:s},null,t),l)window.location.href=t;else{var u=L.indexOf(V.location.key),c=L.slice(0,u+1);c.push(o.key),L=c,M({action:n,location:o})}}else window.location.href=t}})},replace:function(e,t){var n="REPLACE",o=m(e,t,C(),V.location);A.confirmTransitionTo(o,n,g,function(e){if(e){var t=j(o),a=o.key,s=o.state;if(i){if(r.replaceState({key:a,state:s},null,t),l)window.location.replace(t);else{var u=L.indexOf(V.location.key);-1!==u&&(L[u]=o.key),M({action:n,location:o})}}else window.location.replace(t)}})},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return N||(F(1),N=!0),function(){return N&&(N=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var T="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function P(e){var t=e.indexOf("#");return -1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return -1===t?"":e.substring(t+1)}function A(e){window.location.replace(P(window.location.href)+"#"+e)}function M(e){void 0===e&&(e={}),v||(0,u.A)(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var r=e,i=r.getUserConfirmation,o=void 0===i?b:i,a=r.hashType,s=e.basename?f(c(e.basename)):"",l=E[void 0===a?"slash":a],h=l.encodePath,g=l.decodePath;function _(){var e=g(C());return s&&(e=d(e,s)),m(e)}var x=y();function w(e){(0,n.A)(F,e),F.length=t.length,x.notifyListeners(F.location,F.action)}var S=!1,M=null;function k(){var e=C(),t=h(e);if(e!==t)A(t);else{var r=_(),n=F.location;if(!S&&n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash||M===p(r))return;M=null,S?(S=!1,w()):x.confirmTransitionTo(r,"POP",o,function(e){var t,n,i,o;e?w({action:"POP",location:r}):(t=F.location,-1===(n=D.lastIndexOf(p(t)))&&(n=0),-1===(i=D.lastIndexOf(p(r)))&&(i=0),(o=n-i)&&(S=!0,L(o)))})}}var O=C(),I=h(O);O!==I&&A(I);var R=_(),D=[p(R)];function L(e){t.go(e)}var j=0;function z(e){1===(j+=e)&&1===e?window.addEventListener(T,k):0===j&&window.removeEventListener(T,k)}var B=!1,F={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=P(window.location.href)),r+"#"+h(s+p(e))},push:function(e,t){var r="PUSH",n=m(e,void 0,void 0,F.location);x.confirmTransitionTo(n,r,o,function(e){if(e){var t=p(n),i=h(s+t);if(C()!==i){M=t,window.location.hash=i;var o=D.lastIndexOf(p(F.location)),a=D.slice(0,o+1);a.push(t),D=a,w({action:r,location:n})}else w()}})},replace:function(e,t){var r="REPLACE",n=m(e,void 0,void 0,F.location);x.confirmTransitionTo(n,r,o,function(e){if(e){var t=p(n),i=h(s+t);C()!==i&&(M=t,A(i));var o=D.indexOf(p(F.location));-1!==o&&(D[o]=t),w({action:r,location:n})}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return B||(z(1),B=!0),function(){return B&&(B=!1,z(-1)),t()}},listen:function(e){var t=x.appendListener(e);return z(1),function(){z(-1),t()}}};return F}function k(e,t,r){return Math.min(Math.max(e,t),r)}function O(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=t.keyLength,l=void 0===s?6:s,u=y();function c(e){(0,n.A)(v,e),v.length=v.entries.length,u.notifyListeners(v.location,v.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=k(void 0===a?0:a,0,o.length-1),f=o.map(function(e){return"string"==typeof e?m(e,void 0,h()):m(e,void 0,e.key||h())});function g(e){var t=k(v.index+e,0,v.entries.length-1),n=v.entries[t];u.confirmTransitionTo(n,"POP",r,function(e){e?c({action:"POP",location:n,index:t}):c()})}var v={length:f.length,action:"POP",location:f[d],index:d,entries:f,createHref:p,push:function(e,t){var n="PUSH",i=m(e,t,h(),v.location);u.confirmTransitionTo(i,n,r,function(e){if(e){var t=v.index+1,r=v.entries.slice(0);r.length>t?r.splice(t,r.length-t,i):r.push(i),c({action:n,location:i,index:t,entries:r})}})},replace:function(e,t){var n="REPLACE",i=m(e,t,h(),v.location);u.confirmTransitionTo(i,n,r,function(e){e&&(v.entries[v.index]=i,c({action:n,location:i}))})},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return v}},50842:e=>{"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},n="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,i,o){if("string"!=typeof i){var a=Object.getOwnPropertyNames(i);n&&(a=a.concat(Object.getOwnPropertySymbols(i)));for(var s=0;s<a.length;++s)if(!t[a[s]]&&!r[a[s]]&&(!o||!o[a[s]]))try{e[a[s]]=i[a[s]]}catch(e){}}return e}},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=u}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=n?0:o-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+f]=255&a,f+=p,a/=256,u-=8);e[r+f-p]|=128*m}},12215:(e,t,r)=>{var n,i;!function(o){void 0!==(i="function"==typeof(n=o)?n.call(t,r,t,e):n)&&(e.exports=i),e.exports=o()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");r||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=t(s[0]);if(l=(n.read||n)(l,u)||t(l),r)try{l=JSON.parse(l)}catch(e){}if(i[u]=l,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})})},86129:(e,t,r)=>{"use strict";var n=d(r(59368)),i=d(r(91490)),o=d(r(98165)),a=d(r(73623)),s=d(r(18179)),l=d(r(69796)),u=d(r(4205)),c=r(28157),h=d(r(55099));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){},p=function(e,t,r){var n=new f;if(void 0===e)throw Error("No element to render on was provided.");return n._renderProperties=(0,s.default)(e),n._encodings=[],n._options=h.default,n._errorHandler=new u.default(n),void 0!==t&&((r=r||{}).format||(r.format=y()),n.options(r)[r.format](t,r).render()),n};for(var m in p.getModule=function(e){return n.default[e]},n.default)n.default.hasOwnProperty(m)&&function(e,t){f.prototype[t]=f.prototype[t.toUpperCase()]=f.prototype[t.toLowerCase()]=function(r,n){var o=this;return o._errorHandler.wrapBarcodeCall(function(){n.text=void 0===n.text?void 0:""+n.text;var a=(0,i.default)(o._options,n);a=(0,l.default)(a);var s=g(r,e[t],a);return o._encodings.push(s),o})}}(n.default,m);function g(e,t,r){var n=new t(e=""+e,r);if(!n.valid())throw new c.InvalidInputException(n.constructor.name,e);var a=n.encode();a=(0,o.default)(a);for(var s=0;s<a.length;s++)a[s].options=(0,i.default)(r,a[s].options);return a}function y(){return n.default.CODE128?"CODE128":Object.keys(n.default)[0]}function v(e,t,r){t=(0,o.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,i.default)(r,t[n].options),(0,a.default)(t[n].options);(0,a.default)(r),new e.renderer(e.element,t,r).render(),e.afterRender&&e.afterRender()}f.prototype.options=function(e){return this._options=(0,i.default)(this._options,e),this},f.prototype.blank=function(e){var t=Array(e+1).join("0");return this._encodings.push({data:t}),this},f.prototype.init=function(){if(this._renderProperties)for(var e in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){t=this._renderProperties[e];var t,r=(0,i.default)(this._options,t.options);"auto"==r.format&&(r.format=y()),this._errorHandler.wrapBarcodeCall(function(){v(t,g(r.value,n.default[r.format.toUpperCase()],r),r)})}},f.prototype.render=function(){if(!this._renderProperties)throw new c.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)v(this._renderProperties[e],this._encodings,this._options);else v(this._renderProperties,this._encodings,this._options);return this},f.prototype._defaults=h.default,"undefined"!=typeof window&&(window.JsBarcode=p),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),p(r,e,t)}),e.exports=p},72444:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.data=t,this.text=r.text||t,this.options=r}},53651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(72444)),o=r(62700),a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),r));return n.bytes=e.split("").map(function(e){return e.charCodeAt(0)}),n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=o.SET_BY_CODE[r];if(void 0===n)throw RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(o.FNC1);var i=t.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(r)+i.result+t.getBar((i.checksum+r)%o.MODULO)+t.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return o.BARS[e]?o.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===o.SET_A){var r=e.shift();return r<32?r+64:r-32}return t===o.SET_B?e.shift()-32:(e.shift()-48)*10+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var i=void 0,a=void 0;if(e[0]>=200){a=e.shift()-105;var s=o.SWAP[a];void 0!==s?i=t.next(e,r+1,s):((n===o.SET_A||n===o.SET_B)&&a===o.SHIFT&&(e[0]=n===o.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),i=t.next(e,r+1,n))}else a=t.correctIndex(e,n),i=t.next(e,r+1,n);var l=t.getBar(a),u=a*r;return{result:l+i.result,checksum:u+i.checksum}}}]),t}(i.default);t.default=a},43804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(53651)),o=r(62700),a=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.A_START_CHAR+e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=a},73541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(53651)),o=r(62700),a=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.B_START_CHAR+e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=a},5798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(53651)),o=r(62700),a=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.C_START_CHAR+e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=a},24845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(53651)),i=o(r(74802));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var s=function(e){function t(e,r){if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,i.default)(e),r));else var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a(n)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=s},74802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(62700),i=function(e){return e.match(RegExp("^"+n.A_CHARS+"*"))[0].length},o=function(e){return e.match(RegExp("^"+n.B_CHARS+"*"))[0].length},a=function(e){return e.match(RegExp("^"+n.C_CHARS+"*"))[0]};function s(e,t){var r=t?n.A_CHARS:n.B_CHARS,i=e.match(RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+String.fromCharCode(204)+l(e.substring(i[1].length));var o=e.match(RegExp("^"+r+"+"))[0];return o.length===e.length?e:o+String.fromCharCode(t?205:206)+s(e.substring(o.length),!t)}function l(e){var t=a(e),r=t.length;if(r===e.length)return e;var n=i(e=e.substring(r))>=o(e);return t+String.fromCharCode(n?206:205)+s(e,n)}t.default=function(e){var t=void 0;if(a(e).length>=2)t=n.C_START_CHAR+l(e);else{var r=i(e)>o(e);t=(r?n.A_START_CHAR:n.B_START_CHAR)+s(e,r)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,t){return String.fromCharCode(203)+t})}},62700:(e,t)=>{"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var n,i=t.SET_A=0,o=t.SET_B=1,a=t.SET_C=2;t.SHIFT=98;var s=t.START_A=103,l=t.START_B=104,u=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(r(n={},s,i),r(n,l,o),r(n,u,a),n),t.SWAP={101:i,100:o,99:a},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_-]",t.B_CHARS="[ --]",t.C_CHARS="(*[0-9]{2}*)",t.BARS=[0x2904e8b0c,0x28fb77b2c,0x28fb7774e,10010011e3,0x254a47ecc,0x2541b2a8c,10011001e3,0x254b3bd24,0x2541cad44,11001001e3,0x28fb5f0a4,0x28fa83504,0x25a9a86dc,0x254b3e81c,0x254b3c116,0x25aa9a20c,0x254b547ac,0x254b543ce,0x28fb79dfa,0x28fb61b9c,0x28fb5f496,0x290500dc4,0x28fb79e54,0x295ad5c36,0x295abd58c,0x2959e19ec,0x2959e160e,0x295ad5844,0x2959e3d14,0x2959e3cba,11011011e3,0x2904e872e,0x28fa85c1e,10100011e3,10001011e3,0x2541b26ae,10110001e3,10001101e3,0x2541cacea,11010001e3,11000101e3,0x28fa834aa,10110111e3,0x25a9a5fd6,0x2541cb136,10111011e3,0x25aa99e2e,0x2541cd45e,0x295ad7f5e,0x2903f48d6,0x28fa838f6,11011101e3,0x290500d6a,0x2905011b6,11101011e3,0x295abd1ae,0x2959cb67e,11101101e3,0x295ad57ea,0x2959cba02,0x295ad82e2,0x28fb5f04a,0x296352972,1010011e4,0x25a01c94c,1001011e4,0x254a47aee,0x2540d6eec,0x2540d6b0e,1011001e4,0x25a9a5be4,1001101e4,0x254b3bcca,0x2540d9214,0x2540d91ba,0x28fa6d51a,1100101e4,0x29636d722,0x28fa6d574,0x2541cd7e2,0x25a0376fc,0x254a62c7c,0x254a4a5e6,0x25aab24c4,0x254b56ad4,0x254b56a7a,0x29636ac84,0x296354cf4,0x296354c9a,0x2904eb226,0x2905034de,0x29636d39e,10101111e3,0x25a01f066,0x2541b51a6,10111101e3,0x25aab246a,11110101e3,0x29636ac2a,0x25aa9c926,0x25aab28b6,0x295abfca6,0x29636b076,0x2903f44e4,1101001e4,0x2903f6fdc,0x1001dc55b53]},71509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var n=s(r(24845)),i=s(r(43804)),o=s(r(73541)),a=s(r(5798));function s(e){return e&&e.__esModule?e:{default:e}}t.CODE128=n.default,t.CODE128A=i.default,t.CODE128B=o.default,t.CODE128C=a.default},61428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),r.mod43&&(e+=o[function(e){for(var t=0,r=0;r<e.length;r++)t+=l(e[r]);return t%43}(e)]),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){for(var e=s(l("*")),t=0;t<this.data.length;t++)e+=s(l(this.data[t]))+"0";return{data:e+=s(l("*")),text:this.text}}},{key:"valid",value:function(){return -1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],a=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function s(e){return a[e].toString(2)}function l(e){return o.indexOf(e)}t.CODE39=i},74754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(96575),o=a(r(16350));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.fontSize=!r.flat&&r.fontSize>10*r.width?10*r.width:r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:i.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:i.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:i.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[i.SIDE_BIN,this.leftEncode(),i.MIDDLE_BIN,this.rightEncode(),i.SIDE_BIN].join(""),text:this.text}}}]),t}(a(r(72444)).default);t.default=s},44250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);if(null===o)return;return e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},o=r(96575),a=function(e){return e&&e.__esModule?e:{default:e}}(r(74754)),s=function(e){return(10-e.substr(0,12).split("").map(function(e){return+e}).reduce(function(e,t,r){return r%2?e+3*t:e+t},0)%10)%10},l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=s(e));var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastChar=r.lastChar,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===s(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),r=o.EAN13_STRUCTURE[this.data[0]];return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,r)}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(a.default);t.default=l},7570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(96575),o=a(r(16350));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=i.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),t}(a(r(72444)).default);t.default=s},38075:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(96575),o=a(r(16350));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e=i.EAN5_STRUCTURE[this.data.split("").map(function(e){return+e}).reduce(function(e,t,r){return r%2?e+9*t:e+3*t},0)%10];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),t}(a(r(72444)).default);t.default=s},18784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);if(null===o)return;return e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},o=function(e){return e&&e.__esModule?e:{default:e}}(r(74754)),a=function(e){return(10-e.substr(0,7).split("").map(function(e){return+e}).reduce(function(e,t,r){return r%2?e+t:e+3*t},0)%10)%10},s=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=a(e)),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===a(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(o.default);t.default=s},17960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.checksum=s;var i=o(r(16350));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=s(e));var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,i.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,i.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,i.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,i.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(o(r(72444)).default);function s(e){var t,r=0;for(t=1;t<11;t+=2)r+=parseInt(e[t]);for(t=0;t<11;t+=2)r+=3*parseInt(e[t]);return(10-r%10)%10}t.default=a},3781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(16350)),o=s(r(72444)),a=r(17960);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(n.isValid=!1,-1!==e.search(/^[0-9]{6}$/))n.middleDigits=e,n.upcA=d(e,"0"),n.text=r.text||""+n.upcA[0]+e+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/)||(n.middleDigits=e.substring(1,e.length-1),n.upcA=d(n.middleDigits,e[0]),n.upcA[n.upcA.length-1]!==e[e.length-1]))return l(n);n.isValid=!0}return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=c[parseInt(this.upcA[this.upcA.length-1])][parseInt(e)];return(0,i.default)(this.middleDigits,t)}}]),t}(o.default);function d(e,t){for(var r=u[parseInt(e[e.length-1])],n="",i=0,o=0;o<r.length;o++){var s=r[o];"X"===s?n+=e[i++]:n+=s}return(n=""+t+n)+(0,a.checksum)(n)}t.default=h},96575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},16350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(96575);t.default=function(e,t,r){var i=e.split("").map(function(e,r){return n.BINARIES[t[r]]}).map(function(t,r){return t?t[e[r]]:""});if(r){var o=e.length-1;i=i.map(function(e,t){return t<o?e+r:e})}return i.join("")}},55726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var n=u(r(44250)),i=u(r(18784)),o=u(r(38075)),a=u(r(7570)),s=u(r(17960)),l=u(r(3781));function u(e){return e&&e.__esModule?e:{default:e}}t.EAN13=n.default,t.EAN8=i.default,t.EAN5=o.default,t.EAN2=a.default,t.UPC=s.default,t.UPCE=l.default},1886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default);t.GenericBarcode=i},50739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(71135),o=function(e){function t(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map(function(t){return e.encodePair(t)}).join("");return{data:i.START_BIN+t+i.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=i.BINARIES[e[1]];return i.BINARIES[e[0]].split("").map(function(e,r){return("1"===e?"111":"1")+("1"===t[r]?"000":"0")}).join("")}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default);t.default=o},8122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(50739)),o=function(e){var t=e.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,t,r){return e+t*(3-r%2*2)},0);return 10*Math.ceil(t/10)-t},a=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=o(e)),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),t}(i.default);t.default=a},71135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var n=o(r(50739)),i=o(r(8122));function o(e){return e&&e.__esModule?e:{default:e}}t.ITF=n.default,t.ITF14=i.default},33551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var r=parseInt(this.data[t]).toString(2);r=function(e,t){for(var r=0;r<t;r++)e="0"+e;return e}(r,4-r.length);for(var n=0;n<r.length;n++)e+="0"==r[n]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return -1!==this.data.search(/^[0-9]+$/)}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default);t.default=i},76338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33551)),i=r(16320),o=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod10)(e),r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=o},23:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33551)),i=r(16320),o=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),e+=(0,i.mod10)(e),e+=(0,i.mod10)(e),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=o},96065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33551)),i=r(16320),o=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod11)(e),r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=o},27052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33551)),i=r(16320),o=function(e){function t(e,r){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),e+=(0,i.mod11)(e),e+=(0,i.mod10)(e),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=o},16320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=function(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2==0?t+=n:t+=2*n%10+Math.floor(2*n/10)}return(10-t%10)%10},t.mod11=function(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var i=parseInt(e[e.length-1-n]);t+=r[n%r.length]*i}return(11-t%11)%11}},48248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var n=l(r(33551)),i=l(r(76338)),o=l(r(96065)),a=l(r(23)),s=l(r(27052));function l(e){return e&&e.__esModule?e:{default:e}}t.MSI=n.default,t.MSI10=i.default,t.MSI11=o.default,t.MSI1010=a.default,t.MSI1110=s.default},21133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),r));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return -1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),r=0;r<this.data.length;r++)e.push(t[this.data.charAt(r)]),r!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default);t.codabar=i},59368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61428),i=r(71509),o=r(55726),a=r(5070),s=r(48248),l=r(42889),u=r(21133),c=r(1886);t.default={CODE39:n.CODE39,CODE128:i.CODE128,CODE128A:i.CODE128A,CODE128B:i.CODE128B,CODE128C:i.CODE128C,EAN13:o.EAN13,EAN8:o.EAN8,EAN5:o.EAN5,EAN2:o.EAN2,UPC:o.UPC,UPCE:o.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:u.codabar,GenericBarcode:c.GenericBarcode}},42889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.number=parseInt(e,10),n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2==0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(r(72444)).default);t.pharmacode=i},4205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.api=t}return r(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"===e.name){if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw e.message}else throw e;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(e){return this.handleCatch(e),this.api}}}]),e}();t.default=n},28157:(e,t)=>{"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e,i){r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="InvalidInputException",o.symbology=e,o.input=i,o.message='"'+o.input+'" is not a valid input for '+o.symbology,o}return i(t,e),t}(Error),a=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return i(t,e),t}(Error),s=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return i(t,e),t}(Error);t.InvalidInputException=o,t.InvalidElementException=a,t.NoElementException=s},73623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(69796)),i=o(r(55099));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};for(var r in i.default)i.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,n.default)(t)}},18179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=s(r(892)),o=s(r(82727)),a=r(28157);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t){if("string"==typeof t)return function(t){var r=document.querySelectorAll(t);if(0!==r.length){for(var n=[],i=0;i<r.length;i++)n.push(e(r[i]));return n}}(t);if(Array.isArray(t)){for(var r,s=[],l=0;l<t.length;l++)s.push(e(t[l]));return s}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return{element:r=document.createElement("canvas"),options:(0,i.default)(t),renderer:o.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",r.toDataURL())}};if(t&&"svg"===t.nodeName||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,i.default)(t),renderer:o.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,i.default)(t),renderer:o.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:o.default.CanvasRenderer};if(t&&(void 0===t?"undefined":n(t))==="object"&&!t.nodeName)return{element:t,renderer:o.default.ObjectRenderer};else throw new a.InvalidElementException}},98165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return function e(r){if(Array.isArray(r))for(var n=0;n<r.length;n++)e(r[n]);else r.text=r.text||"",r.data=r.data||"",t.push(r)}(e),t}},91490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return r({},e,t)}},69796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&"string"==typeof e[r=t[r]]&&(e[r]=parseInt(e[r],10));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},55099:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},11687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(91490)),o=r(26258),a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=r,this.options=n}return n(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,i.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),r=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var r,n=this.canvas.getContext("2d"),i=t.data;r="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,n.fillStyle=e.lineColor;for(var o=0;o<i.length;o++){var a=o*e.width+t.barcodePadding;"1"===i[o]?n.fillRect(a,r,e.width,e.height):i[o]&&n.fillRect(a,r,e.width,e.height*i[o])}}},{key:"drawCanvasText",value:function(e,t){var r,n,i=this.canvas.getContext("2d"),o=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(n="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,i.font=o,"left"==e.textAlign||t.barcodePadding>0?(r=0,i.textAlign="left"):"right"==e.textAlign?(r=t.width-1,i.textAlign="right"):(r=t.width/2,i.textAlign="center"),i.fillText(t.text,r,n))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();t.default=a},82727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(11687)),i=a(r(35965)),o=a(r(13528));function a(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:n.default,SVGRenderer:i.default,ObjectRenderer:o.default}},13528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=r,this.options=n}return r(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=n},26258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(91490));function i(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function o(e,t,r){if(r.displayValue&&t<e){if("center"==r.textAlign)return Math.floor((e-t)/2);if("left"==r.textAlign);else if("right"==r.textAlign)return Math.floor(e-t)}return 0}t.getMaximumHeightOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t},t.getEncodingHeight=i,t.getBarcodePadding=o,t.calculateEncodingAttributes=function(e,t,r){for(var a=0;a<e.length;a++){var s,l=e[a],u=(0,n.default)(t,l.options);s=u.displayValue?function(e,t,r){var n;if(r)n=r;else{if("undefined"==typeof document)return 0;n=document.createElement("canvas").getContext("2d")}return n.font=t.fontOptions+" "+t.fontSize+"px "+t.font,n.measureText(e).width}(l.text,u,r):0;var c=l.data.length*u.width;l.width=Math.ceil(Math.max(s,c)),l.height=i(l,u),l.barcodePadding=o(s,c,u)}},t.getTotalWidthOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}},35965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(91490)),o=r(26258),a="http://www.w3.org/2000/svg",s=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return n(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var r=this.encodings[t],n=(0,i.default)(this.options,r.options),o=this.createGroup(e,n.marginTop,this.svg);this.setGroupOptions(o,n),this.drawSvgBarcode(o,n,r),this.drawSVGText(o,n,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),t=(0,o.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,t),this.options.background&&this.drawRect(0,0,r,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,r){var n,i=r.data;n="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var o=0,a=0,s=0;s<i.length;s++)a=s*t.width+r.barcodePadding,"1"===i[s]?o++:o>0&&(this.drawRect(a-t.width*o,n,t.width*o,t.height,e),o=0);o>0&&this.drawRect(a-t.width*(o-1),n,t.width*o,t.height,e)}},{key:"drawSVGText",value:function(e,t,r){var n,i,o=this.document.createElementNS(a,"text");t.displayValue&&(o.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),i="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||r.barcodePadding>0?(n=0,o.setAttribute("text-anchor","start")):"right"==t.textAlign?(n=r.width-1,o.setAttribute("text-anchor","end")):(n=r.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",n),o.setAttribute("y",i),o.appendChild(this.document.createTextNode(r.text)),e.appendChild(o))}},{key:"setSvgAttributes",value:function(e,t){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+t),r.setAttribute("xmlns",a),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,r){var n=this.document.createElementNS(a,"g");return n.setAttribute("transform","translate("+e+", "+t+")"),r.appendChild(n),n}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,r,n,i){var o=this.document.createElementNS(a,"rect");return o.setAttribute("x",e),o.setAttribute("y",t),o.setAttribute("width",r),o.setAttribute("height",n),i.appendChild(o),o}}]),e}();t.default=s},11441:(e,t,r)=>{var n=r(28028),i=function(e){var t="",r=Object.keys(e);return r.forEach(function(i,o){var a,s=e[i];a=i=n(i),/[height|width]$/.test(a)&&"number"==typeof s&&(s+="px"),!0===s?t+=i:!1===s?t+="not "+i:t+="("+i+": "+s+")",o<r.length-1&&(t+=" and ")}),t};e.exports=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(r,n){t+=i(r),n<e.length-1&&(t+=", ")}),t):i(e)}},6147:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(Error("Failed to load "+this.src),e)}}e.exports=function(e,r,n){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof r&&(n=r,r={}),r=r||{},n=n||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:function(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}})(o,n),o.onload||t(o,n),i.appendChild(o)}},20181:(e,t,r)=>{var n=0/0,i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,h=u||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return n;if(g(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=g(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var u=a.test(e);return u||s.test(e)?l(e.slice(2),u?2:8):o.test(e)?n:+e}e.exports=function(e,t,r){var n,i,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function b(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||h&&n>=o}function _(){var e,r,n,i=m();if(b(i))return x(i);s=setTimeout(_,(e=i-l,r=i-u,n=t-e,h?p(n,o-r):n))}function x(e){return(s=void 0,d&&n)?v(e):(n=i=void 0,a)}function w(){var e,r=m(),o=b(r);if(n=arguments,i=this,l=r,o){if(void 0===s)return u=e=l,s=setTimeout(_,t),c?v(e):a;if(h)return s=setTimeout(_,t),v(l)}return void 0===s&&(s=setTimeout(_,t)),a}return t=y(t)||0,g(r)&&(c=!!r.leading,o=(h="maxWait"in r)?f(y(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),w.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},w.flush=function(){return void 0===s?a:x(m())},w}},71717:(e,t,r)=>{"use strict";var n=r(75208);e.exports=function(e,t){for(var r,s,l,u,c,h,d,f,p,m,g,y,v=t||{},b=!1!==v.padding,_=!1!==v.delimiterStart,x=!1!==v.delimiterEnd,w=(v.align||[]).concat(),S=!1!==v.alignDelimiters,T=[],E=v.stringLength||o,P=-1,C=e.length,A=[],M=[],k=[],O=[],I=[],R=0;++P<C;){for(s=e[P],l=-1,u=s.length,k=[],O=[],u>R&&(R=u);++l<u;)d=null==(r=s[l])?"":String(r),!0===S&&(h=E(d),O[l]=h,(void 0===(c=I[l])||h>c)&&(I[l]=h)),k.push(d);A[P]=k,M[P]=O}if(l=-1,u=R,"object"==typeof w&&"length"in w)for(;++l<u;)T[l]=a(w[l]);else for(y=a(w);++l<u;)T[l]=y;for(l=-1,u=R,k=[],O=[];++l<u;)y=T[l],m="",g="",108===y?m=":":114===y?g=":":99===y&&(m=":",g=":"),h=S?Math.max(1,I[l]-m.length-g.length):1,d=m+n("-",h)+g,!0===S&&((h=m.length+h+g.length)>I[l]&&(I[l]=h),O[l]=h),k[l]=d;for(A.splice(1,0,k),M.splice(1,0,O),P=-1,C=A.length,f=[];++P<C;){for(k=A[P],O=M[P],l=-1,u=R,p=[];++l<u;)d=k[l]||"",m="",g="",!0===S&&(h=I[l]-(O[l]||0),114===(y=T[l])?m=n(" ",h):99===y?h%2==0?g=m=n(" ",h/2):(m=n(" ",h/2+.5),g=n(" ",h/2-.5)):g=n(" ",h)),!0===_&&0===l&&p.push("|"),!0===b&&(!1!==S||""!==d)&&(!0===_||0!==l)&&p.push(" "),!0===S&&p.push(m),p.push(d),!0===S&&p.push(g),!0===b&&p.push(" "),(!0===x||l!==u-1)&&p.push("|");p=p.join(""),!1===x&&(p=p.replace(i,"")),f.push(p)}return f.join("\n")};var i=/ +$/;function o(e){return e.length}function a(e){var t="string"==typeof e?e.charCodeAt(0):0;return 76===t||108===t?108:82===t||114===t?114:99*(67===t||99===t)}},71514:e=>{"use strict";e.exports=Math.abs},58968:e=>{"use strict";e.exports=Math.floor},94459:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6188:e=>{"use strict";e.exports=Math.max},68002:e=>{"use strict";e.exports=Math.min},75880:e=>{"use strict";e.exports=Math.pow},70414:e=>{"use strict";e.exports=Math.round},73093:(e,t,r)=>{"use strict";var n=r(94459);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},36873:(e,t,r)=>{var n=r(18387);e.exports=function(){return function(e){return n(e,"list",function(e,t){var r,n,i=0;for(r=0,n=t.length;r<n;r++)"list"===t[r].type&&(i+=1);for(r=0,n=e.children.length;r<n;r++){var o=e.children[r];o.index=r,o.ordered=e.ordered}e.depth=i}),e}}},18387:e=>{"use strict";e.exports=function(e,t,r){var n=[];"function"==typeof t&&(r=t,t=null),function e(i){var o;return(t&&i.type!==t||(o=r(i,n.concat())),i.children&&!1!==o)?function(t,r){var i,o=t.length,a=-1;for(n.push(r);++a<o;)if((i=t[a])&&!1===e(i))return!1;return n.pop(),!0}(i.children,i):o}(e)}},10164:(e,t,r)=>{"use strict";e.exports=function(e,t,r,n){var i,o;return"string"==typeof t||t&&"function"==typeof t.exec?o=[[t,r]]:(o=t,n=r),s(e,i=n||{},function e(t){var r=t[0];return function(n,o){var l,u,c,h,d=r[0],f=r[1],p=[],m=0,g=o.children.indexOf(n);for(d.lastIndex=0,u=d.exec(n.value);u&&(l=u.index,!1!==(h=f.apply(null,[].concat(u,{index:u.index,input:u.input})))&&(m!==l&&p.push({type:"text",value:n.value.slice(m,l)}),"string"==typeof h&&h.length>0&&(h={type:"text",value:h}),h&&(p=[].concat(p,h)),m=l+u[0].length),d.global);)u=d.exec(n.value);if(void 0===l?(p=[n],g--):(m<n.value.length&&p.push({type:"text",value:n.value.slice(m)}),p.unshift(g,1),a.apply(o.children,p)),t.length>1)for(c=e(t.slice(1)),l=-1;++l<p.length;)"text"===(n=p[l]).type?c(n,o):s(n,i,c);return g+p.length+1}}(function(e){var t,r,n=[];if("object"!=typeof e)throw Error("Expected array or object as schema");if("length"in e)for(r=-1;++r<e.length;)n.push([l(e[r][0]),u(e[r][1])]);else for(t in e)n.push([l(t),u(e[t])]);return n}(o))),e};var n=r(26311),i=r(32143),o=r(64963),a=[].splice;function s(e,t,r){var o=i(t.ignore||[]);return n(e,"text",function(e,t){for(var n,i,a=-1;++a<t.length;){if(o(n=t[a],i?i.children.indexOf(n):void 0,i))return;i=n}return r(e,i)}),[]}function l(e){return"string"==typeof e?RegExp(o(e),"g"):e}function u(e){return"function"==typeof e?e:function(){return e}}},64963:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},12849:(e,t,r)=>{"use strict";e.exports=function(e,t,r){return"string"!=typeof t&&(r=t,t=void 0),(function(e){var t=function(e,t){for(var r=-1;++r<t.length;)(function(e,t){var r,n;for(r in t)n=o.call(e,r)?e[r]:e[r]={},"canContainEols"===r||"transforms"===r?e[r]=[].concat(n,t[r]):Object.assign(n,t[r])})(e,t[r]);return e}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:f(C),autolinkProtocol:b,autolinkEmail:b,atxHeading:f(T),blockQuote:f(function(){return{type:"blockquote",children:[]}}),characterEscape:b,characterReference:b,codeFenced:f(S),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:f(S,p),codeText:f(function(){return{type:"inlineCode",value:""}},p),codeTextData:b,data:b,codeFlowValue:b,definition:f(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:f(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:f(E),hardBreakTrailing:f(E),htmlFlow:f(P,p),htmlFlowData:b,htmlText:f(P,p),htmlTextData:b,image:f(function(){return{type:"image",title:null,url:"",alt:null}}),label:p,link:f(C),listItem:f(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){r.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(e),10),r.expectingFirstListItemValue=void 0)},listOrdered:f(A,function(){r.expectingFirstListItemValue=!0}),listUnordered:f(A),paragraph:f(function(){return{type:"paragraph",children:[]}}),reference:function(){r.referenceType="collapsed"},referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:f(T),strong:f(function(){return{type:"strong",children:[]}}),thematicBreak:f(function(){return{type:"thematicBreak"}})},exit:{atxHeading:g(),atxHeadingSequence:function(e){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(e).length)},autolink:g(),autolinkEmail:function(e){_.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){_.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:g(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:w,characterReferenceMarkerNumeric:w,characterReferenceValue:function(e){var t,n,i=this.sliceSerialize(e),o=r.characterReferenceType;o?(t=s(i,"characterReferenceMarkerNumeric"===o?10:16),r.characterReferenceType=void 0):t=h(i),n=this.stack.pop(),n.value+=t,n.position.end=c(e.end)},codeFenced:g(function(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),r.flowCodeInside=void 0}),codeFencedFence:function(){!r.flowCodeInside&&(this.buffer(),r.flowCodeInside=!0)},codeFencedFenceInfo:function(){var e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){var e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:_,codeIndented:g(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),codeText:g(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:_,data:_,definition:g(),definitionDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=a(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:g(),hardBreakEscape:g(x),hardBreakTrailing:g(x),htmlFlow:g(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:_,htmlText:g(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:_,image:g(function(){var e=this.stack[this.stack.length-1];r.inReference?(e.type+="Reference",e.referenceType=r.referenceType||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),r.referenceType=void 0}),label:function(){var e=this.stack[this.stack.length-1],t=this.resume();this.stack[this.stack.length-1].label=t,r.inReference=!0,"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=e.children:this.stack[this.stack.length-1].alt=t},labelText:function(e){this.stack[this.stack.length-2].identifier=a(this.sliceSerialize(e)).toLowerCase()},lineEnding:function(e){var n=this.stack[this.stack.length-1];if(r.atHardBreak){n.children[n.children.length-1].position.end=c(e.end),r.atHardBreak=void 0;return}!r.setextHeadingSlurpLineEnding&&t.canContainEols.indexOf(n.type)>-1&&(b.call(this,e),_.call(this,e))},link:g(function(){var e=this.stack[this.stack.length-1];r.inReference?(e.type+="Reference",e.referenceType=r.referenceType||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),r.referenceType=void 0}),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=a(this.sliceSerialize(e)).toLowerCase(),r.referenceType="full"},resourceDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){r.inReference=void 0},setextHeading:g(function(){r.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){r.setextHeadingSlurpLineEnding=!0},strong:g(),thematicBreak:g()}},(e||{}).mdastExtensions||[]),r={};return function(e){for(var r,n,a={type:"root",children:[]},s=[],h=[],f=-1,g={stack:[a],tokenStack:s,config:t,enter:m,exit:y,buffer:p,resume:v,setData:l,getData:u};++f<e.length;)("listOrdered"===e[f][1].type||"listUnordered"===e[f][1].type)&&("enter"===e[f][0]?h.push(f):f=function(e,t,r){for(var n,i,o,a,s,l,u,h=t-1,d=-1,f=!1;++h<=r;)if("listUnordered"===(s=e[h])[1].type||"listOrdered"===s[1].type||"blockQuote"===s[1].type?("enter"===s[0]?d++:d--,u=void 0):"lineEndingBlank"===s[1].type?"enter"===s[0]&&(!n||u||d||l||(l=h),u=void 0):"linePrefix"===s[1].type||"listItemValue"===s[1].type||"listItemMarker"===s[1].type||"listItemPrefix"===s[1].type||"listItemPrefixWhitespace"===s[1].type||(u=void 0),!d&&"enter"===s[0]&&"listItemPrefix"===s[1].type||-1===d&&"exit"===s[0]&&("listUnordered"===s[1].type||"listOrdered"===s[1].type)){if(n){for(i=h,o=void 0;i--;)if("lineEnding"===(a=e[i])[1].type||"lineEndingBlank"===a[1].type){if("exit"===a[0])continue;o&&(e[o][1].type="lineEndingBlank",f=!0),a[1].type="lineEnding",o=i}else if("linePrefix"===a[1].type||"blockQuotePrefix"===a[1].type||"blockQuotePrefixWhitespace"===a[1].type||"blockQuoteMarker"===a[1].type||"listItemIndent"===a[1].type);else break;l&&(!o||l<o)&&(n._spread=!0),n.end=c(o?e[o][1].start:s[1].end),e.splice(o||h,0,["exit",n,s[2]]),h++,r++}"listItemPrefix"===s[1].type&&(n={type:"listItem",_spread:!1,start:c(s[1].start)},e.splice(h,0,["enter",n,s[2]]),h++,r++,l=void 0,u=!0)}return e[t][1]._spread=f,r}(e,n=h.pop(f),f));for(f=-1;++f<e.length;)r=t[e[f][0]],o.call(r,e[f][1].type)&&r[e[f][1].type].call(i({sliceSerialize:e[f][2].sliceSerialize},g),e[f][1]);if(s.length)throw Error("Cannot close document, a token (`"+s[s.length-1].type+"`, "+d({start:s[s.length-1].start,end:s[s.length-1].end})+") is still open");for(a.position={start:c(e.length?e[0][1].start:{line:1,column:1,offset:0}),end:c(e.length?e[e.length-2][1].end:{line:1,column:1,offset:0})},f=-1;++f<t.transforms.length;)a=t.transforms[f](a)||a;return a};function l(e,t){r[e]=t}function u(e){return r[e]}function c(e){return{line:e.line,column:e.column,offset:e.offset}}function f(e,t){return function(r){m.call(this,e(r),r),t&&t.call(this,r)}}function p(){this.stack.push({type:"fragment",children:[]})}function m(e,t){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push(t),e.position={start:c(t.start)},e}function g(e){return function(t){e&&e.call(this,t),y.call(this,t)}}function y(e){var t=this.stack.pop(),r=this.tokenStack.pop();if(r){if(r.type!==e.type)throw Error("Cannot close `"+e.type+"` ("+d({start:e.start,end:e.end})+"): a different token (`"+r.type+"`, "+d({start:r.start,end:r.end})+") is open")}else throw Error("Cannot close `"+e.type+"` ("+d({start:e.start,end:e.end})+"): its not open");return t.position.end=c(e.end),t}function v(){return n(this.stack.pop())}function b(e){var t=this.stack[this.stack.length-1].children,r=t[t.length-1];r&&"text"===r.type||((r={type:"text",value:""}).position={start:c(e.start)},this.stack[this.stack.length-1].children.push(r)),this.stack.push(r)}function _(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=c(e.end)}function x(){r.atHardBreak=!0}function w(e){var t;t=e.type,r.characterReferenceType=t}function S(){return{type:"code",lang:null,meta:null,value:""}}function T(){return{type:"heading",depth:void 0,children:[]}}function E(){return{type:"break"}}function P(){return{type:"html",value:""}}function C(){return{type:"link",title:null,url:"",children:[]}}function A(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(r)(c(l(r).document().write(u()(e,t,!0))))};var n=r(87326),i=r(46891),o=r(52519),a=r(1303),s=r(50440),l=r(1296),u=r(99061),c=r(67192),h=r(4360),d=r(36731)},46064:(e,t,r)=>{"use strict";e.exports=r(12849)},87326:e=>{"use strict";function t(e){return e&&(e.value||e.alt||e.title||"children"in e&&r(e.children)||"length"in e&&r(e))||""}function r(e){for(var r=[],n=-1;++n<e.length;)r[n]=t(e[n]);return r.join("")}e.exports=t},93450:(e,t,r)=>{var n=r(67465),i=r(10164),o=r(13061),a=r(4012);function s(e){this.config.enter.autolinkProtocol.call(this,e)}function l(e,t,r,i,o){var a,s,l,u="";return!!c(o)&&(/^w/i.test(t)&&(r=t+r,t="",u="http://"),!((a=r.split(".")).length<2||a[a.length-1]&&(/_/.test(a[a.length-1])||!/[a-zA-Z\d]/.test(a[a.length-1]))||a[a.length-2]&&(/_/.test(a[a.length-2])||!/[a-zA-Z\d]/.test(a[a.length-2])))&&!!(s=function(e){var t,r,i,o=/[!"&'),.:;<>?\]}]+$/.exec(e);if(o)for(e=e.slice(0,o.index),t=(o=o[0]).indexOf(")"),r=n(e,"("),i=n(e,")");-1!==t&&r>i;)e+=o.slice(0,t+1),t=(o=o.slice(t+1)).indexOf(")"),i++;return[e,o]}(r+i))[0]&&(l={type:"link",title:null,url:u+t+s[0],children:[{type:"text",value:t+s[0]}]},s[1]&&(l=[l,{type:"text",value:s[1]}]),l))}function u(e,t,r,n){return!(!c(n,!0)||/[_-]$/.test(r))&&{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function c(e,t){var r=e.input.charCodeAt(e.index-1);return(r!=r||a(r)||o(r))&&(!t||47!==r)}t.transforms=[function(e){i(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,l],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,u]],{ignore:["link","linkReference"]})}],t.enter={literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:s,literalAutolinkHttp:s,literalAutolinkWww:s},t.exit={literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},54929:(e,t)=>{var r="phrasing",n=["autolink","link","image","label"];t.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:r,notInConstruct:n},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:r,notInConstruct:n},{character:":",before:"[ps]",after:"\\/",inConstruct:r,notInConstruct:n}]},39358:(e,t)=>{t.canContainEols=["delete"],t.enter={strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},t.exit={strikethrough:function(e){this.exit(e)}}},28061:(e,t,r)=>{var n=r(28886);function i(e,t,r){var i=r.enter("emphasis"),o=n(e,r,{before:"~",after:"~"});return i(),"~~"+o+"~~"}t.unsafe=[{character:"~",inConstruct:"phrasing"}],t.handlers={delete:i},i.peek=function(){return"~"}},32397:(e,t)=>{function r(e){this.exit(e)}function n(e){this.enter({type:"tableCell",children:[]},e)}function i(e,t){return"|"===t?t:e}t.enter={table:function(e){this.enter({type:"table",align:e._align,children:[]},e),this.setData("inTable",!0)},tableData:n,tableHeader:n,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},t.exit={codeText:function(e){var t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,i)),this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:r,tableHeader:r,tableRow:r}},67182:(e,t,r)=>{var n=r(28886),i=r(33911),o=r(71717);e.exports=function(e){var t=e||{},r=t.tableCellPadding,a=t.tablePipeAlign,s=t.stringLength,l=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,r){return c(function(e,t){for(var r=e.children,n=-1,i=r.length,o=[],a=t.enter("table");++n<i;)o[n]=h(r[n],t);return a(),o}(e,r),e.align)},tableRow:function(e,t,r){var n=c([h(e,r)]);return n.slice(0,n.indexOf("\n"))},tableCell:u,inlineCode:function(e,t,r){var n=i(e,t,r);return -1!==r.stack.indexOf("tableCell")&&(n=n.replace(/\|/g,"\\$&")),n}}};function u(e,t,r){var i=r.enter("tableCell"),o=n(e,r,{before:l,after:l});return i(),o}function c(e,t){return o(e,{align:t,alignDelimiters:a,padding:r,stringLength:s})}function h(e,t){for(var r=e.children,n=-1,i=r.length,o=[],a=t.enter("tableRow");++n<i;)o[n]=u(r[n],e,t);return a(),o}}},12287:(e,t)=>{function r(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}t.exit={taskListCheckValueChecked:r,taskListCheckValueUnchecked:r,paragraph:function(e){var t,r=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],i=r.children,o=n.children[0],a=-1;if(r&&"listItem"===r.type&&"boolean"==typeof r.checked&&o&&"text"===o.type){for(;++a<i.length;)if("paragraph"===i[a].type){t=i[a];break}t===n&&(o.value=o.value.slice(1),0===o.value.length?n.children.shift():(o.position.start.column++,o.position.start.offset++,n.position.start=Object.assign({},o.position.start)))}this.exit(e)}}},17816:(e,t,r)=>{var n=r(53694);t.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}],t.handlers={listItem:function(e,t,r){var i=n(e,t,r),o=e.children[0];return"boolean"==typeof e.checked&&o&&"paragraph"===o.type&&(i=i.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(t){return t+"["+(e.checked?"x":" ")+"] "})),i}}},94460:(e,t,r)=>{var n=r(93450),i=r(39358),o=r(32397),a=r(12287),s={}.hasOwnProperty;e.exports=function(e){for(var t={transforms:[],canContainEols:[]},r=e.length,n=-1;++n<r;)!function(e,t){var r,n,i;for(r in t)n=s.call(e,r)?e[r]:e[r]={},i=t[r],"canContainEols"===r||"transforms"===r?e[r]=[].concat(n,i):Object.assign(n,i)}(t,e[n]);return t}([n,i,o,a])},32523:(e,t,r)=>{var n=r(54929),i=r(28061),o=r(67182),a=r(17816),s=r(96495);e.exports=function(e){var t=s({handlers:{},join:[],unsafe:[],options:{}},{extensions:[n,i,o(e),a]});return Object.assign(t.options,{handlers:t.handlers,join:t.join,unsafe:t.unsafe})}},96495:e=>{e.exports=function e(t,r){var n,i=-1;if(r.extensions)for(;++i<r.extensions.length;)e(t,r.extensions[i]);for(n in r)"extensions"===n||("unsafe"===n||"join"===n?t[n]=t[n].concat(r[n]||[]):"handlers"===n?t[n]=Object.assign(t[n],r[n]||{}):t.options[n]=r[n]);return t}},33911:(e,t,r)=>{e.exports=i,i.peek=function(){return"`"};var n=r(18674);function i(e,t,r){for(var i,o,a,s,l=e.value||"",u="`",c=-1;RegExp("(^|[^`])"+u+"([^`]|$)").test(l);)u+="`";for(/[^ \r\n]/.test(l)&&(/[ \r\n`]/.test(l.charAt(0))||/[ \r\n`]/.test(l.charAt(l.length-1)))&&(l=" "+l+" ");++c<r.unsafe.length;)if((i=r.unsafe[c]).atBreak)for(o=n(i);a=o.exec(l);)s=a.index,10===l.charCodeAt(s)&&13===l.charCodeAt(s-1)&&s--,l=l.slice(0,s)+" "+l.slice(a.index+1);return u+l+u}},53694:(e,t,r)=>{e.exports=function(e,t,r){var l,u,c,h=i(r),d=o(r);return t&&t.ordered&&(h=(t.start>-1?t.start:1)+(!1===r.options.incrementListMarker?0:t.children.indexOf(e))+"."),l=h.length+1,("tab"===d||"mixed"===d&&(t&&t.spread||e.spread))&&(l=4*Math.ceil(l/4)),c=r.enter("listItem"),u=s(a(e,r),function(e,t,r){return t?(r?"":n(" ",l))+e:(r?h:h+n(" ",l-h.length))+e}),c(),u};var n=r(75208),i=r(37053),o=r(22460),a=r(39952),s=r(24378)},37053:e=>{e.exports=function(e){var t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}},22460:e=>{e.exports=function(e){var t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}},39952:(e,t,r)=>{e.exports=function(e,t){for(var r,i=e.children||[],o=[],a=-1;++a<i.length;)r=i[a],o.push(t.handle(r,e,t,{before:"\n",after:"\n"})),a+1<i.length&&o.push(function(r,i){for(var o,a=-1;++a<t.join.length&&!0!==(o=t.join[a](r,i,e,t))&&1!==o;){if("number"==typeof o)return n("\n",1+Number(o));if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}(r,i[a+1]));return o.join("")};var n=r(75208)},28886:e=>{e.exports=function(e,t,r){for(var n,i,o,a=e.children||[],s=[],l=-1,u=r.before;++l<a.length;)o=a[l],l+1<a.length?((i=t.handle.handlers[a[l+1].type])&&i.peek&&(i=i.peek),n=i?i(a[l+1],e,t,{before:"",after:""}).charAt(0):""):n=r.after,s.length>0&&("\r"===u||"\n"===u)&&"html"===o.type&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" "),s.push(t.handle(o,e,t,{before:u,after:n})),u=s[s.length-1].slice(-1);return s.join("")}},24378:e=>{e.exports=function(e,r){for(var n,i=[],o=0,a=0;n=t.exec(e);)s(e.slice(o,n.index)),i.push(n[0]),o=n.index+n[0].length,a++;return s(e.slice(o)),i.join("");function s(e){i.push(r(e,a,!e))}};var t=/\r?\n|\r/g},18674:e=>{e.exports=function(e){var t,r;return e._compiled||(t=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(t="[\\r\\n][\\t ]*"+t),e._compiled=RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},26655:(e,t,r)=>{e.exports=r(668)},668:(e,t,r)=>{var n=r(18177),i=r(92778),o=r(81016),a=r(11073),s=r(13061),l=r(4012),u={tokenize:function(e,t,r){return function(t){return e.consume(t),n};function n(t){return 87===t||t-32==87?(e.consume(t),i):r(t)}function i(t){return 87===t||t-32==87?(e.consume(t),o):r(t)}function o(t){return 46===t?(e.consume(t),s):r(t)}function s(e){return null===e||a(e)?r(e):t(e)}},partial:!0},c={tokenize:function(e,t,r){var n,i;return a;function a(t){return 38===t?e.check(f,c,u)(t):46===t||95===t?e.check(d,c,u)(t):o(t)||l(t)||45!==t&&s(t)?c(t):(e.consume(t),a)}function u(t){return 46===t?(i=n,n=void 0):95===t&&(n=!0),e.consume(t),a}function c(e){return i||n?r(e):t(e)}},partial:!0},h={tokenize:function(e,t){var r=0;return n;function n(a){return 38===a?e.check(f,t,i)(a):(40===a&&r++,41===a)?e.check(d,o,i)(a):_(a)?t(a):b(a)?e.check(d,t,i)(a):(e.consume(a),n)}function i(t){return e.consume(t),n}function o(e){return--r<0?t(e):i(e)}},partial:!0},d={tokenize:function(e,t,r){return function(t){return e.consume(t),n};function n(i){return b(i)?(e.consume(i),n):_(i)?t(i):r(i)}},partial:!0},f={tokenize:function(e,t,r){return function(t){return e.consume(t),i};function i(t){return n(t)?(e.consume(t),i):59===t?(e.consume(t),o):r(t)}function o(e){return _(e)?t(e):r(e)}},partial:!0},p={tokenize:function(e,t,r){var n=this;return function(t){return 87!==t&&t-32!=87||!w(n.previous)||E(n.events)?r(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(u,e.attempt(c,e.attempt(h,i),r),r)(t))};function i(r){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(r)}},previous:w},m={tokenize:function(e,t,r){var n=this;return function(t){return 72!==t&&t-32!=72||!S(n.previous)||E(n.events)?r(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(t),i)};function i(t){return 84===t||t-32==84?(e.consume(t),a):r(t)}function a(t){return 84===t||t-32==84?(e.consume(t),u):r(t)}function u(t){return 80===t||t-32==80?(e.consume(t),d):r(t)}function d(t){return 83===t||t-32==83?(e.consume(t),f):f(t)}function f(t){return 58===t?(e.consume(t),p):r(t)}function p(t){return 47===t?(e.consume(t),m):r(t)}function m(t){return 47===t?(e.consume(t),g):r(t)}function g(t){return o(t)||l(t)||s(t)?r(t):e.attempt(c,e.attempt(h,y),r)(t)}function y(r){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(r)}},previous:S},g={tokenize:function(e,t,r){var n,o=this;return function(t){return!x(t)||!T(o.previous)||E(o.events)?r(t):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),function t(n){return x(n)?(e.consume(n),t):64===n?(e.consume(n),a):r(n)}(t))};function a(t){return 46===t?e.check(d,c,s)(t):45===t||95===t?e.check(d,r,l)(t):i(t)?(e.consume(t),a):c(t)}function s(t){return e.consume(t),n=!0,a}function l(t){return e.consume(t),u}function u(t){return 46===t?e.check(d,r,s)(t):a(t)}function c(i){return n?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(i)):r(i)}},previous:T},y={};t.text=y;for(var v=48;v<123;)y[v]=g,58==++v?v=65:91===v&&(v=97);function b(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function _(e){return null===e||e<0||32===e||60===e}function x(e){return 43===e||45===e||46===e||95===e||i(e)}function w(e){return null===e||e<0||32===e||40===e||42===e||95===e||126===e}function S(e){return null===e||!n(e)}function T(e){return 47!==e&&S(e)}function E(e){for(var t=e.length;t--;)if(("labelLink"===e[t][1].type||"labelImage"===e[t][1].type)&&!e[t][1]._balanced)return!0}y[43]=g,y[45]=g,y[46]=g,y[95]=g,y[72]=[g,m],y[104]=[g,m],y[87]=[g,p],y[119]=[g,p]},94537:(e,t,r)=>{e.exports=function(e){var t=(e||{}).singleTilde,r={tokenize:function(e,r,i){var o=this.previous,a=this.events,s=0;return function(l){return 126!==l||126===o&&"characterEscape"!==a[a.length-1][1].type?i(l):(e.enter("strikethroughSequenceTemporary"),function a(l){var u,c,h=n(o);return 126===l?s>1?i(l):(e.consume(l),s++,a):s<2&&!t?i(l):(u=e.exit("strikethroughSequenceTemporary"),c=n(l),u._open=!c||2===c&&h,u._close=!h||2===h&&c,r(l))}(l))}},resolveAll:function(e,t){for(var r,n,s,l,u=-1;++u<e.length;)if("enter"===e[u][0]&&"strikethroughSequenceTemporary"===e[u][1].type&&e[u][1]._close){for(s=u;s--;)if("exit"===e[s][0]&&"strikethroughSequenceTemporary"===e[s][1].type&&e[s][1]._open&&e[u][1].end.offset-e[u][1].start.offset==e[s][1].end.offset-e[s][1].start.offset){e[u][1].type="strikethroughSequence",e[s][1].type="strikethroughSequence",r={type:"strikethrough",start:a(e[s][1].start),end:a(e[u][1].end)},n={type:"strikethroughText",start:a(e[s][1].end),end:a(e[u][1].start)},i(l=[["enter",r,t],["enter",e[s][1],t],["exit",e[s][1],t],["enter",n,t]],l.length,0,o(t.parser.constructs.insideSpan.null,e.slice(s+1,u),t)),i(l,l.length,0,[["exit",n,t],["enter",e[u][1],t],["exit",e[u][1],t],["exit",r,t]]),i(e,s-1,u-s+3,l),u=s+l.length-2;break}}return function(e){for(var t=-1,r=e.length;++t<r;)"strikethroughSequenceTemporary"===e[t][1].type&&(e[t][1].type="data");return e}(e)}};return null==t&&(t=!0),{text:{126:r},insideSpan:{null:r}}};var n=r(68914),i=r(59653),o=r(98773),a=r(64896)},42466:(e,t,r)=>{e.exports=r(5399)},5399:(e,t,r)=>{t.flow={null:{tokenize:function(e,t,r){var a,s,l=[],u=0;return function(t){return null===t||-5===t||-4===t||-3===t?r(t):(e.enter("table")._align=l,e.enter("tableHead"),e.enter("tableRow"),124===t)?c(t):(u++,e.enter("temporaryTableCellContent"),f(t))};function c(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),a=!0,h}function h(t){return null===t||-5===t||-4===t||-3===t?null===t?r(t):(e.exit("tableRow"),e.exit("tableHead"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),e.check(i,r,n(e,m,"linePrefix",4))):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),d):(a&&(a=void 0,u++),124===t)?c(t):(e.enter("temporaryTableCellContent"),f(t))}function d(t){return -2===t||-1===t||32===t?(e.consume(t),d):(e.exit("whitespace"),h(t))}function f(t){return null===t||t<0||32===t||124===t?(e.exit("temporaryTableCellContent"),h(t)):(e.consume(t),92===t?p:f)}function p(t){return 92===t||124===t?(e.consume(t),f):f(t)}function m(t){return null===t||t<0||32===t?r(t):(e.enter("tableDelimiterRow"),g(t))}function g(t){return null===t||-5===t||-4===t||-3===t?x(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),y):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,l.push(null),v):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),l.push("left"),b):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):r(t)}function y(t){return -2===t||-1===t||32===t?(e.consume(t),y):(e.exit("whitespace"),g(t))}function v(t){return 45===t?(e.consume(t),v):(e.exit("tableDelimiterFiller"),58===t)?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),l[l.length-1]="left"===l[l.length-1]?"center":"right",_):g(t)}function b(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,v):r(t)}function _(t){return null===t||-5===t||-4===t||-3===t?x(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),y):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):r(t)}function x(t){return(e.exit("tableDelimiterRow"),s&&u===l.length)?null===t?w(t):e.check(o,w,S)(t):r(t)}function w(r){return e.exit("table"),t(r)}function S(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),n(e,T,"linePrefix",4)}function T(t){return e.enter("tableBody"),E(t)}function E(t){return(e.enter("tableRow"),124===t)?P(t):(e.enter("temporaryTableCellContent"),M(t))}function P(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),C}function C(t){return null===t||-5===t||-4===t||-3===t?(e.exit("tableRow"),null===t)?O(t):e.check(o,O,I)(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),A):124===t?P(t):(e.enter("temporaryTableCellContent"),M(t))}function A(t){return -2===t||-1===t||32===t?(e.consume(t),A):(e.exit("whitespace"),C(t))}function M(t){return null===t||t<0||32===t||124===t?(e.exit("temporaryTableCellContent"),C(t)):(e.consume(t),92===t?k:M)}function k(t){return 92===t||124===t?(e.consume(t),M):M(t)}function O(t){return e.exit("tableBody"),w(t)}function I(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),n(e,E,"linePrefix",4)}},resolve:function(e,t){for(var r,n,i,o,a,s,l,u,c,h,d=e.length,f=-1;++f<d;)r=e[f][1],o&&("temporaryTableCellContent"===r.type&&(u=u||f,c=f),("tableCellDivider"===r.type||"tableRow"===r.type)&&c&&(l={type:"chunkText",start:(s={type:"tableContent",start:e[u][1].start,end:e[c][1].end}).start,end:s.end,contentType:"text"},e.splice(u,c-u+1,["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]),f-=c-u-3,d=e.length,u=void 0,c=void 0)),"exit"===e[f][0]&&h&&h+1<f&&("tableCellDivider"===r.type||"tableRow"===r.type&&(h+3<f||"whitespace"!==e[h][1].type))&&(a={type:i?"tableDelimiter":n?"tableHeader":"tableData",start:e[h][1].start,end:e[f][1].end},e.splice(f+ +("tableCellDivider"===r.type),0,["exit",a,t]),e.splice(h,0,["enter",a,t]),f+=2,d=e.length,h=f+1),"tableRow"===r.type&&(o="enter"===e[f][0])&&(h=f+1),"tableDelimiterRow"===r.type&&(i="enter"===e[f][0])&&(h=f+1),"tableHead"===r.type&&(n="enter"===e[f][0]);return e},interruptible:!0}};var n=r(75524),i={tokenize:function(e,t,r){return function(n){return 45!==n?r(n):(e.enter("setextUnderline"),function n(i){return 45===i?(e.consume(i),n):function n(i){return -2===i||-1===i||32===i?(e.consume(i),n):null===i||-5===i||-4===i||-3===i?t(i):r(i)}(i)}(n))}},partial:!0},o={tokenize:function(e,t,r){var n=0;return function(t){return e.enter("check"),e.consume(t),i};function i(o){return -1===o||32===o?(e.consume(o),4==++n?t:i):null===o||o<0?t(o):r(o)}},partial:!0}},11114:(e,t,r)=>{e.exports=r(76783)},76783:(e,t,r)=>{var n=r(84056),i=r(75524),o=r(19790);function a(e,t,r){var a=this;return i(e,function(e){return o(a.events,"whitespace")&&null!==e&&!n(e)?t(e):r(e)},"whitespace")}t.text={91:{tokenize:function(e,t,r){var n=this;return function(t){return 91===t&&null===n.previous&&n._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):r(t)};function i(t){return -2===t||32===t?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):r(t)}function o(n){return 93===n?(e.enter("taskListCheckMarker"),e.consume(n),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:a},t,r)):r(n)}}}}},19567:(e,t,r)=>{e.exports=r(31948)},31948:(e,t,r)=>{var n=r(23576),i=r(26655),o=r(94537),a=r(42466),s=r(11114);e.exports=function(e){return n([i,o(e),a,s])}},18177:(e,t,r)=>{"use strict";var n=r(59098)(/[A-Za-z]/);e.exports=n},92778:(e,t,r)=>{"use strict";var n=r(59098)(/[\dA-Za-z]/);e.exports=n},9841:(e,t,r)=>{"use strict";var n=r(59098)(/[#-'*+\--9=?A-Z^-~]/);e.exports=n},81016:e=>{"use strict";e.exports=function(e){return e<32||127===e}},21584:(e,t,r)=>{"use strict";var n=r(59098)(/\d/);e.exports=n},18144:(e,t,r)=>{"use strict";var n=r(59098)(/[\dA-Fa-f]/);e.exports=n},36429:(e,t,r)=>{"use strict";var n=r(59098)(/[!-/:-@[-`{-~]/);e.exports=n},84056:e=>{"use strict";e.exports=function(e){return e<0||32===e}},11073:e=>{"use strict";e.exports=function(e){return e<-2}},35009:e=>{"use strict";e.exports=function(e){return -2===e||-1===e||32===e}},13061:(e,t,r)=>{"use strict";var n=r(60028),i=r(59098)(n);e.exports=i},4012:(e,t,r)=>{"use strict";var n=r(59098)(/\s/);e.exports=n},46891:e=>{"use strict";var t=Object.assign;e.exports=t},77325:e=>{"use strict";var t=String.fromCharCode;e.exports=t},52519:e=>{"use strict";e.exports=({}).hasOwnProperty},22486:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},97146:e=>{"use strict";e.exports=["pre","script","style","textarea"]},9086:e=>{"use strict";var t=[].splice;e.exports=t},60028:e=>{"use strict";e.exports=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/},21257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(58359),i=r(56815),o=r(15218),a=r(94213),s=r(46744),l=r(99414),u=r(95610),c=r(46582),h=r(98806),d=r(18032),f=r(68836),p=r(58789),m=r(63085),g=r(2678),y=r(86611),v=r(12302),b=r(47983),_=r(9259),x=r(79177),w=r(40823),S=r(34104),T={null:[i,n.resolver]};t.contentInitial={91:d},t.disable={null:[]},t.document={42:x,43:x,45:x,48:x,49:x,50:x,51:x,52:x,53:x,54:x,55:x,56:x,57:x,62:a},t.flow={35:p,42:S,45:[w,S],60:m,61:w,95:S,96:u,126:u},t.flowInitial={"-2":c,"-1":c,32:c},t.insideSpan=T,t.string={38:l,92:s},t.text={"-5":_,"-4":_,"-3":_,33:v,38:l,42:i,60:[o,g],91:b,92:[f,s],93:y,95:i,96:h}},63287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11073),i=r(75524);t.tokenize=function(e){var t,r=e.attempt(this.parser.constructs.contentInitial,function(t){if(null===t){e.consume(t);return}return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i(e,r,"linePrefix")},function(r){return e.enter("paragraph"),function r(i){var o=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=o),t=o,function t(i){if(null===i){e.exit("chunkText"),e.exit("paragraph"),e.consume(i);return}return n(i)?(e.consume(i),e.exit("chunkText"),r):(e.consume(i),t)}(i)}(r)});return r}},18317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11073),i=r(75524),o=r(77774),a={tokenize:function(e,t,r){return i(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},s={tokenize:function(e,t,r){return i(e,e.lazy(this.parser.constructs.flow,t,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};t.tokenize=function(e){var t,r,i,l=this,u=[],c=0,h={tokenize:function(e,n){var i=0;return t={},c;function c(n){return i<u.length?(l.containerState=u[i][1],e.attempt(u[i][0].continuation,h,d)(n)):r.currentConstruct&&r.currentConstruct.concrete?(t.flowContinue=!0,m(n)):(l.interrupt=r.currentConstruct&&r.currentConstruct.interruptible,l.containerState={},e.attempt(a,p,m)(n))}function h(e){return i++,l.containerState._closeFlow?p(e):c(e)}function d(t){return r.currentConstruct&&r.currentConstruct.lazy?(l.containerState={},e.attempt(a,p,e.attempt(s,p,e.check(o,p,f)))(t)):p(t)}function f(e){return i=u.length,t.lazy=!0,t.flowContinue=!0,m(e)}function p(e){return t.flowEnd=!0,m(e)}function m(e){return t.continued=i,l.interrupt=l.containerState=void 0,n(e)}},partial:!0};return d;function d(t){return c<u.length?(l.containerState=u[c][1],e.attempt(u[c][0].continuation,f,p)(t)):p(t)}function f(e){return c++,d(e)}function p(n){return t&&t.flowContinue?g(n):(l.interrupt=r&&r.currentConstruct&&r.currentConstruct.interruptible,l.containerState={},e.attempt(a,m,g)(n))}function m(e){return u.push([l.currentConstruct,l.containerState]),l.containerState=void 0,p(e)}function g(t){if(null===t){b(0,!0),e.consume(t);return}return r=r||l.parser.flow(l.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),function t(r){return null===r?(v(e.exit("chunkFlow")),g(r)):n(r)?(e.consume(r),v(e.exit("chunkFlow")),e.check(h,y)):(e.consume(r),t)}(t)}function y(e){return b(t.continued,t&&t.flowEnd),c=0,d(e)}function v(e){i&&(i.next=e),i=e,r.lazy=t&&t.lazy,r.defineSkip(e.start),r.write(l.sliceStream(e))}function b(t,n){var o=u.length;for(r&&n&&(r.write([null]),i=r=void 0);o-- >t;)l.containerState=u[o][1],u[o][0].exit.call(l,e);u.length=t}}},15848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(64952),i=r(75524),o=r(77774);t.tokenize=function(e){var t=this,r=e.attempt(o,function(n){if(null===n){e.consume(n);return}return e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r},e.attempt(this.parser.constructs.flowInitial,a,i(e,e.attempt(this.parser.constructs.flow,a,e.attempt(n,a)),"linePrefix")));return r;function a(n){if(null===n){e.consume(n);return}return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),t.currentConstruct=void 0,r}}},58359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(46891),o=r(64896),a=l("text"),s=l("string");function l(e){var t;return{tokenize:function(t){var r=this,n=this.parser.constructs[e],i=t.attempt(n,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null===e){t.consume(e);return}return t.enter("data"),t.consume(e),s}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){var t=n[e],i=-1;if(null===e)return!0;if(t){for(;++i<t.length;)if(!t[i].previous||t[i].previous.call(r,r.previous))return!0}}},resolveAll:(t="text"===e?u:void 0,function(e,r){for(var n,i=-1;++i<=e.length;)void 0===n?e[i]&&"data"===e[i][1].type&&(n=i,i++):e[i]&&"data"===e[i][1].type||(i!==n+2&&(e[n][1].end=e[i-1][1].end,e.splice(n+2,i-n-2),i=n+2),n=void 0);return t?t(e,r):e})}}function u(e,t){for(var r,n,a,s,l,u,c,h,d=-1;++d<=e.length;)if((d===e.length||"lineEnding"===e[d][1].type)&&"data"===e[d-1][1].type){for(n=e[d-1][1],s=(r=t.sliceStream(n)).length,l=-1,u=0,c=void 0;s--;)if("string"==typeof(a=r[s])){for(l=a.length;32===a.charCodeAt(l-1);)u++,l--;if(l)break;l=-1}else if(-2===a)c=!0,u++;else if(-1===a);else{s++;break}u&&(h={type:d===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-u,offset:n.end.offset-u,_index:n.start._index+s,_bufferIndex:s?l:n.start._bufferIndex+l},end:o(n.end)},n.end=o(h.start),n.start.offset===n.end.offset?i(n,h):(e.splice(d,0,["enter",h,t],["exit",h,t]),d+=2)),d++}return e}t.resolver={resolveAll:function(e,t){for(var r,n=-1;++n<=e.length;)void 0===r?e[n]&&"data"===e[n][1].type&&(r=n,n++):e[n]&&"data"===e[n][1].type||(n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),n=r+2),r=void 0);return e}},t.string=s,t.text=a},1296:(e,t,r)=>{"use strict";var n=r(63287),i=r(18317),o=r(15848),a=r(58359),s=r(23576),l=r(8758),u=r(96310),c=r(21257);e.exports=function(e){var t,r,h={defined:[],constructs:s([c].concat(u((e||{}).extensions))),content:function(e){return l(h,n,e)},document:function(e){return l(h,i,e)},flow:function(e){return l(h,o,e)},string:(t=a.string,function(e){return l(h,t,e)}),text:(r=a.text,function(e){return l(h,r,e)})};return h}},67192:(e,t,r)=>{"use strict";var n=r(7227);e.exports=function(e){for(;!n(e););return e}},99061:e=>{"use strict";var t=/[\0\t\n\r]/g;e.exports=function(){var e,r=!0,n=1,i="";return function(o,a,s){var l,u,c,h,d,f=[];for(o=i+o.toString(a),c=0,i="",r&&(65279===o.charCodeAt(0)&&c++,r=void 0);c<o.length;){if(t.lastIndex=c,h=(l=t.exec(o))?l.index:o.length,d=o.charCodeAt(h),!l){i=o.slice(c);break}if(10===d&&c===h&&e)f.push(-3),e=void 0;else if(e&&(f.push(-5),e=void 0),c<h&&(f.push(o.slice(c,h)),n+=h-c),0===d)f.push(65533),n++;else if(9===d)for(u=4*Math.ceil(n/4),f.push(-2);n++<u;)f.push(-1);else 10===d?f.push(-4):e=!0,n=1;c=h+1}return s&&(e&&f.push(-5),i&&f.push(i),f.push(null)),f}}},56815:(e,t,r)=>{"use strict";var n=r(76109),i=r(59653),o=r(68914),a=r(74728),s=r(98773),l=r(64896);e.exports={name:"attention",tokenize:function(e,t){var r,n=o(this.previous);return function(i){return e.enter("attentionSequence"),r=i,function i(a){var s,l,u,c;return a===r?(e.consume(a),i):(s=e.exit("attentionSequence"),u=!(l=o(a))||2===l&&n,c=!n||2===n&&l,s._open=42===r?u:u&&(n||!c),s._close=42===r?c:c&&(l||!u),t(a))}(i)}},resolveAll:function(e,t){for(var r,o,u,c,h,d,f,p,m=-1;++m<e.length;)if("enter"===e[m][0]&&"attentionSequence"===e[m][1].type&&e[m][1]._close){for(r=m;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[m][1]).charCodeAt(0)){if((e[r][1]._close||e[m][1]._open)&&(e[m][1].end.offset-e[m][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[m][1].end.offset-e[m][1].start.offset)%3))continue;c={type:(d=e[r][1].end.offset-e[r][1].start.offset>1&&e[m][1].end.offset-e[m][1].start.offset>1?2:1)>1?"strongSequence":"emphasisSequence",start:a(l(e[r][1].end),-d),end:l(e[r][1].end)},h={type:d>1?"strongSequence":"emphasisSequence",start:l(e[m][1].start),end:a(l(e[m][1].start),d)},u={type:d>1?"strongText":"emphasisText",start:l(e[r][1].end),end:l(e[m][1].start)},o={type:d>1?"strong":"emphasis",start:l(c.start),end:l(h.end)},e[r][1].end=l(c.start),e[m][1].start=l(h.end),f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=n(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=n(f,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",u,t]]),f=n(f,s(t.parser.constructs.insideSpan.null,e.slice(r+1,m),t)),f=n(f,[["exit",u,t],["enter",h,t],["exit",h,t],["exit",o,t]]),e[m][1].end.offset-e[m][1].start.offset?(p=2,f=n(f,[["enter",e[m][1],t],["exit",e[m][1],t]])):p=0,i(e,r-1,m-r+3,f),m=r+f.length-p-2;break}}for(m=-1;++m<e.length;)"attentionSequence"===e[m][1].type&&(e[m][1].type="data");return e}}},15218:(e,t,r)=>{"use strict";var n=r(18177),i=r(92778),o=r(9841),a=r(81016);e.exports={name:"autolink",tokenize:function(e,t,r){var s=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l};function l(t){return n(t)?(e.consume(t),u):o(t)?h(t):r(t)}function u(t){return 43===t||45===t||46===t||i(t)?function t(r){return 58===r?(e.consume(r),c):(43===r||45===r||46===r||i(r))&&s++<32?(e.consume(r),t):h(r)}(t):h(t)}function c(t){return 62===t?(e.exit("autolinkProtocol"),f(t)):32===t||60===t||a(t)?r(t):(e.consume(t),c)}function h(t){return 64===t?(e.consume(t),s=0,d):o(t)?(e.consume(t),h):r(t)}function d(t){return i(t)?function t(n){return 46===n?(e.consume(n),s=0,d):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",f(n)):function n(o){return(45===o||i(o))&&s++<63?(e.consume(o),45===o?n:t):r(o)}(n)}(t):r(t)}function f(r){return e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t}}}},94213:(e,t,r)=>{"use strict";var n=r(35009),i=r(75524),o={name:"blockQuote",tokenize:function(e,t,r){var i=this;return function(t){return 62===t?(i.containerState.open||(e.enter("blockQuote",{_container:!0}),i.containerState.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o):r(t)};function o(r){return n(r)?(e.enter("blockQuotePrefixWhitespace"),e.consume(r),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(r))}},continuation:{tokenize:function(e,t,r){return i(e,e.attempt(o,t,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(e){e.exit("blockQuote")}};e.exports=o},46744:(e,t,r)=>{"use strict";var n=r(36429);e.exports={name:"characterEscape",tokenize:function(e,t,r){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return n(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}}},99414:(e,t,r)=>{"use strict";var n=r(4360),i=r(92778),o=r(21584),a=r(18144),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n);e.exports={name:"characterReference",tokenize:function(e,t,r){var n,l,u=this,c=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),h};function h(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),n=31,l=i,f(t))}function d(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),n=6,l=a,f):(e.enter("characterReferenceValue"),n=7,l=o,f(t))}function f(o){var a;return 59===o&&c?(a=e.exit("characterReferenceValue"),l!==i||s.default(u.sliceSerialize(a)))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):r(o):l(o)&&c++<n?(e.consume(o),f):r(o)}}}},95610:(e,t,r)=>{"use strict";var n=r(11073),i=r(84056),o=r(19790),a=r(75524);e.exports={name:"codeFenced",tokenize:function(e,t,r){var s,l=this,u={tokenize:function(e,t,r){var i=0;return a(e,function(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(n){return n===s?(e.consume(n),i++,t):i<h?r(n):(e.exit("codeFencedFenceSequence"),a(e,o,"whitespace")(n))}(t)},"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function o(i){return null===i||n(i)?(e.exit("codeFencedFence"),t(i)):r(i)}},partial:!0},c=o(this.events,"linePrefix"),h=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),s=t,function t(n){return n===s?(e.consume(n),h++,t):(e.exit("codeFencedFenceSequence"),h<3?r(n):a(e,d,"whitespace")(n))}(t)};function d(t){return null===t||n(t)?p(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(n){return null===n||i(n)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),a(e,f,"whitespace")(n)):96===n&&n===s?r(n):(e.consume(n),t)}(t))}function f(t){return null===t||n(t)?p(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||n(i)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(i)):96===i&&i===s?r(i):(e.consume(i),t)}(t))}function p(r){return e.exit("codeFencedFence"),l.interrupt?t(r):function t(r){return null===r?m(r):n(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(u,m,c?a(e,t,"linePrefix",c+1):t)):(e.enter("codeFlowValue"),function r(i){return null===i||n(i)?(e.exit("codeFlowValue"),t(i)):(e.consume(i),r)}(r))}(r)}function m(r){return e.exit("codeFenced"),t(r)}},concrete:!0}},46582:(e,t,r)=>{"use strict";var n=r(11073),i=r(59653),o=r(19790),a=r(75524),s={tokenize:function(e,t,r){var i=this;return a(e,function s(l){return n(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a(e,s,"linePrefix",5)):4>o(i.events,"linePrefix")?r(l):t(l)},"linePrefix",5)},partial:!0};e.exports={name:"codeIndented",tokenize:function(e,t,r){return e.attempt(s,function r(i){return null===i?t(i):n(i)?e.attempt(s,r,t)(i):(e.enter("codeFlowValue"),function t(i){return null===i||n(i)?(e.exit("codeFlowValue"),r(i)):(e.consume(i),t)}(i))},r)},resolve:function(e,t){var r={type:"codeIndented",start:e[0][1].start,end:e[e.length-1][1].end};return i(e,0,0,[["enter",r,t]]),i(e,e.length,0,[["exit",r,t]]),e}}},98806:(e,t,r)=>{"use strict";var n=r(11073);e.exports={name:"codeText",tokenize:function(e,t,r){var i,o,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(r){return 96===r?(e.consume(r),a++,t):(e.exit("codeTextSequence"),s(r))}(t)};function s(u){return null===u?r(u):96===u?(o=e.enter("codeTextSequence"),i=0,function r(n){return 96===n?(e.consume(n),i++,r):i===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}(u)):32===u?(e.enter("space"),e.consume(u),e.exit("space"),s):n(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(t){return null===t||32===t||96===t||n(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}},resolve:function(e){var t,r,n=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[n][1].type||"space"===e[n][1].type)){for(t=i;++t<n;)if("codeTextData"===e[t][1].type){e[n][1].type=e[i][1].type="codeTextPadding",i+=2,n-=2;break}}for(t=i-1,n++;++t<=n;)void 0===r?t!==n&&"lineEnding"!==e[t][1].type&&(r=t):(t===n||"lineEnding"===e[t][1].type)&&(e[r][1].type="codeTextData",t!==r+2&&(e[r][1].end=e[t-1][1].end,e.splice(r+2,t-r-2),n-=t-r-2,t=r+2),r=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}}},64952:(e,t,r)=>{"use strict";var n=r(11073),i=r(19790),o=r(7227),a=r(75524),s={tokenize:function(e,t,r){var o=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a(e,s,"linePrefix")};function s(a){return null===a||n(a)?r(a):o.parser.constructs.disable.null.indexOf("codeIndented")>-1||4>i(o.events,"linePrefix")?e.interrupt(o.parser.constructs.flow,r,t)(a):t(a)}},partial:!0};e.exports={tokenize:function(e,t){var r;return function(t){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?o(t):n(t)?e.check(s,a,o)(t):(e.consume(t),i)}function o(r){return e.exit("chunkContent"),e.exit("content"),t(r)}function a(t){return e.consume(t),e.exit("chunkContent"),r=r.next=e.enter("chunkContent",{contentType:"content",previous:r}),i}},resolve:function(e){return o(e),e},interruptible:!0,lazy:!0}},18032:(e,t,r)=>{"use strict";var n=r(11073),i=r(84056),o=r(1303),a=r(99658),s=r(28488),l=r(75524),u=r(99565),c=r(97816),h={tokenize:function(e,t,r){return function(t){return i(t)?u(e,o)(t):r(t)};function o(t){return 34===t||39===t||40===t?c(e,l(e,a,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):r(t)}function a(e){return null===e||n(e)?t(e):r(e)}},partial:!0};e.exports={name:"definition",tokenize:function(e,t,r){var i,c=this;return function(t){return e.enter("definition"),s.call(c,e,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function d(t){return(i=o(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)),58===t)?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),u(e,a(e,e.attempt(h,l(e,f,"whitespace"),l(e,f,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(t)}function f(o){return null===o||n(o)?(e.exit("definition"),0>c.parser.defined.indexOf(i)&&c.parser.defined.push(i),t(o)):r(o)}}}},99658:(e,t,r)=>{"use strict";var n=r(81016),i=r(84056),o=r(11073);e.exports=function(e,t,r,a,s,l,u,c,h){var d=h||1/0,f=0;return function(t){return 60===t?(e.enter(a),e.enter(s),e.enter(l),e.consume(t),e.exit(l),p):n(t)||41===t?r(t):(e.enter(a),e.enter(u),e.enter(c),e.enter("chunkString",{contentType:"string"}),y(t))};function p(r){return 62===r?(e.enter(l),e.consume(r),e.exit(l),e.exit(s),e.exit(a),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),m(r))}function m(t){return 62===t?(e.exit("chunkString"),e.exit(c),p(t)):null===t||60===t||o(t)?r(t):(e.consume(t),92===t?g:m)}function g(t){return 60===t||62===t||92===t?(e.consume(t),m):m(t)}function y(o){return 40===o?++f>d?r(o):(e.consume(o),y):41===o?f--?(e.consume(o),y):(e.exit("chunkString"),e.exit(c),e.exit(u),e.exit(a),t(o)):null===o||i(o)?f?r(o):(e.exit("chunkString"),e.exit(c),e.exit(u),e.exit(a),t(o)):n(o)?r(o):(e.consume(o),92===o?v:y)}function v(t){return 40===t||41===t||92===t?(e.consume(t),y):y(t)}}},28488:(e,t,r)=>{"use strict";var n=r(11073),i=r(35009);e.exports=function(e,t,r,o,a,s){var l,u=this,c=0;return function(t){return e.enter(o),e.enter(a),e.consume(t),e.exit(a),e.enter(s),h};function h(i){return null===i||91===i||93===i&&!l||94===i&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs||c>999?r(i):93===i?(e.exit(s),e.enter(a),e.consume(i),e.exit(a),e.exit(o),t):n(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),d(i))}function d(t){return null===t||91===t||93===t||n(t)||c++>999?(e.exit("chunkString"),h(t)):(e.consume(t),l=l||!i(t),92===t?f:d)}function f(t){return 91===t||92===t||93===t?(e.consume(t),c++,d):d(t)}}},75524:(e,t,r)=>{"use strict";var n=r(35009);e.exports=function(e,t,r,i){var o=i?i-1:1/0,a=0;return function(i){return n(i)?(e.enter(r),function i(s){return n(s)&&a++<o?(e.consume(s),i):(e.exit(r),t(s))}(i)):t(i)}}},97816:(e,t,r)=>{"use strict";var n=r(11073),i=r(75524);e.exports=function(e,t,r,o,a,s){var l;return function(t){return e.enter(o),e.enter(a),e.consume(t),e.exit(a),l=40===t?41:t,u};function u(r){return r===l?(e.enter(a),e.consume(r),e.exit(a),e.exit(o),t):(e.enter(s),c(r))}function c(t){return t===l?(e.exit(s),u(l)):null===t?r(t):n(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return t===l||null===t||n(t)?(e.exit("chunkString"),c(t)):(e.consume(t),92===t?d:h)}function d(t){return t===l||92===t?(e.consume(t),h):h(t)}}},99565:(e,t,r)=>{"use strict";var n=r(11073),i=r(35009),o=r(75524);e.exports=function(e,t){var r;return function a(s){return n(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,a):i(s)?o(e,a,r?"linePrefix":"lineSuffix")(s):t(s)}}},68836:(e,t,r)=>{"use strict";var n=r(11073);e.exports={name:"hardBreakEscape",tokenize:function(e,t,r){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),i};function i(i){return n(i)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(i)):r(i)}}}},58789:(e,t,r)=>{"use strict";var n=r(11073),i=r(84056),o=r(35009),a=r(59653),s=r(75524);e.exports={name:"headingAtx",tokenize:function(e,t,r){var a=this,l=0;return function(u){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),function u(c){return 35===c&&l++<6?(e.consume(c),u):null===c||i(c)?(e.exit("atxHeadingSequence"),a.interrupt?t(c):function r(a){return 35===a?(e.enter("atxHeadingSequence"),function t(n){return 35===n?(e.consume(n),t):(e.exit("atxHeadingSequence"),r(n))}(a)):null===a||n(a)?(e.exit("atxHeading"),t(a)):o(a)?s(e,r,"whitespace")(a):(e.enter("atxHeadingText"),function t(n){return null===n||35===n||i(n)?(e.exit("atxHeadingText"),r(n)):(e.consume(n),t)}(a))}(c)):r(c)}(u)}},resolve:function(e,t){var r,n,i=e.length-2,o=3;return"whitespace"===e[3][1].type&&(o+=2),i-2>o&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4),i>o&&(r={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},n={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},a(e,o,i-o+1,[["enter",r,t],["enter",n,t],["exit",n,t],["exit",r,t]])),e}}},63085:(e,t,r)=>{"use strict";var n=r(18177),i=r(92778),o=r(11073),a=r(84056),s=r(35009),l=r(77325),u=r(22486),c=r(97146),h=r(77774),d={tokenize:function(e,t,r){return function(n){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),e.attempt(h,t,r)}},partial:!0};e.exports={name:"htmlFlow",tokenize:function(e,t,r){var h,f,p,m,g,y=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),v};function v(i){return 33===i?(e.consume(i),b):47===i?(e.consume(i),w):63===i?(e.consume(i),h=3,y.interrupt?t:F):n(i)?(e.consume(i),p=l(i),f=!0,S):r(i)}function b(i){return 45===i?(e.consume(i),h=2,_):91===i?(e.consume(i),h=5,p="CDATA[",m=0,x):n(i)?(e.consume(i),h=4,y.interrupt?t:F):r(i)}function _(n){return 45===n?(e.consume(n),y.interrupt?t:F):r(n)}function x(n){return n===p.charCodeAt(m++)?(e.consume(n),m===p.length?y.interrupt?t:R:x):r(n)}function w(t){return n(t)?(e.consume(t),p=l(t),S):r(t)}function S(n){return null===n||47===n||62===n||a(n)?47!==n&&f&&c.indexOf(p.toLowerCase())>-1?(h=1,y.interrupt?t(n):R(n)):u.indexOf(p.toLowerCase())>-1?(h=6,47===n)?(e.consume(n),T):y.interrupt?t(n):R(n):(h=7,y.interrupt?r(n):f?E(n):function t(r){return s(r)?(e.consume(r),t):O(r)}(n)):45===n||i(n)?(e.consume(n),p+=l(n),S):r(n)}function T(n){return 62===n?(e.consume(n),y.interrupt?t:R):r(n)}function E(t){return 47===t?(e.consume(t),O):58===t||95===t||n(t)?(e.consume(t),P):s(t)?(e.consume(t),E):O(t)}function P(t){return 45===t||46===t||58===t||95===t||i(t)?(e.consume(t),P):C(t)}function C(t){return 61===t?(e.consume(t),A):s(t)?(e.consume(t),C):E(t)}function A(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),g=t,M):s(t)?(e.consume(t),A):(g=void 0,function t(r){return null===r||34===r||39===r||60===r||61===r||62===r||96===r||a(r)?C(r):(e.consume(r),t)}(t))}function M(t){return t===g?(e.consume(t),k):null===t||o(t)?r(t):(e.consume(t),M)}function k(e){return 47===e||62===e||s(e)?E(e):r(e)}function O(t){return 62===t?(e.consume(t),I):r(t)}function I(t){return s(t)?(e.consume(t),I):null===t||o(t)?R(t):r(t)}function R(t){return 45===t&&2===h?(e.consume(t),L):60===t&&1===h?(e.consume(t),j):62===t&&4===h?(e.consume(t),N):63===t&&3===h?(e.consume(t),F):93===t&&5===h?(e.consume(t),B):o(t)&&(6===h||7===h)?e.check(d,N,D)(t):null===t||o(t)?D(t):(e.consume(t),R)}function D(t){return e.exit("htmlFlowData"),function t(r){return null===r?V(r):o(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t):(e.enter("htmlFlowData"),R(r))}(t)}function L(t){return 45===t?(e.consume(t),F):R(t)}function j(t){return 47===t?(e.consume(t),p="",z):R(t)}function z(t){return 62===t&&c.indexOf(p.toLowerCase())>-1?(e.consume(t),N):n(t)&&p.length<8?(e.consume(t),p+=l(t),z):R(t)}function B(t){return 93===t?(e.consume(t),F):R(t)}function F(t){return 62===t?(e.consume(t),N):R(t)}function N(t){return null===t||o(t)?(e.exit("htmlFlowData"),V(t)):(e.consume(t),N)}function V(r){return e.exit("htmlFlow"),t(r)}},resolveTo:function(e){for(var t=e.length;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0}},2678:(e,t,r)=>{"use strict";var n=r(18177),i=r(92778),o=r(11073),a=r(84056),s=r(35009),l=r(75524);e.exports={name:"htmlText",tokenize:function(e,t,r){var u,c,h,d,f=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),p};function p(t){return 33===t?(e.consume(t),m):47===t?(e.consume(t),A):63===t?(e.consume(t),P):n(t)?(e.consume(t),k):r(t)}function m(t){return 45===t?(e.consume(t),g):91===t?(e.consume(t),c="CDATA[",h=0,x):n(t)?(e.consume(t),E):r(t)}function g(t){return 45===t?(e.consume(t),y):r(t)}function y(t){return null===t||62===t?r(t):45===t?(e.consume(t),v):b(t)}function v(e){return null===e||62===e?r(e):b(e)}function b(t){return null===t?r(t):45===t?(e.consume(t),_):o(t)?(d=b,z(t)):(e.consume(t),b)}function _(t){return 45===t?(e.consume(t),F):b(t)}function x(t){return t===c.charCodeAt(h++)?(e.consume(t),h===c.length?w:x):r(t)}function w(t){return null===t?r(t):93===t?(e.consume(t),S):o(t)?(d=w,z(t)):(e.consume(t),w)}function S(t){return 93===t?(e.consume(t),T):w(t)}function T(t){return 62===t?F(t):93===t?(e.consume(t),T):w(t)}function E(t){return null===t||62===t?F(t):o(t)?(d=E,z(t)):(e.consume(t),E)}function P(t){return null===t?r(t):63===t?(e.consume(t),C):o(t)?(d=P,z(t)):(e.consume(t),P)}function C(e){return 62===e?F(e):P(e)}function A(t){return n(t)?(e.consume(t),M):r(t)}function M(t){return 45===t||i(t)?(e.consume(t),M):function t(r){return o(r)?(d=t,z(r)):s(r)?(e.consume(r),t):F(r)}(t)}function k(t){return 45===t||i(t)?(e.consume(t),k):47===t||62===t||a(t)?O(t):r(t)}function O(t){return 47===t?(e.consume(t),F):58===t||95===t||n(t)?(e.consume(t),I):o(t)?(d=O,z(t)):s(t)?(e.consume(t),O):F(t)}function I(t){return 45===t||46===t||58===t||95===t||i(t)?(e.consume(t),I):function t(r){return 61===r?(e.consume(r),R):o(r)?(d=t,z(r)):s(r)?(e.consume(r),t):O(r)}(t)}function R(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),u=t,D):o(t)?(d=R,z(t)):s(t)?(e.consume(t),R):(e.consume(t),u=void 0,j)}function D(t){return t===u?(e.consume(t),L):null===t?r(t):o(t)?(d=D,z(t)):(e.consume(t),D)}function L(e){return 62===e||47===e||a(e)?O(e):r(e)}function j(t){return null===t||34===t||39===t||60===t||61===t||96===t?r(t):62===t||a(t)?O(t):(e.consume(t),j)}function z(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l(e,B,"linePrefix",f.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function B(t){return e.enter("htmlTextData"),d(t)}function F(n){return 62===n?(e.consume(n),e.exit("htmlTextData"),e.exit("htmlText"),t):r(n)}}}},86611:(e,t,r)=>{"use strict";var n=r(84056),i=r(76109),o=r(59653),a=r(1303),s=r(98773),l=r(64896),u=r(99658),c=r(28488),h=r(97816),d=r(99565),f={tokenize:function(e,t,r){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),d(e,i)};function i(t){return 41===t?s(t):u(e,o,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function o(t){return n(t)?d(e,a)(t):s(t)}function a(t){return 34===t||39===t||40===t?h(e,d(e,s),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):s(t)}function s(n){return 41===n?(e.enter("resourceMarker"),e.consume(n),e.exit("resourceMarker"),e.exit("resource"),t):r(n)}}},p={tokenize:function(e,t,r){var n=this;return function(t){return c.call(n,e,i,r,"reference","referenceMarker","referenceString")(t)};function i(e){return 0>n.parser.defined.indexOf(a(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?r(e):t(e)}}},m={tokenize:function(e,t,r){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),n};function n(n){return 93===n?(e.enter("referenceMarker"),e.consume(n),e.exit("referenceMarker"),e.exit("reference"),t):r(n)}}};e.exports={name:"labelEnd",tokenize:function(e,t,r){for(var n,i,o=this,s=o.events.length;s--;)if(("labelImage"===o.events[s][1].type||"labelLink"===o.events[s][1].type)&&!o.events[s][1]._balanced){n=o.events[s][1];break}return function(t){return n?n._inactive?u(t):(i=o.parser.defined.indexOf(a(o.sliceSerialize({start:n.end,end:o.now()})))>-1,e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l):r(t)};function l(r){return 40===r?e.attempt(f,t,i?t:u)(r):91===r?e.attempt(p,t,i?e.attempt(m,t,u):u)(r):i?t(r):u(r)}function u(e){return n._balanced=!0,r(e)}},resolveTo:function(e,t){for(var r,n,a,u,c,h,d,f=e.length,p=0;f--;)if(u=e[f][1],c){if("link"===u.type||"labelLink"===u.type&&u._inactive)break;"enter"===e[f][0]&&"labelLink"===u.type&&(u._inactive=!0)}else if(h){if("enter"===e[f][0]&&("labelImage"===u.type||"labelLink"===u.type)&&!u._balanced&&(c=f,"labelLink"!==u.type)){p=2;break}}else"labelEnd"===u.type&&(h=f);return r={type:"labelLink"===e[c][1].type?"link":"image",start:l(e[c][1].start),end:l(e[e.length-1][1].end)},n={type:"label",start:l(e[c][1].start),end:l(e[h][1].end)},a={type:"labelText",start:l(e[c+p+2][1].end),end:l(e[h-2][1].start)},d=i(d=[["enter",r,t],["enter",n,t]],e.slice(c+1,c+p+3)),d=i(d,[["enter",a,t]]),d=i(d,s(t.parser.constructs.insideSpan.null,e.slice(c+p+4,h-3),t)),d=i(d,[["exit",a,t],e[h-2],e[h-1],["exit",n,t]]),d=i(d,e.slice(h+1)),d=i(d,[["exit",r,t]]),o(e,c,e.length,d),e},resolveAll:function(e){for(var t,r=-1;++r<e.length;)!(t=e[r][1])._used&&("labelImage"===t.type||"labelLink"===t.type||"labelEnd"===t.type)&&(e.splice(r+1,"labelImage"===t.type?4:2),t.type="data",r++);return e}}},12302:(e,t,r)=>{"use strict";var n={name:"labelStartImage",tokenize:function(e,t,r){var n=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):r(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}},resolveAll:r(86611).resolveAll};e.exports=n},47983:(e,t,r)=>{"use strict";var n={name:"labelStartLink",tokenize:function(e,t,r){var n=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}},resolveAll:r(86611).resolveAll};e.exports=n},9259:(e,t,r)=>{"use strict";var n=r(75524);e.exports={name:"lineEnding",tokenize:function(e,t){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n(e,t,"linePrefix")}}}},79177:(e,t,r)=>{"use strict";var n=r(21584),i=r(35009),o=r(19790),a=r(14474),s=r(75524),l=r(77774),u=r(34104),c={name:"list",tokenize:function(e,t,r){var s=this,c=o(s.events,"linePrefix"),d=0;return function(t){var i=s.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!s.containerState.marker||t===s.containerState.marker:n(t)){if(s.containerState.type||(s.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(u,r,f)(t):f(t);if(!s.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return n(i)&&++d<10?(e.consume(i),t):(!s.interrupt||d<2)&&(s.containerState.marker?i===s.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),f(i)):r(i)}(t)}return r(t)};function f(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||t,e.check(l,s.interrupt?r:p,e.attempt(h,g,m))}function p(e){return s.containerState.initialBlankLine=!0,c++,g(e)}function m(t){return i(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),g):r(t)}function g(r){return s.containerState.size=c+a(s.sliceStream(e.exit("listItemPrefix"))),t(r)}},continuation:{tokenize:function(e,t,r){var n=this;return n.containerState._closeFlow=void 0,e.check(l,function(r){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,s(e,t,"listItemIndent",n.containerState.size+1)(r)},function(r){return n.containerState.furtherBlankLines||!i(r)?(n.containerState.furtherBlankLines=n.containerState.initialBlankLine=void 0,o(r)):(n.containerState.furtherBlankLines=n.containerState.initialBlankLine=void 0,e.attempt(d,t,o)(r))});function o(i){return n.containerState._closeFlow=!0,n.interrupt=void 0,s(e,e.attempt(c,t,r),"linePrefix",n.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},h={tokenize:function(e,t,r){var n=this;return s(e,function(e){return i(e)||!o(n.events,"listItemPrefixWhitespace")?r(e):t(e)},"listItemPrefixWhitespace",n.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},d={tokenize:function(e,t,r){var n=this;return s(e,function(e){return o(n.events,"listItemIndent")===n.containerState.size?t(e):r(e)},"listItemIndent",n.containerState.size+1)},partial:!0};e.exports=c},77774:(e,t,r)=>{"use strict";var n=r(11073),i=r(75524);e.exports={tokenize:function(e,t,r){return i(e,function(e){return null===e||n(e)?t(e):r(e)},"linePrefix")},partial:!0}},40823:(e,t,r)=>{"use strict";var n=r(11073),i=r(64896),o=r(75524);e.exports={name:"setextUnderline",tokenize:function(e,t,r){for(var i,a,s=this,l=s.events.length;l--;)if("lineEnding"!==s.events[l][1].type&&"linePrefix"!==s.events[l][1].type&&"content"!==s.events[l][1].type){a="paragraph"===s.events[l][1].type;break}return function(t){return!s.lazy&&(s.interrupt||a)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),i=t,function t(r){return r===i?(e.consume(r),t):(e.exit("setextHeadingLineSequence"),o(e,u,"lineSuffix")(r))}(t)):r(t)};function u(i){return null===i||n(i)?(e.exit("setextHeadingLine"),t(i)):r(i)}},resolveTo:function(e,t){for(var r,n,o,a,s=e.length;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){r=s;break}"paragraph"===e[s][1].type&&(n=s)}else"content"===e[s][1].type&&e.splice(s,1),o||"definition"!==e[s][1].type||(o=s);return a={type:"setextHeading",start:i(e[n][1].start),end:i(e[e.length-1][1].end)},e[n][1].type="setextHeadingText",o?(e.splice(n,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=i(e[o][1].end)):e[r][1]=a,e.push(["exit",a,t]),e}}},34104:(e,t,r)=>{"use strict";var n=r(11073),i=r(35009),o=r(75524);e.exports={name:"thematicBreak",tokenize:function(e,t,r){var a,s=0;return function(l){return e.enter("thematicBreak"),a=l,function l(u){return u===a?(e.enter("thematicBreakSequence"),function t(r){return r===a?(e.consume(r),s++,t):(e.exit("thematicBreakSequence"),l(r))}(u)):i(u)?o(e,l,"whitespace")(u):s<3||null!==u&&!n(u)?r(u):(e.exit("thematicBreak"),t(u))}(l)}}}},76109:(e,t,r)=>{"use strict";var n=r(59653);e.exports=function(e,t){return e.length?(n(e,e.length,0,t),e):t}},59653:(e,t,r)=>{"use strict";var n=r(9086);e.exports=function(e,t,r,i){var o,a=e.length,s=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,r=r>0?r:0,i.length<1e4)(o=Array.from(i)).unshift(t,r),n.apply(e,o);else for(r&&n.apply(e,[t,r]);s<i.length;)(o=i.slice(s,s+1e4)).unshift(t,0),n.apply(e,o),s+=1e4,t+=1e4}},68914:(e,t,r)=>{"use strict";var n=r(84056),i=r(13061),o=r(4012);e.exports=function(e){return null===e||n(e)||o(e)?1:i(e)?2:void 0}},23576:(e,t,r)=>{"use strict";var n=r(52519),i=r(59653),o=r(96310);e.exports=function(e){for(var t={},r=-1;++r<e.length;)!function(e,t){var r,a,s,l;for(r in t)for(l in a=n.call(e,r)?e[r]:e[r]={},s=t[r])a[l]=function(e,t){for(var r=-1,n=[];++r<e.length;)("after"===e[r].add?t:n).push(e[r]);return i(t,0,0,n),t}(o(s[l]),n.call(a,l)?a[l]:[])}(t,e[r]);return t}},8758:(e,t,r)=>{"use strict";var n=r(46891),i=r(11073),o=r(76109),a=r(59653),s=r(96310),l=r(98773),u=r(31129),c=r(64896),h=r(12321);e.exports=function(e,t,r){var d,f,p,m,g,y,v,b,_=r?c(r):{line:1,column:1,offset:0},x={},w=[],S=[],T=[],E={consume:function(e){i(e)?(_.line++,_.column=1,_.offset+=-3===e?2:1,R()):-1!==e&&(_.column++,_.offset++),_._bufferIndex<0?_._index++:(_._bufferIndex++,_._bufferIndex===S[_._index].length&&(_._bufferIndex=-1,_._index++)),P.previous=e},enter:function(e,t){var r=t||{};return r.type=e,r.start=M(),P.events.push(["enter",r,P]),T.push(r),r},exit:function(e){var t=T.pop();return t.end=M(),P.events.push(["exit",t,P]),t},attempt:(d=function(e,t){O(e,t.from)},function(e,t,r){var i,o,a,l;return e.tokenize||"length"in e?u(s(e)):function(t){return t in e||null in e?u(e.null?s(e[t]).concat(s(e.null)):e[t])(t):r(t)};function u(e){var t;return i=e,t=e[o=0],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(f?n({},P,f):P,E,c,h)(e)}}function c(e){return d(a,l),t}function h(e){if(l.restore(),++o<i.length){var t;return t=i[o],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(P,E,c,h)(e)}}return r}}),check:(p=k,function(e,t,r){var i,o,a,l;return e.tokenize||"length"in e?u(s(e)):function(t){return t in e||null in e?u(e.null?s(e[t]).concat(s(e.null)):e[t])(t):r(t)};function u(e){var t;return i=e,t=e[o=0],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(m?n({},P,m):P,E,c,h)(e)}}function c(e){return p(a,l),t}function h(e){if(l.restore(),++o<i.length){var t;return t=i[o],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(P,E,c,h)(e)}}return r}}),interrupt:(g=k,y={interrupt:!0},function(e,t,r){var i,o,a,l;return e.tokenize||"length"in e?u(s(e)):function(t){return t in e||null in e?u(e.null?s(e[t]).concat(s(e.null)):e[t])(t):r(t)};function u(e){var t;return i=e,t=e[o=0],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(y?n({},P,y):P,E,c,h)(e)}}function c(e){return g(a,l),t}function h(e){if(l.restore(),++o<i.length){var t;return t=i[o],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(y?n({},P,y):P,E,c,h)(e)}}return r}}),lazy:(v=k,b={lazy:!0},function(e,t,r){var i,o,a,l;return e.tokenize||"length"in e?u(s(e)):function(t){return t in e||null in e?u(e.null?s(e[t]).concat(s(e.null)):e[t])(t):r(t)};function u(e){var t;return i=e,t=e[o=0],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(b?n({},P,b):P,E,c,h)(e)}}function c(e){return v(a,l),t}function h(e){if(l.restore(),++o<i.length){var t;return t=i[o],function(e){return(l=I(),a=t,t.partial||(P.currentConstruct=t),t.name&&P.parser.constructs.disable.null.indexOf(t.name)>-1)?h():t.tokenize.call(b?n({},P,b):P,E,c,h)(e)}}return r}})},P={previous:null,events:[],parser:e,sliceStream:A,sliceSerialize:function(e){return u(A(e))},now:M,defineSkip:function(e){x[e.line]=e.column,R()},write:function(e){return(S=o(S,e),function(){for(var e,t,r;_._index<S.length;)if("string"==typeof(t=S[_._index]))for(e=_._index,_._bufferIndex<0&&(_._bufferIndex=0);_._index===e&&_._bufferIndex<t.length;){r=t.charCodeAt(_._bufferIndex),C=C(r)}else C=C(t)}(),null!==S[S.length-1])?[]:(O(t,0),P.events=l(w,P.events,P),P.events)}},C=t.tokenize.call(P,E);return t.resolveAll&&w.push(t),_._index=0,_._bufferIndex=-1,P;function A(e){return h(S,e)}function M(){return c(_)}function k(e,t){t.restore()}function O(e,t){e.resolveAll&&0>w.indexOf(e)&&w.push(e),e.resolve&&a(P.events,t,P.events.length-t,e.resolve(P.events.slice(t),P)),e.resolveTo&&(P.events=e.resolveTo(P.events,P))}function I(){var e=M(),t=P.previous,r=P.currentConstruct,n=P.events.length,i=Array.from(T);return{restore:function(){_=e,P.previous=t,P.currentConstruct=r,P.events.length=n,T=i,R()},from:n}}function R(){_.line in x&&_.column<2&&(_.column=x[_.line],_.offset+=x[_.line]-1)}}},96310:e=>{"use strict";e.exports=function(e){return null==e?[]:"length"in e?e:[e]}},74728:e=>{"use strict";e.exports=function(e,t){return e.column+=t,e.offset+=t,e._bufferIndex+=t,e}},1303:e=>{"use strict";e.exports=function(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}},19790:(e,t,r)=>{"use strict";var n=r(14474);e.exports=function(e,t){var r=e[e.length-1];return r&&r[1].type===t?n(r[2].sliceStream(r[1])):0}},59098:(e,t,r)=>{"use strict";var n=r(77325);e.exports=function(e){return function(t){return e.test(n(t))}}},98773:e=>{"use strict";e.exports=function(e,t,r){for(var n,i=[],o=-1;++o<e.length;)(n=e[o].resolveAll)&&0>i.indexOf(n)&&(t=n(t,r),i.push(n));return t}},50440:(e,t,r)=>{"use strict";var n=r(77325);e.exports=function(e,t){var r=parseInt(e,t);return r<9||11===r||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(65535&r)==65535||(65535&r)==65534||r>1114111?"":n(r)}},31129:(e,t,r)=>{"use strict";var n=r(77325);e.exports=function(e){for(var t,r,i,o=-1,a=[];++o<e.length;){if("string"==typeof(t=e[o]))r=t;else if(-5===t)r="\r";else if(-4===t)r="\n";else if(-3===t)r="\r\n";else if(-2===t)r="	";else if(-1===t){if(i)continue;r=" "}else r=n(t);i=-2===t,a.push(r)}return a.join("")}},64896:(e,t,r)=>{"use strict";var n=r(46891);e.exports=function(e){return n({},e)}},14474:e=>{"use strict";e.exports=function(e){for(var t=-1,r=0;++t<e.length;)r+="string"==typeof e[t]?e[t].length:1;return r}},12321:e=>{"use strict";e.exports=function(e,t){var r,n=t.start._index,i=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;return n===o?r=[e[n].slice(i,a)]:(r=e.slice(n,o),i>-1&&(r[0]=r[0].slice(i)),a>0&&r.push(e[o].slice(0,a))),r}},7227:(e,t,r)=>{"use strict";var n=r(46891),i=r(59653),o=r(64896);e.exports=function(e){for(var t,r,a,s,l,u,c,h={},d=-1;++d<e.length;){for(;d in h;)d=h[d];if(t=e[d],d&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[d-1][1].type&&((a=0)<(u=t[1]._tokenizer.events).length&&"lineEndingBlank"===u[a][1].type&&(a+=2),a<u.length&&"content"===u[a][1].type))for(;++a<u.length&&"content"!==u[a][1].type;)"chunkText"===u[a][1].type&&(u[a][1].isInFirstContentOfListItem=!0,a++);if("enter"===t[0])t[1].contentType&&(n(h,function(e,t){for(var r,n,o,a,s,l,u=e[t][1],c=e[t][2],h=t-1,d=[],f=u._tokenizer||c.parser[u.contentType](u.start),p=f.events,m=[],g={};u;){for(;e[++h][1]!==u;);d.push(h),!u._tokenizer&&(r=c.sliceStream(u),u.next||r.push(null),n&&f.defineSkip(u.start),u.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(r),u.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),n=u,u=u.next}for(u=n,o=p.length;o--;)"enter"===p[o][0]?a=!0:a&&p[o][1].type===p[o-1][1].type&&p[o][1].start.line!==p[o][1].end.line&&(y(p.slice(o+1,s)),u._tokenizer=u.next=void 0,u=u.previous,s=o+1);for(f.events=u._tokenizer=u.next=void 0,y(p.slice(0,s)),o=-1,l=0;++o<m.length;)g[l+m[o][0]]=l+m[o][1],l+=m[o][1]-m[o][0]-1;return g;function y(t){var r=d.pop();m.unshift([r,r+t.length-1]),i(e,r,2,t)}}(e,d)),d=h[d],c=!0);else if(t[1]._container||t[1]._movePreviousLineEndings){for(a=d,r=void 0;a--;)if("lineEnding"===(s=e[a])[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(r&&(e[r][1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else break;r&&(t[1].end=o(e[r][1].start),(l=e.slice(r,d)).unshift(t),i(e,r,d-r+1,l))}}return!c}},38134:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(96540),i=r(25540),o=r(5556),a=r.n(o),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:{};let l=n.createContext||function(e,t){var r,o,l,u="__create-react-context-"+(s[r="__global_unique_id__"]=(s[r]||0)+1)+"__",c=function(e){function r(){var t,r,n;return t=e.apply(this,arguments)||this,t.emitter=(r=t.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter(function(t){return t!==e})},get:function(){return r},set:function(e,t){r=e,n.forEach(function(e){return e(r,t)})}}),t}(0,i.A)(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;(n===i?0!==n||1/n==1/i:n!=n&&i!=i)?r=0:0!=(r=("function"==typeof t?t(n,i):0x3fffffff)|0)&&this.emitter.set(e.value,r)}},n.render=function(){return this.props.children},r}(n.Component);c.childContextTypes=((o={})[u]=a().object.isRequired,o);var h=function(t){function r(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,r){((0|e.observedBits)&r)!=0&&e.setState({value:e.getValue()})},e}(0,i.A)(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?0x3fffffff:t},n.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?0x3fffffff:e},n.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},n.getValue=function(){return this.context[u]?this.context[u].get():e},n.render=function(){var e;return(Array.isArray(e=this.props.children)?e[0]:e)(this.state.value)},r}(n.Component);return h.contextTypes=((l={})[u]=a().object,l),{Provider:c,Consumer:h}}},41179:(e,t,r)=>{!function(e,t){e(function(){"use strict";var e={};e.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},e.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var r,n=Object.prototype.hasOwnProperty;function i(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function o(e,t){var r,n,i=e.length;if(!i||!t)return!1;for(n=0,r=t.toLowerCase();n<i;++n)if(r===e[n].toLowerCase())return!0;return!1}function a(e){for(var t in e)n.call(e,t)&&(e[t]=RegExp(e[t],"i"))}function s(e,t){this.ua=(e||"").substr(0,500),this._cache={},this.maxPhoneWidth=t||600}return e.FALLBACK_PHONE="UnknownPhone",e.FALLBACK_TABLET="UnknownTablet",e.FALLBACK_MOBILE="UnknownMobile",r="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},!function(){var t,i,o,s,l,u,c=e.mobileDetectRules;for(t in c.props)if(n.call(c.props,t)){for(r(i=c.props[t])||(i=[i]),l=i.length,s=0;s<l;++s)(u=(o=i[s]).indexOf("[VER]"))>=0&&(o=o.substring(0,u)+"([\\w._\\+]+)"+o.substring(u+5)),i[s]=RegExp(o,"i");c.props[t]=i}a(c.oss),a(c.phones),a(c.tablets),a(c.uas),a(c.utils),c.oss0={WindowsPhoneOS:c.oss.WindowsPhoneOS,WindowsMobileOS:c.oss.WindowsMobileOS}}(),e.findMatch=function(e,t){for(var r in e)if(n.call(e,r)&&e[r].test(t))return r;return null},e.findMatches=function(e,t){var r=[];for(var i in e)n.call(e,i)&&e[i].test(t)&&r.push(i);return r},e.getVersionStr=function(t,r){var i,o,a,s,l=e.mobileDetectRules.props;if(n.call(l,t)){for(o=0,a=(i=l[t]).length;o<a;++o)if(null!==(s=i[o].exec(r)))return s[1]}return null},e.getVersion=function(t,r){var n=e.getVersionStr(t,r);return n?e.prepareVersionNo(n):NaN},e.prepareVersionNo=function(e){var t;return 1===(t=e.split(/[a-z._ \/\-]/i)).length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},e.isMobileFallback=function(t){return e.detectMobileBrowsers.fullPattern.test(t)||e.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},e.isTabletFallback=function(t){return e.detectMobileBrowsers.tabletPattern.test(t)},e.prepareDetectionCache=function(t,r,n){var i,o,a;if(void 0===t.mobile){if(o=e.findMatch(e.mobileDetectRules.tablets,r)){t.mobile=t.tablet=o,t.phone=null;return}if(i=e.findMatch(e.mobileDetectRules.phones,r)){t.mobile=t.phone=i,t.tablet=null;return}e.isMobileFallback(r)?void 0===(a=s.isPhoneSized(n))?(t.mobile=e.FALLBACK_MOBILE,t.tablet=t.phone=null):a?(t.mobile=t.phone=e.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=e.FALLBACK_TABLET,t.phone=null):e.isTabletFallback(r)?(t.mobile=t.tablet=e.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null}},e.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&4.3>e.version("iPad")||e.os("iOS")&&3.1>e.version("iPhone")||e.os("iOS")&&3.1>e.version("iPod")||e.is("Blackberry")&&e.version("BlackBerry")>=5&&6>e.version("BlackBerry")||e.version("Opera Mini")>=5&&6.5>=e.version("Opera Mini")&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(5>e.version("BlackBerry")||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},e.detectOS=function(t){return e.findMatch(e.mobileDetectRules.oss0,t)||e.findMatch(e.mobileDetectRules.oss,t)},e.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=e.findMatch(e.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=e.findMatches(e.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=e.detectOS(this.ua)),this._cache.os},version:function(t){return e.getVersion(t,this.ua)},versionStr:function(t){return e.getVersionStr(t,this.ua)},is:function(t){return o(this.userAgents(),t)||i(t,this.os())||i(t,this.phone())||i(t,this.tablet())||o(e.findMatches(e.mobileDetectRules.utils,this.ua),t)},match:function(e){return e instanceof RegExp||(e=RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return s.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=e.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?s.isPhoneSized=function(r){return r<0?t:e.getDeviceSmallerSide()<=r}:s.isPhoneSized=function(){},s._impl=e,s.version="1.4.4 2019-09-21",s})}(e.exports?function(t){e.exports=t()}:r.amdD)},45228:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,i){for(var o,a,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))r.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var c=0;c<a.length;c++)n.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}:Object.assign},58859:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,x=String.prototype.toLowerCase,w=RegExp.prototype.test,S=Array.prototype.concat,T=Array.prototype.join,E=Array.prototype.slice,P=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k?"object":"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-P(-e):P(e);if(n!==e){var i=String(n),o=v.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var L=r(42634),j=L.custom,z=H(j)?j:null,B={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function N(e,t,r){var n=B[r.quoteStyle||t];return n+e+n}function V(e){return!O||!("object"==typeof e&&(O in e||void 0!==e[O]))}function U(e){return"[object Array]"===W(e)&&V(e)}function G(e){return"[object RegExp]"===W(e)&&V(e)}function H(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!M)return!1;try{return M.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,s){var l=n||{};if($(l,"quoteStyle")&&!$(B,l.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if($(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!$(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(v.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}var i=F[r.quoteStyle||"single"];return i.lastIndex=0,N(b.call(b.call(t,i,"\\$1"),/[\x00-\x1f]/g,Z),"single",r)}(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return _?D(t,w):w}if("bigint"==typeof t){var P=String(t)+"n";return _?D(t,P):P}var A=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=A&&A>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var j=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=T.call(Array(e.indent+1)," ")}return{base:r,prev:T.call(Array(t+1),r)}}(l,i);if(void 0===s)s=[];else if(X(s,t)>=0)return"[Circular]";function q(t,r,n){if(r&&(s=E.call(s)).push(r),n){var o={depth:l.depth};return $(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof t&&!G(t)){var et=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),er=ee(t,q);return"[Function"+(et?": "+et:" (anonymous)")+"]"+(er.length>0?" { "+T.call(er,", ")+" }":"")}if(H(t)){var en=k?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(t);return"object"!=typeof t||k?en:K(en)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var ei,eo="<"+x.call(String(t.nodeName)),ea=t.attributes||[],es=0;es<ea.length;es++)eo+=" "+ea[es].name+"="+N((ei=ea[es].value,b.call(String(ei),/"/g,"&quot;")),"double",l);return eo+=">",t.childNodes&&t.childNodes.length&&(eo+="..."),eo+="</"+x.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var el=ee(t,q);return j&&!function(e){for(var t=0;t<e.length;t++)if(X(e[t],"\n")>=0)return!1;return!0}(el)?"["+J(el,j)+"]":"[ "+T.call(el,", ")+" ]"}if("[object Error]"===W(t)&&V(t)){var eu=ee(t,q);return"cause"in Error.prototype||!("cause"in t)||I.call(t,"cause")?0===eu.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(eu,", ")+" }":"{ ["+String(t)+"] "+T.call(S.call("[cause]: "+q(t.cause),eu),", ")+" }"}if("object"==typeof t&&m){if(z&&"function"==typeof t[z]&&L)return L(t,{depth:A-i});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ec=[];return a&&a.call(t,function(e,r){ec.push(q(r,t,!0)+" => "+q(e,t))}),Q("Map",o.call(t),ec,j)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var eh=[];return c&&c.call(t,function(e){eh.push(q(e,t))}),Q("Set",u.call(t),eh,j)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if("[object Number]"===W(t)&&V(t))return K(q(Number(t)));if(function(e){if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}(t))return K(q(C.call(t)));if("[object Boolean]"===W(t)&&V(t))return K(p.call(t));if("[object String]"===W(t)&&V(t))return K(q(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!("[object Date]"===W(t)&&V(t))&&!G(t)){var ed=ee(t,q),ef=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,ep=t instanceof Object?"":"null prototype",em=!ef&&O&&Object(t)===t&&O in t?v.call(W(t),8,-1):ep?"Object":"",eg=(ef||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(em||ep?"["+T.call(S.call([],em||[],ep||[]),": ")+"] ":"");return 0===ed.length?eg+"{}":j?eg+"{"+J(ed,j)+"}":eg+"{ "+T.call(ed,", ")+" }"}return String(t)};var q=Object.prototype.hasOwnProperty||function(e){return e in this};function $(e,t){return q.call(e,t)}function W(e){return m.call(e)}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function Z(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function K(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function Q(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):T.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+T.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r,n=U(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=$(e,o)?t(e[o],e):""}var a="function"==typeof A?A(e):[];if(k){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var l in e)$(e,l)&&(!n||String(Number(l))!==l||!(l<e.length))&&(k&&r["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof A)for(var u=0;u<a.length;u++)I.call(e,a[u])&&i.push("["+t(a[u])+"]: "+t(e[a[u]],e));return i}},71794:function(e,t){var r,n,i;i=function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(!e||n(e)&&0===e.length)return!0;if("string"!=typeof e){for(var r in e)if(t(e,r))return!1;return!0}return!1}var n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){var t=parseInt(e);return t.toString()===e?t:e}function o(o){var a,s,l=function(e){return Object.keys(l).reduce(function(t,r){return"create"===r||"function"==typeof l[r]&&(t[r]=l[r].bind(l,e)),t},{})};function u(e,t){if(a(e,t))return e[t]}function c(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(i),r,n);var o=t[0],a=s(e,o);return 1===t.length?(void 0!==a&&n||(e[o]=r),a):(void 0===a&&("number"==typeof t[1]?e[o]=[]:e[o]={}),c(e[o],t.slice(1),r,n))}return a=(o=o||{}).includeInheritedProps?function(){return!0}:function(e,r){return"number"==typeof r&&Array.isArray(e)||t(e,r)},s=o.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var r=u(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof r)throw Error("For security reasons, object's magic properties cannot be set");return r}:function(e,t){return u(e,t)},l.has=function(e,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!e;for(var a=0;a<r.length;a++){var s=i(r[a]);if(!("number"==typeof s&&n(e)&&s<e.length||(o.includeInheritedProps?s in Object(e):t(e,s))))return!1;e=e[s]}return!0},l.ensureExists=function(e,t,r){return c(e,t,r,!0)},l.set=function(e,t,r,n){return c(e,t,r,n)},l.insert=function(e,t,r,i){var o=l.get(e,t);i=~~i,n(o)||(o=[],l.set(e,t,o)),o.splice(i,0,r)},l.empty=function(t,i){var o,s,u,c;if(!r(i)&&null!=t&&(o=l.get(t,i))){if("string"==typeof o)return l.set(t,i,"");if("boolean"==typeof(u=o)||"[object Boolean]"===e.call(u))return l.set(t,i,!1);if("number"==typeof o)return l.set(t,i,0);if(n(o))o.length=0;else{if("object"!=typeof(c=o)||"[object Object]"!==e.call(c))return l.set(t,i,null);for(s in o)a(o,s)&&delete o[s]}}},l.push=function(e,t){var r=l.get(e,t);n(r)||(r=[],l.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},l.coalesce=function(e,t,r){for(var n,i=0,o=t.length;i<o;i++)if(void 0!==(n=l.get(e,t[i])))return n;return r},l.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return l.get(e,t.split("."),r);var n=i(t[0]),o=s(e,n);return void 0===o?r:1===t.length?o:l.get(e[n],t.slice(1),r)},l.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e||r(t))return e;if("string"==typeof t)return l.del(e,t.split("."));var o=i(t[0]);return(s(e,o),a(e,o))?1!==t.length?l.del(e[o],t.slice(1)):(n(e)?e.splice(o,1):delete e[o],e):e},l}var a=o();return a.create=o,a.withInheritedProps=o({includeInheritedProps:!0}),a},"object"==typeof e.exports?e.exports=i():(r=[],void 0===(n=i.apply(t,r))||(e.exports=n))},4360:e=>{"use strict";var t;e.exports=function(e){var r,n="&"+e+";";return(t=t||document.createElement("i")).innerHTML=n,(59!==(r=t.textContent).charCodeAt(r.length-1)||"semi"===e)&&r!==n&&r}},13491:function(e,t,r){var n=r(65606);(function(){var t,r,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=n&&n.hrtime?(e.exports=function(){return(t()-o)/1e6},r=n.hrtime,o=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})()-1e9*n.uptime()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return new Date().getTime()-i},i=new Date().getTime())}).call(this)},65606:e=>{var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],u=!1,c=-1;function h(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},2694:(e,t,r)=>{"use strict";var n=r(6925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},5556:(e,t,r)=>{e.exports=r(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9655:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global===o||o.window===o||o.self;var a,s=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function f(e){throw RangeError(c[e])}function p(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+p((e=e.replace(u,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function y(e){return p(e,function(e){var t="";return e>65535&&(e-=65536,t+=d(e>>>10&1023|55296),e=56320|1023&e),t+=d(e)}).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))}function _(e){var t,r,n,i,o,a,s,l,u,c,d,p=[],m=e.length,g=0,v=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&f("not-basic"),p.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<m;){for(a=g,s=1,l=36;o>=m&&f("invalid-input"),((u=(t=e.charCodeAt(o++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||u>h((0x7fffffff-g)/s))&&f("overflow"),g+=u*s,!(u<(c=l<=_?1:l>=_+26?26:l-_));l+=36)s>h(0x7fffffff/(d=36-c))&&f("overflow"),s*=d;_=b(g-a,r=p.length+1,0==a),h(g/r)>0x7fffffff-v&&f("overflow"),v+=h(g/r),g%=r,p.splice(g++,0,v)}return y(p)}function x(e){var t,r,n,i,o,a,s,l,u,c,p,m,y,_,x,w=[];for(a=0,m=(e=g(e)).length,t=128,r=0,o=72;a<m;++a)(p=e[a])<128&&w.push(d(p));for(n=i=w.length,i&&w.push("-");n<m;){for(s=0x7fffffff,a=0;a<m;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>h((0x7fffffff-r)/(y=n+1))&&f("overflow"),r+=(s-t)*y,t=s,a=0;a<m;++a)if((p=e[a])<t&&++r>0x7fffffff&&f("overflow"),p==t){for(l=r,u=36;!(l<(c=u<=o?1:u>=o+26?26:u-o));u+=36)x=l-c,_=36-c,w.push(d(v(c+x%_,0))),l=h(x/_);w.push(d(v(l,0))),o=b(r,y,n==i),r=0,++n}++r,++t}return w.join("")}a={version:"1.3.2",ucs2:{decode:g,encode:y},decode:_,encode:x,toASCII:function(e){return m(e,function(e){return l.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return m(e,function(e){return s.test(e)?_(e.slice(4).toLowerCase()):e})}},void 0!==(n=(function(){return a}).call(t,r,t,e))&&(e.exports=n)}(0)},73529:(e,t,r)=>{"use strict";r.d(t,{Yw:()=>k,gi:()=>J});var n=r(96540);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=d(e);return r=t?Reflect.construct(n,arguments,d(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,r)}}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return e(t={exports:{}},t.exports),t.exports}function _(){}function x(){}function w(e){return e.map(function(e){return!1===e?null:e}).join(" ").replace(/\s+/g," ").trim()}function S(e){return"".concat(e,"%")}function T(e,t,r){if(e===t)return!0;var n=U[V(e)],i=U[V(t)];return!(!n||n!==i)&&n(e,t,r)}function E(e){return function(t,r,n){if(!n)return e(t,r,[]);for(var i,o=n.length;i=n[--o];)if(i[0]===t&&i[1]===r)return!0;return e(t,r,n)}}function P(e){var t=[];for(var r in e)"constructor"!==r&&t.push(r);return t}function C(e,t){return!1!==t.clone&&t.isMergeableObject(e)?M(Array.isArray(e)?[]:{},e,t):e}function A(e,t,r){return e.concat(t).map(function(e){return C(e,r)})}function M(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||A,r.isMergeableObject=r.isMergeableObject||H;var n,i,o=Array.isArray(t);return o===Array.isArray(e)?o?r.arrayMerge(e,t,r):(i={},(n=r).isMergeableObject(e)&&Object.keys(e).forEach(function(t){i[t]=C(e[t],n)}),Object.keys(t).forEach(function(r){n.isMergeableObject(t[r])&&e[r]?i[r]=M(e[r],t[r],n):i[r]=C(t[r],n)}),i):C(t,r)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}},r=function(r){function i(e,r){var n;return a(this,i),(n=s.call(this,e,r)).state=t(o({},r.state)),n.updateStateProps=n.updateStateProps.bind(m(n)),n}h(i,r);var s=g(i);return l(i,[{key:"componentDidMount",value:function(){this.context.subscribe(this.updateStateProps)}},{key:"shouldComponentUpdate",value:function(e,t){return!G(t,this.state)||!G(e,this.props)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.updateStateProps)}},{key:"updateStateProps",value:function(){this.setState(t(o({},this.context.state)))}},{key:"render",value:function(){var t=this,r=W(this.state,this.props);return n.createElement(e,c({ref:function(e){t.instance=e}},r,{carouselStore:{getStoreState:this.context.getStoreState,masterSpinnerError:this.context.masterSpinnerError,masterSpinnerSuccess:this.context.masterSpinnerSuccess,setStoreState:this.context.setStoreState,subscribeMasterSpinner:this.context.subscribeMasterSpinner,unsubscribeAllMasterSpinner:this.context.unsubscribeAllMasterSpinner,unsubscribeMasterSpinner:this.context.unsubscribeMasterSpinner}}),this.props.children)}}]),i}(n.Component);return u(r,"contextType",X),u(r,"propTypes",{children:j.children}),u(r,"defaultProps",{children:null}),r}x.resetWarningCache=_;var O=function(){function e(e,t,r,n,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:x,resetWarningCache:_};return r.PropTypes=r,r},I=b(function(e){e.exports=O()}),R="loading",D="success",L="error",j={children:I.oneOfType([I.arrayOf(I.node),I.node]),direction:I.oneOf(["forward","backward"]),height:function(e,t){var r=e[t];return"vertical"!==e.orientation||null!==r&&"number"==typeof r?null:Error("Missing required property '".concat(t,"' when orientation is vertical.  You must supply a number representing the height in pixels"))},orientation:I.oneOf(["horizontal","vertical"]),isBgImage:function(e,t){return!0===e[t]&&"img"===e.tag?Error("HTML img elements should not have a backgroundImage.  Please use ".concat(t," for other block-level HTML tags, like div, a, section, etc...")):null}},z=function(e){var t=e.min;return Math.min(e.max,Math.max(t,e.x))},B={buttonBack:"buttonBack___1mlaL"},F=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],N=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).handleOnClick=n.handleOnClick.bind(m(n)),n}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props,r=t.carouselStore,n=t.currentSlide,i=t.onClick,o=t.step,a=t.infinite,s=t.visibleSlides,l=t.totalSlides-s,u=Math.max(n-o,0);a&&(u=0===n?l:u),r.setStoreState({currentSlide:u,isPlaying:!1},null!==i&&i.call(this,e))}},{key:"render",value:function(){var e=this.props,r=(e.carouselStore,e.className),i=(e.currentSlide,e.disabled,e.onClick,e.step,e.totalSlides,e.visibleSlides,e.infinite),o=p(e,F),a=w([B.buttonBack,"carousel__back-button",r]),s=t.setDisabled(this.props.disabled,this.props.currentSlide,i);return n.createElement("button",c({type:"button","aria-label":"previous",className:a,onClick:this.handleOnClick,disabled:s},o),this.props.children)}}],[{key:"setDisabled",value:function(e,t,r){return null!==e?e:0===t&&!r}}]),t}(n.Component);u(N,"propTypes",{carouselStore:I.object.isRequired,children:j.children.isRequired,className:I.string,currentSlide:I.number.isRequired,disabled:I.bool,onClick:I.func,step:I.number.isRequired,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired,infinite:I.bool}),u(N,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1});var V=b(function(e,t){var r={}.toString,n="undefined"!=typeof window?window.Node:Function;e.exports=t=function(e){var t=typeof e;if("object"!=t)return t;if("object"==(t=i[r.call(e)]))return e instanceof Map?"map":e instanceof Set?"set":"object";if(t)return t;if(e instanceof n)switch(e.nodeType){case 1:return"element";case 3:return"text-node";case 9:return"document";case 11:return"document-fragment";default:return"dom-node"}};var i=t.types={"[object Function]":"function","[object Date]":"date","[object RegExp]":"regexp","[object Arguments]":"arguments","[object Array]":"array","[object Set]":"set","[object String]":"string","[object Null]":"null","[object Undefined]":"undefined","[object Number]":"number","[object Boolean]":"boolean","[object Object]":"object","[object Map]":"map","[object Text]":"text-node","[object Uint8Array]":"bit-array","[object Uint16Array]":"bit-array","[object Uint32Array]":"bit-array","[object Uint8ClampedArray]":"bit-array","[object Error]":"error","[object FormData]":"form-data","[object File]":"file","[object Blob]":"blob"}}),U=(V.types,{});U.number=function(e,t){return e!=e&&t!=t},U.function=function(e,t,r){return e.toString()===t.toString()&&U.object(e,t,r)&&T(e.prototype,t.prototype)},U.date=function(e,t){return+e==+t},U.regexp=function(e,t){return e.toString()===t.toString()},U.element=function(e,t){return e.outerHTML===t.outerHTML},U.textnode=function(e,t){return e.textContent===t.textContent},U.arguments=U["bit-array"]=U.array=E(function(e,t,r){var n=e.length;if(n!==t.length)return!1;for(r.push([e,t]);n--;)if(!T(e[n],t[n],r))return!1;return!0}),U.object=E(function(e,t,r){if("function"==typeof e.equal)return r.push([e,t]),e.equal(t,r);var n=P(e),i=P(t),o=n.length;if(o!==i.length)return!1;for(n.sort(),i.sort();o--;)if(n[o]!==i[o])return!1;for(r.push([e,t]),o=n.length;o--;){var a=n[o];if(!T(e[a],t[a],r))return!1}return!0});var G=T,H=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==q},q="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;M.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return M(e,r,t)},{})};var $,W=M,X=n.createContext(),Z=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){!t.hasOwnProperty(r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||Object.isFrozen(t[r])||e(t[r])}),t},K={masterSpinnerFinished:!1},Y=function(){function e(t){a(this,e),this.state=Z(W(K,t)),this.subscriptions=[],this.masterSpinnerSubscriptions={},this.setStoreState=this.setStoreState.bind(this),this.getStoreState=this.getStoreState.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.updateSubscribers=this.updateSubscribers.bind(this),this.subscribeMasterSpinner=this.subscribeMasterSpinner.bind(this),this.unsubscribeMasterSpinner=this.unsubscribeMasterSpinner.bind(this),this.unsubscribeAllMasterSpinner=this.unsubscribeAllMasterSpinner.bind(this),this.masterSpinnerSuccess=this.masterSpinnerSuccess.bind(this),this.masterSpinnerError=this.masterSpinnerError.bind(this)}return l(e,[{key:"setStoreState",value:function(e,t){this.state=Z(W(this.state,e)),this.updateSubscribers(t)}},{key:"getStoreState",value:function(){return W({},this.state)}},{key:"subscribe",value:function(e){this.subscriptions.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscriptions.indexOf(e);-1!==t&&this.subscriptions.splice(t,1)}},{key:"updateSubscribers",value:function(e){this.subscriptions.forEach(function(e){return e()}),"function"==typeof e&&e(this.getStoreState())}},{key:"subscribeMasterSpinner",value:function(e){-1===Object.keys(this.masterSpinnerSubscriptions).indexOf(e)&&(this.masterSpinnerSubscriptions[e]={success:!1,error:!1,complete:!1})}},{key:"unsubscribeMasterSpinner",value:function(e){return -1!==Object.keys(this.masterSpinnerSubscriptions).indexOf(e)&&(this.setMasterSpinnerFinished(),delete this.masterSpinnerSubscriptions[e])}},{key:"unsubscribeAllMasterSpinner",value:function(){this.masterSpinnerSubscriptions={},this.setMasterSpinnerFinished()}},{key:"masterSpinnerSuccess",value:function(e){this.masterSpinnerSubscriptions[e].success=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"masterSpinnerError",value:function(e){this.masterSpinnerSubscriptions[e].error=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"setMasterSpinnerFinished",value:function(){this.setStoreState({masterSpinnerFinished:this.isMasterSpinnerFinished()})}},{key:"isMasterSpinnerFinished",value:function(){var e=this;return 0===Object.keys(this.masterSpinnerSubscriptions).filter(function(t){return!0!==e.masterSpinnerSubscriptions[t].complete}).length}}]),e}(),Q=["children","className","currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","naturalSlideHeight","naturalSlideWidth","orientation","playDirection","step","dragStep","tag","totalSlides","touchEnabled","dragEnabled","visibleSlides","infinite","isIntrinsicHeight"],J=(u($=function(e){function t(e){if(a(this,t),i=r.call(this,e),e.isIntrinsicHeight&&"horizontal"!==e.orientation)throw Error('isIntrinsicHeight can only be used in "horizontal" orientation. See Readme for more information.');var n,i,o={currentSlide:e.currentSlide,disableAnimation:e.disableAnimation,disableKeyboard:e.disableKeyboard,hasMasterSpinner:e.hasMasterSpinner,imageErrorCount:0,imageSuccessCount:0,interval:e.interval,isPageScrollLocked:e.isPageScrollLocked,isPlaying:e.isPlaying,lockOnWindowScroll:e.lockOnWindowScroll,masterSpinnerThreshold:0,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,playDirection:e.playDirection,privateUnDisableAnimation:!1,slideSize:100/e.totalSlides*(n=e.visibleSlides)/n,slideTraySize:100*e.totalSlides/e.visibleSlides,step:e.step,dragStep:e.dragStep,totalSlides:e.totalSlides,touchEnabled:e.touchEnabled,dragEnabled:e.dragEnabled,visibleSlides:e.visibleSlides,infinite:e.infinite,isIntrinsicHeight:e.isIntrinsicHeight};return i.carouselStore=new Y(o),i}h(t,e);var r=g(t);return l(t,[{key:"componentDidUpdate",value:function(e){var t,r=this,n={};["currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPlaying","naturalSlideHeight","naturalSlideWidth","lockOnWindowScroll","orientation","playDirection","step","dragStep","totalSlides","touchEnabled","dragEnabled","visibleSlides"].forEach(function(t){e[t]!==r.props[t]&&(n[t]=r.props[t])}),this.props.currentSlide===e.currentSlide||this.props.disableAnimation||(n.disableAnimation=!0,n.privateUnDisableAnimation=!0),this.props.totalSlides===e.totalSlides&&this.props.visibleSlides===e.visibleSlides||(n.slideSize=100/this.props.totalSlides*(t=this.props.visibleSlides)/t,n.slideTraySize=100*this.props.totalSlides/this.props.visibleSlides),this.carouselStore.state.currentSlide>=this.props.totalSlides&&(n.currentSlide=Math.max(this.props.totalSlides-1,0)),Object.keys(n).length>0&&this.carouselStore.setStoreState(n)}},{key:"componentWillUnmount",value:function(){this.carouselStore.unsubscribeAllMasterSpinner()}},{key:"getStore",value:function(){return this.carouselStore}},{key:"render",value:function(){var e=this.props,t=(e.children,e.className,e.currentSlide,e.disableAnimation,e.disableKeyboard,e.hasMasterSpinner,e.interval,e.isPageScrollLocked,e.isPlaying,e.lockOnWindowScroll,e.naturalSlideHeight,e.naturalSlideWidth,e.orientation,e.playDirection,e.step,e.dragStep,e.tag),r=(e.totalSlides,e.touchEnabled,e.dragEnabled,e.visibleSlides,e.infinite,e.isIntrinsicHeight,p(e,Q)),i=w(["carousel",this.props.className]);return n.createElement(t,c({className:i},r),n.createElement(X.Provider,{value:this.carouselStore},this.props.children))}}]),t}(n.Component),"propTypes",{children:j.children.isRequired,className:I.string,currentSlide:I.number,disableAnimation:I.bool,disableKeyboard:I.bool,hasMasterSpinner:I.bool,interval:I.number,isPageScrollLocked:I.bool,isPlaying:I.bool,lockOnWindowScroll:I.bool,naturalSlideHeight:I.number.isRequired,naturalSlideWidth:I.number.isRequired,orientation:j.orientation,playDirection:j.direction,step:I.number,dragStep:I.number,tag:I.string,totalSlides:I.number.isRequired,touchEnabled:I.bool,dragEnabled:I.bool,visibleSlides:I.number,infinite:I.bool,isIntrinsicHeight:I.bool}),u($,"defaultProps",{className:null,currentSlide:0,disableAnimation:!1,disableKeyboard:!1,hasMasterSpinner:!1,interval:5e3,isPageScrollLocked:!1,isPlaying:!1,lockOnWindowScroll:!1,orientation:"horizontal",playDirection:"forward",step:1,dragStep:1,tag:"div",touchEnabled:!0,dragEnabled:!0,visibleSlides:1,infinite:!1,isIntrinsicHeight:!1}),$);X.Consumer,k(N,function(e){return{currentSlide:e.currentSlide,step:e.step,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,infinite:e.infinite}});var ee,et,er,en,ei,eo,ea={buttonFirst:"buttonFirst___2rhFr"},es=["carouselStore","className","currentSlide","disabled","onClick","totalSlides"],el=(k((u(ee=function(e){function t(){var e;return a(this,t),(e=r.call(this)).handleOnClick=e.handleOnClick.bind(m(e)),e}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props,r=t.carouselStore,n=t.onClick;r.setStoreState({currentSlide:0,isPlaying:!1},null!==n&&n.call(this,e))}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.className),r=e.currentSlide,i=e.disabled,o=(e.onClick,e.totalSlides,p(e,es)),a=w([ea.buttonFirst,"carousel__first-button",t]);return n.createElement("button",c({type:"button","aria-label":"first",className:a,onClick:this.handleOnClick,disabled:null!==i?i:0===r},o),this.props.children)}}]),t}(n.Component),"propTypes",{carouselStore:I.object.isRequired,children:j.children.isRequired,className:I.string,currentSlide:I.number.isRequired,disabled:I.bool,onClick:I.func,totalSlides:I.number.isRequired}),u(ee,"defaultProps",{className:null,disabled:null,onClick:null}),ee),function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides}}),{buttonNext:"buttonNext___2mOCa"}),eu=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],ec=(k((u(et=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).handleOnClick=n.handleOnClick.bind(m(n)),n}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props,r=t.currentSlide,n=t.onClick,i=t.step,o=t.carouselStore,a=t.infinite,s=t.totalSlides-t.visibleSlides,l=Math.min(i+r,s);a&&(l=s===r?0:l),o.setStoreState({currentSlide:l,isPlaying:!1},null!==n&&n.call(this,e))}},{key:"render",value:function(){var e=this.props,r=(e.carouselStore,e.className),i=e.currentSlide,o=e.disabled,a=(e.onClick,e.step,e.totalSlides),s=e.visibleSlides,l=e.infinite,u=p(e,eu),h=w([el.buttonNext,"carousel__next-button",r]),d=t.setDisabled(o,i,s,a,l);return n.createElement("button",c({type:"button","aria-label":"next",className:h,onClick:this.handleOnClick,disabled:d},u),this.props.children)}}],[{key:"setDisabled",value:function(e,t,r,n,i){return null!==e?e:t>=n-r&&!i}}]),t}(n.PureComponent),"propTypes",{carouselStore:I.object.isRequired,children:j.children.isRequired,className:I.string,currentSlide:I.number.isRequired,disabled:I.bool,onClick:I.func,step:I.number.isRequired,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired,infinite:I.bool}),u(et,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1}),et),function(e){return{currentSlide:e.currentSlide,step:e.step,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,infinite:e.infinite}}),{buttonLast:"buttonLast___2yuh0"}),eh=["carouselStore","className","currentSlide","disabled","onClick","totalSlides","visibleSlides"],ed=(k((u(er=function(e){function t(){var e;return a(this,t),(e=r.call(this)).handleOnClick=e.handleOnClick.bind(m(e)),e}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props,r=t.carouselStore,n=t.onClick,i=t.totalSlides,o=t.visibleSlides;r.setStoreState({currentSlide:i-o,isPlaying:!1},null!==n&&n.call(this,e))}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.className),r=e.currentSlide,i=e.disabled,o=(e.onClick,e.totalSlides),a=e.visibleSlides,s=p(e,eh),l=w([ec.buttonLast,"carousel__last-button",t]);return n.createElement("button",c({type:"button","aria-label":"last",className:l,onClick:this.handleOnClick,disabled:null!==i?i:r>=o-a},s),this.props.children)}}]),t}(n.Component),"propTypes",{carouselStore:I.object.isRequired,children:j.children.isRequired,className:I.string,currentSlide:I.number.isRequired,disabled:I.bool,onClick:I.func,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired}),u(er,"defaultProps",{className:null,disabled:null,onClick:null}),er),function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}}),{buttonNext:"buttonNext___3Lm3s"}),ef=["carouselStore","children","childrenPaused","childrenPlaying","className","isPlaying","onClick"],ep=(k((u(en=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).handleOnClick=n.handleOnClick.bind(m(n)),n}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props.onClick;this.props.carouselStore.setStoreState({isPlaying:!this.props.isPlaying},null!==t&&t.call(this,e))}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.children,e.childrenPaused),r=e.childrenPlaying,i=e.className,o=e.isPlaying,a=(e.onClick,p(e,ef)),s=w([ed.buttonNext,"carousel__play-button",i]);return n.createElement("button",c({type:"button","aria-label":"play",className:s,onClick:this.handleOnClick},a),o&&r,!o&&t,this.props.children)}}]),t}(n.PureComponent),"propTypes",{carouselStore:I.object.isRequired,children:I.node,childrenPaused:I.node,childrenPlaying:I.node,className:I.string,isPlaying:I.bool.isRequired,onClick:I.func}),u(en,"defaultProps",{children:null,childrenPaused:null,childrenPlaying:null,className:null,onClick:null}),en),function(e){return{isPlaying:e.isPlaying}}),{dot:"dot___3c3SI"}),em=["carouselStore","children","className","currentSlide","disabled","onClick","selected","slide","totalSlides","visibleSlides"],eg=k((u(ei=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).handleOnClick=n.handleOnClick.bind(m(n)),n}h(t,e);var r=g(t);return l(t,[{key:"handleOnClick",value:function(e){var t=this.props,r=t.carouselStore,n=t.onClick,i=t.slide,o=t.totalSlides,a=t.visibleSlides;r.setStoreState({currentSlide:i>=o-a?o-a:i,isPlaying:!1},null!==n&&n.call(this,e))}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.children,e.className),r=e.currentSlide,i=e.disabled,o=(e.onClick,e.selected),a=e.slide,s=(e.totalSlides,e.visibleSlides),l=p(e,em),u=a>=r&&a<r+s,h="boolean"==typeof o?o:u,d=w([ep.dot,h&&ep.dotSelected,"carousel__dot","carousel__dot--".concat(a),h&&"carousel__dot--selected",t]);return n.createElement("button",c({"aria-label":"slide dot",type:"button",onClick:this.handleOnClick,className:d,disabled:"boolean"==typeof i?i:!0===u},l),this.props.children)}}]),t}(n.Component),"propTypes",{carouselStore:I.object.isRequired,children:j.children,className:I.string,currentSlide:I.number.isRequired,disabled:I.bool,onClick:I.func,selected:I.bool,slide:I.number.isRequired,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired}),u(ei,"defaultProps",{children:null,className:null,disabled:null,onClick:null,selected:null}),ei),function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}}),ey={},ev=["renderDots"],eb=["carouselStore","children","className","currentSlide","dotNumbers","totalSlides","visibleSlides","disableActiveDots","showAsSelectedForCurrentSlideOnly","renderDots"],e_=(k((u(eo=function(e){function t(){return a(this,t),r.apply(this,arguments)}h(t,e);var r=g(t);return l(t,[{key:"renderDots",value:function(){var e=this.props,t=e.currentSlide,r=e.totalSlides,i=e.visibleSlides,o=e.disableActiveDots,a=e.showAsSelectedForCurrentSlideOnly,s=e.renderDots;if(s){var l=this.props;return l.renderDots,s(p(l,ev))}for(var u=[],c=0;c<r;c+=1){var h=c>=t&&c<t+i,d=c===t,f=a?d:h,m=c>=r-i?r-i:c;u.push(n.createElement(eg,{key:c,slide:m,selected:f,disabled:!!o&&f},n.createElement("span",{className:w["carousel__dot-group-dot"]},this.props.dotNumbers&&c+1)))}return u}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.children),r=e.className,i=(e.currentSlide,e.dotNumbers,e.totalSlides,e.visibleSlides,e.disableActiveDots,e.showAsSelectedForCurrentSlideOnly,e.renderDots,p(e,eb)),o=w([ey.DotGroup,"carousel__dot-group",r]);return n.createElement("div",c({className:o},i),this.renderDots(),t)}}]),t}(n.Component),"propTypes",{children:j.children,className:I.string,currentSlide:I.number.isRequired,carouselStore:I.object.isRequired,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired,dotNumbers:I.bool,disableActiveDots:I.bool,showAsSelectedForCurrentSlideOnly:I.bool,renderDots:I.func}),u(eo,"defaultProps",{children:null,className:null,dotNumbers:!1,disableActiveDots:!0,showAsSelectedForCurrentSlideOnly:!1,renderDots:null}),eo),function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}}),{image:"image___xtQGH"}),ex=["src","alt"],ew=["carouselStore","children","className","hasMasterSpinner","isBgImage","onError","onLoad","renderError","renderLoading","style","tag"],eS=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).state={imageStatus:R},n.handleImageLoad=n.handleImageLoad.bind(m(n)),n.handleImageError=n.handleImageError.bind(m(n)),n.image=null,n}h(t,e);var r=g(t);return l(t,[{key:"componentDidMount",value:function(){t.subscribeMasterSpinner(this.props),this.initImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&(t.unsubscribeMasterSpinner(e),t.subscribeMasterSpinner(this.props),this.initImage())}},{key:"componentWillUnmount",value:function(){t.unsubscribeMasterSpinner(this.props),this.image.removeEventListener("load",this.handleImageLoad),this.image.removeEventListener("error",this.handleImageError),this.image=null}},{key:"initImage",value:function(){if(this.setState({imageStatus:R}),this.image=document.createElement("img"),this.image.addEventListener("load",this.handleImageLoad,!1),this.image.addEventListener("error",this.handleImageError,!1),this.image.src=this.props.src,this.image.readyState||this.image.complete){var e=this.image.src;this.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.image.src=e}}},{key:"handleImageLoad",value:function(e){this.setState({imageStatus:D}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerSuccess(this.props.src),this.props.onLoad&&this.props.onLoad(e)}},{key:"handleImageError",value:function(e){this.setState({imageStatus:L}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerError(this.props.src),this.props.onError&&this.props.onError(e)}},{key:"tempTag",value:function(){return"img"===this.props.tag?"div":this.props.tag}},{key:"customRender",value:function(e){return"function"==typeof this.props[e]?this.props[e]():this.props.children}},{key:"renderLoading",value:function(e){var t=this.tempTag(),r=w([e_.image,e_.imageLoading,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--loading",this.props.className]);return n.createElement(t,c({className:r},e),this.customRender("renderLoading"))}},{key:"renderError",value:function(e){var t=this.tempTag(),r=w([e_.image,e_.imageError,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--error",this.props.className]);return n.createElement(t,c({className:r},e),this.customRender("renderError"))}},{key:"renderSuccess",value:function(e){var t=this.props,r=t.style,i=t.tag,o=w([e_.image,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--success",this.props.className]),a=c({},r),s=e;if("img"!==i){var l=e.src;e.alt,s=p(e,ex),a=c({},r,{backgroundImage:'url("'.concat(l,'")'),backgroundSize:"cover"})}return n.createElement(i,c({className:o,style:a},s),this.props.children)}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.children,e.className,e.hasMasterSpinner,e.isBgImage,e.onError,e.onLoad,e.renderError,e.renderLoading,e.style,e.tag,p(e,ew));switch(this.state.imageStatus){case R:return this.renderLoading(t);case D:return this.renderSuccess(t);case L:return this.renderError(t);default:throw Error("unknown value for this.state.imageStatus")}}}],[{key:"subscribeMasterSpinner",value:function(e){e.hasMasterSpinner&&e.carouselStore.subscribeMasterSpinner(e.src)}},{key:"unsubscribeMasterSpinner",value:function(e){e.hasMasterSpinner&&e.carouselStore.unsubscribeMasterSpinner(e.src)}}]),t}(n.Component);u(eS,"propTypes",{alt:I.string,carouselStore:I.object.isRequired,children:j.children,className:I.string,hasMasterSpinner:I.bool.isRequired,isBgImage:j.isBgImage,onError:I.func,onLoad:I.func,renderError:I.func,renderLoading:I.func,src:I.string.isRequired,style:I.object,tag:I.string}),u(eS,"defaultProps",{alt:"",children:null,className:null,isBgImage:!1,onError:null,onLoad:null,renderError:null,renderLoading:null,style:null,tag:"img"});var eT,eE,eP,eC,eA=k(eS,function(e){return{hasMasterSpinner:e.hasMasterSpinner,orientation:e.orientation}}),eM={spinner:"spinner___27VUp"},ek=["className"],eO=(u(eT=function(e){function t(){return a(this,t),r.apply(this,arguments)}h(t,e);var r=g(t);return l(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=p(e,ek),i=w([eM.spinner,"carousel__spinner",t]);return n.createElement("div",c({className:i},r))}}]),t}(n.PureComponent),"propTypes",{className:I.string}),u(eT,"defaultProps",{className:null}),eT),eI={container:"container___2O72F",overlay:"overlay___IV4qY",hover:"hover___MYy31",zoom:"zoom___3kqYk",loading:"loading___1pvNI",imageLoadingSpinnerContainer:"imageLoadingSpinnerContainer___3UIPD"},eR=["alt","bgImageProps","bgImageTag","carouselStore","className","imageClassName","overlayClassName","isPinchZoomEnabled","spinner","src","srcZoomed","tag"],eD=(k((u(eE=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).state={isImageLoading:!0,isHovering:!1,isZooming:!1,x:null,y:null,scale:1},n.tpCache={},n.handleImageComplete=n.handleImageComplete.bind(m(n)),n.handleOnMouseMove=n.handleOnMouseMove.bind(m(n)),n.handleOnMouseOut=n.handleOnMouseOut.bind(m(n)),n.handleOnMouseOver=n.handleOnMouseOver.bind(m(n)),n.handleOnTouchEnd=n.handleOnTouchEnd.bind(m(n)),n.handleOnTouchMove=n.handleOnTouchMove.bind(m(n)),n.handleOnTouchStart=n.handleOnTouchStart.bind(m(n)),n}h(t,e);var r=g(t);return l(t,[{key:"componentDidUpdate",value:function(e,t){!1===t.isZooming&&!0===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),!0===t.isZooming&&!1===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1})}},{key:"handleImageComplete",value:function(){this.setState({isImageLoading:!1})}},{key:"handleOnMouseOver",value:function(){this.state.isZooming||this.setState({isHovering:!0,scale:2})}},{key:"handleOnMouseOut",value:function(){this.state.isZooming||this.setState({isHovering:!1,scale:1})}},{key:"handleOnMouseMove",value:function(e){if(!this.state.isZooming){var t=S(e.nativeEvent.offsetX/e.target.offsetWidth*100),r=S(e.nativeEvent.offsetY/e.target.offsetHeight*100);this.setState({x:t,y:r})}}},{key:"handleOnTouchStart",value:function(e){var t=this;this.props.isPinchZoomEnabled&&(y(e.targetTouches).forEach(function(e){t.tpCache[e.identifier]={clientX:e.clientX,clientY:e.clientY}}),this.setState(function(e){return{isZooming:e.isZooming||Object.keys(t.tpCache).length>1}}))}},{key:"handleOnTouchMove",value:function(e){var r=this;if(this.state.isZooming){e.persist();var n=y(e.targetTouches).filter(function(e){return r.tpCache[e.identifier]}).slice(0,2);if(2===n.length){e.stopPropagation();var i=e.target.getBoundingClientRect(),a=n[0].identifier,s=n[1].identifier,l={x1:this.tpCache[a].clientX,y1:this.tpCache[a].clientY,x2:this.tpCache[s].clientX,y2:this.tpCache[s].clientY};l.distance=t.distanceBetweenTwoTouches(o({},l));var u=t.midpointBetweenTwoTouches(o({},l));l.cx=u.x,l.cy=u.y;var c={x1:n[0].clientX,y1:n[0].clientY,x2:n[1].clientX,y2:n[1].clientY};c.distance=t.distanceBetweenTwoTouches(o({},c));var h=t.midpointBetweenTwoTouches(o({},c));c.cx=h.x,c.cy=h.y;var d=S(z({min:0,max:100,x:(c.cx-i.left)/i.width*100})),f=S(z({min:0,max:100,x:(c.cy-i.top)/i.height*100})),p=function(e){return z({min:1,max:3,x:e.scale+(c.distance-l.distance)/100})};this.setState(function(e){return{isZooming:1!==p(e),scale:p(e),x:d,y:f}})}}}},{key:"handleOnTouchEnd",value:function(e){var t=this;this.props.isPinchZoomEnabled&&(y(e.changedTouches).forEach(function(e){delete t.tpCache[e.identifier]}),0===Object.keys(this.tpCache).length&&this.setState({isZooming:!1}))}},{key:"renderLoading",value:function(){if(this.state.isImageLoading){var e=this.props.spinner;return n.createElement("div",{className:w([eI.imageLoadingSpinnerContainer,"carousel__image-loading-spinner-container"])},e&&e(),!e&&n.createElement(eO,null))}return null}},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.bgImageProps,i=e.bgImageTag,o=(e.carouselStore,e.className),a=e.imageClassName,s=e.overlayClassName,l=(e.isPinchZoomEnabled,e.spinner,e.src),u=e.srcZoomed,h=e.tag,d=p(e,eR),f=w([eI.container,o]),m=w([eI.image,"carousel__zoom-image",a]),g=w([eI.overlay,"carousel__zoom-image-overlay",this.state.isHovering&&eI.hover,this.state.isZooming&&eI.zoom,this.state.isHovering&&"carousel__zoom-image-overlay--hovering",this.state.isZooming&&"carousel__zoom-image-overlay--zooming",s]),y={};return(this.state.isHovering||this.state.isZooming)&&(y.transformOrigin="".concat(this.state.x," ").concat(this.state.y),y.transform="scale(".concat(this.state.scale,")")),n.createElement(h,c({className:f},d),n.createElement(eA,c({alt:t,className:m,tag:i,src:l,onLoad:this.handleImageComplete,onError:this.handleImageComplete},r)),n.createElement(eA,{className:g,tag:"div",src:u||l,style:y,isBgImage:!0,onFocus:this.handleOnMouseOver,onMouseOver:this.handleOnMouseOver,onBlur:this.handleOnMouseOut,onMouseOut:this.handleOnMouseOut,onMouseMove:this.handleOnMouseMove,onTouchStart:this.handleOnTouchStart,onTouchEnd:this.handleOnTouchEnd,onTouchMove:this.handleOnTouchMove}),this.renderLoading())}}],[{key:"midpointBetweenTwoTouches",value:function(e){var t=e.x1,r=e.y1;return{x:(t+e.x2)/2,y:(r+e.y2)/2}}},{key:"distanceBetweenTwoTouches",value:function(e){var t=e.x1,r=e.y1;return Math.sqrt(Math.pow(e.x2-t,2)+Math.pow(e.y2-r,2))}}]),t}(n.Component),"propTypes",{alt:I.string,bgImageProps:I.object,bgImageTag:I.string,carouselStore:I.object.isRequired,className:I.string,imageClassName:I.string,overlayClassName:I.string,spinner:I.func,src:I.string.isRequired,srcZoomed:I.string,tag:I.string,isPinchZoomEnabled:I.bool}),u(eE,"defaultProps",{alt:void 0,bgImageProps:{},bgImageTag:"div",className:null,imageClassName:null,overlayClassName:null,isPinchZoomEnabled:!0,spinner:null,srcZoomed:null,tag:"div"}),eE),function(){return{}}),{slide:"slide___3-Nqo",slideHorizontal:"slideHorizontal___1NzNV",slideInner:"slideInner___2mfX9",focusRing:"focusRing___1airF"}),eL=["ariaLabel","carouselStore","children","className","classNameHidden","classNameVisible","currentSlide","index","innerClassName","innerTag","naturalSlideHeight","naturalSlideWidth","onBlur","onFocus","orientation","slideSize","style","tabIndex","tag","totalSlides","visibleSlides","isIntrinsicHeight"],ej=(k((u(eP=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).handleOnFocus=n.handleOnFocus.bind(m(n)),n.handleOnBlur=n.handleOnBlur.bind(m(n)),n.state={focused:!1},n}h(t,e);var r=g(t);return l(t,[{key:"isVisible",value:function(){var e=this.props,t=e.currentSlide,r=e.index,n=e.visibleSlides;return r>=t&&r<t+n}},{key:"handleOnFocus",value:function(e){var t=this,r=this.props.onFocus;this.setState({focused:!0},function(){null!==r&&r.call(t,e)})}},{key:"handleOnBlur",value:function(e){var t=this,r=this.props.onBlur;this.setState({focused:!1},function(){null!==r&&r.call(t,e)})}},{key:"renderFocusRing",value:function(){return this.state.focused?n.createElement("div",{className:[eD.focusRing,"carousel__slide-focus-ring"].join(" ")}):null}},{key:"render",value:function(){var e=this,t=this.props,r=t.ariaLabel,i=(t.carouselStore,t.children,t.className),o=t.classNameHidden,a=t.classNameVisible,s=(t.currentSlide,t.index,t.innerClassName),l=t.innerTag,u=t.naturalSlideHeight,h=t.naturalSlideWidth,d=(t.onBlur,t.onFocus,t.orientation),f=t.slideSize,m=t.style,g=t.tabIndex,y=t.tag,v=t.totalSlides,b=(t.visibleSlides,t.isIntrinsicHeight),_=p(t,eL),x={};"horizontal"===d?(x.width=S(f),x.paddingBottom=S(100*u/(h*v))):(x.width=S(100),x.paddingBottom=S(100*u/h));var T={};b&&("horizontal"===d?x.height="unset":x.width="unset",x.paddingBottom="unset",T.position="unset");var E=c({},x,m),P=this.isVisible(),C=w([eD.slide,"horizontal"===d&&eD.slideHorizontal,"carousel__slide",this.state.focused&&"carousel__slide--focused",P&&a,P&&"carousel__slide--visible",!P&&o,!P&&"carousel__slide--hidden",i]),A=w([eD.slideInner,"carousel__inner-slide",s]),M=this.isVisible()?0:-1;return n.createElement(y,c({ref:function(t){e.tagRef=t},tabIndex:"number"==typeof g?g:M,"aria-selected":this.isVisible(),"aria-label":r,role:"option",onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,className:C,style:E},_),n.createElement(l,{ref:function(t){e.innerTagRef=t},className:A,style:T},this.props.children,this.renderFocusRing()))}}]),t}(n.PureComponent),"propTypes",{ariaLabel:I.string,carouselStore:I.object,children:j.children,className:I.string,classNameHidden:I.string,classNameVisible:I.string,currentSlide:I.number.isRequired,index:I.number.isRequired,innerClassName:I.string,innerTag:I.string,naturalSlideHeight:I.number.isRequired,naturalSlideWidth:I.number.isRequired,onBlur:I.func,onFocus:I.func,orientation:j.orientation.isRequired,slideSize:I.number.isRequired,style:I.object,tabIndex:I.number,tag:I.string,totalSlides:I.number.isRequired,visibleSlides:I.number.isRequired,isIntrinsicHeight:I.bool}),u(eP,"defaultProps",{ariaLabel:"slide",carouselStore:null,children:null,className:null,classNameHidden:null,classNameVisible:null,innerClassName:null,innerTag:"div",onBlur:null,onFocus:null,style:{},tabIndex:null,tag:"div",isIntrinsicHeight:!1}),eP),function(e){return{currentSlide:e.currentSlide,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,slideSize:e.slideSize,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,isIntrinsicHeight:e.isIntrinsicHeight}}),function(){function e(){a(this,e)}return l(e,[{key:"parents",value:function(e,t){return null===e.parentNode?t:this.parents(e.parentNode,t.concat([e]))}},{key:"scrollParent",value:function(t){for(var r=this.parents(t.parentNode,[]),n=0;n<r.length;n+=1)if(e.scroll(r[n]))return r[n];return document.scrollingElement||document.documentElement}},{key:"getScrollParent",value:function(t){return e.isNodeValid(t)?this.scrollParent(t):null}}],[{key:"style",value:function(e,t){return getComputedStyle(e,null).getPropertyValue(t)}},{key:"overflow",value:function(t){return e.style(t,"overflow")+e.style(t,"overflow-y")+e.style(t,"overflow-x")}},{key:"scroll",value:function(t){return/(auto|scroll)/.test(e.overflow(t))}},{key:"isNodeValid",value:function(e){return e instanceof HTMLElement||e instanceof SVGElement}}]),e}()),ez={horizontalSlider:"horizontalSlider___281Ls",horizontalSliderTray:"horizontalSliderTray___1L-0W",verticalSlider:"verticalSlider___34ZFD",verticalSliderTray:"verticalSliderTray___267D8",verticalTray:"verticalTray___12Key",verticalSlideTrayWrap:"verticalSlideTrayWrap___2nO7o",sliderTray:"sliderTray___-vHFQ",sliderAnimation:"sliderAnimation___300FY",masterSpinnerContainer:"masterSpinnerContainer___1Z6hB"},eB=["ariaLabel","carouselStore","children","className","classNameAnimation","classNameTray","classNameTrayWrap","currentSlide","disableAnimation","disableKeyboard","dragEnabled","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","masterSpinnerFinished","moveThreshold","naturalSlideHeight","naturalSlideWidth","onMasterSpinner","orientation","playDirection","privateUnDisableAnimation","slideSize","slideTraySize","spinner","style","tabIndex","totalSlides","touchEnabled","trayProps","trayTag","visibleSlides","isIntrinsicHeight"],eF=["dragStep","step","infinite","preventVerticalScrollOnTouch","preventingVerticalScroll","horizontalPixelThreshold","verticalPixelThreshold"],eN=["className","onClickCapture","onMouseDown","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","ref","style"];k((u(eC=function(e){function t(e){var n;return a(this,t),(n=r.call(this,e)).getSliderRef=n.getSliderRef.bind(m(n)),n.handleDocumentScroll=n.handleDocumentScroll.bind(m(n)),n.handleOnClickCapture=n.handleOnClickCapture.bind(m(n)),n.handleOnKeyDown=n.handleOnKeyDown.bind(m(n)),n.handleOnMouseDown=n.handleOnMouseDown.bind(m(n)),n.handleOnMouseMove=n.handleOnMouseMove.bind(m(n)),n.handleOnMouseUp=n.handleOnMouseUp.bind(m(n)),n.handleOnTouchCancel=n.handleOnTouchCancel.bind(m(n)),n.handleOnTouchEnd=n.handleOnTouchEnd.bind(m(n)),n.handleOnTouchMove=n.handleOnTouchMove.bind(m(n)),n.handleOnTouchStart=n.handleOnTouchStart.bind(m(n)),n.playBackward=n.playBackward.bind(m(n)),n.playForward=n.playForward.bind(m(n)),n.callCallback=n.callCallback.bind(m(n)),n.blockWindowScroll=n.blockWindowScroll.bind(m(n)),n.state={cancelNextClick:!1,deltaX:0,deltaY:0,isBeingMouseDragged:!1,isBeingTouchDragged:!1,preventingVerticalScroll:!1,startX:0,startY:0},n.interval=null,n.isDocumentScrolling=null,n.moveTimer=null,n.originalOverflow=null,n.scrollParent=null,n.scrollStopTimer=null,n}h(t,e);var r=g(t);return l(t,[{key:"componentDidMount",value:function(){this.props.lockOnWindowScroll&&window.addEventListener("scroll",this.handleDocumentScroll,!1),(this.props.touchEnabled||this.props.preventVerticalScrollOnTouch)&&window.addEventListener("touchmove",this.blockWindowScroll,!1),document.documentElement.addEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.addEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.addEventListener("mouseup",this.handleOnMouseUp,!1),this.props.isPlaying&&this.play()}},{key:"componentDidUpdate",value:function(e){!e.isPlaying&&this.props.isPlaying&&this.play(),e.isPlaying&&!this.props.isPlaying&&this.stop(),!e.isPageScrollLocked&&this.props.isPageScrollLocked&&this.lockScroll(),e.isPageScrollLocked&&!this.props.isPageScrollLocked&&this.unlockScroll(),!1===e.privateUnDisableAnimation&&!0===this.props.privateUnDisableAnimation&&this.props.carouselStore.setStoreState({privateUnDisableAnimation:!1,disableAnimation:!1})}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.removeEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.removeEventListener("mouseup",this.handleOnMouseUp,!1),window.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("touchmove",this.blockWindowScroll,!1),this.stop(),window.cancelAnimationFrame.call(window,this.moveTimer),window.clearTimeout(this.scrollStopTimer),this.isDocumentScrolling=null,this.moveTimer=null,this.scrollStopTimer=null}},{key:"getSliderRef",value:function(e){this.sliderTrayElement=e}},{key:"fakeOnDragStart",value:function(e){var t=e.screenX,r=e.screenY,n=e.touchDrag,i=e.mouseDrag;this.props.carouselStore.setStoreState({isPlaying:!1}),window.cancelAnimationFrame.call(window,this.moveTimer),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),this.setState({isBeingTouchDragged:void 0!==n&&n,isBeingMouseDragged:void 0!==i&&i,startX:t,startY:r})}},{key:"fakeOnDragMove",value:function(e,t){var r=this;this.moveTimer=window.requestAnimationFrame.call(window,function(){r.setState(function(n){return{deltaX:e-n.startX,deltaY:t-n.startY,preventingVerticalScroll:Math.abs(t-n.startY)<=r.props.verticalPixelThreshold&&Math.abs(e-n.startX)>=r.props.horizontalPixelThreshold}})})}},{key:"fakeOnDragEnd",value:function(){window.cancelAnimationFrame.call(window,this.moveTimer),this.computeCurrentSlide(),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1}),this.setState({deltaX:0,deltaY:0,isBeingTouchDragged:!1,isBeingMouseDragged:!1}),this.isDocumentScrolling=!this.props.lockOnWindowScroll&&null}},{key:"callCallback",value:function(e,t){var r=this.props.trayProps;r&&"function"==typeof r[e]&&(t.persist(),r[e](t))}},{key:"handleOnMouseDown",value:function(e){if(!this.props.dragEnabled)return void this.callCallback("onMouseDown",e);e.preventDefault(),this.fakeOnDragStart({screenX:e.screenX,screenY:e.screenY,mouseDrag:!0}),this.callCallback("onMouseDown",e)}},{key:"handleOnMouseMove",value:function(e){this.state.isBeingMouseDragged&&(this.setState({cancelNextClick:!0}),e.preventDefault(),this.fakeOnDragMove(e.screenX,e.screenY))}},{key:"handleOnMouseUp",value:function(e){this.state.isBeingMouseDragged&&(e.preventDefault(),this.fakeOnDragEnd())}},{key:"handleOnClickCapture",value:function(e){if(!this.state.cancelNextClick)return void this.callCallback("onClickCapture",e);e.preventDefault(),this.setState({cancelNextClick:!1}),this.callCallback("onClickCapture",e)}},{key:"handleOnTouchStart",value:function(e){if(!this.props.touchEnabled)return void this.callCallback("onTouchStart",e);"vertical"===this.props.orientation&&e.preventDefault();var t=e.targetTouches[0];this.fakeOnDragStart({screenX:t.screenX,screenY:t.screenY,touchDrag:!0}),this.callCallback("onTouchStart",e)}},{key:"handleDocumentScroll",value:function(){var e=this;this.props.touchEnabled&&(this.isDocumentScrolling=!0,window.clearTimeout(this.scrollStopTimer),this.scrollStopTimer=window.setTimeout(function(){e.isDocumentScrolling=!1},66))}},{key:"handleOnTouchMove",value:function(e){if(!this.props.touchEnabled||this.props.lockOnWindowScroll&&this.isDocumentScrolling)return void this.callCallback("onTouchMove",e);window.cancelAnimationFrame.call(window,this.moveTimer);var t=e.targetTouches[0];t&&(this.fakeOnDragMove(t.screenX,t.screenY),this.callCallback("onTouchMove",e))}},{key:"forward",value:function(){var e=this.props;return Math.min(e.currentSlide+e.step,e.totalSlides-e.visibleSlides)}},{key:"backward",value:function(){var e=this.props;return Math.max(e.currentSlide-e.step,0)}},{key:"handleOnKeyDown",value:function(e){var t=e.keyCode,r=this.props,n=r.carouselStore,i=r.currentSlide,o=r.disableKeyboard,a=r.totalSlides,s=r.visibleSlides,l={};!0===o||a<=s||(37===t&&(e.preventDefault(),this.focus(),l.currentSlide=Math.max(0,i-1),l.isPlaying=!1),39===t&&(e.preventDefault(),this.focus(),l.currentSlide=Math.min(a-s,i+1),l.isPlaying=!1),n.setStoreState(l))}},{key:"playForward",value:function(){var e=this.props,t=e.carouselStore,r=e.currentSlide;t.setStoreState({currentSlide:this.forward()===r?0:this.forward()})}},{key:"playBackward",value:function(){var e=this.props,t=e.carouselStore,r=e.currentSlide,n=e.totalSlides,i=e.visibleSlides;t.setStoreState({currentSlide:this.backward()===r?n-i:this.backward()})}},{key:"play",value:function(){var e=this.props.playDirection;this.interval=setInterval("forward"===e?this.playForward:this.playBackward,this.props.interval)}},{key:"stop",value:function(){window.clearInterval(this.interval),this.interval=null}},{key:"lockScroll",value:function(){var e=new ej;this.scrollParent=e.getScrollParent(this.sliderTrayElement),this.scrollParent&&(this.originalOverflow=this.originalOverflow||this.scrollParent.style.overflow,this.scrollParent.style.overflow="hidden")}},{key:"unlockScroll",value:function(){this.scrollParent&&(this.scrollParent.style.overflow=this.originalOverflow,this.originalOverflow=null,this.scrollParent=null)}},{key:"blockWindowScroll",value:function(e){this.state.preventingVerticalScroll&&(e.preventDefault(),e.stopImmediatePropagation())}},{key:"computeCurrentSlide",value:function(){var e=t.slideSizeInPx(this.props.orientation,this.sliderTrayElement.clientWidth,this.sliderTrayElement.clientHeight,this.props.totalSlides),r=t.slidesMoved(this.props.moveThreshold,this.props.orientation,this.state.deltaX,this.state.deltaY,e,this.props.dragStep),n=this.props.totalSlides-Math.min(this.props.totalSlides,this.props.visibleSlides),i=z({min:0,max:n,x:this.props.currentSlide+r});this.props.infinite&&(this.props.currentSlide>=n&&r>0&&(i=0),0===this.props.currentSlide&&r<0&&(i=n)),this.props.carouselStore.setStoreState({currentSlide:i})}},{key:"focus",value:function(){this.sliderElement.focus()}},{key:"handleOnTouchEnd",value:function(e){this.endTouchMove(),this.callCallback("onTouchEnd",e)}},{key:"handleOnTouchCancel",value:function(e){this.endTouchMove(),this.callCallback("onTouchCancel",e)}},{key:"endTouchMove",value:function(){this.props.touchEnabled&&this.fakeOnDragEnd()}},{key:"renderMasterSpinner",value:function(){var e=this.props,t=e.hasMasterSpinner,r=e.masterSpinnerFinished,i=e.spinner;return t&&!r?("function"==typeof this.props.onMasterSpinner&&this.props.onMasterSpinner(),n.createElement("div",{className:w([ez.masterSpinnerContainer,"carousel__master-spinner-container"])},i&&i(),!i&&n.createElement(eO,null))):null}},{key:"render",value:function(){var e=this,t=this.props,r=t.ariaLabel,i=(t.carouselStore,t.children),o=t.className,a=t.classNameAnimation,s=t.classNameTray,l=t.classNameTrayWrap,u=t.currentSlide,h=t.disableAnimation,d=(t.disableKeyboard,t.dragEnabled,t.hasMasterSpinner,t.interval,t.isPageScrollLocked,t.isPlaying,t.lockOnWindowScroll,t.masterSpinnerFinished,t.moveThreshold,t.naturalSlideHeight),f=t.naturalSlideWidth,m=(t.onMasterSpinner,t.orientation),g=(t.playDirection,t.privateUnDisableAnimation,t.slideSize),y=t.slideTraySize,v=(t.spinner,t.style),b=t.tabIndex,_=(t.totalSlides,t.touchEnabled,t.trayProps),x=t.trayTag,T=t.visibleSlides,E=t.isIntrinsicHeight,P=p(t,eB),C=c({},v),A={};"vertical"===m&&(A.height=0,A.paddingBottom=S(100*d*T/f),A.width=S(100));var M={},k=S(-(g*u*1));(this.state.isBeingTouchDragged||this.state.isBeingMouseDragged||h)&&(M.transition="none"),E&&(M.display="flex",M.alignItems="stretch"),"vertical"===m?(M.transform="translateY(".concat(k,") translateY(").concat(this.state.deltaY,"px)"),M.width=S(100),M.flexDirection="column"):(M.width=S(y),M.transform="translateX(".concat(k,") translateX(").concat(this.state.deltaX,"px)"),M.flexDirection="row");var O=w(["vertical"===m?ez.verticalSlider:ez.horizontalSlider,"carousel__slider","vertical"===m?"carousel__slider--vertical":"carousel__slider--horizontal",o]),I=w([ez.sliderTrayWrap,"carousel__slider-tray-wrapper","vertical"===m?ez.verticalSlideTrayWrap:ez.horizontalTrayWrap,"vertical"===m?"carousel__slider-tray-wrap--vertical":"carousel__slider-tray-wrap--horizontal",l]),R=w([ez.sliderTray,a||ez.sliderAnimation,"carousel__slider-tray","vertical"===m?ez.verticalTray:ez.horizontalTray,"vertical"===m?"carousel__slider-tray--vertical":"carousel__slider-tray--horizontal",s]),D=(P.dragStep,P.step,P.infinite,P.preventVerticalScrollOnTouch,P.preventingVerticalScroll,P.horizontalPixelThreshold,P.verticalPixelThreshold,p(P,eF)),L=(_.className,_.onClickCapture,_.onMouseDown,_.onTouchCancel,_.onTouchEnd,_.onTouchMove,_.onTouchStart,_.ref,_.style,p(_,eN));return n.createElement("div",c({ref:function(t){e.sliderElement=t},className:O,"aria-live":"polite","aria-label":r,style:C,tabIndex:null!==b?b:0,onKeyDown:this.handleOnKeyDown,role:"listbox"},D),n.createElement("div",{className:I,style:A},n.createElement(x,c({ref:this.getSliderRef,className:R,style:M,onTouchStart:this.handleOnTouchStart,onTouchMove:this.handleOnTouchMove,onTouchEnd:this.handleOnTouchEnd,onTouchCancel:this.handleOnTouchCancel,onMouseDown:this.handleOnMouseDown,onClickCapture:this.handleOnClickCapture},L),i),this.renderMasterSpinner()))}}],[{key:"slideSizeInPx",value:function(e,t,r,n){return("horizontal"===e?t:r)/n}},{key:"slidesMoved",value:function(e,t,r,n,i,o){var a="horizontal"===t?r:n,s=Math.abs(Math.round(a/i)),l=Math.max(Math.abs(a)>=i*e?o:0,s);if(a<0)return l;var u=-l;return 0===u?0:u}}]),t}(n.Component),"propTypes",{ariaLabel:I.string,carouselStore:I.object.isRequired,children:I.node.isRequired,className:I.string,classNameAnimation:I.string,classNameTray:I.string,classNameTrayWrap:I.string,currentSlide:I.number.isRequired,disableAnimation:I.bool,disableKeyboard:I.bool,dragEnabled:I.bool.isRequired,dragStep:I.number,hasMasterSpinner:I.bool.isRequired,infinite:I.bool,interval:I.number.isRequired,isPageScrollLocked:I.bool.isRequired,isPlaying:I.bool.isRequired,lockOnWindowScroll:I.bool.isRequired,preventVerticalScrollOnTouch:I.bool,horizontalPixelThreshold:I.number,verticalPixelThreshold:I.number,masterSpinnerFinished:I.bool.isRequired,moveThreshold:I.number,naturalSlideHeight:I.number.isRequired,naturalSlideWidth:I.number.isRequired,onMasterSpinner:I.func,orientation:j.orientation.isRequired,playDirection:j.direction.isRequired,privateUnDisableAnimation:I.bool,slideSize:I.number.isRequired,slideTraySize:I.number.isRequired,spinner:I.func,step:I.number.isRequired,style:I.object,tabIndex:I.number,totalSlides:I.number.isRequired,touchEnabled:I.bool.isRequired,trayProps:I.shape({className:I.string,onClickCapture:I.func,onMouseDown:I.func,onTouchCancel:I.func,onTouchEnd:I.func,onTouchMove:I.func,onTouchStart:I.func,ref:I.shape({}),style:I.string}),trayTag:I.string,visibleSlides:I.number,isIntrinsicHeight:I.bool}),u(eC,"defaultProps",{ariaLabel:"slider",className:null,classNameAnimation:null,classNameTray:null,classNameTrayWrap:null,disableAnimation:!1,disableKeyboard:!1,dragStep:1,infinite:!1,preventVerticalScrollOnTouch:!0,horizontalPixelThreshold:15,verticalPixelThreshold:10,moveThreshold:.1,onMasterSpinner:null,privateUnDisableAnimation:!1,spinner:null,style:{},tabIndex:null,trayProps:{},trayTag:"div",visibleSlides:1,isIntrinsicHeight:!1}),eC),function(e){return{currentSlide:e.currentSlide,disableAnimation:e.disableAnimation,privateUnDisableAnimation:e.privateUnDisableAnimation,disableKeyboard:e.disableKeyboard,dragEnabled:e.dragEnabled,hasMasterSpinner:e.hasMasterSpinner,infinite:e.infinite,interval:e.interval,isPageScrollLocked:e.isPageScrollLocked,isPlaying:e.isPlaying,lockOnWindowScroll:e.lockOnWindowScroll,preventingVerticalScroll:e.preventingVerticalScroll,masterSpinnerFinished:e.masterSpinnerFinished,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,playDirection:e.playDirection,slideSize:e.slideSize,slideTraySize:e.slideTraySize,step:e.step,dragStep:e.dragStep,totalSlides:e.totalSlides,touchEnabled:e.touchEnabled,visibleSlides:e.visibleSlides,isIntrinsicHeight:e.isIntrinsicHeight}})},74765:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:n.RFC3986,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986}},55373:(e,t,r)=>{"use strict";var n=r(98636),i=r(62642),o=r(74765);e.exports={formats:o,parse:i,stringify:n}},62642:(e,t,r)=>{"use strict";var n=r(37720),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},l=function(e,t){var r={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;l=l.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=t.parameterLimit===1/0?void 0:t.parameterLimit,c=l.split(t.delimiter,t.throwOnLimitExceeded?u+1:u);if(t.throwOnLimitExceeded&&c.length>u)throw RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var h=-1,d=t.charset;if(t.charsetSentinel)for(f=0;f<c.length;++f)0===c[f].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[f]?d="utf-8":"utf8=%26%2310003%3B"===c[f]&&(d="iso-8859-1"),h=f,f=c.length);for(f=0;f<c.length;++f)if(f!==h){var f,p,m,g=c[f],y=g.indexOf("]="),v=-1===y?g.indexOf("="):y+1;if(-1===v?(p=t.decoder(g,a.decoder,d,"key"),m=t.strictNullHandling?null:""):null!==(p=t.decoder(g.slice(0,v),a.decoder,d,"key"))&&(m=n.maybeMap(s(g.slice(v+1),t,o(r[p])?r[p].length:0),function(e){return t.decoder(e,a.decoder,d,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===d&&(m=String(m).replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m),null!==p){var b=i.call(r,p);b&&"combine"===t.duplicates?r[p]=n.combine(r[p],m,t.arrayLimit,t.plainObjects):b&&"last"!==t.duplicates||(r[p]=m)}}return r},u=function(e,t,r,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var l=i?t:s(t,r,o),u=e.length-1;u>=0;--u){var c,h=e[u];if("[]"===h&&r.parseArrays)c=n.isOverflow(l)?l:r.allowEmptyArrays&&(""===l||r.strictNullHandling&&null===l)?[]:n.combine([],l,r.arrayLimit,r.plainObjects);else{c=r.plainObjects?{__proto__:null}:{};var d="["===h.charAt(0)&&"]"===h.charAt(h.length-1)?h.slice(1,-1):h,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(f,10);r.parseArrays||""!==f?!isNaN(p)&&h!==f&&String(p)===f&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(c=[])[p]=l:"__proto__"!==f&&(c[f]=l):c={0:l}}l=c}return l},c=function(e,t){var r=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&i.call(Object.prototype,r)&&!t.allowPrototypes)return;return[r]}var n=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),a=o?r.slice(0,o.index):r,s=[];if(a){if(!t.plainObjects&&i.call(Object.prototype,a)&&!t.allowPrototypes)return;s.push(a)}for(var l=0;null!==(o=n.exec(r))&&l<t.depth;){l+=1;var u=o[1].slice(1,-1);if(!t.plainObjects&&i.call(Object.prototype,u)&&!t.allowPrototypes)return;s.push(o[1])}if(o){if(!0===t.strictDepth)throw RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");s.push("["+r.slice(o.index)+"]")}return s},h=function(e,t,r,n){if(e){var i=c(e,r);if(i)return u(i,t,r,n)}},d=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,r=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};e.exports=function(e,t){var r=d(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var i="string"==typeof e?l(e,r):e,o=r.plainObjects?{__proto__:null}:{},a=Object.keys(i),s=0;s<a.length;++s){var u=a[s],c=h(u,i[u],r,"string"==typeof e);o=n.merge(o,c,r)}return!0===r.allowSparse?o:n.compact(o)}},98636:(e,t,r)=>{"use strict";var n=r(920),i=r(37720),o=r(74765),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=o.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},p={},m=function e(t,r,o,a,s,u,h,d,m,g,y,v,b,_,x,w,S,T){for(var E,P,C=t,A=T,M=0,k=!1;void 0!==(A=A.get(p))&&!k;){var O=A.get(t);if(M+=1,void 0!==O){if(O===M)throw RangeError("Cyclic object value");k=!0}void 0===A.get(p)&&(M=0)}if("function"==typeof g?C=g(r,C):C instanceof Date?C=b(C):"comma"===o&&l(C)&&(C=i.maybeMap(C,function(e){return e instanceof Date?b(e):e})),null===C){if(u)return m&&!w?m(r,f.encoder,S,"key",_):r;C=""}if("string"==typeof(E=C)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||i.isBuffer(C))return m?[x(w?r:m(r,f.encoder,S,"key",_))+"="+x(m(C,f.encoder,S,"value",_))]:[x(r)+"="+x(String(C))];var I=[];if(void 0===C)return I;if("comma"===o&&l(C))w&&m&&(C=i.maybeMap(C,m)),P=[{value:C.length>0?C.join(",")||null:void 0}];else if(l(g))P=g;else{var R=Object.keys(C);P=y?R.sort(y):R}var D=d?String(r).replace(/\./g,"%2E"):String(r),L=a&&l(C)&&1===C.length?D+"[]":D;if(s&&l(C)&&0===C.length)return L+"[]";for(var j=0;j<P.length;++j){var z=P[j],B="object"==typeof z&&z&&void 0!==z.value?z.value:C[z];if(!h||null!==B){var F=v&&d?String(z).replace(/\./g,"%2E"):String(z),N=l(C)?"function"==typeof o?o(L,F):L:L+(v?"."+F:"["+F+"]");T.set(t,M);var V=n();V.set(p,T),c(I,e(B,N,o,a,s,u,h,d,"comma"===o&&w&&l(C)?null:m,g,y,v,b,_,x,w,S,V))}}return I},g=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");n=e.format}var i=o.formatters[n],u=f.filter;if(("function"==typeof e.filter||l(e.filter))&&(u=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,t){var r,i=e,o=g(t);"function"==typeof o.filter?i=(0,o.filter)("",i):l(o.filter)&&(r=o.filter);var a=[];if("object"!=typeof i||null===i)return"";var u=s[o.arrayFormat],h="comma"===u&&o.commaRoundTrip;r||(r=Object.keys(i)),o.sort&&r.sort(o.sort);for(var d=n(),f=0;f<r.length;++f){var p=r[f],y=i[p];o.skipNulls&&null===y||c(a,m(y,p,u,h,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}var v=a.join(o.delimiter),b=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},37720:(e,t,r)=>{"use strict";var n=r(74765),i=r(920),o=Object.prototype.hasOwnProperty,a=Array.isArray,s=i(),l=function(e,t){return s.set(e,t),e},u=function(e){return s.has(e)},c=function(e){return s.get(e)},h=function(e,t){s.set(e,t)},d=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),f=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}},p=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:p,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t,r,n){if(u(e)){var i=c(e)+1;return e[i]=t,h(e,i),e}var o=[].concat(e,t);return o.length>r?l(p(o,{plainObjects:n}),o.length-1):o},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return f(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",l=0;l<a.length;l+=1024){for(var u=a.length>=1024?a.slice(l,l+1024):a,c=[],h=0;h<u.length;++h){var f=u.charCodeAt(h);if(45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===n.RFC1738&&(40===f||41===f)){c[c.length]=u.charAt(h);continue}if(f<128){c[c.length]=d[f];continue}if(f<2048){c[c.length]=d[192|f>>6]+d[128|63&f];continue}if(f<55296||f>=57344){c[c.length]=d[224|f>>12]+d[128|f>>6&63]+d[128|63&f];continue}h+=1,f=65536+((1023&f)<<10|1023&u.charCodeAt(h)),c[c.length]=d[240|f>>18]+d[128|f>>12&63]+d[128|f>>6&63]+d[128|63&f]}s+=c.join("")}return s},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:u,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(a(t))t.push(r);else if(!t||"object"!=typeof t)return[t,r];else if(u(t)){var i=c(t)+1;t[i]=r,h(t,i)}else(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0);return t}if(!t||"object"!=typeof t){if(u(r)){for(var s=Object.keys(r),d=n&&n.plainObjects?{__proto__:null,0:t}:{0:t},f=0;f<s.length;f++)d[parseInt(s[f],10)+1]=r[s[f]];return l(d,c(r)+1)}return[t].concat(r)}var m=t;return(a(t)&&!a(r)&&(m=p(t,n)),a(t)&&a(r))?(r.forEach(function(r,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return o.call(t,i)?t[i]=e(t[i],a,n):t[i]=a,t},m)}}},11630:e=>{"use strict";e.exports=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,c,h,d,f=e[l].replace(o,"%20"),p=f.indexOf(r);(p>=0?(u=f.substr(0,p),c=f.substr(p+1)):(u=f,c=""),h=decodeURIComponent(u),d=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(i,h))?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i}},59106:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return(r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(t(e))}).join(r):o+encodeURIComponent(t(e[i]))}).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},47186:(e,t,r)=>{"use strict";t.decode=t.parse=r(11630),t.encode=t.stringify=r(59106)},93146:(e,t,r)=>{for(var n=r(13491),i="undefined"==typeof window?r.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],l=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,h=0,d=[],f=1e3/60;s=function(e){if(0===d.length){var t=n(),r=Math.max(0,f-(t-c));c=r+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return d.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},26864:(e,t,r)=>{"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(50842),a=r(96540),s=r(40961);e.exports=function(e){var t=e.displayName||e.name,r=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),i(r,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||"function"!=typeof this.__wrappedComponent.handleClickOutside||this.__wrappedComponent.handleClickOutside(e)}},{key:"render",value:function(){var t=this;return a.createElement(e,n({},this.props,{ref:function(e){t.__wrappedComponent=e,t.__domNode=s.findDOMNode(e)}}))}}]),r}(a.Component);return r.displayName="Wrapped"+t,o(r,e)}},30115:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,o){try{return function e(o,a){if(o===a)return!0;if(o&&a&&"object"==typeof o&&"object"==typeof a){var s,l,u,c;if(o.constructor!==a.constructor)return!1;if(Array.isArray(o)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(!e(o[l],a[l]))return!1;return!0}if(r&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(c=o.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=o.entries();!(l=c.next()).done;)if(!e(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(c=o.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(o[l]!==a[l])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===a.toString();if((s=(u=Object.keys(o)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(t&&o instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!o.$$typeof)&&!e(o[u[l]],a[u[l]]))return!1;return!0}return o!=o&&a!=a}(e,o)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},22096:(e,t,r)=>{"use strict";r.d(t,{R4:()=>l,Yr:()=>c,gZ:()=>d});var n=r(96540),i=r(90952);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={previous:!!t.meta.active},r}a(t,e);var r=t.prototype;return r.componentDidUpdate=function(){var e=this.props,t=e.children,r=e.meta.active,n=this.state.previous;n&&!r&&t(),n!==r&&this.setState({previous:r})},r.render=function(){return null},t}(n.Component),l=function(e){var t=e.name,r=e.children;return(0,n.createElement)(i.D0,{name:t,subscription:{active:!0},render:function(e){return(0,n.createElement)(s,o({},e,{children:r}))}})},u=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={previous:t.input.value},r}a(t,e);var r=t.prototype;return r.componentDidUpdate=function(){var e=this.props,t=e.children,r=e.input.value,n=this.state.previous;r!==n&&(this.setState({previous:r}),t(r,n))},r.render=function(){return null},t}(n.Component),c=function(e){var t=e.name,r=e.children;return(0,n.createElement)(i.D0,{name:t,subscription:{value:!0},allowNull:!0,render:function(e){return(0,n.createElement)(u,o({},e,{children:r}))}})},h=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={previous:!!t.meta.active},r}a(t,e);var r=t.prototype;return r.componentDidUpdate=function(){var e=this.props,t=e.children,r=e.meta.active,n=this.state.previous;r&&!n?(this.setState({previous:r}),t()):!r&&n&&this.setState({previous:r})},r.render=function(){return null},t}(n.Component),d=function(e){var t=e.name,r=e.children;return(0,n.createElement)(i.D0,{name:t,subscription:{active:!0},render:function(e){return(0,n.createElement)(h,o({},e,{children:r}))}})}},90952:(e,t,r)=>{"use strict";r.d(t,{D0:()=>g,Pc:()=>w,lV:()=>x});var n=r(96540),i=r(5556),o=r.n(i),a=r(67356);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function u(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function c(e,t,r){return e?!t||r.some(function(r){return e[r]!==t[r]}):!!t}function h(e,t){var r=e.render,i=e.children,o=e.component,a=u(e,["render","children","component"]);return o?(0,n.createElement)(o,s({},a,{children:i,render:r})):r?r(s({},a,{children:i})):"function"!=typeof i?null:i(a)}var d="undefined"!=typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,f=function(e){var t=[];if(e)for(var r=0;r<e.length;r++){var n=e[r];n.selected&&t.push(n.value)}return t},p=function(e,t,r,n){if(!n&&e.nativeEvent&&void 0!==e.nativeEvent.text||n&&e.nativeEvent)return e.nativeEvent.text;var i=e.target,o=i.type,a=i.value,s=i.checked;switch(o){case"checkbox":if(void 0===r)return!!s;if(s)return Array.isArray(t)?t.concat(r):[r];if(!Array.isArray(t))return t;var l=t.indexOf(r);if(l<0)return t;return t.slice(0,l).concat(t.slice(l+1));case"select-multiple":return f(e.target.options);default:return a}},m=a.iF.reduce(function(e,t){return e[t]=!0,e},{}),g=function(e){function t(t,r){var n,i;return(n=e.call(this,t,r)||this).subscribe=function(e,t){var r=e.isEqual,i=e.name,o=e.subscription,a=e.validateFields;n.unsubscribe=n.context.reactFinalForm.registerField(i,t,o||m,{isEqual:r,getValidator:function(){return n.props.validate},validateFields:a})},n.notify=function(e){return n.setState({state:e})},n.handlers={onBlur:function(e){var t=n.state.state;if(t){var r=n.props,i=r.format,o=r.formatOnBlur;t.blur(),i&&o&&t.change(i(t.value,t.name))}},onChange:function(e){var t=n.props,r=t.parse,i=t.value,o=e&&e.target?p(e,n.state.state&&n.state.state.value,i,d):e;n.state.state&&n.state.state.change(r?r(o,n.props.name):o)},onFocus:function(e){n.state.state&&n.state.state.focus()}},n.context.reactFinalForm&&n.subscribe(t,function(e){i?n.notify(e):i=e}),n.state={state:i},n}l(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){var t=this.props,r=t.name,n=t.subscription;(e.name!==r||c(e.subscription,n,a.iF))&&this.context.reactFinalForm&&(this.unsubscribe(),this.subscribe(this.props,this.notify))},r.componentWillUnmount=function(){this.unsubscribe()},r.render=function(){var e=this.props,r=e.allowNull,i=e.component,o=e.children,a=e.format,l=e.formatOnBlur,c=(e.parse,e.isEqual,e.name),d=(e.subscription,e.validate,e.validateFields,e.value),f=u(e,["allowNull","component","children","format","formatOnBlur","parse","isEqual","name","subscription","validate","validateFields","value"]),p=this.state.state||{},m=(p.blur,p.change,p.focus,p.value),g=(p.name,u(p,["blur","change","focus","value","name"])),y={active:g.active,data:g.data,dirty:g.dirty,dirtySinceLastSubmit:g.dirtySinceLastSubmit,error:g.error,initial:g.initial,invalid:g.invalid,pristine:g.pristine,submitError:g.submitError,submitFailed:g.submitFailed,submitSucceeded:g.submitSucceeded,submitting:g.submitting,touched:g.touched,valid:g.valid,visited:g.visited};l?m=t.defaultProps.format(m,c):a&&(m=a(m,c)),null!==m||r||(m="");var v=s({name:c,value:m},this.handlers);return("checkbox"===f.type?void 0===d?v.checked=!!m:(v.checked=!!(Array.isArray(m)&&~m.indexOf(d)),v.value=d):"radio"===f.type?(v.checked=m===d,v.value=d):"select"===i&&f.multiple&&(v.value=v.value||[]),"function"==typeof o)?o(s({input:v,meta:y},f)):"string"==typeof i?(0,n.createElement)(i,s({},v,{children:o},f)):h(s({},{input:v,meta:y},{children:o,component:i},f),"Field("+c+")")},t}(n.Component);g.contextTypes={reactFinalForm:o().object},g.defaultProps={format:function(e,t){return void 0===e?"":e},parse:function(e,t){return""===e?void 0:e}};var y=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++){var a=r[o];if(!i(a)||e[a]!==t[a])return!1}return!0},v=function(e){return!!(e&&"function"==typeof e.stopPropagation)},b={"final-form":a.rE,"react-final-form":"3.6.0"},_=a.u9.reduce(function(e,t){return e[t]=!0,e},{}),x=function(e){function t(t){(r=e.call(this,t)||this).notify=function(e){r.mounted&&r.setState({state:e}),r.mounted=!0},r.handleSubmit=function(e){return e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),r.form.submit()},t.children,t.component,t.render;var r,n=t.subscription,i=t.decorators,o=u(t,["children","component","render","subscription","decorators"]);r.mounted=!1;try{r.form=(0,a.DG)(o)}catch(e){}if(r.unsubscriptions=[],r.form){var s={};r.form.subscribe(function(e){s=e},n||_)(),r.state={state:s}}return i&&i.forEach(function(e){r.unsubscriptions.push(e(r.form))}),r}l(t,e);var r=t.prototype;return r.getChildContext=function(){return{reactFinalForm:this.form}},r.componentWillMount=function(){this.form&&this.form.pauseValidation()},r.componentDidMount=function(){this.form&&(this.unsubscriptions.push(this.form.subscribe(this.notify,this.props.subscription||_)),this.form.resumeValidation())},r.componentWillUpdate=function(){this.form&&(this.resumeValidation=this.resumeValidation||!this.form.isValidationPaused(),this.form.pauseValidation())},r.componentDidUpdate=function(e){var t=this;this.form&&this.resumeValidation&&this.form.resumeValidation(),this.props.initialValues&&!(this.props.initialValuesEqual||y)(e.initialValues,this.props.initialValues)&&this.form.initialize(this.props.initialValues),a.hB.forEach(function(r){"initialValues"!==r&&e[r]!==t.props[r]&&t.form.setConfig(r,t.props[r])})},r.componentWillUnmount=function(){this.unsubscriptions.forEach(function(e){return e()})},r.render=function(){var e=this,t=this.props,r=(t.debug,t.initialValues,t.mutators,t.onSubmit,t.subscription,t.validate,t.validateOnBlur,u(t,["debug","initialValues","mutators","onSubmit","subscription","validate","validateOnBlur"])),n=s({},this.state?this.state.state:{},{batch:this.form&&function(t){return e.form.batch(t)},blur:this.form&&function(t){return e.form.blur(t)},change:this.form&&function(t,r){return e.form.change(t,r)},focus:this.form&&function(t){return e.form.focus(t)},form:s({},this.form,{reset:function(t){v(t)?e.form.reset():e.form.reset(t)}}),handleSubmit:this.handleSubmit,initialize:this.form&&function(t){return e.form.initialize(t)},mutators:this.form&&Object.keys(this.form.mutators).reduce(function(t,r){return t[r]=function(){var t;(t=e.form.mutators)[r].apply(t,arguments)},t},{}),reset:this.form&&function(t){return e.form.reset(t)}});return h(s({},r,n,{__versions:b}),"ReactFinalForm")},t}(n.Component);x.childContextTypes={reactFinalForm:o().object};var w=function(e){function t(t,r){var n,i;return(n=e.call(this,t,r)||this).subscribe=function(e,t){var r=e.subscription;n.unsubscribe=n.context.reactFinalForm.subscribe(t,r||_)},n.notify=function(e){n.setState({state:e}),n.props.onChange&&n.props.onChange(e)},n.context.reactFinalForm&&n.subscribe(t,function(e){i?n.notify(e):(i=e,t.onChange&&t.onChange(e))}),i&&(n.state={state:i}),n}l(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){var t=this.props.subscription;c(e.subscription,t,a.u9)&&this.context.reactFinalForm&&(this.unsubscribe(),this.subscribe(this.props,this.notify))},r.componentWillUnmount=function(){this.unsubscribe()},r.render=function(){var e=this.props,t=e.onChange,r=(e.subscription,u(e,["onChange","subscription"])),n=this.context.reactFinalForm,i={batch:n&&function(e){return n.batch(e)},blur:n&&function(e){return n.blur(e)},change:n&&function(e,t){return n.change(e,t)},focus:n&&function(e){return n.focus(e)},form:s({},n,{reset:function(e){v(e)?n.reset():n.reset(e)}}),initialize:n&&function(e){return n.initialize(e)},mutators:n&&Object.keys(n.mutators).reduce(function(e,t){return e[t]=function(){var e;(e=n.mutators)[t].apply(e,arguments)},e},{}),reset:n&&function(e){return n.reset(e)}};return t?null:h(s({},r,this.state?this.state.state:{},i),"FormSpy")},t}(n.Component);w.contextTypes={reactFinalForm:o().object}},68154:(e,t,r)=>{"use strict";r.d(t,{m:()=>K});var n=r(5556),i=r.n(n),o=r(64647),a=r.n(o),s=r(30115),l=r.n(s),u=r(96540),c=r(45228),h=r.n(c),d={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},f={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(f).map(function(e){return f[e]});var p={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},g={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},y=Object.keys(m).reduce(function(e,t){return e[m[t]]=t,e},{}),v=[f.NOSCRIPT,f.SCRIPT,f.STYLE],b="data-react-helmet",_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){var r={};for(var n in e)!(t.indexOf(n)>=0)&&Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},P=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},C=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},A=function(e){var t=O(e,f.TITLE),r=O(e,g.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var n=O(e,g.DEFAULT_TITLE);return t||n||void 0},M=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return S({},e,t)},{})},k=function(e,t,r){var n={};return r.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&j("Helmet: "+e+' should be of type "Array". Instead found type "'+_(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,r){var i={};r.filter(function(e){for(var r=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],l=s.toLowerCase();-1!==t.indexOf(l)&&(r!==p.REL||"canonical"!==e[r].toLowerCase())&&(l!==p.REL||"stylesheet"!==e[l].toLowerCase())&&(r=l),-1!==t.indexOf(s)&&(s===p.INNER_HTML||s===p.CSS_TEXT||s===p.ITEM_PROP)&&(r=s)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][u]&&(i[r][u]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=h()({},n[s],i[s]);n[s]=l}return e},[]).reverse()},O=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},I=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){I(t)},0)}}(),R=function(e){return clearTimeout(e)},D="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||I:r.g.requestAnimationFrame||I,L="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||R:r.g.cancelAnimationFrame||R,j=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},z=null,B=function(e,t){var r=e.baseTag,n=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,u=e.scriptTags,c=e.styleTags,h=e.title,d=e.titleAttributes;V(f.BODY,n),V(f.HTML,i),N(h,d);var p={baseTag:U(f.BASE,r),linkTags:U(f.LINK,o),metaTags:U(f.META,a),noscriptTags:U(f.NOSCRIPT,s),scriptTags:U(f.SCRIPT,u),styleTags:U(f.STYLE,c)},m={},g={};Object.keys(p).forEach(function(e){var t=p[e],r=t.newTags,n=t.oldTags;r.length&&(m[e]=r),n.length&&(g[e]=p[e].oldTags)}),t&&t(),l(e,m,g)},F=function(e){return Array.isArray(e)?e.join(""):e},N=function(e,t){void 0!==e&&document.title!==e&&(document.title=F(e)),V(f.TITLE,t)},V=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(b),i=n?n.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],u=t[l]||"";r.getAttribute(l)!==u&&r.setAttribute(l,u),-1===i.indexOf(l)&&i.push(l);var c=o.indexOf(l);-1!==c&&o.splice(c,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);i.length===o.length?r.removeAttribute(b):r.getAttribute(b)!==a.join(",")&&r.setAttribute(b,a.join(","))}},U=function(e,t){var r=document.head||document.querySelector(f.HEAD),n=r.querySelectorAll(e+"["+b+"]"),i=Array.prototype.slice.call(n),o=[],a=void 0;return t&&t.length&&t.forEach(function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n)){if(n===p.INNER_HTML)r.innerHTML=t.innerHTML;else if(n===p.CSS_TEXT)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[n]?"":t[n];r.setAttribute(n,s)}}r.setAttribute(b,"true"),i.some(function(e,t){return a=t,r.isEqualNode(e)})?i.splice(a,1):o.push(r)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return r.appendChild(e)}),{oldTags:i,newTags:o}},G=function(e){return Object.keys(e).reduce(function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n},"")},H=function(e,t,r,n){var i=G(r),o=F(t);return i?"<"+e+" "+b+'="true" '+i+">"+C(o,n)+"</"+e+">":"<"+e+" "+b+'="true">'+C(o,n)+"</"+e+">"},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,r){return t[m[r]||r]=e[r],t},t)},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,r){return t[y[r]||r]=e[r],t},t)},W=function(e,t,r){var n,i=q(r,((n={key:t})[b]=!0,n));return[u.createElement(f.TITLE,i,t)]},X=function(e,t,r){switch(e){case f.TITLE:return{toComponent:function(){return W(e,t.title,t.titleAttributes,r)},toString:function(){return H(e,t.title,t.titleAttributes,r)}};case d.BODY:case d.HTML:return{toComponent:function(){return q(t)},toString:function(){return G(t)}};default:return{toComponent:function(){return t.map(function(t,r){var n,i=((n={key:r})[b]=!0,n);return Object.keys(t).forEach(function(e){var r=m[e]||e;if(r===p.INNER_HTML||r===p.CSS_TEXT){var n=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:n}}else i[r]=t[e]}),u.createElement(e,i)})},toString:function(){return t.reduce(function(t,n){var i=Object.keys(n).filter(function(e){return e!==p.INNER_HTML&&e!==p.CSS_TEXT}).reduce(function(e,t){var i=void 0===n[t]?t:t+'="'+C(n[t],r)+'"';return e?e+" "+i:i},""),o=n.innerHTML||n.cssText||"",a=-1===v.indexOf(e);return t+"<"+e+" "+b+'="true" '+i+(a?"/>":">"+o+"</"+e+">")},"")}}}},Z=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.scriptTags,u=e.styleTags,c=e.title,h=e.titleAttributes;return{base:X(f.BASE,t,n),bodyAttributes:X(d.BODY,r,n),htmlAttributes:X(d.HTML,i,n),link:X(f.LINK,o,n),meta:X(f.META,a,n),noscript:X(f.NOSCRIPT,s,n),script:X(f.SCRIPT,l,n),style:X(f.STYLE,u,n),title:X(f.TITLE,{title:void 0===c?"":c,titleAttributes:h},n)}},K=function(e){var t,r;return r=t=function(t){function r(){return x(this,r),P(this,t.apply(this,arguments))}return T(r,t),r.prototype.shouldComponentUpdate=function(e){return!l()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case f.SCRIPT:case f.NOSCRIPT:return{innerHTML:t};case f.STYLE:return{cssText:t}}throw Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return S({},n,((t={})[r.type]=[].concat(n[r.type]||[],[S({},i,this.mapNestedChildrenToProps(r,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(n.type){case f.TITLE:return S({},i,((t={})[n.type]=a,t.titleAttributes=S({},o),t));case f.BODY:return S({},i,{bodyAttributes:S({},o)});case f.HTML:return S({},i,{htmlAttributes:S({},o)})}return S({},i,((r={})[n.type]=S({},o),r))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=S({},t);return Object.keys(e).forEach(function(t){var n;r=S({},r,((n={})[t]=e[t],n))}),r},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,t){var r=this,n={};return u.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,o=i.children,a=$(E(i,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case f.LINK:case f.META:case f.NOSCRIPT:case f.SCRIPT:case f.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:a,nestedChildren:o});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:o})}}}),t=this.mapArrayTypeChildrenToProps(n,t)},r.prototype.render=function(){var t=this.props,r=t.children,n=S({},E(t,["children"]));return r&&(n=this.mapChildrenToProps(r,n)),u.createElement(e,n)},w(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(u.Component),t.propTypes={base:i().object,bodyAttributes:i().object,children:i().oneOfType([i().arrayOf(i().node),i().node]),defaultTitle:i().string,defer:i().bool,encodeSpecialCharacters:i().bool,htmlAttributes:i().object,link:i().arrayOf(i().object),meta:i().arrayOf(i().object),noscript:i().arrayOf(i().object),onChangeClientState:i().func,script:i().arrayOf(i().object),style:i().arrayOf(i().object),title:i().string,titleAttributes:i().object,titleTemplate:i().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=Z({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(a()(function(e){var t;return{baseTag:(t=[p.HREF,p.TARGET],e.filter(function(e){return void 0!==e[f.BASE]}).map(function(e){return e[f.BASE]}).reverse().reduce(function(e,r){if(!e.length)for(var n=Object.keys(r),i=0;i<n.length;i++){var o=n[i].toLowerCase();if(-1!==t.indexOf(o)&&r[o])return e.concat(r)}return e},[])),bodyAttributes:M(d.BODY,e),defer:O(e,g.DEFER),encode:O(e,g.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:M(d.HTML,e),linkTags:k(f.LINK,[p.REL,p.HREF],e),metaTags:k(f.META,[p.NAME,p.CHARSET,p.HTTPEQUIV,p.PROPERTY,p.ITEM_PROP],e),noscriptTags:k(f.NOSCRIPT,[p.INNER_HTML],e),onChangeClientState:O(e,g.ON_CHANGE_CLIENT_STATE)||function(){},scriptTags:k(f.SCRIPT,[p.SRC,p.INNER_HTML],e),styleTags:k(f.STYLE,[p.CSS_TEXT],e),title:A(e),titleAttributes:M(d.TITLE,e)}},function(e){z&&L(z),e.defer?z=D(function(){B(e,function(){z=null})}):(B(e),z=null)},Z)(function(){return null}));K.renderStatic=K.rewind},64647:(e,t,r)=>{"use strict";var n=r(96540),i=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=!!("undefined"!=typeof window&&window.document&&window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){if("function"!=typeof s)throw Error("Expected WrappedComponent to be a React component.");var l,u=[];function c(){l=e(u.map(function(e){return e.props})),h.canUseDOM?t(l):r&&(l=r(l))}var h=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,t.peek=function(){return l},t.rewind=function(){if(t.canUseDOM)throw Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,u=[],e};var r=t.prototype;return r.UNSAFE_componentWillMount=function(){u.push(this),c()},r.componentDidUpdate=function(){c()},r.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),c()},r.render=function(){return i.createElement(s,this.props)},t}(n.PureComponent);return o(h,"displayName","SideEffect("+(s.displayName||s.name||"Component")+")"),o(h,"canUseDOM",a),h}}},23257:(e,t,r)=>{e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r(2))&&n.__esModule?n:{default:n};t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var i=r(3),o=n(r(4)),a=n(r(14)),s=n(r(15));function l(e){var t=e.activeClassName,r=void 0===t?"":t,n=e.activeIndex,o=void 0===n?-1:n,l=e.activeStyle,u=e.autoEscape,c=e.caseSensitive,h=void 0!==c&&c,d=e.className,f=e.findChunks,p=e.highlightClassName,m=void 0===p?"":p,g=e.highlightStyle,y=void 0===g?{}:g,v=e.highlightTag,b=e.sanitize,_=e.searchWords,x=e.textToHighlight,w=e.unhighlightClassName,S=void 0===w?"":w,T=e.unhighlightStyle,E=(0,i.findAll)({autoEscape:u,caseSensitive:h,findChunks:f,sanitize:b,searchWords:_,textToHighlight:x}),P=void 0===v?"mark":v,C=-1,A="",M=void 0,k=(0,s.default)(function(e){var t={};for(var r in e)t[r.toLowerCase()]=e[r];return t});return a.default.createElement("span",{className:d},E.map(function(e,t){var n=x.substr(e.start,e.end-e.start);if(!e.highlight)return a.default.createElement("span",{className:S,key:t,style:T},n);C++;var i=void 0;i="object"==typeof m?h?m[n]:(m=k(m))[n.toLowerCase()]:m;var s=C===+o;return A=i+" "+(s?r:""),M=!0===s&&null!=l?Object.assign({},y,l):y,a.default.createElement(P,{className:A,key:t,style:M},n)}))}l.propTypes={activeClassName:o.default.string,activeIndex:o.default.number,activeStyle:o.default.object,autoEscape:o.default.bool,className:o.default.string,findChunks:o.default.func,highlightClassName:o.default.oneOfType([o.default.object,o.default.string]),highlightStyle:o.default.object,highlightTag:o.default.oneOfType([o.default.node,o.default.func,o.default.string]),sanitize:o.default.func,searchWords:o.default.arrayOf(o.default.string).isRequired,textToHighlight:o.default.string.isRequired,unhighlightClassName:o.default.string,unhighlightStyle:o.default.object},e.exports=t.default},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,o=e.caseSensitive,a=e.findChunks,s=void 0===a?n:a,l=e.sanitize,u=e.searchWords,c=e.textToHighlight;return i({chunksToHighlight:r({chunks:s({autoEscape:t,caseSensitive:void 0!==o&&o,sanitize:l,searchWords:u,textToHighlight:c})}),totalLength:c?c.length:0})};var r=t.combineChunks=function(e){return e.chunks.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var r=e.pop();if(t.start<=r.end){var n=Math.max(r.end,t.end);e.push({start:r.start,end:n})}else e.push(r,t);return e},[])},n=function(e){var t=e.autoEscape,r=e.caseSensitive,n=e.sanitize,i=void 0===n?o:n,a=e.searchWords,s=e.textToHighlight;return s=i(s),a.filter(function(e){return e}).reduce(function(e,n){n=i(n),t&&(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var o=new RegExp(n,r?"g":"gi"),a=void 0;a=o.exec(s);){var l=a.index,u=o.lastIndex;u>l&&e.push({start:l,end:u}),a.index==o.lastIndex&&o.lastIndex++}return e},[])};t.findChunks=n;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,r=e.totalLength,n=[],i=function(e,t,r){t-e>0&&n.push({start:e,end:t,highlight:r})};if(0===t.length)i(0,r,!1);else{var o=0;t.forEach(function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end}),i(o,r,!1)}return n};function o(e){return e}}])},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(6)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},!0)}else e.exports=r(13)()}).call(t,r(5))},function(e,t){var r,n,i,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],c=!1,h=-1;function d(){c&&i&&(c=!1,i.length?u=i.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=l(d);c=!0;for(var t=u.length;t;){for(i=u,u=[];++h<t;)i&&i[h].run();h=-1,t=u.length}i=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(t){"use strict";var n=r(7),i=r(8),o=r(9),a=r(10),s=r(11),l=r(12);e.exports=function(e,r){var u="function"==typeof Symbol&&Symbol.iterator,c="<<anonymous>>",h={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:f(n.thatReturnsNull),arrayOf:function(e){return f(function(t,r,n,i,o){if("function"!=typeof e)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r];if(!Array.isArray(a))return new d("Invalid "+i+" `"+o+"` of type "+("`"+m(a))+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<a.length;l++){var u=e(a,l,n,i,o+"["+l+"]",s);if(u instanceof Error)return u}return null})},element:f(function(t,r,n,i,o){var a=t[r];return e(a)?null:new d("Invalid "+i+" `"+o+"` of type "+("`"+m(a))+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(e){return f(function(t,r,n,i,o){if(!(t[r]instanceof e)){var a,s=e.name||c;return new d("Invalid "+i+" `"+o+"` of type "+("`"+((a=t[r]).constructor&&a.constructor.name?a.constructor.name:c))+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null})},node:f(function(t,r,n,i,o){return!function t(r){switch(typeof r){case"number":case"string":case"undefined":return!0;case"boolean":return!r;case"object":if(Array.isArray(r))return r.every(t);if(null===r||e(r))return!0;var n=function(e){var t=e&&(u&&e[u]||e["@@iterator"]);if("function"==typeof t)return t}(r);if(!n)return!1;var i,o=n.call(r);if(n!==r.entries){for(;!(i=o.next()).done;)if(!t(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!t(a[1]))return!1}return!0;default:return!1}}(t[r])?new d("Invalid "+i+" `"+o+"` supplied to `"+n+"`, expected a ReactNode."):null}),objectOf:function(e){return f(function(t,r,n,i,o){if("function"!=typeof e)return new d("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],l=m(a);if("object"!==l)return new d("Invalid "+i+" `"+o+"` of type "+("`"+l)+"` supplied to `"+n+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,n,i,o+"."+u,s);if(c instanceof Error)return c}return null})},oneOf:function(e){return Array.isArray(e)?f(function(t,r,n,i,o){for(var a,s=t[r],l=0;l<e.length;l++)if(s===(a=e[l])?0!==s||1/s==1/a:s!=s&&a!=a)return null;return new d("Invalid "+i+" `"+o+"` of value `"+s+"` "+("supplied to `"+n)+"`, expected one of "+JSON.stringify(e)+".")}):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var r=0;r<e.length;r++){var i=e[r];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",function(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}(i),r),n.thatReturnsNull}return f(function(t,r,n,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,r,n,i,o,s))return null;return new d("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")})},shape:function(e){return f(function(t,r,n,i,o){var a=t[r],l=m(a);if("object"!==l)return new d("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var h=c(a,u,n,i,o+"."+u,s);if(h)return h}}return null})},exact:function(e){return f(function(t,r,n,i,o){var l=t[r],u=m(l);if("object"!==u)return new d("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");var c=a({},t[r],e);for(var h in c){var f=e[h];if(!f)return new d("Invalid "+i+" `"+o+"` key `"+h+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=f(l,h,n,i,o+"."+h,s);if(p)return p}return null})}};function d(e){this.message=e,this.stack=""}function f(e){if("production"!==t.env.NODE_ENV)var n={},a=0;function l(l,u,h,f,p,m,g){if(f=f||c,m=m||h,g!==s){if(r)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+h;!n[y]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),n[y]=!0,a++)}}return null!=u[h]?e(u,h,f,p,m):l?new d(null===u[h]?"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null}var u=l.bind(null,!1);return u.isRequired=l.bind(null,!0),u}function p(e){return f(function(t,r,n,i,o,a){var s=t[r];return m(s)!==e?new d("Invalid "+i+" `"+o+"` of type "+("`"+g(s))+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol?"symbol":t}function g(e){if(null==e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}return d.prototype=Error.prototype,h.checkPropTypes=l,h.PropTypes=h,h}}).call(t,r(5))},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){(function(t){"use strict";var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw Error("invariant requires an error message argument")}),e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;(u=Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,r(5))},function(e,t,r){(function(t){"use strict";var n=r(7);if("production"!==t.env.NODE_ENV){var i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(o);try{throw Error(o)}catch(e){}};n=function(e,t){if(void 0===t)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];i.apply(void 0,[t].concat(n))}}}e.exports=n}).call(t,r(5))},function(e,t){"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,t){for(var o,a,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(s[u]=o[u]);if(r){a=r(o);for(var c=0;c<a.length;c++)i.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}:Object.assign},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var n=r(8),i=r(9),o=r(11),a={};e.exports=function(e,r,s,l,u){if("production"!==t.env.NODE_ENV){for(var c in e)if(e.hasOwnProperty(c)){var h;try{n("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,c,typeof e[c]),h=e[c](r,c,l,s,null,o)}catch(e){h=e}if(i(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,c,typeof h),h instanceof Error&&!(h.message in a)){a[h.message]=!0;var d=u?u():"";i(!1,"Failed %s type: %s%s",s,h.message,null!=d?d:"")}}}}}).call(t,r(5))},function(e,t,r){"use strict";var n=r(7),i=r(8),o=r(11);e.exports=function(){function e(e,t,r,n,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){e.exports=r(96540)},function(e,t){"use strict";var r=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=void 0,i=[],o=void 0,a=!1,s=function(e,r){return t(e,i[r])};return function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];return a&&n===this&&r.length===i.length&&r.every(s)?o:(a=!0,n=this,i=r,o=e.apply(this,r))}}}])},45619:(e,t,r)=>{"use strict";r.d(t,{Op:()=>em,mN:()=>ed,xW:()=>ep});var n=r(96540),i=e=>e instanceof HTMLElement;let o={BLUR:"blur",CHANGE:"change",INPUT:"input"},a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},s="select",l="undefined",u={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};var c=e=>null==e;let h=e=>"object"==typeof e;var d=e=>!c(e)&&!Array.isArray(e)&&h(e)&&!(e instanceof Date),f=e=>/^\w*$/.test(e),p=e=>e.filter(Boolean),m=e=>p(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function g(e,t,r){let n=-1,i=f(t)?[t]:m(t),o=i.length,a=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==a){let r=e[t];o=d(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}e[t]=o,e=e[t]}return e}var y=(e,t={})=>{for(let r in e)f(r)?t[r]=e[r]:g(t,r,e[r]);return t},v=e=>void 0===e,b=(e={},t,r)=>{let n=p(t.split(/[,[\].]+?/)).reduce((e,t)=>c(e)?e:e[t],e);return v(n)||n===e?v(e[t])?r:e[t]:n},_=(e,t)=>{for(let r in e)if(b(t,r)){let t=e[r];if(t){if(t.ref.focus&&v(t.ref.focus()))break;if(t.options){t.options[0].ref.focus();break}}}},x=(e,t)=>{i(e)&&e.removeEventListener&&(e.removeEventListener(o.INPUT,t),e.removeEventListener(o.CHANGE,t),e.removeEventListener(o.BLUR,t))};let w={isValid:!1,value:null};var S=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e,w):w,T=e=>[...e].filter(({selected:e})=>e).map(({value:e})=>e),E=e=>"radio"===e.type,P=e=>"file"===e.type,C=e=>"checkbox"===e.type,A=e=>e.type===`${s}-multiple`;let M={value:!1,isValid:!1},k={value:!0,isValid:!0};var O=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.ref.checked).map(({ref:{value:e}})=>e);return{value:t,isValid:!!t.length}}let{checked:t,value:r,attributes:n}=e[0].ref;return t?n&&!v(n.value)?v(r)||""===r?k:{value:r,isValid:!0}:k:M}return M};function I(e,t,r,n,i){let o=e.current[t];if(o){let{ref:{value:e,disabled:t},ref:r,valueAsNumber:a,valueAsDate:s,setValueAs:l}=o;return t&&n?void 0:P(r)?r.files:E(r)?S(o.options).value:A(r)?T(r.options):C(r)?O(o.options).value:i?e:a?""===e?NaN:+e:s?r.valueAsDate:l?l(e):e}if(r)return b(r.current,t)}function R(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&R(e.parentNode)}var D=e=>d(e)&&!Object.keys(e).length,L=e=>"boolean"==typeof e;function j(e,t){let r;let n=f(t)?[t]:m(t),i=1==n.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=v(e)?n++:e[t[n++]];return e}(e,n),o=n[n.length-1];i&&delete i[o];for(let t=0;t<n.slice(0,-1).length;t++){let i,o=-1,a=n.slice(0,-(t+1)),s=a.length-1;for(t>0&&(r=e);++o<a.length;){let t=a[o];i=i?i[t]:e[t],s===o&&(d(i)&&D(i)||Array.isArray(i)&&!i.filter(e=>d(e)&&!D(e)||L(e)).length)&&(r?delete r[t]:delete e[t]),r=i}}return e}let z=(e,t)=>e&&e.ref===t;var B=e=>c(e)||!h(e);function F(e,t){if(B(e)||B(t))return t;for(let r in t){let n=e[r],i=t[r];try{e[r]=d(n)&&d(i)||Array.isArray(n)&&Array.isArray(i)?F(n,i):i}catch(e){}}return e}function N(e,t,r){if(B(e)||B(t)||e instanceof Date||t instanceof Date)return e===t;if(!(0,n.isValidElement)(e)){let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i of n){let n=e[i];if(!(r&&"ref"===i)){let e=t[i];if((d(n)||Array.isArray(n))&&(d(e)||Array.isArray(e))?!N(n,e,r):n!==e)return!1}}}return!0}function V(e,t,r,n,i){let o=-1;for(;++o<e.length;){for(let n in e[o])Array.isArray(e[o][n])?(r[o]||(r[o]={}),r[o][n]=[],V(e[o][n],b(t[o]||{},n,[]),r[o][n],r[o],n)):N(b(t[o]||{},n),e[o][n])?g(r[o]||{},n):r[o]=Object.assign(Object.assign({},r[o]),{[n]:!0});n&&!r.length&&delete n[i]}return r}var U=(e,t,r)=>F(V(e,t,r.slice(0,e.length)),V(t,e,r.slice(0,e.length))),G=e=>"string"==typeof e,H=(e,t,r,n,i)=>{let o={};for(let t in e.current)(v(i)||(G(i)?t.startsWith(i):Array.isArray(i)&&i.find(e=>t.startsWith(e))))&&(o[t]=I(e,t,void 0,n));return r?y(o):F(t,y(o))},q=({errors:e,name:t,error:r,validFields:n,fieldsWithValidation:i})=>{let o=v(r),a=b(e,t);return o&&!!a||!o&&!N(a,r,!0)||o&&b(i,t)&&!b(n,t)},$=e=>e instanceof RegExp,W=e=>d(e)&&!$(e)?e:{value:e,message:""},X=e=>"function"==typeof e,Z=e=>G(e)||(0,n.isValidElement)(e);function K(e,t,r="validate"){if(Z(e)||L(e)&&!e)return{type:r,message:Z(e)?e:"",ref:t}}var Y=(e,t,r,n,i)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[n]:i||!0})}):{},Q=async(e,t,{ref:r,ref:{value:n},options:i,required:o,maxLength:a,minLength:s,min:l,max:h,pattern:f,validate:p},m)=>{let g=r.name,y={},v=E(r),b=C(r),_=v||b,x=""===n,w=Y.bind(null,g,t,y),T=(e,t,n,i=u.maxLength,o=u.minLength)=>{let a=e?t:n;y[g]=Object.assign({type:e?i:o,message:a,ref:r},e?w(i,a):w(o,a))};if(o&&(!v&&!b&&(x||c(n))||L(n)&&!n||b&&!O(i).isValid||v&&!S(i).isValid)){let{value:n,message:i}=Z(o)?{value:!!o,message:o}:W(o);if(n&&(y[g]=Object.assign({type:u.required,message:i,ref:_?((e.current[g].options||[])[0]||{}).ref:r},w(u.required,i)),!t))return y}if((!c(l)||!c(h))&&""!==n){let e,i;let o=W(h),a=W(l);if(isNaN(n)){let t=r.valueAsDate||new Date(n);G(o.value)&&(e=t>new Date(o.value)),G(a.value)&&(i=t<new Date(a.value))}else{let t=r.valueAsNumber||parseFloat(n);c(o.value)||(e=t>o.value),c(a.value)||(i=t<a.value)}if((e||i)&&(T(!!e,o.message,a.message,u.max,u.min),!t))return y}if(G(n)&&!x&&(a||s)){let e=W(a),r=W(s),i=!c(e.value)&&n.length>e.value,o=!c(r.value)&&n.length<r.value;if((i||o)&&(T(i,e.message,r.message),!t))return y}if(G(n)&&f&&!x){let{value:e,message:i}=W(f);if($(e)&&!e.test(n)&&(y[g]=Object.assign({type:u.pattern,message:i,ref:r},w(u.pattern,i)),!t))return y}if(p){let n=I(e,g,m,!1,!0),o=_&&i?i[0].ref:r;if(X(p)){let e=K(await p(n),o);e&&(y[g]=Object.assign(Object.assign({},e),w(u.validate,e.message)))}else if(d(p)){let e={};for(let[r,i]of Object.entries(p)){if(!D(e)&&!t)break;let a=K(await i(n),o,r);a&&(e=Object.assign(Object.assign({},a),w(r,a.message)),t&&(y[g]=e))}D(e)||(y[g]=Object.assign({ref:o},e))}}return y};let J=(e,t,r=[])=>{for(let n in t){let i=e+(d(t)?`.${n}`:`[${n}]`);B(t[n])?r.push(i):J(i,t[n],r)}return r};var ee=(e,t,r,n,i)=>{let o;return r.add(t),!D(e)&&(d(o=b(e,t))||Array.isArray(o))&&J(t,o).forEach(e=>r.add(e)),v(o)?i?n:b(n,t):o},et=({isOnBlur:e,isOnChange:t,isOnTouch:r,isTouched:n,isReValidateOnBlur:i,isReValidateOnChange:o,isBlurEvent:a,isSubmitted:s,isOnAll:l})=>!l&&(!s&&r?!(n||a):(s?i:e)?!a:(s?!o:!t)||a),er=e=>e.substring(0,e.indexOf("["));let en=(e,t)=>RegExp(`^${t}([|.)\\d+`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e);var ei=(e,t)=>[...e].some(e=>en(t,e)),eo=e=>e.type===`${s}-one`,ea=typeof window!==l&&typeof document!==l;function es(e){var t;let r;if(B(e)||ea&&(e instanceof File||i(e))||!["Set","Map","Object","Date","Array"].includes(null===(t=e.constructor)||void 0===t?void 0:t.name))return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Set){for(let t of(r=new Set,e))r.add(t);return r}if(e instanceof Map){for(let t of(r=new Map,e.keys()))r.set(t,es(e.get(t)));return r}for(let t in r=Array.isArray(e)?[]:{},e)r[t]=es(e[t]);return r}var el=e=>({isOnSubmit:!e||e===a.onSubmit,isOnBlur:e===a.onBlur,isOnChange:e===a.onChange,isOnAll:e===a.all,isOnTouch:e===a.onTouched}),eu=e=>E(e)||C(e);let ec=typeof window===l,eh=ea?"Proxy"in window:typeof Proxy!==l;function ed({mode:e=a.onSubmit,reValidateMode:t=a.onChange,resolver:r,context:s,defaultValues:l={},shouldFocusError:u=!0,shouldUnregister:h=!0,criteriaMode:m}={}){let w=(0,n.useRef)({}),S=(0,n.useRef)({}),T=(0,n.useRef)({}),M=(0,n.useRef)(new Set),k=(0,n.useRef)({}),O=(0,n.useRef)({}),L=(0,n.useRef)({}),F=(0,n.useRef)({}),V=(0,n.useRef)(l),$=(0,n.useRef)(!1),W=(0,n.useRef)(!1),Z=(0,n.useRef)(),K=(0,n.useRef)({}),Y=(0,n.useRef)({}),en=(0,n.useRef)(s),ef=(0,n.useRef)(r),ep=(0,n.useRef)(new Set),em=(0,n.useRef)(el(e)),{isOnSubmit:eg,isOnTouch:ey}=em.current,ev=m===a.all,[eb,e_]=(0,n.useState)({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!eg,errors:{}}),ex=(0,n.useRef)({isDirty:!eh,dirtyFields:!eh,touched:!eh||ey,isValidating:!eh,isSubmitting:!eh,isValid:!eh}),ew=(0,n.useRef)(eb),eS=(0,n.useRef)(),{isOnBlur:eT,isOnChange:eE}=(0,n.useRef)(el(t)).current;en.current=s,ef.current=r,ew.current=eb,K.current=h?{}:D(K.current)?es(l):K.current;let eP=(0,n.useCallback)((e={})=>{$.current||(ew.current=Object.assign(Object.assign({},ew.current),e),e_(ew.current))},[]),eC=()=>ex.current.isValidating&&eP({isValidating:!0}),eA=(0,n.useCallback)((e,t,r=!1,n={},i)=>{let o=r||q({errors:ew.current.errors,error:t,name:e,validFields:F.current,fieldsWithValidation:L.current}),a=b(ew.current.errors,e);t?(j(F.current,e),o=o||!a||!N(a,t,!0),g(ew.current.errors,e,t)):((b(L.current,e)||ef.current)&&(g(F.current,e,!0),o=o||a),j(ew.current.errors,e)),(o&&!c(r)||!D(n)||ex.current.isValidating)&&eP(Object.assign(Object.assign(Object.assign({},n),ef.current?{isValid:!!i}:{}),{isValidating:!1}))},[]),eM=(0,n.useCallback)((e,t)=>{let{ref:r,options:n}=w.current[e],o=ea&&i(r)&&c(t)?"":t;E(r)?(n||[]).forEach(({ref:e})=>e.checked=e.value===o):P(r)&&!G(o)?r.files=o:A(r)?[...r.options].forEach(e=>e.selected=o.includes(e.value)):C(r)&&n?n.length>1?n.forEach(({ref:e})=>e.checked=Array.isArray(o)?!!o.find(t=>t===e.value):o===e.value):n[0].ref.checked=!!o:r.value=o},[]),ek=(0,n.useCallback)((e,t)=>{if(ex.current.isDirty){let r=eN();return e&&t&&g(r,e,t),!N(r,V.current)}return!1},[]),eO=(0,n.useCallback)((e,t=!0)=>{if(ex.current.isDirty||ex.current.dirtyFields){let r=!N(b(V.current,e),I(w,e,K)),n=b(ew.current.dirtyFields,e),i=ew.current.isDirty;r?g(ew.current.dirtyFields,e,!0):j(ew.current.dirtyFields,e);let o={isDirty:ek(),dirtyFields:ew.current.dirtyFields},a=ex.current.isDirty&&i!==o.isDirty||ex.current.dirtyFields&&n!==b(ew.current.dirtyFields,e);return a&&t&&eP(o),a?o:{}}return{}},[]),eI=(0,n.useCallback)(async(e,t)=>{let r=(await Q(w,ev,w.current[e],K))[e];return eA(e,r,t),v(r)},[eA,ev]),eR=(0,n.useCallback)(async e=>{let{errors:t}=await ef.current(eN(),en.current,ev),r=ew.current.isValid;if(Array.isArray(e)){let r=e.map(e=>{let r=b(t,e);return r?g(ew.current.errors,e,r):j(ew.current.errors,e),!r}).every(Boolean);return eP({isValid:D(t),isValidating:!1}),r}{let n=b(t,e);return eA(e,n,r!==D(t),{},D(t)),!n}},[eA,ev]),eD=(0,n.useCallback)(async e=>{let t=e||Object.keys(w.current);if(eC(),ef.current)return eR(t);if(Array.isArray(t)){e||(ew.current.errors={});let r=await Promise.all(t.map(async e=>await eI(e,null)));return eP({isValidating:!1}),r.every(Boolean)}return await eI(t)},[eR,eI]),eL=(0,n.useCallback)((e,t,{shouldDirty:r,shouldValidate:n})=>{let i={};for(let o of(g(i,e,t),J(e,t)))w.current[o]&&(eM(o,b(i,o)),r&&eO(o),n&&eD(o))},[eD,eM,eO]),ej=(0,n.useCallback)((e,t,r)=>{if(h||B(t)||g(K.current,e,Array.isArray(t)?[...t]:Object.assign({},t)),w.current[e])eM(e,t),r.shouldDirty&&eO(e),r.shouldValidate&&eD(e);else if(!B(t)&&(eL(e,t,r),ep.current.has(e))){let n=er(e)||e;g(S.current,e,t),Y.current[n]({[n]:b(S.current,n)}),(ex.current.isDirty||ex.current.dirtyFields)&&r.shouldDirty&&(g(ew.current.dirtyFields,e,U(t,b(V.current,e,[]),b(ew.current.dirtyFields,e,[]))),eP({isDirty:!N(Object.assign(Object.assign({},eN()),{[e]:t}),V.current)}))}h||g(K.current,e,t)},[eO,eM,eL]),ez=e=>W.current||M.current.has(e)||M.current.has((e.match(/\w+/)||[])[0]),eB=e=>{let t=!0;if(!D(k.current))for(let r in k.current)(!e||!k.current[r].size||k.current[r].has(e)||k.current[r].has(er(e)))&&(O.current[r](),t=!1);return t};function eF(e){if(!h){let t=es(e);for(let e of ep.current)f(e)&&!t[e]&&(t=Object.assign(Object.assign({},t),{[e]:[]}));return t}return e}function eN(e){if(G(e))return I(w,e,K);if(Array.isArray(e)){let t={};for(let r of e)g(t,r,I(w,r,K));return t}return eF(H(w,es(K.current),h))}Z.current=Z.current?Z.current:async({type:e,target:t})=>{let r,n,i=t.name,a=w.current[i];if(a){let s=e===o.BLUR,l=et(Object.assign({isBlurEvent:s,isReValidateOnChange:eE,isReValidateOnBlur:eT,isTouched:!!b(ew.current.touched,i),isSubmitted:ew.current.isSubmitted},em.current)),u=eO(i,!1),c=!D(u)||!s&&ez(i);if(s&&!b(ew.current.touched,i)&&ex.current.touched&&(g(ew.current.touched,i,!0),u=Object.assign(Object.assign({},u),{touched:ew.current.touched})),!h&&C(t)&&g(K.current,i,I(w,i)),l)return s||eB(i),(!D(u)||c&&D(u))&&eP(u);if(eC(),ef.current){let{errors:e}=await ef.current(eN(),en.current,ev),o=ew.current.isValid;if(r=b(e,i),C(t)&&!r&&ef.current){let t=er(i),n=b(e,t,{});n.type&&n.message&&(r=n),t&&(n||b(ew.current.errors,t))&&(i=t)}o!==(n=D(e))&&(c=!0)}else r=(await Q(w,ev,a,K))[i];s||eB(i),eA(i,r,c,u,n)}};let eV=(0,n.useCallback)(async(e={})=>{let t=D(w.current)?V.current:{},{errors:r}=await ef.current(Object.assign(Object.assign(Object.assign({},t),eN()),e),en.current,ev)||{},n=D(r);ew.current.isValid!==n&&eP({isValid:n})},[ev]),eU=(0,n.useCallback)((e,t)=>{!function(e,t,r,n,i,o){let{ref:a,ref:{name:s}}=r,l=e.current[s];if(!i){let t=I(e,s,n);v(t)||g(n.current,s,t)}if(!a.type||!l){delete e.current[s];return}E(a)||C(a)?Array.isArray(l.options)&&l.options.length?(p(l.options).forEach((e={},r)=>{(R(e.ref)&&z(e,e.ref)||o)&&(x(e.ref,t),j(l.options,`[${r}]`))}),l.options&&!p(l.options).length&&delete e.current[s]):delete e.current[s]:(R(a)&&z(l,a)||o)&&(x(a,t),delete e.current[s])}(w,Z.current,e,K,h,t),h&&(j(F.current,e.ref.name),j(L.current,e.ref.name))},[h]),eG=(0,n.useCallback)(e=>{if(W.current)eP();else{for(let t of M.current)if(t.startsWith(e)){eP();break}eB(e)}},[]),eH=(0,n.useCallback)((e,t)=>{e&&(eU(e,t),h&&!p(e.options||[]).length&&(j(ew.current.errors,e.ref.name),g(ew.current.dirtyFields,e.ref.name,!0),eP({isDirty:ek()}),ex.current.isValid&&ef.current&&eV(),eG(e.ref.name)))},[eV,eU]),eq=(0,n.useCallback)((e,t,r)=>{let n=r?k.current[r]:M.current,i=H(w,es(K.current),h,!1,e);if(G(e)){let r=er(e)||e;return ep.current.has(r)&&(i=Object.assign(Object.assign({},T.current),i)),ee(i,e,n,v(b(V.current,e))?t:b(V.current,e),!0)}let o=v(t)?V.current:t;return Array.isArray(e)?e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:ee(i,t,n,o)}),{}):(W.current=v(r),y(!D(i)&&i||o))},[]);function e$(e,t={}){let r;let{name:n,type:a,value:s}=e,l=Object.assign({ref:e},t),u=w.current,c=eu(e),d=ei(ep.current,n),f=t=>ea&&(!i(e)||t===e),m=u[n],y=!0;if(m&&(c?Array.isArray(m.options)&&p(m.options).find(e=>s===e.ref.value&&f(e.ref)):f(m.ref))){u[n]=Object.assign(Object.assign({},m),t);return}m=a?c?Object.assign({options:[...p(m&&m.options||[]),{ref:e}],ref:{type:a,name:n}},t):Object.assign({},l):l,u[n]=m;let _=v(b(K.current,n));D(V.current)&&_||(y=v(r=b(_?V.current:K.current,n)))||d||eM(n,r),D(t)||(g(L.current,n,!0),!eg&&ex.current.isValid&&Q(w,ev,m,K).then(e=>{let t=ew.current.isValid;D(e)?g(F.current,n,!0):j(F.current,n),t!==D(e)&&eP()})),h&&!(d&&y)&&(d||j(ew.current.dirtyFields,n)),a&&function({ref:e},t,r){i(e)&&r&&(e.addEventListener(t?o.CHANGE:o.INPUT,r),e.addEventListener(o.BLUR,r))}(c&&m.options?m.options[m.options.length-1]:m,c||eo(e),Z.current)}let eW=(0,n.useCallback)((e,t)=>async r=>{r&&r.preventDefault&&(r.preventDefault(),r.persist());let n={},i=eF(H(w,es(K.current),h,!0));ex.current.isSubmitting&&eP({isSubmitting:!0});try{if(ef.current){let{errors:e,values:t}=await ef.current(i,en.current,ev);ew.current.errors=n=e,i=t}else for(let e of Object.values(w.current))if(e){let{name:t}=e.ref,r=await Q(w,ev,e,K);r[t]?(g(n,t,r[t]),j(F.current,t)):b(L.current,t)&&(j(ew.current.errors,t),g(F.current,t,!0))}D(n)&&Object.keys(ew.current.errors).every(e=>e in w.current)?(eP({errors:{},isSubmitting:!0}),await e(i,r)):(ew.current.errors=Object.assign(Object.assign({},ew.current.errors),n),t&&await t(ew.current.errors,r),u&&_(w.current,ew.current.errors))}finally{ew.current.isSubmitting=!1,eP({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:D(ew.current.errors),submitCount:ew.current.submitCount+1})}},[u,ev]),eX=({errors:e,isDirty:t,isSubmitted:r,touched:n,isValid:i,submitCount:o,dirtyFields:a})=>{i||(F.current={},L.current={}),S.current={},M.current=new Set,W.current=!1,eP({submitCount:o?ew.current.submitCount:0,isDirty:!!t&&ew.current.isDirty,isSubmitted:!!r&&ew.current.isSubmitted,isValid:!!i&&ew.current.isValid,dirtyFields:a?ew.current.dirtyFields:{},touched:n?ew.current.touched:{},errors:e?ew.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};(0,n.useEffect)(()=>{r&&ex.current.isValid&&eV(),eS.current=eS.current||!ea?eS.current:function(e,t){let r=new MutationObserver(()=>{for(let r of Object.values(e.current))if(r&&r.options)for(let e of r.options)e&&e.ref&&R(e.ref)&&t(r);else r&&R(r.ref)&&t(r)});return r.observe(window.document,{childList:!0,subtree:!0}),r}(w,eH)},[eH,V.current]),(0,n.useEffect)(()=>()=>{eS.current&&eS.current.disconnect(),$.current=!0,Object.values(w.current).forEach(e=>eH(e,!0))},[]),!r&&ex.current.isValid&&(eb.isValid=N(F.current,L.current)&&D(ew.current.errors));let eZ={trigger:eD,setValue:(0,n.useCallback)(function(e,t,r){ej(e,t,r||{}),ez(e)&&eP(),eB(e)},[ej,eD]),getValues:(0,n.useCallback)(eN,[]),register:(0,n.useCallback)(function(e,t){if(!ec){if(G(e))e$({name:e},t);else{if(!d(e)||!("name"in e))return t=>t&&e$(t,e);e$(e,t)}}},[V.current]),unregister:(0,n.useCallback)(function(e){for(let t of Array.isArray(e)?e:[e])eH(w.current[t],!0)},[]),formState:eh?new Proxy(eb,{get:(e,t)=>{if(t in e)return ex.current[t]=!0,e[t]}}):eb};return Object.assign({watch:function(e,t){return eq(e,t)},control:(0,n.useMemo)(()=>Object.assign({isFormDirty:ek,updateWatchedValue:eG,shouldUnregister:h,updateFormState:eP,removeFieldEventListener:eU,watchInternal:eq,mode:em.current,reValidateMode:{isReValidateOnBlur:eT,isReValidateOnChange:eE},validateResolver:r?eV:void 0,fieldsRef:w,resetFieldArrayFunctionRef:Y,useWatchFieldsRef:k,useWatchRenderFunctionsRef:O,fieldArrayDefaultValuesRef:S,validFieldsRef:F,fieldsWithValidationRef:L,fieldArrayNamesRef:ep,readFormStateRef:ex,formStateRef:ew,defaultValuesRef:V,shallowFieldsStateRef:K,fieldArrayValuesRef:T},eZ),[V.current,eG,h,eU,eq]),handleSubmit:eW,reset:(0,n.useCallback)((e,t={})=>{if(ea){for(let e of Object.values(w.current))if(e){let{ref:t,options:r}=e,n=eu(t)&&Array.isArray(r)?r[0].ref:t;if(i(n))try{n.closest("form").reset();break}catch(e){}}}w.current={},V.current=Object.assign({},e||V.current),e&&eB(""),Object.values(Y.current).forEach(e=>X(e)&&e()),K.current=h?{}:es(e||V.current),eX(t)},[]),clearErrors:(0,n.useCallback)(function(e){e&&(Array.isArray(e)?e:[e]).forEach(e=>w.current[e]&&f(e)?delete ew.current.errors[e]:j(ew.current.errors,e)),eP({errors:e?ew.current.errors:{}})},[]),setError:(0,n.useCallback)(function(e,t){let r=(w.current[e]||{}).ref;g(ew.current.errors,e,Object.assign(Object.assign({},t),{ref:r})),eP({isValid:!1}),t.shouldFocus&&r&&r.focus&&r.focus()},[]),errors:eb.errors},eZ)}let ef=(0,n.createContext)(null);ef.displayName="RHFContext";let ep=()=>(0,n.useContext)(ef),em=e=>{var{children:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["children"]);return(0,n.createElement)(ef.Provider,{value:Object.assign({},r)},t)}},22799:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},44363:(e,t,r)=>{"use strict";e.exports=r(22799)},71345:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState((function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}).bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s)throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+(e.displayName||e.name)+" uses "+("function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()")+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;l.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>a}),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},13976:(e,t,r)=>{"use strict";var n=r(96540),i=r(57510),o=r(44363);function a(e,t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}function s(e){var t=e.spread;return null==t?e.children.length>1:t}e.exports=function e(t,r){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=r.renderers[t.type];t.position||(t.position={start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}});var h=t.position.start,d=[t.type,h.line,h.column,u].join("-");if(!o.isValidElementType(c))throw Error("Renderer for type `".concat(t.type,"` not defined or is not renderable"));var f=function(t,r,o,l,u,c){var h,d,f={key:r},p="string"==typeof l||l===n.Fragment;o.sourcePos&&t.position&&(f["data-sourcepos"]=[(h=t.position).start.line,":",h.start.column,"-",h.end.line,":",h.end.column].map(String).join("")),o.rawSourcePos&&!p&&(f.sourcePosition=t.position),o.includeNodeIndex&&u.node&&u.node.children&&!p&&(f.index=u.node.children.indexOf(t),f.parentChildCount=u.node.children.length);var m=null!==t.identifier&&void 0!==t.identifier?o.definitions[t.identifier.toUpperCase()]||{}:null;switch(t.type){case"root":a(f,{className:o.className});break;case"text":f.nodeKey=r,f.children=t.value;break;case"heading":f.level=t.depth;break;case"list":f.start=t.start,f.ordered=t.ordered,f.spread=t.spread,f.depth=t.depth;break;case"listItem":f.checked=t.checked,f.spread=t.spread,f.ordered=t.ordered,f.index=t.index,f.children=((u&&u.node?function(e){for(var t=e.children,r=e.spread,n=-1;!r&&++n<t.length;)r=s(t[n]);return r}(u.node):s(t))?t.children:t.children.reduce(function(e,t){return e.concat("paragraph"===t.type?t.children:[t])},[])).map(function(r,n){return e(r,o,{node:t,props:f},n)});break;case"definition":a(f,{identifier:t.identifier,title:t.title,url:t.url});break;case"code":a(f,{language:t.lang&&t.lang.split(/\s/,1)[0]});break;case"inlineCode":f.children=t.value,f.inline=!0;break;case"link":a(f,{title:t.title||void 0,target:"function"==typeof o.linkTarget?o.linkTarget(t.url,t.children,t.title):o.linkTarget,href:o.transformLinkUri?o.transformLinkUri(t.url,t.children,t.title):t.url});break;case"image":a(f,{src:o.transformImageUri?o.transformImageUri(t.url,t.children,t.title,t.alt):t.url,alt:t.alt||"",title:t.title||void 0});break;case"linkReference":a(f,i(m,{href:o.transformLinkUri?o.transformLinkUri(m.href):m.href}));break;case"imageReference":a(f,{src:o.transformImageUri&&m.href?o.transformImageUri(m.href,t.children,m.title,t.alt):m.href,alt:t.alt||"",title:m.title||void 0});break;case"table":case"tableHead":case"tableBody":f.columnAlignment=t.align;break;case"tableRow":f.isHeader="tableHead"===u.node.type,f.columnAlignment=u.props.columnAlignment;break;case"tableCell":a(f,{isHeader:u.props.isHeader,align:u.props.columnAlignment[c]});break;case"virtualHtml":f.tag=t.tag;break;case"html":f.isBlock=t.position.start.line!==t.position.end.line,f.allowDangerousHtml=o.allowDangerousHtml,f.escapeHtml=o.escapeHtml,f.skipHtml=o.skipHtml;break;case"parsedHtml":t.children&&(d=t.children.map(function(r,n){return e(r,o,{node:t,props:f},n)})),f.allowDangerousHtml=o.allowDangerousHtml,f.escapeHtml=o.escapeHtml,f.skipHtml=o.skipHtml,f.element=t.element?function(e,t){var r=e.element;if(Array.isArray(r)){var i=n.Fragment||"div";return n.createElement(i,null,r)}if(r.props.children||t){var o=n.Children.toArray(r.props.children).concat(t);return n.cloneElement(r,null,o)}return n.cloneElement(r,null)}(t,d):null;break;default:a(f,i(t,{type:void 0,position:void 0,children:void 0}))}return!p&&t.value&&(f.value=t.value),p||(f.node=t),f}(t,d,r,c,l,u);return n.createElement(c,f,f.children||t.children&&t.children.map(function(n,i){return e(n,r,{node:t,props:f},i)})||void 0)}},20781:(e,t,r)=>{"use strict";var n=r(25223);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e,"definition",function(e){var r=e.identifier.toUpperCase();r in t||(t[r]={href:e.url,title:e.title})}),t}},63677:(e,t,r)=>{"use strict";var n=r(25223),i=[].splice;function o(e,t){return function(e){return n(e,r),e};function r(r,n,o){if(o&&!e(r,n,o)){var a=[n,1];return"unwrap"===t&&r.children&&(a=a.concat(r.children)),i.apply(o.children,a),n}}}t.ofType=function(e,t){return o(function(t,r,n){return!e.includes(t.type)},t)},t.ifNotMatch=o},43056:(e,t,r)=>{"use strict";var n=r(25223),i="virtualHtml",o=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,a=/^<(\/?)([a-z]+)\s*>$/;e.exports=function(e){var t,r;return n(e,"html",function(e,n,s){r!==s&&(t=[],r=s);var l,u,c,h,d=!!(l=e.value.match(o))&&l[1];if(d)return s.children.splice(n,1,{type:i,tag:d,position:e.position}),!0;var f=!!(u=e.value.match(a))&&{tag:u[2],opening:!u[1],node:e};if(!f)return!0;var p=function(e,t){for(var r=e.length;r--;)if(e[r].tag===t)return e.splice(r,1)[0];return!1}(t,f.tag);return p?s.children.splice(n,0,(c=s.children.indexOf(f.node),h=s.children.indexOf(p.node),{type:i,children:s.children.splice(c,h-c+1).slice(1,-1),tag:f.tag,position:{start:f.node.position.start,end:p.node.position.end,indent:[]}})):f.opening||t.push(f),!0},!0),e}},75331:(e,t,r)=>{"use strict";var n=r(57510),i=r(47301),o=r(87320),a=r(5556),s=r(36873),l=r(43056),u=r(63677),c=r(13976),h=r(74239),d=r(20781),f=r(95562),p=r(67466),m=r(8091),g=Object.keys(p),y=function(e){var t,r,a,f,y,v=e.source||e.children||"";if(e.allowedTypes&&e.disallowedTypes)throw Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var b=n(p,e.renderers),_=i().use(o).use(e.plugins||[]),x=_.runSync(_.parse(v)),w=n(e,{renderers:b,definitions:d(x)});return(t=[h,s()],r=e.disallowedTypes,e.allowedTypes&&(r=g.filter(function(t){return"root"!==t&&-1===e.allowedTypes.indexOf(t)})),a=e.unwrapDisallowed?"unwrap":"remove",r&&r.length>0&&t.push(u.ofType(r,a)),e.allowNode&&t.push(u.ifNotMatch(e.allowNode,a)),f=(e.allowDangerousHtml||!1===e.escapeHtml)&&!e.skipHtml,y=(e.astPlugins||[]).some(function(e){return e.identity===m.HtmlParser}),f&&!y&&t.push(l),e.astPlugins&&(t=t.concat(e.astPlugins)),t.push(c),t).forEach(function(e){x=e(x,w)}),x};y.defaultProps={transformLinkUri:f},y.propTypes={className:a.string,source:a.string,children:a.string,sourcePos:a.bool,rawSourcePos:a.bool,escapeHtml:a.bool,allowDangerousHtml:a.bool,skipHtml:a.bool,allowNode:a.func,allowedTypes:a.arrayOf(a.oneOf(g)),disallowedTypes:a.arrayOf(a.oneOf(g)),transformLinkUri:a.oneOfType([a.func,a.bool]),linkTarget:a.oneOfType([a.func,a.string]),transformImageUri:a.func,astPlugins:a.arrayOf(a.func),unwrapDisallowed:a.bool,renderers:a.object,plugins:a.array},y.types=g,y.renderers=p,y.uriTransformer=f,e.exports=y},67466:(e,t,r)=>{"use strict";var n=r(57510),i=r(96540),o=parseInt((i.version||"16").slice(0,2),10)>=16,a=i.createElement;function s(e,t){return a(e,l(t),t.children)}function l(e){var t=e["data-sourcepos"];return t?{"data-sourcepos":t}:{}}e.exports={break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:s.bind(null,"table"),tableHead:s.bind(null,"thead"),tableBody:s.bind(null,"tbody"),tableRow:s.bind(null,"tr"),tableCell:function(e){var t=e.align?{textAlign:e.align}:void 0,r=l(e);return a(e.isHeader?"th":"td",t?n({style:t},r):r,e.children)},root:function(e){var t=e.className;return a(!t&&i.Fragment||"div",t?{className:t}:null,e.children)},text:function(e){var t=e.children||"";return o?t:a("span",null,t)},list:function(e){var t=l(e);return null!==e.start&&1!==e.start&&void 0!==e.start&&(t.start=e.start.toString()),a(e.ordered?"ol":"ul",t,e.children)},listItem:function(e){var t=null;return null!==e.checked&&void 0!==e.checked&&(t=a("input",{type:"checkbox",checked:e.checked,readOnly:!0})),a("li",l(e),t,e.children)},definition:function(){return null},heading:function(e){return a("h".concat(e.level),l(e),e.children)},inlineCode:function(e){return a("code",l(e),e.children)},code:function(e){var t=e.language&&"language-".concat(e.language),r=a("code",t?{className:t}:null,e.value);return a("pre",l(e),r)},html:function(e){if(e.skipHtml)return null;var t=e.allowDangerousHtml||!1===e.escapeHtml,r=e.isBlock?"div":"span";return t?a(r,{dangerouslySetInnerHTML:{__html:e.value}}):a(i.Fragment||r,null,e.value)},virtualHtml:function(e){return a(e.tag,l(e),e.children)},parsedHtml:function(e){return e["data-sourcepos"]?i.cloneElement(e.element,{"data-sourcepos":e["data-sourcepos"]}):e.element}}},8091:(e,t)=>{"use strict";var r="__RMD_HTML_PARSER__";t.HtmlParser="undefined"==typeof Symbol?r:Symbol(r)},95562:e=>{"use strict";var t=["http","https","mailto","tel"];e.exports=function(e){var r=(e||"").trim(),n=r.charAt(0);if("#"===n||"/"===n)return r;var i=r.indexOf(":");if(-1===i)return r;for(var o=t.length,a=-1;++a<o;){var s=t[a];if(i===s.length&&r.slice(0,s.length).toLowerCase()===s)return r}return -1!==(a=r.indexOf("?"))&&i>a||-1!==(a=r.indexOf("#"))&&i>a?r:"javascript:void(0)"}},74239:(e,t,r)=>{"use strict";var n=r(25223);function i(e){var t=e.children;e.children=[{type:"tableHead",align:e.align,children:[t[0]],position:t[0].position}],t.length>1&&e.children.push({type:"tableBody",align:e.align,children:t.slice(1),position:{start:t[1].position.start,end:t[t.length-1].position.end}})}e.exports=function(e){return n(e,"table",i),e}},87320:(e,t,r)=>{"use strict";e.exports=function(e){var t=this;this.Parser=function(r){return n(r,Object.assign({},t.data("settings"),e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}};var n=r(46064)},1720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(96540),a=p(o),s=p(r(40961)),l=p(r(5556)),u=p(r(29090)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(76462)),h=r(60834),d=p(h),f=r(71345);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",v=void 0!==s.default.createPortal,b=function(){return v?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer},_=function(e){function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var e,r,i,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){v||s.default.unmountComponentAtNode(i.node);var e=(0,i.props.parentSelector)();e?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var r=b()(i,a.default.createElement(u.default,n({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(r)},m(i,r)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){h.canUseDOM&&(v||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,(0,this.props.parentSelector)().appendChild(this.node),v||this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:(0,e.parentSelector)(),nextParent:(0,this.props.parentSelector)()}}},{key:"componentDidUpdate",value:function(e,t,r){if(h.canUseDOM){var n=this.props,i=n.isOpen,o=n.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=r.prevParent,s=r.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&(v||this.renderPortal(this.props))}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),r=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);r?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,r-t)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&v?(!this.node&&v&&(this.node=document.createElement("div")),b()(a.default.createElement(u.default,n({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(o.Component);_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(d.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},_.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(_),t.default=_},29090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(96540),s=g(a),l=g(r(5556)),u=m(r(27791)),c=g(r(57067)),h=m(r(76462)),d=m(r(24838)),f=g(r(60834)),p=g(r(49628));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}r(77727);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setOverlayRef=function(e){r.overlay=e,r.props.overlayRef&&r.props.overlayRef(e)},r.setContentRef=function(e){r.content=e,r.props.contentRef&&r.props.contentRef(e)},r.afterClose=function(){var e=r.props,t=e.appElement,n=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.remove(document.body,o),i&&d.remove(document.getElementsByTagName("html")[0],i),n&&v>0&&0==(v-=1)&&h.show(t),r.props.shouldFocusAfterRender&&(r.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),r.props.onAfterClose&&r.props.onAfterClose(),p.default.deregister(r)},r.open=function(){r.beforeOpen(),r.state.afterOpen&&r.state.beforeClose?(clearTimeout(r.closeTimer),r.setState({beforeClose:!1})):(r.props.shouldFocusAfterRender&&(u.setupScopedFocus(r.node),u.markForFocusLater()),r.setState({isOpen:!0},function(){r.setState({afterOpen:!0}),r.props.isOpen&&r.props.onAfterOpen&&r.props.onAfterOpen({overlayEl:r.overlay,contentEl:r.content})}))},r.close=function(){r.props.closeTimeoutMS>0?r.closeWithTimeout():r.closeWithoutTimeout()},r.focusContent=function(){return r.content&&!r.contentHasFocus()&&r.content.focus()},r.closeWithTimeout=function(){var e=Date.now()+r.props.closeTimeoutMS;r.setState({beforeClose:!0,closesAt:e},function(){r.closeTimer=setTimeout(r.closeWithoutTimeout,r.state.closesAt-Date.now())})},r.closeWithoutTimeout=function(){r.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},r.afterClose)},r.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(r.content,e),r.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),r.requestClose(e))},r.handleOverlayOnClick=function(e){null===r.shouldClose&&(r.shouldClose=!0),r.shouldClose&&r.props.shouldCloseOnOverlayClick&&(r.ownerHandlesClose()?r.requestClose(e):r.focusContent()),r.shouldClose=null},r.handleContentOnMouseUp=function(){r.shouldClose=!1},r.handleOverlayOnMouseDown=function(e){r.props.shouldCloseOnOverlayClick||e.target!=r.overlay||e.preventDefault()},r.handleContentOnClick=function(){r.shouldClose=!1},r.handleContentOnMouseDown=function(){r.shouldClose=!1},r.requestClose=function(e){return r.ownerHandlesClose()&&r.props.onRequestClose(e)},r.ownerHandlesClose=function(){return r.props.onRequestClose},r.shouldBeClosed=function(){return!r.state.isOpen&&!r.state.beforeClose},r.contentHasFocus=function(){return document.activeElement===r.content||r.content.contains(document.activeElement)},r.buildClassName=function(e,t){var n=(void 0===t?"undefined":i(t))==="object"?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=n.base;return r.state.afterOpen&&(o=o+" "+n.afterOpen),r.state.beforeClose&&(o=o+" "+n.beforeClose),"string"==typeof t&&t?o+" "+t:o},r.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(r,n){return r[e+"-"+n]=t[n],r},{})},r.state={afterOpen:!1,beforeClose:!1},r.shouldClose=null,r.moveFromContentToOverlay=null,r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,r=e.ariaHideApp,n=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.add(document.body,i),n&&d.add(document.getElementsByTagName("html")[0],n),r&&(v+=1,h.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className,i=e.overlayClassName,o=e.defaultStyles,a=r?{}:o.content,l=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:n({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",n({id:t,ref:this.setContentRef,style:n({},a,this.props.style.content),className:this.buildClassName("content",r),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=b,e.exports=t.default},76462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=a,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var r=document.querySelectorAll(t);a(r,t),t="length"in r?r[0]:r}return o=t||o},t.validateElement=s,t.hide=function(e){s(e)&&(e||o).setAttribute("aria-hidden","true")},t.show=function(e){s(e)&&(e||o).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){o=null},t.resetForTesting=function(){o=null};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(9771)),i=r(60834),o=null;function a(e,t){if(!e||!e.length)throw Error("react-modal: No elements were found for selector "+t+".")}function s(e){return!!e||!!o||((0,n.default)(!1,"react-modal: App element is not defined. Please use `Modal.setAppElement(el)` or set `appElement={el}`. This is needed so screen readers don't see main content when modal is opened. It is not recommended, but you can opt-out by setting `ariaHideApp={false}`."),!1)}},77727:(e,t,r)=>{"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49628)),i=void 0,o=void 0,a=[];function s(){0!==a.length&&a[a.length-1].focusContent()}n.default.subscribe(function(e,t){i&&o||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",s),(o=i.cloneNode()).addEventListener("focus",s)),(a=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(i.parentElement&&i.parentElement.removeChild(i),o.parentElement&&o.parentElement.removeChild(o))})},24838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){};var r={},n={},i=function(e,t,r){r.forEach(function(r){t[r]||(t[r]=0),t[r]+=1,e.add(r)})},o=function(e,t,r){r.forEach(function(r){t[r]&&(t[r]-=1),0===t[r]&&e.remove(r)})};t.add=function(e,t){return i(e.classList,"html"==e.nodeName.toLowerCase()?r:n,t.split(" "))},t.remove=function(e,t){return o(e.classList,"html"==e.nodeName.toLowerCase()?r:n,t.split(" "))}},27791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=s,t.handleFocus=l,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{0!==i.length&&(e=i.pop()).focus();return}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){o=e,window.addEventListener?(window.addEventListener("blur",s,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",s),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){o=null,window.addEventListener?(window.removeEventListener("blur",s),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",s),document.detachEvent("onFocus",l))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(42411)),i=[],o=null,a=!1;function s(){a=!0}function l(){a&&(a=!1,o&&setTimeout(function(){o.contains(document.activeElement)||((0,n.default)(o)[0]||o).focus()},0))}},49628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var r=t.openInstances.indexOf(e);-1!==r&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(r){return r(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},60834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(50411)).default,i=n.canUseDOM?window.HTMLElement:{};t.canUseDOM=n.canUseDOM,t.default=i},57067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,n.default)(e);if(!r.length){t.preventDefault();return}var i=void 0,o=t.shiftKey,a=r[0],s=r[r.length-1];if(e===document.activeElement){if(!o)return;i=s}if(s!==document.activeElement||o||(i=a),a===document.activeElement&&o&&(i=s),i){t.preventDefault(),i.focus();return}var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=l&&"Chrome"!=l[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var u=r.indexOf(document.activeElement);if(u>-1&&(u+=o?-1:1),void 0===(i=r[u])){t.preventDefault(),(i=o?s:a).focus();return}t.preventDefault(),i.focus()}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(42411));e.exports=t.default},42411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(n)};var r=/input|select|textarea|button|object/;function n(e){var t,n,i=e.getAttribute("tabindex");null===i&&(i=void 0);var o=isNaN(i);return(o||i>=0)&&(t=!o,n=e.nodeName.toLowerCase(),(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var r=window.getComputedStyle(e);return t?"visible"!==r.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==r.getPropertyValue("display")}(t))return!1;t=t.parentNode}return!0}(e))}e.exports=t.default},20312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1720));t.default=n.default,e.exports=t.default},45594:(e,t,r)=>{var n=r(15580).createReactPlayer,i=r(20688).default;e.exports=n([{key:"file",canPlay:i.canPlay,lazyPlayer:i}])},88021:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?n(s(e)):{},c(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=(e,t,r)=>(u(e,"symbol"!=typeof t?t+"":t,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{default:()=>v}),e.exports=c(i({},"__esModule",{value:!0}),f);var p=h(r(96540)),m=h(r(30115)),g=r(7604),y=r(75635);class v extends p.Component{constructor(){super(...arguments),d(this,"mounted",!1),d(this,"isReady",!1),d(this,"isPlaying",!1),d(this,"isLoading",!0),d(this,"loadOnReady",null),d(this,"startOnPlay",!0),d(this,"seekOnPlay",null),d(this,"onDurationCalled",!1),d(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),d(this,"getInternalPlayer",e=>this.player?this.player[e]:null),d(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){let e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),r=this.getDuration();if(r){let n={playedSeconds:e,played:e/r};null!==t&&(n.loadedSeconds=t,n.loaded=t/r),(n.playedSeconds!==this.prevPlayed||n.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(n),this.prevPlayed=n.playedSeconds,this.prevLoaded=n.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),d(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;let{onReady:e,playing:t,volume:r,muted:n}=this.props;e(),n||null===r||this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()}),d(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;let{onStart:e,onPlay:t,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==r&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),d(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),d(this,"handleEnded",()=>{let{activePlayer:e,loop:t,onEnded:r}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,r())}),d(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),d(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);let e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),d(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;let{url:t,playing:r,volume:n,muted:i,playbackRate:o,pip:a,loop:s,activePlayer:l,disableDeferredLoading:u}=this.props;if(!(0,m.default)(e.url,t)){if(this.isLoading&&!l.forceLoad&&!u&&!(0,y.isMediaStream)(t)){console.warn(`ReactPlayer: the attempt to load ${t} is being deferred until the player has loaded`),this.loadOnReady=t;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!r||this.isPlaying||this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==n&&null!==n&&this.player.setVolume(n),e.muted!==i&&(i?this.player.mute():(this.player.unmute(),null!==n&&setTimeout(()=>this.player.setVolume(n)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==s&&this.player.setLoop&&this.player.setLoop(s)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,r){if(!this.isReady){0!==e&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},5e3));return}if(t?"fraction"===t:e>0&&e<1){let t=this.player.getDuration();if(!t){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(t*e,r);return}this.player.seekTo(e,r)}render(){let e=this.props.activePlayer;return e?p.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}d(v,"displayName","Player"),d(v,"propTypes",g.propTypes),d(v,"defaultProps",g.defaultProps)},15580:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?n(s(e)):{},c(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=(e,t,r)=>(u(e,"symbol"!=typeof t?t+"":t,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{createReactPlayer:()=>C}),e.exports=c(i({},"__esModule",{value:!0}),f);var p=h(r(96540)),m=h(r(56299)),g=h(r(75436)),y=h(r(30115)),v=r(7604),b=r(75635),_=h(r(88021));let x=(0,b.lazy)(()=>r.e(6353).then(r.t.bind(r,66734,23))),w="undefined"!=typeof window&&window.document&&"undefined"!=typeof document,S=void 0!==r.g&&r.g.window&&r.g.window.document,T=Object.keys(v.propTypes),E=w||S?p.Suspense:()=>null,P=[],C=(e,t)=>{var r;return r=class extends p.Component{constructor(){super(...arguments),d(this,"state",{showPreview:!!this.props.light}),d(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),d(this,"handleClickPreview",e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)}),d(this,"showPreview",()=>{this.setState({showPreview:!0})}),d(this,"getDuration",()=>this.player?this.player.getDuration():null),d(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),d(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),d(this,"getInternalPlayer",(e="player")=>this.player?this.player.getInternalPlayer(e):null),d(this,"seekTo",(e,t,r)=>{if(!this.player)return null;this.player.seekTo(e,t,r)}),d(this,"handleReady",()=>{this.props.onReady(this)}),d(this,"getActivePlayer",(0,g.default)(r=>{for(let t of[...P,...e])if(t.canPlay(r))return t;return t||null})),d(this,"getConfig",(0,g.default)((e,t)=>{let{config:r}=this.props;return m.default.all([v.defaultProps.config,v.defaultProps.config[t]||{},r,r[t]||{}])})),d(this,"getAttributes",(0,g.default)(e=>(0,b.omit)(this.props,T))),d(this,"renderActivePlayer",e=>{if(!e)return null;let t=this.getActivePlayer(e);if(!t)return null;let r=this.getConfig(e,t.key);return p.default.createElement(_.default,{...this.props,key:t.key,ref:this.references.player,config:r,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})})}shouldComponentUpdate(e,t){return!(0,y.default)(this.props,e)||!(0,y.default)(this.state,t)}componentDidUpdate(e){let{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;let{light:t,playIcon:r,previewTabIndex:n,oEmbedUrl:i,previewAriaLabel:o}=this.props;return p.default.createElement(x,{url:e,light:t,playIcon:r,previewTabIndex:n,previewAriaLabel:o,oEmbedUrl:i,onClick:this.handleClickPreview})}render(){let{url:e,style:t,width:r,height:n,fallback:i,wrapper:o}=this.props,{showPreview:a}=this.state,s=this.getAttributes(e),l="string"==typeof o?this.references.wrapper:void 0;return p.default.createElement(o,{ref:l,style:{...t,width:r,height:n},...s},p.default.createElement(E,{fallback:i},a?this.renderPreview(e):this.renderActivePlayer(e)))}},d(r,"displayName","ReactPlayer"),d(r,"propTypes",v.propTypes),d(r,"defaultProps",v.defaultProps),d(r,"addCustomPlayer",e=>{P.push(e)}),d(r,"removeCustomPlayers",()=>{P.length=0}),d(r,"canPlay",t=>{for(let r of[...P,...e])if(r.canPlay(t))return!0;return!1}),d(r,"canEnablePIP",t=>{for(let r of[...P,...e])if(r.canEnablePIP&&r.canEnablePIP(t))return!0;return!1}),r}},13554:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{default:()=>p}),e.exports=u(i({},"__esModule",{value:!0}),c);var h=((e,t,r)=>(r=null!=e?n(s(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)))(r(97015)),d=r(15580);let f=h.default[h.default.length-1];var p=(0,d.createReactPlayer)(h.default,f)},50327:(e,t,r)=>{var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{AUDIO_EXTENSIONS:()=>S,DASH_EXTENSIONS:()=>P,FLV_EXTENSIONS:()=>C,HLS_EXTENSIONS:()=>E,MATCH_URL_DAILYMOTION:()=>b,MATCH_URL_FACEBOOK:()=>f,MATCH_URL_FACEBOOK_WATCH:()=>p,MATCH_URL_KALTURA:()=>w,MATCH_URL_MIXCLOUD:()=>_,MATCH_URL_MUX:()=>d,MATCH_URL_SOUNDCLOUD:()=>c,MATCH_URL_STREAMABLE:()=>m,MATCH_URL_TWITCH_CHANNEL:()=>v,MATCH_URL_TWITCH_VIDEO:()=>y,MATCH_URL_VIDYARD:()=>x,MATCH_URL_VIMEO:()=>h,MATCH_URL_WISTIA:()=>g,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>T,canPlay:()=>M}),e.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))a.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=i(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var l=r(75635);let u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,c=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,h=/vimeo\.com\/(?!progressive_redirect).+/,d=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,f=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,p=/^https?:\/\/fb\.watch\/.+$/,m=/streamable\.com\/([a-z0-9]+)$/,g=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,y=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,v=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,b=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,_=/mixcloud\.com\/([^/]+\/[^/]+)/,x=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,w=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,S=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,T=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,E=/\.(m3u8)($|\?)/i,P=/\.(mpd)($|\?)/i,C=/\.(flv)($|\?)/i,A=e=>{if(e instanceof Array){for(let t of e)if("string"==typeof t&&A(t)||A(t.src))return!0;return!1}return!!((0,l.isMediaStream)(e)||(0,l.isBlobUrl)(e))||S.test(e)||T.test(e)||E.test(e)||P.test(e)||C.test(e)},M={youtube:e=>e instanceof Array?e.every(e=>u.test(e)):u.test(e),soundcloud:e=>c.test(e)&&!S.test(e),vimeo:e=>h.test(e)&&!T.test(e)&&!E.test(e),mux:e=>d.test(e),facebook:e=>f.test(e)||p.test(e),streamable:e=>m.test(e),wistia:e=>g.test(e),twitch:e=>y.test(e)||v.test(e),dailymotion:e=>b.test(e),mixcloud:e=>_.test(e),vidyard:e=>x.test(e),kaltura:e=>w.test(e),file:A}},20688:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},h=(e,t,r)=>(u(e,"symbol"!=typeof t?t+"":t,r),r),d={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(d,{default:()=>w}),e.exports=c(i({},"__esModule",{value:!0}),d);var f=((e,t,r)=>(r=null!=e?n(s(e)):{},c(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)))(r(96540)),p=r(75635),m=r(50327);let g="undefined"!=typeof navigator,y=g&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,v=g&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,b=g&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,_=/www\.dropbox\.com\/.+/,x=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/;class w extends f.Component{constructor(){super(...arguments),h(this,"onReady",(...e)=>this.props.onReady(...e)),h(this,"onPlay",(...e)=>this.props.onPlay(...e)),h(this,"onBuffer",(...e)=>this.props.onBuffer(...e)),h(this,"onBufferEnd",(...e)=>this.props.onBufferEnd(...e)),h(this,"onPause",(...e)=>this.props.onPause(...e)),h(this,"onEnded",(...e)=>this.props.onEnded(...e)),h(this,"onError",(...e)=>this.props.onError(...e)),h(this,"onPlayBackRateChange",e=>this.props.onPlaybackRateChange(e.target.playbackRate)),h(this,"onEnablePIP",(...e)=>this.props.onEnablePIP(...e)),h(this,"onDisablePIP",e=>{let{onDisablePIP:t,playing:r}=this.props;t(e),r&&this.play()}),h(this,"onPresentationModeChange",e=>{if(this.player&&(0,p.supportsWebKitPresentationMode)(this.player)){let{webkitPresentationMode:t}=this.player;"picture-in-picture"===t?this.onEnablePIP(e):"inline"===t&&this.onDisablePIP(e)}}),h(this,"onSeek",e=>{this.props.onSeek(e.target.currentTime)}),h(this,"mute",()=>{this.player.muted=!0}),h(this,"unmute",()=>{this.player.muted=!1}),h(this,"renderSourceElement",(e,t)=>"string"==typeof e?f.default.createElement("source",{key:t,src:e}):f.default.createElement("source",{key:t,...e})),h(this,"renderTrack",(e,t)=>f.default.createElement("track",{key:t,...e})),h(this,"ref",e=>{this.player&&(this.prevPlayer=this.player),this.player=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);let e=this.getSource(this.props.url);e&&(this.player.src=e),(v||this.props.config.forceDisableHls)&&this.player.load()}componentDidUpdate(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,p.isMediaStream)(this.props.url)||this.props.url instanceof Array||(this.player.srcObject=null)}componentWillUnmount(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}addListeners(e){let{url:t,playsinline:r}=this.props;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}removeListeners(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}shouldUseAudio(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(m.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}shouldUseHLS(e){return!!b&&!!this.props.config.forceSafariHLS||!!this.props.config.forceHLS||!v&&!this.props.config.forceDisableHls&&(m.HLS_EXTENSIONS.test(e)||x.test(e))}shouldUseDASH(e){return m.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}shouldUseFLV(e){return m.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}load(e){let{hlsVersion:t,hlsOptions:r,dashVersion:n,flvVersion:i}=this.props.config;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,p.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",t),"Hls").then(t=>{if(this.hls=new t(r),this.hls.on(t.Events.MANIFEST_PARSED,()=>{this.props.onReady()}),this.hls.on(t.Events.ERROR,(e,r)=>{this.props.onError(e,r,this.hls,t)}),x.test(e)){let t=e.match(x)[1];this.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",t))}else this.hls.loadSource(e);this.hls.attachMedia(this.player),this.props.onLoaded()}),this.shouldUseDASH(e)&&(0,p.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",n),"dashjs").then(t=>{this.dash=t.MediaPlayer().create(),this.dash.initialize(this.player,e,this.props.playing),this.dash.on("error",this.props.onError),3>parseInt(n)?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:t.Debug.LOG_LEVEL_NONE}}),this.props.onLoaded()}),this.shouldUseFLV(e)&&(0,p.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",i),"flvjs").then(t=>{this.flv=t.createPlayer({type:"flv",url:e}),this.flv.attachMediaElement(this.player),this.flv.on(t.Events.ERROR,(e,r)=>{this.props.onError(e,r,this.flv,t)}),this.flv.load(),this.props.onLoaded()}),e instanceof Array)this.player.load();else if((0,p.isMediaStream)(e))try{this.player.srcObject=e}catch(t){this.player.src=window.URL.createObjectURL(e)}}play(){let e=this.player.play();e&&e.catch(this.props.onError)}pause(){this.player.pause()}stop(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}seekTo(e,t=!0){this.player.currentTime=e,t||this.pause()}setVolume(e){this.player.volume=e}enablePIP(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,p.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}disablePIP(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,p.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}setPlaybackRate(e){try{this.player.playbackRate=e}catch(e){this.props.onError(e)}}getDuration(){if(!this.player)return null;let{duration:e,seekable:t}=this.player;return e===1/0&&t.length>0?t.end(t.length-1):e}getCurrentTime(){return this.player?this.player.currentTime:null}getSecondsLoaded(){if(!this.player)return null;let{buffered:e}=this.player;if(0===e.length)return 0;let t=e.end(e.length-1),r=this.getDuration();return t>r?r:t}getSource(e){let t=this.shouldUseHLS(e),r=this.shouldUseDASH(e),n=this.shouldUseFLV(e);return e instanceof Array||(0,p.isMediaStream)(e)||t||r||n?void 0:_.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}render(){let{url:e,playing:t,loop:r,controls:n,muted:i,config:o,width:a,height:s}=this.props,l=this.shouldUseAudio(this.props);return f.default.createElement(l?"audio":"video",{ref:this.ref,src:this.getSource(e),style:{width:"auto"===a?a:"100%",height:"auto"===s?s:"100%"},preload:"auto",autoPlay:t||void 0,controls:n,muted:i,loop:r,...o.attributes},e instanceof Array&&e.map(this.renderSourceElement),o.tracks.map(this.renderTrack))}}h(w,"displayName","FilePlayer"),h(w,"canPlay",m.canPlay.file)},97015:(e,t,r)=>{Object.create;var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{default:()=>c}),e.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))a.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=i(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var l=r(75635),u=r(50327),c=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,l.lazy)(()=>r.e(8446).then(r.t.bind(r,82910,23)))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,l.lazy)(()=>r.e(9979).then(r.t.bind(r,93127,23)))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,l.lazy)(()=>r.e(6173).then(r.t.bind(r,91423,23)))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,l.lazy)(()=>r.e(2723).then(r.t.bind(r,47553,23)))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,l.lazy)(()=>r.e(6887).then(r.t.bind(r,61343,23)))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,l.lazy)(()=>r.e(7627).then(r.t.bind(r,9643,23)))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,l.lazy)(()=>r.e(9340).then(r.t.bind(r,23330,23)))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,l.lazy)(()=>r.e(2042).then(r.t.bind(r,21400,23)))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,l.lazy)(()=>r.e(6328).then(r.t.bind(r,39348,23)))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,l.lazy)(()=>r.e(7570).then(r.t.bind(r,3276,23)))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,l.lazy)(()=>r.e(3392).then(r.t.bind(r,53552,23)))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,l.lazy)(()=>r.e(6463).then(r.t.bind(r,97945,23)))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:e=>u.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,l.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,l.lazy)(()=>Promise.resolve().then(r.t.bind(r,20688,23)))}]},7604:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{defaultProps:()=>w,propTypes:()=>_}),e.exports=u(i({},"__esModule",{value:!0}),c);let{string:h,bool:d,number:f,array:p,oneOfType:m,shape:g,object:y,func:v,node:b}=((e,t,r)=>(r=null!=e?n(s(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)))(r(5556)).default,_={url:m([h,p,y]),playing:d,loop:d,controls:d,volume:f,muted:d,playbackRate:f,width:m([h,f]),height:m([h,f]),style:y,progressInterval:f,playsinline:d,pip:d,stopOnUnmount:d,light:m([d,h,y]),playIcon:b,previewTabIndex:f,previewAriaLabel:h,fallback:b,oEmbedUrl:h,wrapper:m([h,v,g({render:v.isRequired})]),config:g({soundcloud:g({options:y}),youtube:g({playerVars:y,embedOptions:y,onUnstarted:v}),facebook:g({appId:h,version:h,playerId:h,attributes:y}),dailymotion:g({params:y}),vimeo:g({playerOptions:y,title:h}),mux:g({attributes:y,version:h}),file:g({attributes:y,tracks:p,forceVideo:d,forceAudio:d,forceHLS:d,forceSafariHLS:d,forceDisableHls:d,forceDASH:d,forceFLV:d,hlsOptions:y,hlsVersion:h,dashVersion:h,flvVersion:h}),wistia:g({options:y,playerId:h,customControls:p}),mixcloud:g({options:y}),twitch:g({options:y,playerId:h}),vidyard:g({options:y})}),onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onPlaybackQualityChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v},x=()=>{},w={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:x},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:x,onStart:x,onPlay:x,onPause:x,onBuffer:x,onBufferEnd:x,onEnded:x,onError:x,onDuration:x,onSeek:x,onPlaybackRateChange:x,onPlaybackQualityChange:x,onProgress:x,onClickPreview:x,onEnablePIP:x,onDisablePIP:x}},75635:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(s(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{callPlayer:()=>k,getConfig:()=>A,getSDK:()=>C,isBlobUrl:()=>I,isMediaStream:()=>O,lazy:()=>m,omit:()=>M,parseEndTime:()=>w,parseStartTime:()=>x,queryString:()=>T,randomString:()=>S,supportsWebKitPresentationMode:()=>R}),e.exports=u(i({},"__esModule",{value:!0}),h);var d=c(r(96540)),f=c(r(6147)),p=c(r(56299));let m=e=>d.default.lazy(async()=>{let t=await e();return"function"==typeof t.default?t:t.default}),g=/[?&#](?:start|t)=([0-9hms]+)/,y=/[?&#]end=([0-9hms]+)/,v=/(\d+)(h|m|s)/g,b=/^\d+$/;function _(e,t){if(e instanceof Array)return;let r=e.match(t);if(r){let e=r[1];if(e.match(v))return function(e){let t=0,r=v.exec(e);for(;null!==r;){let[,n,i]=r;"h"===i&&(t+=3600*parseInt(n,10)),"m"===i&&(t+=60*parseInt(n,10)),"s"===i&&(t+=parseInt(n,10)),r=v.exec(e)}return t}(e);if(b.test(e))return parseInt(e)}}function x(e){return _(e,g)}function w(e){return _(e,y)}function S(){return Math.random().toString(36).substr(2,5)}function T(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function E(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}let P={},C=function(e,t,r=null,n=()=>!0,i=f.default){let o=E(t);return o&&n(o)?Promise.resolve(o):new Promise((n,o)=>{if(P[e]){P[e].push({resolve:n,reject:o});return}P[e]=[{resolve:n,reject:o}];let a=t=>{P[e].forEach(e=>e.resolve(t))};if(r){let e=window[r];window[r]=function(){e&&e(),a(E(t))}}i(e,n=>{n?(P[e].forEach(e=>e.reject(n)),P[e]=null):r||a(E(t))})})};function A(e,t){return(0,p.default)(t.config,e.config)}function M(e,...t){let r=[].concat(...t),n={};for(let t of Object.keys(e))-1===r.indexOf(t)&&(n[t]=e[t]);return n}function k(e,...t){if(!this.player||!this.player[e]){let t=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c \u2013 `;return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}return this.player[e](...t)}function O(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream}function I(e){return/^blob:/.test(e)}function R(e=document.createElement("video")){let t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&t}},56299:e=>{"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=n;var u,c,h=Array.isArray(r);return h!==Array.isArray(e)?n(r,l):h?l.arrayMerge(e,r,l):(c={},(u=l).isMergeableObject(e)&&o(e).forEach(function(t){c[t]=n(e[t],u)}),o(r).forEach(function(t){(!a(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(a(e,t)&&u.isMergeableObject(r[t])?c[t]=(function(e,t){if(!t.customMerge)return s;var r=t.customMerge(e);return"function"==typeof r?r:s})(t,u)(e[t],r[t],u):c[t]=n(r[t],u))}),c)}s.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})},e.exports=s},75436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var r,i,o=0;o<e.length;o++)if(!((r=e[o])===(i=t[o])||n(r)&&n(i)))return!1;return!0}let o=function(e,t){void 0===t&&(t=i);var r,n,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&r===this&&t(i,o)||(n=e.apply(this,i),a=!0,r=this,o=i),n}}},41458:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n=r(96540).createContext(null)},3769:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(96540),i=r(41458);function o(){return(0,n.useContext)(i.t)}},48900:(e,t,r)=>{"use strict";r.d(t,{Kq:()=>s,ty:()=>i.t,Ng:()=>z,wA:()=>V,d4:()=>U.d});var n=r(96540),i=r(41458),o=r(8661),a=r(4595);let s=function(e){var t=e.store,r=e.context,s=e.children,l=(0,n.useMemo)(function(){var e=(0,o.K)(t);return{store:t,subscription:e}},[t]),u=(0,n.useMemo)(function(){return t.getState()},[t]);(0,a.E)(function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[l,u]);var c=r||i.t;return n.createElement(c.Provider,{value:l},s)};var l=r(58168),u=r(98587),c=r(38472),h=r.n(c),d=r(54737),f=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],p=["reactReduxForwardedRef"],m=[],g=[null,null];function y(e,t){var r=e[1];return[t.payload,r+1]}function v(e,t,r){(0,a.E)(function(){return e.apply(void 0,t)},r)}function b(e,t,r,n,i,o,a){e.current=n,t.current=i,r.current=!1,o.current&&(o.current=null,a())}function _(e,t,r,n,i,o,a,s,l,u){if(e){var c=!1,h=null,d=function(){if(!c){var e,r,d=t.getState();try{e=n(d,i.current)}catch(e){r=e,h=e}r||(h=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};return r.onStateChange=d,r.trySubscribe(),d(),function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}}var x=function(){return[null,0]};function w(e,t){void 0===t&&(t={});var r=t,a=r.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,c=r.methodName,w=void 0===c?"connectAdvanced":c,S=r.renderCountProp,T=void 0===S?void 0:S,E=r.shouldHandleStateChanges,P=void 0===E||E,C=r.storeKey,A=void 0===C?"store":C,M=(r.withRef,r.forwardRef),k=void 0!==M&&M,O=r.context,I=void 0===O?i.t:O,R=(0,u.A)(r,f);return function(t){var r=t.displayName||t.name||"Component",i=s(r),a=(0,l.A)({},R,{getDisplayName:s,methodName:w,renderCountProp:T,shouldHandleStateChanges:P,storeKey:A,displayName:i,wrappedComponentName:r,WrappedComponent:t}),c=R.pure,f=c?n.useMemo:function(e){return e()};function S(r){var i=(0,n.useMemo)(function(){var e=r.reactReduxForwardedRef,t=(0,u.A)(r,p);return[r.context,e,t]},[r]),s=i[0],c=i[1],h=i[2],w=(0,n.useMemo)(function(){return s&&s.Consumer&&(0,d.isContextConsumer)(n.createElement(s.Consumer,null))?s:I},[s,I]),S=(0,n.useContext)(w),T=!!r.store&&!!r.store.getState&&!!r.store.dispatch;S&&S.store;var E=T?r.store:S.store,C=(0,n.useMemo)(function(){return e(E.dispatch,a)},[E]),A=(0,n.useMemo)(function(){if(!P)return g;var e=(0,o.K)(E,T?null:S.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[E,T,S]),M=A[0],k=A[1],O=(0,n.useMemo)(function(){return T?S:(0,l.A)({},S,{subscription:M})},[T,S,M]),R=(0,n.useReducer)(y,m,x),D=R[0][0],L=R[1];if(D&&D.error)throw D.error;var j=(0,n.useRef)(),z=(0,n.useRef)(h),B=(0,n.useRef)(),F=(0,n.useRef)(!1),N=f(function(){return B.current&&h===z.current?B.current:C(E.getState(),h)},[E,D,h]);v(b,[z,j,F,h,N,B,k]),v(_,[P,E,M,C,z,j,F,B,k,L],[E,M,C]);var V=(0,n.useMemo)(function(){return n.createElement(t,(0,l.A)({},N,{ref:c}))},[c,t,N]);return(0,n.useMemo)(function(){return P?n.createElement(w.Provider,{value:O},V):V},[w,V,O])}var E=c?n.memo(S):S;if(E.WrappedComponent=t,E.displayName=S.displayName=i,k){var C=n.forwardRef(function(e,t){return n.createElement(E,(0,l.A)({},e,{reactReduxForwardedRef:t}))});return C.displayName=i,C.WrappedComponent=t,h()(C,t)}return h()(E,t)}}function S(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(S(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!S(e[r[i]],t[r[i]]))return!1;return!0}function E(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function C(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=P(e);var i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=P(i),i=n(t,r)),i},n}}let A=[function(e){return"function"==typeof e?C(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:E(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?E(function(t){return function(e,t){var r={};for(var n in e)!function(n){var i=e[n];"function"==typeof i&&(r[n]=function(){return t(i.apply(void 0,arguments))})}(n);return r}(e,t)}):void 0}],M=[function(e){return"function"==typeof e?C(e,"mapStateToProps"):void 0},function(e){return e?void 0:E(function(){return{}})}];function k(e,t,r){return(0,l.A)({},r,e,t)}let O=[function(e){return"function"==typeof e?function(t,r){r.displayName;var n,i=r.pure,o=r.areMergedPropsEqual,a=!1;return function(t,r,s){var l=e(t,r,s);return a?i&&o(l,n)||(n=l):(a=!0,n=l),n}}:void 0},function(e){return e?void 0:function(){return k}}];var I=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function R(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=(0,u.A)(t,I),a=r(e,o),s=n(e,o),l=i(e,o);return(o.pure?function(e,t,r,n,i){var o,a,s,l,u,c=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;return function(i,p){var m,g,y,v;return f?(y=!h(p,a),v=!c(i,o,p,a),(o=i,a=p,y&&v)?(s=e(o,a),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):y?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):(v&&(g=!d(m=e(o,a),s),s=m,g&&(u=r(s,l,a))),u)):(s=e(o=i,a=p),l=t(n,a),u=r(s,l,a),f=!0,u)}}:function(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}})(a,s,l,e,o)}var D=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function L(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function j(e,t){return e===t}let z=function(e){var t={},r=t.connectHOC,n=void 0===r?w:r,i=t.mapStateToPropsFactories,o=void 0===i?M:i,a=t.mapDispatchToPropsFactories,s=void 0===a?A:a,c=t.mergePropsFactories,h=void 0===c?O:c,d=t.selectorFactory,f=void 0===d?R:d;return function(e,t,r,i){void 0===i&&(i={});var a=i,c=a.pure,d=a.areStatesEqual,p=a.areOwnPropsEqual,m=void 0===p?T:p,g=a.areStatePropsEqual,y=void 0===g?T:g,v=a.areMergedPropsEqual,b=void 0===v?T:v,_=(0,u.A)(a,D),x=L(e,o,"mapStateToProps"),w=L(t,s,"mapDispatchToProps"),S=L(r,h,"mergeProps");return n(f,(0,l.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:x,initMapDispatchToProps:w,initMergeProps:S,pure:void 0===c||c,areStatesEqual:void 0===d?j:d,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:b},_))}}();var B=r(3769);function F(e){void 0===e&&(e=i.t);var t=e===i.t?B.n:function(){return(0,n.useContext)(e)};return function(){return t().store}}var N=F(),V=function(e){void 0===e&&(e=i.t);var t=e===i.t?N:F(e);return function(){return t().dispatch}}(),U=r(20125),G=r(40961);(0,r(38298).d)(G.unstable_batchedUpdates)},8661:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var n=r(38298),i={notify:function(){},get:function(){return[]}};function o(e,t){var r,o=i;function a(){l.onStateChange&&l.onStateChange()}function s(){if(!r){var i,s,l;r=t?t.addNestedSub(a):e.subscribe(a),i=(0,n.f)(),s=null,l=null,o={clear:function(){s=null,l=null},notify:function(){i(function(){for(var e=s;e;)e.callback(),e=e.next})},get:function(){for(var e=[],t=s;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,r=l={callback:e,next:null,prev:l};return r.prev?r.prev.next=r:s=r,function(){t&&null!==s&&(t=!1,r.next?r.next.prev=r.prev:l=r.prev,r.prev?r.prev.next=r.next:s=r.next)}}}}}var l={addNestedSub:function(e){return s(),o.subscribe(e)},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:a,isSubscribed:function(){return!!r},trySubscribe:s,tryUnsubscribe:function(){r&&(r(),r=void 0,o.clear(),o=i)},getListeners:function(){return o}};return l}},38298:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,f:()=>o});var n=function(e){e()},i=function(e){return n=e},o=function(){return n}},4595:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(96540),i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect},38472:(e,t,r)=>{"use strict";var n=r(45930),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var i=f(r);i&&i!==p&&e(t,i,n)}var a=c(r);h&&(a=a.concat(h(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&!(n&&n[y])&&!(m&&m[y])&&!(s&&s[y])){var v=d(r,y);try{u(t,y,v)}catch(e){}}}}return t}},59174:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},45930:(e,t,r)=>{"use strict";e.exports=r(59174)},28989:(e,t)=>{"use strict";var r=60103,n=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,h=60120,d=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;r=p("react.element"),n=p("react.portal"),i=p("react.fragment"),o=p("react.strict_mode"),a=p("react.profiler"),s=p("react.provider"),l=p("react.context"),u=p("react.forward_ref"),c=p("react.suspense"),h=p("react.suspense_list"),d=p("react.memo"),f=p("react.lazy"),p("react.block"),p("react.server.block"),p("react.fundamental"),p("react.debug_trace_mode"),p("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case d:case s:return e;default:return t}}case n:return t}}}(e)===l}},54737:(e,t,r)=>{"use strict";e.exports=r(28989)},17988:function(e,t,r){var n;n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=h(r(15)),a=h(r(8)),s=h(r(11)),l=h(r(7)),u=h(r(5)),c=h(r(9));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var f={component:a.default.node,query:a.default.string,values:a.default.shape(u.default.matchers),children:a.default.oneOfType([a.default.node,a.default.func]),onChange:a.default.func,onBeforeChange:a.default.func},p=Object.keys(u.default.all),m=Object.keys(f),g=m.concat(p);function y(e,t){var r=i({},e);return t.forEach(function(e){return delete r[e]}),r}var v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var e,r,n,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={matches:!1},n.updateMatches=function(){n._mql.matches!==n.state.matches&&n.setState({matches:n._mql.matches})},n.removeMql=function(){n._mql&&(n._mql.removeListener(n.updateMatches),n._mql.dispose())},d(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){this.updateQuery(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateQuery(e)}},{key:"updateQuery",value:function(e){var t=void 0;if(e.query?this.query=e.query:this.query=(0,c.default)(y(e,m)),!this.query)throw Error("Invalid or missing MediaQuery!");e.values&&(t=Object.keys(e.values).reduce(function(t,r){return t[(0,l.default)(r)]=e.values[r],t},{})),this.removeMql(),this._mql=(0,s.default)(this.query,t),this._mql.addListener(this.updateMatches),this.updateMatches()}},{key:"componentWillUpdate",value:function(e,t){this.props.onBeforeChange&&this.state.matches!==t.matches&&this.props.onBeforeChange(this.state.matches)}},{key:"componentDidUpdate",value:function(e,t){this.props.onChange&&t.matches!==this.state.matches&&this.props.onChange(this.state.matches)}},{key:"componentWillUnmount",value:function(){this.removeMql()}},{key:"render",value:function(){if("function"==typeof this.props.children)return this.props.children(this.state.matches);if(!1===this.state.matches)return null;var e=y(this.props,g),t=Object.keys(e).length>0,r=o.default.Children.count(this.props.children);return this.props.component||r>1||"string"==typeof this.props.children||Array.isArray(this.props.children)&&1==r||void 0===this.props.children?o.default.createElement(this.props.component||"div",e,this.props.children):t?o.default.cloneElement(this.props.children,e):r?this.props.children:null}}]),t}(o.default.Component);v.displayName="MediaQuery",v.defaultProps={values:{}},t.default=v,e.exports=t.default},function(e,t){var r,n,i,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],c=!1,h=-1;function d(){c&&i&&(c=!1,i.length?u=i.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=l(d);c=!0;for(var t=u.length;t;){for(i=u,u=[];++h<t;)i&&i[h].run();h=-1,t=u.length}i=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){(function(t){"use strict";var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw Error("invariant requires an error message argument")}),e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;(u=Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,r(1))},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n=r(8))&&n.__esModule?n:{default:n},a=o.default.oneOfType([o.default.string,o.default.number]),s={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:a,deviceHeight:a,width:a,deviceWidth:a,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:a},l=i({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:a,maxHeight:a,minDeviceHeight:a,maxDeviceHeight:a,minWidth:a,maxWidth:a,minDeviceWidth:a,maxDeviceWidth:a,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:a,maxResolution:a},s),u={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},c=i({},u,l);s.type=Object.keys(u),t.default={all:c,types:u,matchers:s,features:l},e.exports=t.default},function(e,t,r){(function(t){"use strict";var n,i=r(2);"production"!==t.env.NODE_ENV&&(n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(o);try{throw Error(o)}catch(e){}},i=function(e,t){if(void 0===t)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.apply(void 0,[t].concat(i))}}),e.exports=i}).call(t,r(1))},function(e,t){"use strict";var r=/[A-Z]/g,n=/^ms-/,i={};e.exports=function(e){return e in i?i[e]:i[e]=e.replace(r,"-$&").toLowerCase().replace(n,"-ms-")}},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(14)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},!0)}else e.exports=r(13)()}).call(t,r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return Object.keys(i.default.all).forEach(function(r){var i,o,a=e[r];null!=a&&t.push((i=a,o=(0,n.default)(r),("number"==typeof i&&(i+="px"),!0===i)?r:!1===i?"not "+r:"("+o+": "+i+")"))}),t.join(" and ")};var n=o(r(7)),i=o(r(5));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){"use strict";t.match=function(e,t){return s(e).some(function(e){var r=e.inverse,n="all"===e.type||t.type===e.type;if(n&&r||!(n||r))return!1;var i=e.expressions.every(function(e){var r=e.feature,n=e.modifier,i=e.value,o=t[r];if(!o)return!1;switch(r){case"orientation":case"scan":return o.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=c(i),o=c(o);break;case"resolution":i=u(i),o=u(o);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=l(i),o=l(o);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,o=parseInt(o,10)||0}switch(n){case"min":return o>=i;case"max":return o<=i;default:return o===i}});return i&&!r||!i&&r})},t.parse=s;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,n=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,o=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function s(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(r),o=t[1],a=t[2],s=t[3]||"",l={};return l.inverse=!!o&&"not"===o.toLowerCase(),l.type=a?a.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],l.expressions=s.map(function(e){var t=e.match(n),r=t[1].toLowerCase().match(i);return{modifier:r[1],feature:r[2],value:t[2]}}),l})}function l(e){var t,r=Number(e);return r||(r=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),r}function u(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},function(e,t,r){"use strict";var n=r(10).match,i="undefined"!=typeof window?window.matchMedia:null;function o(e,t){var r=this;if(i){var o=i.call(window,e);this.matches=o.matches,this.media=o.media,o.addListener(a)}else this.matches=n(e,t),this.media=e;function a(e){r.matches=e.matches,r.media=e.media}this.addListener=function(e){o&&o.addListener(e)},this.removeListener=function(e){o&&o.removeListener(e)},this.dispose=function(){o&&o.removeListener(a)}}e.exports=function(e,t){return new o(e,t)}},function(e,t,r){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var n=r(3),i=r(6),o=r(4),a={};e.exports=function(e,r,s,l,u){if("production"!==t.env.NODE_ENV){for(var c in e)if(e.hasOwnProperty(c)){var h;try{n("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",s,c),h=e[c](r,c,l,s,null,o)}catch(e){h=e}if(i(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,c,typeof h),h instanceof Error&&!(h.message in a)){a[h.message]=!0;var d=u?u():"";i(!1,"Failed %s type: %s%s",s,h.message,null!=d?d:"")}}}}}).call(t,r(1))},function(e,t,r){"use strict";var n=r(2),i=r(3),o=r(4);e.exports=function(){function e(e,t,r,n,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){(function(t){"use strict";var n=r(2),i=r(3),o=r(6),a=r(4),s=r(12);e.exports=function(e,r){var l="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",c={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(n.thatReturnsNull),arrayOf:function(e){return d(function(t,r,n,i,o){if("function"!=typeof e)return new h("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s))return new h("Invalid "+i+" `"+o+"` of type "+("`"+p(s))+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,n,i,o+"["+l+"]",a);if(u instanceof Error)return u}return null})},element:d(function(t,r,n,i,o){var a=t[r];return e(a)?null:new h("Invalid "+i+" `"+o+"` of type "+("`"+p(a))+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(e){return d(function(t,r,n,i,o){if(!(t[r]instanceof e)){var a,s=e.name||u;return new h("Invalid "+i+" `"+o+"` of type "+("`"+((a=t[r]).constructor&&a.constructor.name?a.constructor.name:u))+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null})},node:d(function(t,r,n,i,o){return!function t(r){switch(typeof r){case"number":case"string":case"undefined":return!0;case"boolean":return!r;case"object":if(Array.isArray(r))return r.every(t);if(null===r||e(r))return!0;var n=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(r);if(!n)return!1;var i,o=n.call(r);if(n!==r.entries){for(;!(i=o.next()).done;)if(!t(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!t(a[1]))return!1}return!0;default:return!1}}(t[r])?new h("Invalid "+i+" `"+o+"` supplied to `"+n+"`, expected a ReactNode."):null}),objectOf:function(e){return d(function(t,r,n,i,o){if("function"!=typeof e)return new h("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],l=p(s);if("object"!==l)return new h("Invalid "+i+" `"+o+"` of type "+("`"+l)+"` supplied to `"+n+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,n,i,o+"."+u,a);if(c instanceof Error)return c}return null})},oneOf:function(e){return Array.isArray(e)?d(function(t,r,n,i,o){for(var a,s=t[r],l=0;l<e.length;l++)if(s===(a=e[l])?0!==s||1/s==1/a:s!=s&&a!=a)return null;return new h("Invalid "+i+" `"+o+"` of value `"+s+"` "+("supplied to `"+n)+"`, expected one of "+JSON.stringify(e)+".")}):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var r=0;r<e.length;r++){var i=e[r];if("function"!=typeof i)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",function(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}(i),r),n.thatReturnsNull}return d(function(t,r,n,i,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,r,n,i,o,a))return null;return new h("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")})},shape:function(e){return d(function(t,r,n,i,o){var s=t[r],l=p(s);if("object"!==l)return new h("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var d=c(s,u,n,i,o+"."+u,a);if(d)return d}}return null})}};function h(e){this.message=e,this.stack=""}function d(e){if("production"!==t.env.NODE_ENV)var n={},s=0;function l(l,c,d,f,p,m,g){if(f=f||u,m=m||d,g!==a){if(r)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+d;!n[y]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),n[y]=!0,s++)}}return null!=c[d]?e(c,d,f,p,m):l?new h(null===c[d]?"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function f(e){return d(function(t,r,n,i,o,a){var s=t[r];return p(s)!==e?new h("Invalid "+i+" `"+o+"` of type "+("`"+m(s))+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol?"symbol":t}function m(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}return h.prototype=Error.prototype,c.checkPropTypes=s,c.PropTypes=c,c}}).call(t,r(1))},function(t,r){t.exports=e}])},e.exports=n(r(96540))},89223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NextArrow=t.PrevArrow=void 0;var n=a(r(96540)),i=a(r(32485)),o=r(29445);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function p(e,t){return t&&("object"===s(t)||"function"==typeof t)?t:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return h(this,t),p(this,m(t).apply(this,arguments))}return g(t,e),f(t,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var r={key:"0","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?n.default.cloneElement(this.props.prevArrow,c({},r,{},o)):n.default.createElement("button",l({key:"0",type:"button"},r)," ","Previous")}}]),t}(n.default.PureComponent);t.PrevArrow=v;var b=function(e){function t(){return h(this,t),p(this,m(t).apply(this,arguments))}return g(t,e),f(t,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var r={key:"1","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?n.default.cloneElement(this.props.nextArrow,c({},r,{},a)):n.default.createElement("button",l({key:"1",type:"button"},r)," ","Next")}}]),t}(n.default.PureComponent);t.NextArrow=b},41327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(96540));t.default={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return n.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return n.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0}},773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var n=o(r(96540)),i=o(r(32485));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t;function r(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),e=l(r).apply(this,arguments),e&&("object"===a(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e),t=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){var e,t=this,r=(e={slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll,slidesToShow:this.props.slidesToShow,infinite:this.props.infinite}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,o=this.props,a=o.onMouseEnter,l=o.onMouseOver,u=o.onMouseLeave,c=Array.apply(null,Array(r+1).join("0").split("")).map(function(e,r){var o=r*t.props.slidesToScroll,a=r*t.props.slidesToScroll+(t.props.slidesToScroll-1),s=(0,i.default)({"slick-active":t.props.currentSlide>=o&&t.props.currentSlide<=a}),l={message:"dots",index:r,slidesToScroll:t.props.slidesToScroll,currentSlide:t.props.currentSlide},u=t.clickHandler.bind(t,l);return n.default.createElement("li",{key:r,className:s},n.default.cloneElement(t.props.customPaging(r),{onClick:u}))});return n.default.cloneElement(this.props.appendDots(c),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:this.props.dotsClass},{onMouseEnter:a,onMouseOver:l,onMouseLeave:u}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.default.PureComponent);t.Dots=c},4589:(e,t,r)=>{"use strict";t.A=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(38120)).default;t.A=n},68841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0}},34999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var n=f(r(96540)),i=f(r(40961)),o=f(r(68841)),a=f(r(20181)),s=f(r(32485)),l=r(29445),u=r(25942),c=r(773),h=r(89223),d=f(r(43591));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){function t(e){var r,f;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),r=(f=v(t).call(this,e))&&("object"===m(f)||"function"==typeof f)?f:b(this),x(b(r),"listRefHandler",function(e){return r.list=e}),x(b(r),"trackRefHandler",function(e){return r.track=e}),x(b(r),"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var e=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=(0,l.getHeight)(e)+"px"}}),x(b(r),"UNSAFE_componentWillMount",function(){if(r.ssrInit(),r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var e=(0,l.getOnDemandLazySlides)(y({},r.props,{},r.state));e.length>0&&(r.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),r.props.onLazyLoad&&r.props.onLazyLoad(e))}}),x(b(r),"componentDidMount",function(){var e=y({listRef:r.list,trackRef:r.track},r.props);r.updateState(e,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("update")}),"progressive"===r.props.lazyLoad&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new d.default(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(e){e.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,e.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),x(b(r),"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(e){return clearTimeout(e)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),x(b(r),"UNSAFE_componentWillReceiveProps",function(e){for(var t=y({listRef:r.list,trackRef:r.track},e,{},r.state),i=!1,o=0,a=Object.keys(r.props);o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s)||"object"!==m(e[s])&&"function"!=typeof e[s]&&e[s]!==r.props[s]){i=!0;break}}r.updateState(t,i,function(){r.state.currentSlide>=n.default.Children.count(e.children)&&r.changeSlide({message:"index",index:n.default.Children.count(e.children)-e.slidesToShow,currentSlide:r.state.currentSlide}),e.autoplay?r.autoPlay("update"):r.pause("paused")})}),x(b(r),"componentDidUpdate",function(){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var e=(0,l.getOnDemandLazySlides)(y({},r.props,{},r.state));e.length>0&&(r.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),r.props.onLazyLoad&&r.props.onLazyLoad(e))}r.adaptHeight()}),x(b(r),"onWindowResized",function(e){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=(0,a.default)(function(){return r.resizeWindow(e)},50),r.debouncedResize()}),x(b(r),"resizeWindow",function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(i.default.findDOMNode(r.track)){var t=y({listRef:r.list,trackRef:r.track},r.props,{},r.state);r.updateState(t,e,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),x(b(r),"updateState",function(e,t,i){var o=(0,l.initializedState)(e);e=y({},e,{},o,{slideIndex:o.currentSlide});var a=(0,l.getTrackLeft)(e);e=y({},e,{left:a});var s=(0,l.getTrackCSS)(e);(t||n.default.Children.count(r.props.children)!==n.default.Children.count(e.children))&&(o.trackStyle=s),r.setState(o,i)}),x(b(r),"ssrInit",function(){if(r.props.variableWidth){var e=0,t=0,i=[],o=(0,l.getPreClones)(y({},r.props,{},r.state,{slideCount:r.props.children.length})),a=(0,l.getPostClones)(y({},r.props,{},r.state,{slideCount:r.props.children.length}));r.props.children.forEach(function(t){i.push(t.props.style.width),e+=t.props.style.width});for(var s=0;s<o;s++)t+=i[i.length-1-s],e+=i[i.length-1-s];for(var u=0;u<a;u++)e+=i[u];for(var c=0;c<r.state.currentSlide;c++)t+=i[c];var h={width:e+"px",left:-t+"px"};if(r.props.centerMode){var d="".concat(i[r.state.currentSlide],"px");h.left="calc(".concat(h.left," + (100% - ").concat(d,") / 2 ) ")}r.setState({trackStyle:h});return}var f=n.default.Children.count(r.props.children),p=y({},r.props,{},r.state,{slideCount:f}),m=(0,l.getPreClones)(p)+(0,l.getPostClones)(p)+f,g=100/r.props.slidesToShow*m,v=100/m,b=-v*((0,l.getPreClones)(p)+r.state.currentSlide)*g/100;r.props.centerMode&&(b+=(100-v*g/100)/2);var _={width:g+"%",left:b+"%"};r.setState({slideWidth:v+"%",trackStyle:_})}),x(b(r),"checkImagesLoad",function(){var e=r.list.querySelectorAll(".slick-slide img"),t=e.length,n=0;Array.prototype.forEach.call(e,function(e){var i=function(){return++n&&n>=t&&r.onWindowResized()};if(e.onclick){var o=e.onclick;e.onclick=function(){o(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(r.props.lazyLoad?e.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(e.onload=i,e.onerror=function(){i(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),x(b(r),"progressiveLazyLoad",function(){for(var e=[],t=y({},r.props,{},r.state),n=r.state.currentSlide;n<r.state.slideCount+(0,l.getPostClones)(t);n++)if(0>r.state.lazyLoadedList.indexOf(n)){e.push(n);break}for(var i=r.state.currentSlide-1;i>=-(0,l.getPreClones)(t);i--)if(0>r.state.lazyLoadedList.indexOf(i)){e.push(i);break}e.length>0?(r.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),r.props.onLazyLoad&&r.props.onLazyLoad(e)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),x(b(r),"slideHandler",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,i=n.asNavFor,o=n.beforeChange,a=n.onLazyLoad,s=n.speed,u=n.afterChange,c=r.state.currentSlide,h=(0,l.slideHandler)(y({index:e},r.props,{},r.state,{trackRef:r.track,useCSS:r.props.useCSS&&!t})),d=h.state,f=h.nextState;if(d){o&&o(c,d.currentSlide);var p=d.lazyLoadedList.filter(function(e){return 0>r.state.lazyLoadedList.indexOf(e)});a&&p.length>0&&a(p),r.setState(d,function(){i&&i.innerSlider.slideHandler(e),f&&(r.animationEndCallback=setTimeout(function(){var e=f.animating,t=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(f,["animating"]);r.setState(t,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:e})},10)),u&&u(d.currentSlide),delete r.animationEndCallback})},s))})}}),x(b(r),"changeSlide",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y({},r.props,{},r.state),i=(0,l.changeSlide)(n,e);(0===i||i)&&(!0===t?r.slideHandler(i,t):r.slideHandler(i))}),x(b(r),"clickHandler",function(e){!1===r.clickable&&(e.stopPropagation(),e.preventDefault()),r.clickable=!0}),x(b(r),"keyHandler",function(e){var t=(0,l.keyHandler)(e,r.props.accessibility,r.props.rtl);""!==t&&r.changeSlide({message:t})}),x(b(r),"selectHandler",function(e){r.changeSlide(e)}),x(b(r),"disableBodyScroll",function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}}),x(b(r),"enableBodyScroll",function(){window.ontouchmove=null}),x(b(r),"swipeStart",function(e){r.props.verticalSwiping&&r.disableBodyScroll();var t=(0,l.swipeStart)(e,r.props.swipe,r.props.draggable);""!==t&&r.setState(t)}),x(b(r),"swipeMove",function(e){var t=(0,l.swipeMove)(e,y({},r.props,{},r.state,{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));t&&(t.swiping&&(r.clickable=!1),r.setState(t))}),x(b(r),"swipeEnd",function(e){var t=(0,l.swipeEnd)(e,y({},r.props,{},r.state,{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(t){var n=t.triggerSlideHandler;delete t.triggerSlideHandler,r.setState(t),void 0!==n&&(r.slideHandler(n),r.props.verticalSwiping&&r.enableBodyScroll())}}),x(b(r),"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),x(b(r),"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),x(b(r),"slickGoTo",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(e=Number(e)))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:e,currentSlide:r.state.currentSlide},t)},0))}),x(b(r),"play",function(){var e;if(r.props.rtl)e=r.state.currentSlide-r.props.slidesToScroll;else{if(!(0,l.canGoNext)(y({},r.props,{},r.state)))return!1;e=r.state.currentSlide+r.props.slidesToScroll}r.slideHandler(e)}),x(b(r),"autoPlay",function(e){r.autoplayTimer&&clearInterval(r.autoplayTimer);var t=r.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),x(b(r),"pause",function(e){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var t=r.state.autoplaying;"paused"===e?r.setState({autoplaying:"paused"}):"focused"===e?("hovered"===t||"playing"===t)&&r.setState({autoplaying:"focused"}):"playing"===t&&r.setState({autoplaying:"hovered"})}),x(b(r),"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),x(b(r),"onDotsLeave",function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")}),x(b(r),"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),x(b(r),"onTrackLeave",function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")}),x(b(r),"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),x(b(r),"onSlideBlur",function(){return r.props.autoplay&&"focused"===r.state.autoplaying&&r.autoPlay("blur")}),x(b(r),"render",function(){var e,t,i,o=(0,s.default)("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=y({},r.props,{},r.state),d=(0,l.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"]),f=r.props.pauseOnHover;if(d=y({},d,{onMouseEnter:f?r.onTrackOver:null,onMouseLeave:f?r.onTrackLeave:null,onMouseOver:f?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect?r.selectHandler:null}),!0===r.props.dots&&r.state.slideCount>=r.props.slidesToShow){var m=(0,l.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=r.props.pauseOnDotsHover;m=y({},m,{clickHandler:r.changeSlide,onMouseEnter:g?r.onDotsLeave:null,onMouseOver:g?r.onDotsOver:null,onMouseLeave:g?r.onDotsLeave:null}),e=n.default.createElement(c.Dots,m)}var v=(0,l.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=r.changeSlide,r.props.arrows&&(t=n.default.createElement(h.PrevArrow,v),i=n.default.createElement(h.NextArrow,v));var b=null;r.props.vertical&&(b={height:r.state.listHeight});var _=null;!1===r.props.vertical?!0===r.props.centerMode&&(_={padding:"0px "+r.props.centerPadding}):!0===r.props.centerMode&&(_={padding:r.props.centerPadding+" 0px"});var x=y({},b,{},_),w=r.props.touchMove,S={className:"slick-list",style:x,onClick:r.clickHandler,onMouseDown:w?r.swipeStart:null,onMouseMove:r.state.dragging&&w?r.swipeMove:null,onMouseUp:w?r.swipeEnd:null,onMouseLeave:r.state.dragging&&w?r.swipeEnd:null,onTouchStart:w?r.swipeStart:null,onTouchMove:r.state.dragging&&w?r.swipeMove:null,onTouchEnd:w?r.swipeEnd:null,onTouchCancel:r.state.dragging&&w?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},T={className:o,dir:"ltr",style:r.props.style};return r.props.unslick&&(S={className:"slick-list"},T={className:o}),n.default.createElement("div",T,r.props.unslick?"":t,n.default.createElement("div",p({ref:r.listRefHandler},S),n.default.createElement(u.Track,p({ref:r.trackRefHandler},d),r.props.children)),r.props.unslick?"":i,r.props.unslick?"":e)}),r.list=null,r.track=null,r.state=y({},o.default,{currentSlide:r.props.initialSlide,slideCount:n.default.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null,r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),t}(n.default.Component);t.InnerSlider=w},38120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(96540)),i=r(34999),o=l(r(11441)),a=l(r(41327)),s=r(29445);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,s.canUseDOM)()&&r(22386),v=function(e){var t;function r(e){var t,n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),t=(n=f(r).call(this,e))&&("object"===u(n)||"function"==typeof n)?n:p(this),g(p(t),"innerSliderRefHandler",function(e){return t.innerSlider=e}),g(p(t),"slickPrev",function(){return t.innerSlider.slickPrev()}),g(p(t),"slickNext",function(){return t.innerSlider.slickNext()}),g(p(t),"slickGoTo",function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,r)}),g(p(t),"slickPause",function(){return t.innerSlider.pause("paused")}),g(p(t),"slickPlay",function(){return t.innerSlider.autoPlay("play")}),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,e),t=[{key:"media",value:function(e,t){y.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(r,n){var i;i=0===n?(0,o.default)({minWidth:0,maxWidth:r}):(0,o.default)({minWidth:t[n-1]+1,maxWidth:r}),(0,s.canUseDOM)()&&e.media(i,function(){e.setState({breakpoint:r})})});var r=(0,o.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(r,function(){e.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(e){y.unregister(e.query,e.handler)})}},{key:"render",value:function(){var e,t,r=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter(function(e){return e.breakpoint===r.state.breakpoint}))[0].settings?"unslick":d({},a.default,{},this.props,{},t[0].settings):d({},a.default,{},this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var o=n.default.Children.toArray(this.props.children);o=o.filter(function(e){return"string"==typeof e?!!e.trim():!!e}),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],l=null,u=0;u<o.length;u+=e.rows*e.slidesPerRow){for(var h=[],f=u;f<u+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&o[m].props.style&&(l=o[m].props.style.width),!(m>=o.length));m+=1)p.push(n.default.cloneElement(o[m],{key:100*u+10*f+m,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));h.push(n.default.createElement("div",{key:10*u+f},p))}e.variableWidth?s.push(n.default.createElement("div",{key:u,style:{width:l}},h)):s.push(n.default.createElement("div",{key:u},h))}if("unslick"===e){var g="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:g},o)}return s.length<=e.slidesToShow&&(e.unslick=!0),n.default.createElement(i.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.default.Component);t.default=v},25942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var n=a(r(96540)),i=a(r(32485)),o=r(29445);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=function(e){var t,r,n,i,o;return n=(o=e.rtl?e.slideCount-1-e.index:e.index)<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount==0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":n,"slick-current":o===e.currentSlide}},p=function(e){var t={};return(void 0===e.variableWidth||!1===e.variableWidth)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=+(e.currentSlide===e.index),t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase),t},m=function(e,t){return e.key||t},g=function(e){var t,r=[],a=[],s=[],l=n.default.Children.count(e.children),u=(0,o.lazyStartIndex)(e),c=(0,o.lazyEndIndex)(e);return(n.default.Children.forEach(e.children,function(h,g){var y,v={message:"children",index:g,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};y=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(g)>=0?h:n.default.createElement("div",null);var b=p(d({},e,{index:g})),_=y.props.className||"",x=f(d({},e,{index:g}));if(r.push(n.default.cloneElement(y,{key:"original"+m(y,g),"data-index":g,className:(0,i.default)(x,_),tabIndex:"-1","aria-hidden":!x["slick-active"],style:d({outline:"none"},y.props.style||{},{},b),onClick:function(t){y.props&&y.props.onClick&&y.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(v)}})),e.infinite&&!1===e.fade){var w=l-g;w<=(0,o.getPreClones)(e)&&l!==e.slidesToShow&&((t=-w)>=u&&(y=h),x=f(d({},e,{index:t})),a.push(n.default.cloneElement(y,{key:"precloned"+m(y,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(x,_),"aria-hidden":!x["slick-active"],style:d({},y.props.style||{},{},b),onClick:function(t){y.props&&y.props.onClick&&y.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(v)}}))),l!==e.slidesToShow&&((t=l+g)<c&&(y=h),x=f(d({},e,{index:t})),s.push(n.default.cloneElement(y,{key:"postcloned"+m(y,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(x,_),"aria-hidden":!x["slick-active"],style:d({},y.props.style||{},{},b),onClick:function(t){y.props&&y.props.onClick&&y.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(v)}})))}}),e.rtl)?a.concat(r,s).reverse():a.concat(r,s)},y=function(e){var t;function r(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),e=u(r).apply(this,arguments),e&&("object"===s(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e),t=[{key:"render",value:function(){var e=g(this.props),t=this.props,r=t.onMouseEnter,i=t.onMouseOver,o=t.onMouseLeave;return n.default.createElement("div",l({className:"slick-track",style:this.props.trackStyle},{onMouseEnter:r,onMouseOver:i,onMouseLeave:o}),e)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.default.PureComponent);t.Track=y},29445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=void 0;var n=o(r(96540)),i=o(r(40961));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l=function(e){for(var t=[],r=u(e),n=c(e),i=r;i<n;i++)0>e.lazyLoadedList.indexOf(i)&&t.push(i);return t};t.getOnDemandLazySlides=l,t.getRequiredLazySlides=function(e){for(var t=[],r=u(e),n=c(e),i=r;i<n;i++)t.push(i);return t};var u=function(e){return e.currentSlide-h(e)};t.lazyStartIndex=u;var c=function(e){return e.currentSlide+d(e)};t.lazyEndIndex=c;var h=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+ +(parseInt(e.centerPadding)>0):0};t.lazySlidesOnLeft=h;var d=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+ +(parseInt(e.centerPadding)>0):e.slidesToShow};t.lazySlidesOnRight=d;var f=function(e){return e&&e.offsetWidth||0};t.getWidth=f;var p=function(e){return e&&e.offsetHeight||0};t.getHeight=p;var m=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t=e.startX-e.curX,(r=Math.round(180*Math.atan2(e.startY-e.curY,t)/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315)?"left":r>=135&&r<=225?"right":!0===n?r>=35&&r<=135?"up":"down":"vertical"};t.getSwipeDirection=m;var g=function(e){var t=!0;return!e.infinite&&(e.centerMode&&e.currentSlide>=e.slideCount-1?t=!1:(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1)),t};t.canGoNext=g,t.extractObject=function(e,t){var r={};return t.forEach(function(t){return r[t]=e[t]}),r},t.initializedState=function(e){var t,r=n.default.Children.count(e.children),o=Math.ceil(f(i.default.findDOMNode(e.listRef))),a=Math.ceil(f(i.default.findDOMNode(e.trackRef)));if(e.vertical)t=o;else{var s=e.centerMode&&2*parseInt(e.centerPadding);"string"==typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(s*=o/100),t=Math.ceil((o-s)/e.slidesToShow)}var u=i.default.findDOMNode(e.listRef)&&p(i.default.findDOMNode(e.listRef).querySelector('[data-index="0"]')),c=u*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=r-1-e.initialSlide);var d=e.lazyLoadedList||[],m=l({currentSlide:h,lazyLoadedList:d},e);d.concat(m);var g={slideCount:r,slideWidth:t,listWidth:o,trackWidth:a,currentSlide:h,slideHeight:u,listHeight:c,lazyLoadedList:d};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,r=e.animating,n=e.fade,i=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoadedList,c=e.lazyLoad,h=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS;if(t&&r)return{};var y,v,b,_=o,T={},E={};if(n){if(!i&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),c&&0>u.indexOf(_)&&u.push(_),T={animating:!0,currentSlide:_,lazyLoadedList:u},E={animating:!1}}else y=_,_<0?(y=_+a,i?a%f!=0&&(y=a-a%f):y=0):!g(e)&&_>h?_=y=h:d&&_>=a?(_=i?a:a-1,y=i?0:a-1):_>=a&&(y=_-a,i?a%f!=0&&(y=0):y=a-p),v=S(s({},e,{slideIndex:_})),b=S(s({},e,{slideIndex:y})),i||(v===b&&(_=y),v=b),c&&u.concat(l(s({},e,{currentSlide:_}))),m?(T={animating:!0,currentSlide:y,trackStyle:w(s({},e,{left:v})),lazyLoadedList:u},E={animating:!1,currentSlide:y,trackStyle:x(s({},e,{left:b})),swipeLeft:null}):T={currentSlide:y,trackStyle:x(s({},e,{left:b})),lazyLoadedList:u};return{state:T,nextState:E}},t.changeSlide=function(e,t){var r,n,i,o,a=e.slidesToScroll,l=e.slidesToShow,u=e.slideCount,c=e.currentSlide,h=e.lazyLoad,d=e.infinite;if(r=u%a!=0?0:(u-c)%a,"previous"===t.message)o=c-(i=0===r?a:l-r),h&&!d&&(o=-1==(n=c-i)?u-1:n);else if("next"===t.message)o=c+(i=0===r?a:r),h&&!d&&(o=(c+a)%u+r);else if("dots"===t.message){if((o=t.index*t.slidesToScroll)===t.currentSlide)return null}else if("children"===t.message){if((o=t.index)===t.currentSlide)return null;if(d){var f=C(s({},e,{targetSlide:o}));o>t.currentSlide&&"left"===f?o-=u:o<t.currentSlide&&"right"===f&&(o+=u)}}else if("index"===t.message&&(o=Number(t.index))===t.currentSlide)return null;return o},t.keyHandler=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?r?"next":"previous":39===e.keyCode?r?"previous":"next":""},t.swipeStart=function(e,t,r){return("IMG"===e.target.tagName&&e.preventDefault(),t&&(r||-1===e.type.indexOf("mouse")))?{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}:""},t.swipeMove=function(e,t){var r=t.scrolling,n=t.animating,i=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,u=t.currentSlide,c=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,f=t.swiped,p=t.swiping,y=t.slideCount,v=t.slidesToScroll,b=t.infinite,_=t.touchObject,w=t.swipeEvent,T=t.listHeight,E=t.listWidth;if(!r){if(n)return e.preventDefault();i&&o&&a&&e.preventDefault();var P,C={},A=S(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var M=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!p&&M>10)return{scrolling:!0};a&&(_.swipeLength=M);var k=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(k=_.curY>_.startY?1:-1);var O=Math.ceil(y/v),I=m(t.touchObject,a),R=_.swipeLength;return!b&&(0===u&&"right"===I||u+1>=O&&"left"===I||!g(t)&&"left"===I)&&(R=_.swipeLength*c,!1===h&&d&&(d(I),C.edgeDragged=!0)),!f&&w&&(w(I),C.swiped=!0),P=i?A+T/E*R*k:l?A-R*k:A+R*k,a&&(P=A+R*k),C=s({},C,{touchObject:_,swipeLeft:P,trackStyle:x(s({},t,{left:P}))}),Math.abs(_.curX-_.startX)<.8*Math.abs(_.curY-_.startY)||_.swipeLength>10&&(C.swiping=!0,e.preventDefault()),C}},t.swipeEnd=function(e,t){var r,n,i=t.dragging,o=t.swipe,a=t.touchObject,l=t.listWidth,u=t.touchThreshold,c=t.verticalSwiping,h=t.listHeight,d=t.currentSlide,f=t.swipeToSlide,p=t.scrolling,g=t.onSwipe;if(!i)return o&&e.preventDefault(),{};var y=c?h/u:l/u,_=m(a,c),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p||!a.swipeLength)return x;if(a.swipeLength>y){switch(e.preventDefault(),g&&g(_),_){case"left":case"up":n=d+b(t),r=f?v(t,n):n,x.currentDirection=0;break;case"right":case"down":n=d-b(t),r=f?v(t,n):n,x.currentDirection=1;break;default:r=d}x.triggerSlideHandler=r}else{var T=S(t);x.trackStyle=w(s({},t,{left:T}))}return x};var y=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,r=e.infinite?-1*e.slidesToShow:0,n=e.infinite?-1*e.slidesToShow:0,i=[];r<t;)i.push(r),r=n+e.slidesToScroll,n+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=y;var v=function(e,t){var r=y(e),n=0;if(t>r[r.length-1])t=r[r.length-1];else for(var i in r){if(t<r[i]){t=n;break}n=r[i]}return t};t.checkNavigable=v;var b=function(e){var t,r=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(!e.swipeToSlide)return e.slidesToScroll;if(Array.from(i.default.findDOMNode(e.listRef).querySelectorAll(".slick-slide")).every(function(n){if(e.vertical){if(n.offsetTop+p(n)/2>-1*e.swipeLeft)return t=n,!1}else if(n.offsetLeft-r+f(n)/2>-1*e.swipeLeft)return t=n,!1;return!0}),!t)return 0;var n=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(t.dataset.index-n)||1};t.getSlideCount=b;var _=function(e,t){return t.reduce(function(t,r){return t&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,n=e.slideCount+2*e.slidesToShow;e.vertical?r=n*e.slideHeight:t=P(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};return e.useTransform?i=s({},i,{WebkitTransform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",msTransform:e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)"}):e.vertical?i.top=e.left:i.left=e.left,e.fade&&(i={opacity:1}),t&&(i.width=t),r&&(i.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var w=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=w;var S=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,n=e.infinite,o=e.centerMode,a=e.slideCount,s=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,h=e.variableWidth,d=e.slideHeight,f=e.fade,p=e.vertical,m=0,g=0;if(f||1===e.slideCount)return 0;var y=0;if(n?(y=-T(e),a%l!=0&&t+l>a&&(y=-(t>a?s-(t-a):a%l)),o&&(y+=parseInt(s/2))):(a%l!=0&&t+l>a&&(y=s-a%l),o&&(y=parseInt(s/2))),m=y*u,g=y*d,v=p?-(t*d*1)+g:-(t*u*1)+m,!0===h){var v,b,x,w=i.default.findDOMNode(r);if(x=t+T(e),v=(b=w&&w.childNodes[x])?-1*b.offsetLeft:0,!0===o){x=n?t+T(e):t,b=w&&w.children[x],v=0;for(var S=0;S<x;S++)v-=w&&w.children[S]&&w.children[S].offsetWidth;v-=parseInt(e.centerPadding),v+=b&&(c-b.offsetWidth)/2}}return v};t.getTrackLeft=S;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+ +!!e.centerMode};t.getPreClones=T;var E=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=E;var P=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+E(e)};t.getTotalSlides=P;var C=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-M(e)?"right":"left"};t.siblingDirection=C;var A=function(e){var t=e.slidesToShow,r=e.centerMode,n=e.rtl,i=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),n&&t%2==0&&(o+=1),o}return n?0:t-1};t.slidesOnRight=A;var M=function(e){var t=e.slidesToShow,r=e.centerMode,n=e.rtl,i=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),n||t%2!=0||(o+=1),o}return n?t-1:0};t.slidesOnLeft=M,t.canUseDOM=function(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)}},94471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(96540),a=u(o),s=u(r(5556)),l=u(r(93146));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var e,r,n,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],n.subscribers=[],n.rafHandle=null,n.subscribe=function(e){n.subscribers=n.subscribers.concat(e)},n.unsubscribe=function(e){n.subscribers=n.subscribers.filter(function(t){return t!==e})},n.notifySubscribers=function(e){if(!n.framePending){var t=e.currentTarget;n.rafHandle=(0,l.default)(function(){n.framePending=!1;var e=n.node.getBoundingClientRect(),r=e.top,i=e.bottom;n.subscribers.forEach(function(e){return e({distanceFromTop:r,distanceFromBottom:i,eventSource:t===window?document.body:n.node})})}),n.framePending=!0}},n.getParent=function(){return n.node},c(n,r)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function(){var e=this;this.events.forEach(function(t){return window.addEventListener(t,e.notifySubscribers)})}},{key:"componentWillUnmount",value:function(){var e=this;this.rafHandle&&(l.default.cancel(this.rafHandle),this.rafHandle=null),this.events.forEach(function(t){return window.removeEventListener(t,e.notifySubscribers)})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",n({},this.props,{ref:function(t){return e.node=t},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]),t}(o.PureComponent);h.childContextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},t.default=h},7637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(96540),o=l(i),a=l(r(40961)),s=l(r(5556));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var e,r,n,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isSticky:!1,wasSticky:!1,style:{}},n.handleContainerEvent=function(e){var t=e.distanceFromTop,r=e.distanceFromBottom,i=e.eventSource,o=n.context.getParent(),a=!1;n.props.relative&&(a=i!==o,t=-(i.scrollTop+i.offsetTop)+n.placeholder.offsetTop);var s=n.placeholder.getBoundingClientRect(),l=n.content.getBoundingClientRect().height,u=r-n.props.bottomOffset-l,c=!!n.state.isSticky,h=a?c:t<=-n.props.topOffset&&r>-n.props.bottomOffset;r=(n.props.relative?o.scrollHeight-o.scrollTop:r)-l;var d=h?{position:"fixed",top:u>0?n.props.relative?o.offsetTop-o.offsetParent.scrollTop:0:u,left:s.left,width:s.width}:{};n.props.disableHardwareAcceleration||(d.transform="translateZ(0)"),n.setState({isSticky:h,wasSticky:c,distanceFromTop:t,distanceFromBottom:r,calculatedHeight:l,style:d})},u(n,r)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){if(!this.context.subscribe)throw TypeError("Expected Sticky to be mounted within StickyContainer");this.context.subscribe(this.handleContainerEvent)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.handleContainerEvent)}},{key:"componentDidUpdate",value:function(){this.placeholder.style.paddingBottom=this.props.disableCompensation?0:(this.state.isSticky?this.state.calculatedHeight:0)+"px"}},{key:"render",value:function(){var e=this,t=o.default.cloneElement(this.props.children({isSticky:this.state.isSticky,wasSticky:this.state.wasSticky,distanceFromTop:this.state.distanceFromTop,distanceFromBottom:this.state.distanceFromBottom,calculatedHeight:this.state.calculatedHeight,style:this.state.style}),{ref:function(t){e.content=a.default.findDOMNode(t)}});return o.default.createElement("div",null,o.default.createElement("div",{ref:function(t){return e.placeholder=t}}),t)}}]),t}(i.Component);c.propTypes={topOffset:s.default.number,bottomOffset:s.default.number,relative:s.default.bool,children:s.default.func.isRequired},c.defaultProps={relative:!1,topOffset:0,bottomOffset:0,disableCompensation:!1,disableHardwareAcceleration:!1},c.contextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},t.default=c},47056:(e,t,r)=>{"use strict";t.XF=t.ib=void 0;var n=o(r(7637)),i=o(r(94471));function o(e){return e&&e.__esModule?e:{default:e}}t.ib=n.default,t.XF=i.default,n.default},10188:(e,t,r)=>{"use strict";r.d(t,{uh:()=>p});var n=r(96540),i=r(5556),o=r.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},l={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},u="mousemove",c="mouseup";function h(e,t){if(0===t)return e;var r=Math.PI/180*t;return[e[0]*Math.cos(r)+e[1]*Math.sin(r),e[1]*Math.cos(r)-e[0]*Math.sin(r)]}function d(e,t){var r=function(t){t.touches&&t.touches.length>1||e(function(e,r){r.trackMouse&&(document.addEventListener(u,n),document.addEventListener(c,s));var i=t.touches?t.touches[0]:t,o=h([i.clientX,i.clientY],r.rotationAngle);return a({},e,l,{eventData:{initial:[].concat(o),first:!0},xy:o,start:t.timeStamp||0})})},n=function(t){e(function(e,r){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var n=t.touches?t.touches[0]:t,i=h([n.clientX,n.clientY],r.rotationAngle),o=i[0],s=i[1],l=e.xy[0]-o,u=e.xy[1]-s,c=Math.abs(l),d=Math.abs(u),f=Math.sqrt(c*c+d*d)/((t.timeStamp||0)-e.start||1);if(c<r.delta&&d<r.delta&&!e.swiping)return e;var p=c>d?l>0?"Left":"Right":u>0?"Up":"Down",m=a({},e.eventData,{event:t,absX:c,absY:d,deltaX:l,deltaY:u,velocity:f,dir:p});r.onSwiping&&r.onSwiping(m);var g=!1;return(r.onSwiping||r.onSwiped||r["onSwiped"+p])&&(g=!0),g&&r.preventDefaultTouchmoveEvent&&r.trackTouch&&t.cancelable&&t.preventDefault(),a({},e,{eventData:a({},m,{first:!1}),swiping:!0})})},i=function(t){e(function(e,r){var n;return e.swiping&&(n=a({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(n),r["onSwiped"+n.dir]&&r["onSwiped"+n.dir](n)),a({},e,l,{eventData:n})})},o=function(){document.removeEventListener(u,n),document.removeEventListener(c,s)},s=function(e){o(),i(e)},d=function(e){if(e&&e.addEventListener){var t=[["touchstart",r],["touchmove",n],["touchend",i]];return t.forEach(function(t){var r=t[0],n=t[1];return e.addEventListener(r,n)}),function(){return t.forEach(function(t){var r=t[0],n=t[1];return e.removeEventListener(r,n)})}}},f={ref:function(t){null!==t&&e(function(e,r){if(e.el===t)return e;var n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=null),r.trackTouch&&t&&(n.cleanUpTouch=d(t)),a({},e,{el:t},n)})}};return t.trackMouse&&(f.onMouseDown=r),[f,d]}function f(e,t,r){var n={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),n.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(n.cleanUpTouch=r(e.el)),a({},e,n)}function p(e){var t=e.trackMouse,r=n.useRef(a({},l,{type:"hook"})),i=n.useRef();i.current=a({},s,e);var o=n.useMemo(function(){return d(function(e){return r.current=e(r.current,i.current)},{trackMouse:t})},[t]),u=o[0],c=o[1];return r.current=f(r.current,i.current,c),u}var m=function(e){function t(t){var r;return(r=e.call(this,t)||this)._set=function(e){r.transientState=e(r.transientState,r.props)},r.transientState=a({},l,{type:"class"}),r}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,t.prototype.render=function(){var e=this.props,t=e.className,r=e.style,i=e.nodeName,o=e.innerRef,s=e.children,l=e.trackMouse,u=d(this._set,{trackMouse:l}),c=u[0],h=u[1];this.transientState=f(this.transientState,this.props,h);var p=o?function(e){return o(e),c.ref(e)}:c.ref;return n.createElement(void 0===i?"div":i,a({},c,{className:t,style:r,ref:p}),s)},t}(n.PureComponent);m.propTypes={onSwiped:o().func,onSwiping:o().func,onSwipedUp:o().func,onSwipedRight:o().func,onSwipedDown:o().func,onSwipedLeft:o().func,delta:o().number,preventDefaultTouchmoveEvent:o().bool,nodeName:o().string,trackMouse:o().bool,trackTouch:o().bool,innerRef:o().func,rotationAngle:o().number},m.defaultProps=s},23217:(e,t,r)=>{"use strict";r.d(t,{GT:()=>ef,WZ:()=>em});var n=r(96540),i=function(e,t){return Number(e.toFixed(t))},o=function(e,t,r){r&&"function"==typeof r&&r(e,t)},a={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},s=function(e){"number"==typeof e&&cancelAnimationFrame(e)},l=function(e){e.mounted&&(s(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function u(e,t,r,n){if(e.mounted){var i=new Date().getTime();l(e),e.animation=function(){if(!e.mounted)return s(e.animation);var o=new Date().getTime()-i,l=(0,a[t])(o/r);o>=r?(n(1),e.animation=null):e.animation&&(n(l),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function c(e,t,r,n){var i,o,a,s=(i=t.scale,o=t.positionX,a=t.positionY,!(Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(a)));if(e.mounted&&s){var l=e.setTransformState,c=e.transformState,h=c.scale,d=c.positionX,f=c.positionY,p=t.scale-h,m=t.positionX-d,g=t.positionY-f;0===r?l(t.scale,t.positionX,t.positionY):u(e,n,r,function(e){l(h+p*e,d+m*e,f+g*e)})}}var h=function(e,t,r,n,i,o,a){var s=e>t?r*(a?1:.5):0,l=n>i?o*(a?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:n-i-l,maxPositionY:l}},d=function(e,t){var r,n,i,o,a,s,l=e.wrapperComponent,u=e.contentComponent,c=e.setup.centerZoomedOut;if(!l||!u)throw Error("Components are not mounted");var d=(r=l.offsetWidth,n=l.offsetHeight,i=u.offsetWidth,o=u.offsetHeight,{wrapperWidth:r,wrapperHeight:n,newContentWidth:a=i*t,newDiffWidth:r-a,newContentHeight:s=o*t,newDiffHeight:n-s}),f=d.wrapperWidth,p=d.wrapperHeight;return h(f,d.newContentWidth,d.newDiffWidth,p,d.newContentHeight,d.newDiffHeight,!!c)},f=function(e,t,r,n){return n?e<t?i(t,2):e>r?i(r,2):i(e,2):i(e,2)},p=function(e,t){var r=d(e,t);return e.bounds=r,r};function m(e,t,r,n,i,o,a){var s=r.minPositionX,l=r.minPositionY,u=r.maxPositionX,c=r.maxPositionY,h=0,d=0;return a&&(h=i,d=o),{x:f(e,s-h,u+h,n),y:f(t,l-d,c+d,n)}}function g(e,t,r,n,i,o){var a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY,c=n-s;return"number"!=typeof t||"number"!=typeof r?(console.error("Mouse X and Y position were not provided!"),{x:l,y:u}):m(l-t*c,u-r*c,i,o,0,0,null)}function y(e,t,r,n,i){var o=t-(i?n:0);return!Number.isNaN(r)&&e>=r?r:!Number.isNaN(t)&&e<=o?o:e}var v=function(e,t){var r=e.setup.panning.excluded,n=e.isInitialized,i=e.wrapperComponent,o=t.target,a=null==i?void 0:i.contains(o);return!(!(n&&o&&a)||H(o,r))},b=function(e){var t=e.isInitialized,r=e.isPanning,n=e.setup.panning.disabled;return!!t&&!!r&&!n},_=function(e,t){var r=e.transformState,n=r.positionX,i=r.positionY;e.isPanning=!0;var o=t.clientX,a=t.clientY;e.startCoords={x:o-n,y:a-i}},x=function(e,t){var r=t.touches,n=e.transformState,i=n.positionX,o=n.positionY;if(e.isPanning=!0,1===r.length){var a=r[0].clientX,s=r[0].clientY;e.startCoords={x:a-i,y:s-o}}},w=function(e,t,r){var n=e.startCoords,i=e.transformState,o=e.setup.panning,a=o.lockAxisX,s=o.lockAxisY,l=i.positionX,u=i.positionY;if(!n)return{x:l,y:u};var c=t-n.x,h=r-n.y;return{x:a?l:c,y:s?u:h}},S=function(e,t){var r=e.setup,n=e.transformState.scale,i=r.minScale,o=r.disablePadding;return t>0&&n>=i&&!o?t:0},T=function(e){var t=e.mounted,r=e.setup,n=r.disabled,i=r.velocityAnimation,o=e.transformState.scale;return!i.disabled||o>1||!n||!!t},E=function(e){var t=e.mounted,r=e.velocity,n=e.bounds,i=e.setup,o=i.disabled,a=i.velocityAnimation,s=e.transformState.scale;return(!a.disabled||s>1||!o||!!t)&&!!r&&!!n};function P(e,t,r,n,i,o,a,s,l,u){if(i){if(t>a&&r>a){var c=a+(e-a)*u;return c>l?l:c<a?a:c}if(t<o&&r<o){var c=o+(e-o)*u;return c<s?s:c>o?o:c}}return n?t:f(e,o,a,i)}function C(e,t){var r=e.transformState.scale;l(e),p(e,r),void 0!==window.TouchEvent&&t instanceof TouchEvent?x(e,t):_(e,t)}function A(e){var t=e.transformState.scale,r=e.setup,n=r.minScale,i=r.alignmentAnimation,o=i.disabled,a=i.sizeX,s=i.sizeY,l=i.animationTime,u=i.animationType;if(!(o||t<n||!a&&!s)){var h=function(e){var t=e.transformState,r=t.positionX,n=t.positionY,i=t.scale,o=e.setup,a=o.disabled,s=o.limitToBounds,l=o.centerZoomedOut,u=e.wrapperComponent;if(!a&&u&&e.bounds){var c=e.bounds,h=c.maxPositionX,d=c.minPositionX,f=c.maxPositionY,p=c.minPositionY,m=r>h?u.offsetWidth:e.setup.minPositionX||0,y=n>f?u.offsetHeight:e.setup.minPositionY||0,v=g(e,m,y,i,e.bounds,s||l),b=v.x,_=v.y;return{scale:i,positionX:r>h||r<d?b:r,positionY:n>f||n<p?_:n}}}(e);h&&c(e,h,l,u)}}function M(e,t,r){var n=e.startCoords,i=e.setup.alignmentAnimation,o=i.sizeX,a=i.sizeY;if(n){var s=w(e,t,r),l=s.x,u=s.y,c=S(e,o),h=S(e,a);!function(e,t){if(T(e)){var r=e.lastMousePosition,n=e.velocityTime,i=e.setup,o=e.wrapperComponent,a=i.velocityAnimation.equalToMove,s=Date.now();if(r&&n&&o){var l=a?Math.min(1,o.offsetWidth/window.innerWidth):1,u=t.x-r.x,c=t.y-r.y,h=Math.sqrt(u*u+c*c)/(s-n);e.velocity={velocityX:u/l,velocityY:c/l,total:h}}e.lastMousePosition=t,e.velocityTime=s}}(e,{x:l,y:u}),function(e,t,r,n,i){var o=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,u=l.scale,c=l.positionX,h=l.positionY;if(null!==a&&null!==s&&(t!==c||r!==h)){var d=m(t,r,s,o,n,i,a),f=d.x,p=d.y;e.setTransformState(u,f,p)}}(e,l,u,c,h)}}function k(e,t,r,n){var o=e.setup,a=o.minScale,s=o.maxScale,l=o.limitToBounds,u=y(i(t,2),a,s,0,!1),c=p(e,u),h=g(e,r,n,u,c,l);return{scale:u,positionX:h.x,positionY:h.y}}function O(e,t,r){var n=e.transformState.scale,i=e.wrapperComponent,o=e.setup,a=o.minScale,s=o.limitToBounds,l=o.zoomAnimation,u=l.disabled,h=l.animationTime,d=l.animationType,f=u||n>=a;if((n>=1||s)&&A(e),!f&&i&&e.mounted){var p=k(e,a,t||i.offsetWidth/2,r||i.offsetHeight/2);p&&c(e,p,h,d)}}var I=function(){return(I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function R(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var D={scale:1,positionX:0,positionY:0},L={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},j=function(e){var t,r,n,i;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:D.scale,scale:null!==(r=e.initialScale)&&void 0!==r?r:D.scale,positionX:null!==(n=e.initialPositionX)&&void 0!==n?n:D.positionX,positionY:null!==(i=e.initialPositionY)&&void 0!==i?i:D.positionY}},z=function(e){var t=I({},L);return Object.keys(e).forEach(function(r){var n=void 0!==e[r];if(void 0!==L[r]&&n){var i=Object.prototype.toString.call(L[r]);"[object Object]"===i?t[r]=I(I({},L[r]),e[r]):"[object Array]"===i?t[r]=R(R([],L[r],!0),e[r],!0):t[r]=e[r]}}),t},B=function(e,t,r){var n=e.transformState.scale,o=e.wrapperComponent,a=e.setup,s=a.maxScale,l=a.minScale,u=a.zoomAnimation.size;if(!o)throw Error("Wrapper is not mounted");return y(i(n+t*r,3),l,s,u,!1)};function F(e,t,r,n,i){var o=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY;if(!o)return console.error("No WrapperComponent found");var h=o.offsetWidth,d=o.offsetHeight,f=B(e,t,r),p=k(e,f,(h/2-l)/s,(d/2-u)/s);if(!p)return console.error("Error during zoom event. New transformation state was not calculated.");c(e,p,n,i)}function N(e,t,r,n){var i=e.setup,o=e.wrapperComponent,a=i.limitToBounds,s=j(e.props),l=e.transformState,u=l.scale,h=l.positionX,f=l.positionY;if(o){var p=d(e,s.scale),g=m(s.positionX,s.positionY,p,a,0,0,o),y={scale:s.scale,positionX:g.x,positionY:g.y};if(u===s.scale&&h===s.positionX&&f===s.positionY)return;null==n||n(),c(e,y,t,r)}}var V=function(e){return{instance:e,zoomIn:function(t,r,n){void 0===t&&(t=.5),void 0===r&&(r=300),void 0===n&&(n="easeOut"),F(e,1,t,r,n)},zoomOut:function(t,r,n){void 0===t&&(t=.5),void 0===r&&(r=300),void 0===n&&(n="easeOut"),F(e,-1,t,r,n)},setTransform:function(t,r,n,i,o){void 0===i&&(i=300),void 0===o&&(o="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,u=a.scale,h=e.wrapperComponent,d=e.contentComponent;!e.setup.disabled&&h&&d&&c(e,{positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(r)?l:r,scale:Number.isNaN(n)?u:n},i,o)},resetTransform:function(t,r){void 0===t&&(t=200),void 0===r&&(r="easeOut"),N(e,t,r)},centerView:function(t,r,n){void 0===r&&(r=200),void 0===n&&(n="easeOut");var i=e.transformState,o=e.wrapperComponent,a=e.contentComponent;o&&a&&c(e,$(t||i.scale,o,a),r,n)},zoomToElement:function(t,r,n,i){void 0===n&&(n=600),void 0===i&&(i="easeOut"),l(e);var o=e.wrapperComponent,a="string"==typeof t?document.getElementById(t):t;if(o&&a&&o.contains(a)){var s=function(e,t,r){var n,i,o,a,s,l=e.wrapperComponent,u=e.contentComponent,c=e.transformState,h=e.setup,f=h.limitToBounds,p=h.minScale,g=h.maxScale;if(!l||!u)return c;var v=l.getBoundingClientRect(),b=t.getBoundingClientRect(),_=(n=t.getBoundingClientRect(),i=l.getBoundingClientRect(),o=u.getBoundingClientRect(),a=i.x*c.scale,s=i.y*c.scale,{x:(n.x-o.x+a)/c.scale,y:(n.y-o.y+s)/c.scale}),x=_.x,w=_.y,S=b.width/c.scale,T=b.height/c.scale,E=l.offsetWidth/S,P=l.offsetHeight/T,C=y(r||Math.min(E,P),p,g,0,!1),A=(v.width-S*C)/2,M=(v.height-T*C)/2,k=m((v.left-x)*C+A,(v.top-w)*C+M,d(e,C),f,0,0,l);return{positionX:k.x,positionY:k.y,scale:C}}(e,a,r);c(e,s,n,i)}}}},U=function(e){var t,r={};return Object.assign(r,{instance:t=e,state:t.transformState}),Object.assign(r,V(e)),r};function G(){try{return{get passive(){return!1}}}catch(e){return!1}}var H=function(e,t){var r=e.tagName.toUpperCase();return!!(t.find(function(e){return e.toUpperCase()===r})||t.find(function(t){return e.classList.contains(t)}))},q=function(e){e&&clearTimeout(e)},$=function(e,t,r){var n=r.offsetWidth*e,i=r.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-n)/2,positionY:(t.offsetHeight-i)/2}},W=function(e,t){var r=e.setup.wheel,n=r.disabled,i=r.wheelDisabled,o=r.touchPadDisabled,a=r.excluded,s=e.isInitialized,l=e.isPanning,u=t.target;return!(!(s&&!l&&!n&&u)||i&&!t.ctrlKey||o&&t.ctrlKey||H(u,a))};function X(e,t,r){var n=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-n.left)/r,o=(e.clientY-n.top)/r;else{var a=e.touches[0];i=(a.clientX-n.left)/r,o=(a.clientY-n.top)/r}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var Z=function(e,t,r,n,o){var a=e.transformState.scale,s=e.wrapperComponent,l=e.setup,u=l.maxScale,c=l.minScale,h=l.zoomAnimation,d=l.disablePadding,f=h.size,p=h.disabled;if(!s)throw Error("Wrapper is not mounted");var m=a+t*r;return o?m:y(i(m,3),c,u,f,!n&&!p&&!d)},K=function(e,t){var r=e.previousWheelEvent,n=e.transformState.scale,i=e.setup,o=i.maxScale,a=i.minScale;return!!r&&(n<o||n>a||Math.sign(r.deltaY)!==Math.sign(t.deltaY)||r.deltaY>0&&r.deltaY<t.deltaY||r.deltaY<0&&r.deltaY>t.deltaY||Math.sign(r.deltaY)!==Math.sign(t.deltaY))},Y=function(e,t){var r=e.setup.pinch,n=r.disabled,i=r.excluded,o=e.isInitialized,a=t.target;return!(!(o&&!n&&a)||H(a,i))},Q=function(e){var t=e.setup.pinch.disabled,r=e.isInitialized,n=e.pinchStartDistance;return!!r&&!t&&!!n},J=function(e,t,r){var n=r.getBoundingClientRect(),o=e.touches,a=i(o[0].clientX-n.left,5),s=i(o[0].clientY-n.top,5);return{x:(a+i(o[1].clientX-n.left,5))/2/t,y:(s+i(o[1].clientY-n.top,5))/2/t}},ee=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},et=function(e,t){var r=e.pinchStartScale,n=e.pinchStartDistance,o=e.setup,a=o.maxScale,s=o.minScale,l=o.zoomAnimation,u=o.disablePadding,c=l.size,h=l.disabled;if(!r||null===n||!t)throw Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:y(i(t/n*r,2),s,a,c,!h&&!u)},er=function(e,t){var r=e.props,n=r.onWheelStart,i=r.onZoomStart;e.wheelStopEventTimer||(l(e),o(U(e),t,n),o(U(e),t,i))},en=function(e,t){var r,n=e.props,i=n.onWheel,a=n.onZoom,s=e.contentComponent,l=e.setup,u=e.transformState.scale,c=l.limitToBounds,h=l.centerZoomedOut,d=l.zoomAnimation,f=l.wheel,m=l.disablePadding,y=d.size,v=d.disabled,b=f.step;if(!s)throw Error("Component not mounted");t.preventDefault(),t.stopPropagation();var _=Z(e,r=t?t.deltaY<0?1:-1:0,b,!t.ctrlKey);if(u!==_){var x=p(e,_),w=X(t,s,u),S=g(e,w.x,w.y,_,x,c&&(v||0===y||h||m)),T=S.x,E=S.y;e.previousWheelEvent=t,e.setTransformState(_,T,E),o(U(e),t,i),o(U(e),t,a)}},ei=function(e,t){var r=e.props,n=r.onWheelStop,i=r.onZoomStop;q(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(O(e,t.x,t.y),e.wheelAnimationTimer=null)},100),K(e,t)&&(q(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,o(U(e),t,n),o(U(e),t,i))},160))},eo=function(e,t){var r=ee(t);e.pinchStartDistance=r,e.lastDistance=r,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,l(e)},ea=function(e,t){var r=e.contentComponent,n=e.pinchStartDistance,i=e.transformState.scale,o=e.setup,a=o.limitToBounds,s=o.centerZoomedOut,l=o.zoomAnimation,u=l.disabled,c=l.size;if(null!==n&&r){var h=J(t,i,r);if(Number.isFinite(h.x)&&Number.isFinite(h.y)){var d=ee(t),f=et(e,d);if(f!==i){var m=p(e,f),y=g(e,h.x,h.y,f,m,a&&(u||0===c||s)),v=y.x,b=y.y;e.pinchMidpoint=h,e.lastDistance=d,e.setTransformState(f,v,b)}}}},es=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,O(e,null==t?void 0:t.x,null==t?void 0:t.y)},el=function(e,t){var r=e.props.onZoomStop,n=e.setup.doubleClick.animationTime;q(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,o(U(e),t,r)},n)},eu=function(e,t){var r=e.props,n=r.onZoomStart,i=r.onZoom,a=e.setup.doubleClick,s=a.animationTime,l=a.animationType;o(U(e),t,n),N(e,s,l,function(){return o(U(e),t,i)}),el(e,t)},ec=function(e,t){var r=e.isInitialized,n=e.setup,i=e.wrapperComponent,o=n.doubleClick,a=o.disabled,s=o.excluded,l=t.target,u=null==i?void 0:i.contains(l);return!(!(r&&l&&u&&!a)||H(l,s))},eh=function(e){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){p(t,t.transformState.scale),t.setup=z(e)},this.initializeWindowEvents=function(){var e,r=G(),n=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,i=null==n?void 0:n.defaultView;null==i||i.addEventListener("mousedown",t.onPanningStart,r),null==i||i.addEventListener("mousemove",t.onPanning,r),null==i||i.addEventListener("mouseup",t.onPanningStop,r),null==n||n.addEventListener("mouseleave",t.clearPanning,r),null==i||i.addEventListener("keyup",t.setKeyUnPressed,r),null==i||i.addEventListener("keydown",t.setKeyPressed,r)},this.cleanupWindowEvents=function(){var e,r,n=G(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,o=null==i?void 0:i.defaultView;null==o||o.removeEventListener("mousedown",t.onPanningStart,n),null==o||o.removeEventListener("mousemove",t.onPanning,n),null==o||o.removeEventListener("mouseup",t.onPanningStop,n),null==i||i.removeEventListener("mouseleave",t.clearPanning,n),null==o||o.removeEventListener("keyup",t.setKeyUnPressed,n),null==o||o.removeEventListener("keydown",t.setKeyPressed,n),document.removeEventListener("mouseleave",t.clearPanning,n),l(t),null===(r=t.observer)||void 0===r||r.disconnect()},this.handleInitializeWrapperEvents=function(e){var r=G();e.addEventListener("wheel",t.onWheelZoom,r),e.addEventListener("dblclick",t.onDoubleClick,r),e.addEventListener("touchstart",t.onTouchPanningStart,r),e.addEventListener("touchmove",t.onTouchPanning,r),e.addEventListener("touchend",t.onTouchPanningStop,r)},this.handleInitialize=function(e){var r=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach(function(e){return e(U(t))}),r&&(t.setCenter(),t.observer=new ResizeObserver(function(){var e;t.onInitCallbacks.forEach(function(e){return e(U(t))}),t.setCenter(),null===(e=t.observer)||void 0===e||e.disconnect()}),t.observer.observe(e))},this.onWheelZoom=function(e){!t.setup.disabled&&W(t,e)&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(er(t,e),en(t,e),ei(t,e))},this.onPanningStart=function(e){var r=t.setup.disabled,n=t.props.onPanningStart;!r&&v(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),l(t),C(t,e),o(U(t),e,n))},this.onPanning=function(e){var r=t.setup.disabled,n=t.props.onPanning;!r&&b(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),M(t,e.clientX,e.clientY),o(U(t),e,n))},this.onPanningStop=function(e){var r=t.props.onPanningStop;t.isPanning&&(function(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,r=e.velocity,n=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=null==n?void 0:n.getBoundingClientRect(),s=null==i?void 0:i.getBoundingClientRect(),l=(null==o?void 0:o.width)||0,c=(null==o?void 0:o.height)||0,h=(null==s?void 0:s.width)||0,d=(null==s?void 0:s.height)||0;!t&&r&&(null==r?void 0:r.total)>.1&&(l<h||c<d)?function(e){var t,r,n,i,o=e.velocity,s=e.bounds,l=e.setup,c=e.wrapperComponent;if(E(e)&&o&&s&&c){var h=o.velocityX,d=o.velocityY,f=o.total,p=s.maxPositionX,m=s.minPositionX,g=s.maxPositionY,y=s.minPositionY,v=l.limitToBounds,b=l.alignmentAnimation,_=l.zoomAnimation,x=l.panning,w=x.lockAxisY,T=x.lockAxisX,C=_.animationType,A=b.sizeX,M=b.sizeY,k=b.velocityAlignmentTime,O=Math.max((r=(t=e.setup.velocityAnimation).equalToMove,n=t.animationTime,i=t.sensitivity,r?n*f*i:n),k),I=S(e,A),R=S(e,M),D=I*c.offsetWidth/100,L=R*c.offsetHeight/100,j=p+D,z=m-D,B=g+L,F=y-L,N=e.transformState,V=new Date().getTime();u(e,C,O,function(t){var r=e.transformState,n=r.scale,i=r.positionX,o=r.positionY,s=new Date().getTime()-V,l=1-(0,a[b.animationType])(Math.min(1,s/k)),u=1-t,c=i+h*u,f=o+d*u,_=P(c,N.positionX,i,T,v,m,p,z,j,l),x=P(f,N.positionY,o,w,v,y,g,F,B,l);(i!==c||o!==f)&&e.setTransformState(n,_,x)})}}(e):A(e)}}(t),o(U(t),e,r))},this.onPinchStart=function(e){var r=t.setup.disabled,n=t.props,i=n.onPinchingStart,a=n.onZoomStart;!r&&Y(t,e)&&(eo(t,e),l(t),o(U(t),e,i),o(U(t),e,a))},this.onPinch=function(e){var r=t.setup.disabled,n=t.props,i=n.onPinching,a=n.onZoom;!r&&Q(t)&&(e.preventDefault(),e.stopPropagation(),ea(t,e),o(U(t),e,i),o(U(t),e,a))},this.onPinchStop=function(e){var r=t.props,n=r.onPinchingStop,i=r.onZoomStop;t.pinchStartScale&&(es(t),o(U(t),e,n),o(U(t),e,i))},this.onTouchPanningStart=function(e){var r=t.setup.disabled,n=t.props.onPanningStart;if(!r&&v(t,e)){if(t.lastTouch&&+new Date-t.lastTouch<200&&1===e.touches.length)t.onDoubleClick(e);else{t.lastTouch=+new Date,l(t);var i=e.touches,a=1===i.length,s=2===i.length;a&&(l(t),C(t,e),o(U(t),e,n)),s&&t.onPinchStart(e)}}},this.onTouchPanning=function(e){var r=t.setup.disabled,n=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(r||!b(t))return;e.preventDefault(),e.stopPropagation();var i=e.touches[0];M(t,i.clientX,i.clientY),o(U(t),e,n)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){!t.setup.disabled&&ec(t,e)&&function(e,t){var r=e.setup,n=e.doubleClickStopEventTimer,i=e.transformState,a=e.contentComponent,s=i.scale,l=e.props,u=l.onZoomStart,h=l.onZoom,d=r.doubleClick,f=d.disabled,p=d.mode,m=d.step,g=d.animationTime,y=d.animationType;if(!f&&!n){if("reset"===p)return eu(e,t);if(!a)return console.error("No ContentComponent found");var v=B(e,"zoomOut"===p?-1:1,m);if(s!==v){o(U(e),t,u);var b=X(t,a,s),_=k(e,v,b.x,b.y);if(!_)return console.error("Error during zoom event. New transformation state was not calculated.");o(U(e),t,h),c(e,_,g,y),el(e,t)}}}(t,e)},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||!!e.find(function(e){return t.pressedKeys[e]})},this.setTransformState=function(e,r,n){var i=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(r)||Number.isNaN(n))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=r,t.transformState.positionY=n,t.applyTransformation();var a=U(t);t.onChangeCallbacks.forEach(function(e){return e(a)}),o(a,{scale:e,positionX:r,positionY:n},i)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=$(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,r,n){return t.props.customTransform?t.props.customTransform(e,r,n):"translate(".concat(e,"px, ").concat(r,"px) scale(").concat(n,")")},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,r=e.scale,n=e.positionX,i=e.positionY,o=t.handleTransformStyles(n,i,r);t.contentComponent.style.transform=o}},this.getContext=function(){return U(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,r){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=r,p(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(r),t.initializeWindowEvents(),t.isInitialized=!0,o(U(t),void 0,t.props.onInit)},this.props=e,this.setup=z(this.props),this.transformState=j(this.props)},ed=n.createContext(null),ef=n.forwardRef(function(e,t){var r,i,o=(0,n.useRef)(new eh(e)).current,a=(r=e.children,i=V(o),"function"==typeof r?r(i):r);return(0,n.useImperativeHandle)(t,function(){return V(o)},[o]),(0,n.useEffect)(function(){o.update(e)},[o,e]),n.createElement(ed.Provider,{value:o},a)});n.forwardRef(function(e,t){var r,i=(0,n.useRef)(null),o=(0,n.useContext)(ed);return(0,n.useEffect)(function(){return o.onChange(function(e){i.current&&(i.current.style.transform=o.handleTransformStyles(0,0,1/e.instance.transformState.scale))})},[o]),n.createElement("div",I({},e,{ref:(r=[i,t],function(e){r.forEach(function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)})})}))});var ep={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var em=function(e){var t=e.children,r=e.wrapperClass,i=e.contentClass,o=e.wrapperStyle,a=e.contentStyle,s=e.wrapperProps,l=e.contentProps,u=(0,n.useContext)(ed).init,c=(0,n.useRef)(null),h=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=c.current,t=h.current;null!==e&&null!==t&&u&&u(e,t)},[]),n.createElement("div",I({},void 0===s?{}:s,{ref:c,className:"react-transform-wrapper ".concat(ep.wrapper," ").concat(void 0===r?"":r),style:o}),n.createElement("div",I({},void 0===l?{}:l,{ref:h,className:"react-transform-component ".concat(ep.content," ").concat(void 0===i?"":i),style:a}),t))}},79448:function(e,t,r){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,r){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function l(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=void 0===e?"undefined":_(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,r,n,h,d,f){h=h||[],f=f||[];var p,m=h.slice(0);if(void 0!==d){if(n){if("function"==typeof n&&n(m,d))return;if("object"===(void 0===n?"undefined":_(n))){if(n.prefilter&&n.prefilter(m,d))return;if(n.normalize){var g=n.normalize(m,d,e,t);g&&(e=g[0],t=g[1])}}}m.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":_(e),v=void 0===t?"undefined":_(t),b="undefined"!==y||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),x="undefined"!==v||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!b&&x)r(new o(m,t));else if(!x&&b)r(new a(m,e));else if(u(e)!==u(t))r(new i(m,e,t));else if("date"===u(e)&&e-t!=0)r(new i(m,e,t));else if("object"===y&&null!==e&&null!==t){if(f.filter(function(t){return t.lhs===e}).length)e!==t&&r(new i(m,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){for(e.length,p=0;p<e.length;p++)p>=t.length?r(new s(m,p,new a(void 0,e[p]))):c(e[p],t[p],r,n,m,p,f);for(;p<t.length;)r(new s(m,p,new o(void 0,t[p++])))}else{var w=Object.keys(e),S=Object.keys(t);w.forEach(function(i,o){var a=S.indexOf(i);a>=0?(c(e[i],t[i],r,n,m,i,f),S=l(S,a)):c(e[i],void 0,r,n,m,i,f)}),S.forEach(function(e){c(void 0,t[e],r,n,m,e,f)})}f.length=f.length-1}}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||r(new i(m,e,t)))}function h(e,t,r,n){return n=n||[],c(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function d(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,i=-1,o=r.path?r.path.length-1:0;++i<o;)void 0===n[r.path[i]]&&(n[r.path[i]]="number"==typeof r.path[i]?[]:{}),n=n[r.path[i]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var i,o=t[r],a=n.path.length-1;for(i=0;i<a;i++)o=o[n.path[i]];switch(n.kind){case"A":e(o[n.path[i]],n.index,n.item);break;case"D":delete o[n.path[i]];break;case"E":case"N":o[n.path[i]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=l(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[i]]:n,r.index,r.item);break;case"D":delete n[r.path[i]];break;case"E":case"N":n[r.path[i]]=r.rhs}}}function f(e,t,r,n){switch(void 0===e?"undefined":_(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,x(r)):e[n];case"function":return e(t);default:return e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},T,e),r=t.logger,n=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var r=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(r,u))return e(u);var c={};l.push(c),c.started=b.now(),c.startedTime=new Date,c.prevState=n(r()),c.action=u;var d=void 0;if(a)try{d=e(u)}catch(e){c.error=i(e)}else d=e(u);c.took=b.now()-c.started,c.nextState=n(r());var p=t.diff&&"function"==typeof s?s(r,u):t.diff;if(function(e,t){var r,n,i=t.logger,o=t.actionTransformer,a=t.titleFormatter,s=void 0===a?(r=t.timestamp,n=t.duration,function(e,t,i){var o=["action"];return o.push("%c"+String(e.type)),r&&o.push("%c@ "+t),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}):a,l=t.collapsed,u=t.colors,c=t.level,d=t.diff,p=void 0===t.titleFormatter;e.forEach(function(r,n){var a=r.started,m=r.startedTime,g=r.action,y=r.prevState,b=r.error,_=r.took,w=r.nextState,T=e[n+1];T&&(w=T.prevState,_=T.started-a);var E=o(g),P="function"==typeof l?l(function(){return w},g,r):l,C=v(m),A=u.title?"color: "+u.title(E)+";":"",M=["color: gray; font-weight: lighter;"];M.push(A),t.timestamp&&M.push("color: gray; font-weight: lighter;"),t.duration&&M.push("color: gray; font-weight: lighter;");var k=s(E,C,_);try{P?u.title&&p?i.groupCollapsed.apply(i,["%c "+k].concat(M)):i.groupCollapsed(k):u.title&&p?i.group.apply(i,["%c "+k].concat(M)):i.group(k)}catch(e){i.log(k)}var O=f(c,E,[y],"prevState"),I=f(c,E,[E],"action"),R=f(c,E,[b,y],"error"),D=f(c,E,[w],"nextState");if(O){if(u.prevState){var L="color: "+u.prevState(y)+"; font-weight: bold";i[O]("%c prev state",L,y)}else i[O]("prev state",y)}if(I){if(u.action){var j="color: "+u.action(E)+"; font-weight: bold";i[I]("%c action    ",j,E)}else i[I]("action    ",E)}if(b&&R){if(u.error){var z="color: "+u.error(b,y)+"; font-weight: bold;";i[R]("%c error     ",z,b)}else i[R]("error     ",b)}if(D){if(u.nextState){var B="color: "+u.nextState(w)+"; font-weight: bold";i[D]("%c next state",B,w)}else i[D]("next state",w)}d&&function(e,t,r,n){var i=h(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}i?i.forEach(function(e){var t=e.kind,n=function(e){var t=e.kind,r=e.path,n=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"",i];case"N":return[r.join("."),i];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+o+"]",a];default:return[]}}(e);r.log.apply(r,["%c "+S[t].text,"color: "+S[t].color+"; font-weight: bold"].concat(x(n)))}):r.log(" no diff ");try{r.groupEnd()}catch(e){r.log(" diff end  ")}}(y,w,i,P);try{i.groupEnd()}catch(e){i.log(" log end ")}})}(l,Object.assign({},t,{diff:p})),l.length=0,c.error)throw c.error;return d}}}}var m,g,y=function(e,t){return Array(t-e.toString().length+1).join("0")+e},v=function(e){return y(e.getHours(),2)+":"+y(e.getMinutes(),2)+":"+y(e.getSeconds(),2)+"."+y(e.getMilliseconds(),3)},b="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},w=[];(g=(m="object"===(void 0===r.g?"undefined":_(r.g))&&r.g?r.g:"undefined"!=typeof window?window:{}).DeepDiff)&&w.push(function(){void 0!==g&&m.DeepDiff===h&&(m.DeepDiff=g,g=void 0)}),t(i,n),t(o,n),t(a,n),t(s,n),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&c(e,t,function(n){r&&!r(e,t,n)||d(e,t,n)})},enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,i,o=e;for(i=r.path.length-1,n=0;n<i;n++)void 0===o[r.path[n]]&&(o[r.path[n]]={}),o=o[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var i,o=t[r],a=n.path.length-1;for(i=0;i<a;i++)o=o[n.path[i]];switch(n.kind){case"A":e(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=l(t,r)}return t}(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==g},enumerable:!0},noConflict:{value:function(){return w&&(w.forEach(function(e){e()}),w=null),h},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},T={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?p()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=T,e.createLogger=p,e.logger=E,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})}(t)},76107:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r="@@reduxTimeout/ADD_TIMEOUT",n="@@reduxTimeout/REMOVE_TIMEOUT",i="@@reduxTimeout/WATCH_ALL";e.exports={reduxTimeout:function(){var e={};return function(o){return function(o){return function(a){var s=function(t){var r=e[t];r&&(clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.toCall,r.timeout))},l=function(t){var r=e[t];r&&(clearTimeout(r.timeoutId),delete e[t])};return a.type===n&&a.payload.action&&(a.payload.action instanceof Array?a.payload.action.forEach(function(e){l(e)}):l(a.payload.action)),a.type===r&&a.payload.action&&(a.payload,function(r){var n=r.timeout,i=r.action,o=r.toCall;if("number"!=typeof n)return Error("Expected timeout to be a number");if("string"!=typeof i&&!(i instanceof Array))return Error("Expected action to be a string or an array");if((void 0===o?"undefined":t(o))!=="object"&&"function"!=typeof o)return Error("Expected toCall to be an object or a function that would return an object");var a={timeout:n,toCall:o};a.timeoutId=setTimeout(a.toCall,a.timeout);var s=function(t){if("string"!=typeof t)return Error("Expected action to be a string");e[t]=a};i instanceof Array?i.forEach(function(e){s(e)}):s(i)}(a.payload)),s(a.type),s(i),o(a)}}}},addTimeout:function(e,t,n){return{type:r,payload:{timeout:e,action:t,toCall:n}}},removeTimeout:function(e){return{type:n,payload:{action:e}}},WATCH_ALL:i}},28705:(e,t,r)=>{"use strict";r.d(t,{Tw:()=>C,HY:()=>T,Zz:()=>E,y$:()=>S});var n,i,o="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=(o||a||Function("return this")()).Symbol,l=Object.prototype,u=l.hasOwnProperty,c=l.toString,h=s?s.toStringTag:void 0;let d=function(e){var t=u.call(e,h),r=e[h];try{e[h]=void 0;var n=!0}catch(e){}var i=c.call(e);return n&&(t?e[h]=r:delete e[h]),i};var f=Object.prototype.toString,p=s?s.toStringTag:void 0,m=(n=Object.getPrototypeOf,i=Object,function(e){return n(i(e))}),g=Object.prototype,y=Function.prototype.toString,v=g.hasOwnProperty,b=y.call(Object);let _=function(e){if(null==e||"object"!=typeof e||"[object Object]"!=(null==(t=e)?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?d(t):f.call(t)))return!1;var t,r=m(e);if(null===r)return!0;var n=v.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&y.call(n)==b};var x=r(9423),w={INIT:"@@redux/INIT"};function S(e,t,r){if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error("Expected the enhancer to be a function.");return r(S)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var n,i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var r=s.indexOf(e);s.splice(r,1)}}}function h(e){if(!_(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw Error("Reducers may not dispatch actions.");try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,r=0;r<t.length;r++)(0,t[r])();return e}return h({type:w.INIT}),(n={dispatch:h,subscribe:c,getState:function(){return o},replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");i=e,h({type:w.INIT})}})[x.A]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e)throw TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(o)}return t(),{unsubscribe:c(t)}}})[x.A]=function(){return this},e},n}function T(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];"function"==typeof e[i]&&(r[i]=e[i])}var o=Object.keys(r),a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:w.INIT}))throw Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+w.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var n=!1,i={},s=0;s<o.length;s++){var l=o[s],u=r[l],c=e[l],h=u(c,t);if(void 0===h)throw Error(function(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}(l,t));i[l]=h,n=n||h!==c}return n?i:e}}function E(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function C(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,i){var o=e(r,n,i),a=o.dispatch,s=[],l={getState:o.getState,dispatch:function(e){return a(e)}};return s=t.map(function(e){return e(l)}),a=E.apply(void 0,s)(o.dispatch),P({},o,{dispatch:a})}}}},67776:(e,t,r)=>{"use strict";var n,i=r(19567),o=r(94460),a=r(32523);e.exports=function(e){var t=this.data();function r(e,r){t[e]?t[e].push(r):t[e]=[r]}!n&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(n=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),r("micromarkExtensions",i(e)),r("fromMarkdownExtensions",o),r("toMarkdownExtensions",a(e))}},75208:e=>{"use strict";var t,r="";e.exports=function(e,n){if("string"!=typeof e)throw TypeError("expected a string");if(1===n)return e;if(2===n)return e+e;var i=e.length*n;if(t!==e||void 0===t)t=e,r="";else if(r.length>=i)return r.substr(0,i);for(;i>r.length&&n>1;)1&n&&(r+=e),n>>=1,e+=e;return r+=e,r=r.substr(0,i)}},97132:(e,t)=>{"use strict";function r(e,t){return e===t}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return!function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}(t,n,arguments)&&(i=e.apply(null,arguments)),n=arguments,i}}t.Mz=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=0,s=i.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(i),u=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(r)),c=n(function(){for(var e=[],t=l.length,r=0;r<t;r++)e.push(l[r].apply(null,arguments));return u.apply(null,e)});return c.resultFunc=s,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}(n)},43591:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&l()}function s(){a(o)}function l(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(s,20);i=e}return l}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;s.some(function(e){return!!~r.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=g(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(t,r){return t+f(e["border-"+r+"-width"])},0)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function g(e,t,r,n){return{x:e,y:t,width:r,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!i)return d;if(m(e)){var t;return g(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=h(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],o=e["padding-"+i];t[i]=f(o)}return t}(n),o=i.left+i.right,a=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==t&&(s-=p(n,"left","right")+o),Math.round(l+a)!==r&&(l-=p(n,"top","bottom")+a)),e!==h(e).document.documentElement){var u=Math.round(s+o)-t,c=Math.round(l+a)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return g(i.left,i.top,s,l)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var r,n,i,o,a,s=(r=t.x,n=t.y,i=t.width,o=t.height,c(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:r,y:n,width:i,height:o,top:n,right:r+i,bottom:o+n,left:r}),a);c(this,{target:e,contentRect:s})},b=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,x=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var r=new b(t,u.getInstance(),this);_.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}});let w=void 0!==o.ResizeObserver?o.ResizeObserver:x},7463:(e,t)=>{"use strict";if("undefined"==typeof window||"function"!=typeof MessageChannel){var r,n,i,o,a,s=null,l=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(u,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(u,0))},n=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,v=null,b=-1,_=5,x=0;o=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();x=e+_;try{v(!0,e)?S.postMessage(null):(y=!1,v=null)}catch(e){throw S.postMessage(null),e}}else y=!1},r=function(e){v=e,y||(y=!0,S.postMessage(null))},n=function(e,r){b=f(function(){e(t.unstable_now())},r)},i=function(){p(b),b=-1}}function T(e,t){var r=e.length;for(e.push(t);;){var n=r-1>>>1,i=e[n];if(void 0!==i&&0<C(i,t))e[n]=t,e[r]=i,r=n;else break}}function E(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,r))void 0!==l&&0>C(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else if(void 0!==l&&0>C(l,r))e[n]=l,e[s]=r,n=s;else break}}return t}return null}function C(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],M=[],k=1,O=null,I=3,R=!1,D=!1,L=!1;function j(e){for(var t=E(M);null!==t;){if(null===t.callback)P(M);else if(t.startTime<=e)P(M),t.sortIndex=t.expirationTime,T(A,t);else break;t=E(M)}}function z(e){if(L=!1,j(e),!D){if(null!==E(A))D=!0,r(B);else{var t=E(M);null!==t&&n(z,t.startTime-e)}}}function B(e,r){D=!1,L&&(L=!1,i()),R=!0;var a=I;try{for(j(r),O=E(A);null!==O&&(!(O.expirationTime>r)||e&&!o());){var s=O.callback;if(null!==s){O.callback=null,I=O.priorityLevel;var l=s(O.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?O.callback=l:O===E(A)&&P(A),j(r)}else P(A);O=E(A)}if(null!==O)var u=!0;else{var c=E(M);null!==c&&n(z,c.startTime-r),u=!1}return u}finally{O=null,I=a,R=!1}}function F(e){switch(e){case 1:return -1;case 2:return 250;case 5:return 0x3fffffff;case 4:return 1e4;default:return 5e3}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return E(A)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var r=I;I=t;try{return e()}finally{I=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=I;I=e;try{return t()}finally{I=r}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),l=s;return a=l+a,e={id:k++,callback:o,priorityLevel:e,startTime:l,expirationTime:a,sortIndex:-1},l>s?(e.sortIndex=l,T(M,e),null===E(A)&&e===E(M)&&(L?i():L=!0,n(z,l-s))):(e.sortIndex=a,T(A,e),D||R||(D=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var r=E(A);return r!==O&&null!==O&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<O.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=I;return function(){var r=I;I=t;try{return e.apply(this,arguments)}finally{I=r}}}},69982:(e,t,r)=>{"use strict";e.exports=r(7463)},14803:(e,t,r)=>{"use strict";var n=r(58859),i=r(69675),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n},a=function(e,t){if(e){var r=o(e,t);return r&&r.value}},s=function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){if(e)return o(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=l(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return a(e,t)},has:function(t){var r;return!!(r=e)&&!!o(r,t)},set:function(t,r){e||(e={next:void 0}),s(e,t,r)}};return t}},80507:(e,t,r)=>{"use strict";var n=r(70453),i=r(36556),o=r(58859),a=r(69675),s=n("%Map%",!0),l=i("Map.prototype.get",!0),u=i("Map.prototype.set",!0),c=i("Map.prototype.has",!0),h=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=h(e,t);return 0===d(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,r){e||(e=new s),u(e,t,r)}};return t}},72271:(e,t,r)=>{"use strict";var n=r(70453),i=r(36556),o=r(58859),a=r(80507),s=r(69675),l=n("%WeakMap%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(a&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?u(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?h(e,r):!!t&&t.has(r)},set:function(r,n){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),c(e,r,n)):a&&(t||(t=a()),t.set(r,n))}};return r}:a},920:(e,t,r)=>{"use strict";var n=r(69675),i=r(58859),o=r(14803),a=r(80507),s=r(72271)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},28028:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}},9423:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>i}),e=r.hmd(e);let i=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:e)},78997:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){if(!e)throw Error("Invariant failed")}},7412:(e,t,r)=>{"use strict";var n=r(23418);e.exports=o,o.wrap=n;var i=[].slice;function o(){var e=[],t={};return t.run=function(){var t=-1,r=i.call(arguments,0,-1),o=arguments[arguments.length-1];if("function"!=typeof o)throw Error("Expected function as last argument, not "+o);(function a(s){var l=e[++t],u=i.call(arguments,0),c=u.slice(1),h=r.length,d=-1;if(s){o(s);return}for(;++d<h;)(null===c[d]||void 0===c[d])&&(c[d]=r[d]);r=c,l?n(l,a).apply(null,r):o.apply(null,[null].concat(r))}).apply(null,[null].concat(r))},t.use=function(r){if("function"!=typeof r)throw Error("Expected `fn` to be a function, not "+r);return e.push(r),t},t}},23418:e=>{"use strict";var t=[].slice;e.exports=function(e,r){var n;return function(){var r,a=t.call(arguments,0),s=e.length>a.length;s&&a.push(i);try{r=e.apply(null,a)}catch(e){if(s&&n)throw e;return i(e)}s||(r&&"function"==typeof r.then?r.then(o,i):r instanceof Error?i(r):o(r))};function i(){n||(n=!0,r.apply(null,arguments))}function o(e){i(null,e)}}},47301:(e,t,r)=>{"use strict";var n=r(88385),i=r(35494),o=r(92849),a=r(87504),s=r(7412),l=r(91459);e.exports=(function e(){var t=[],r=s(),i={},v=!1,b=-1;return _.data=function(e,t){return"string"==typeof e?2==arguments.length?(m("data",v),i[e]=t,_):c.call(i,e)&&i[e]||null:e?(m("data",v),i=e,_):i},_.freeze=x,_.attachers=t,_.use=function(e){var r;if(m("use",v),null==e);else if("function"==typeof e)l.apply(null,arguments);else if("object"==typeof e)"length"in e?s(e):n(e);else throw Error("Expected usable value, not `"+e+"`");return r&&(i.settings=o(i.settings||{},r)),_;function n(e){s(e.plugins),e.settings&&(r=o(r||{},e.settings))}function s(e){var t,r;if(null==e);else if("object"==typeof e&&"length"in e)for(t=e.length,r=-1;++r<t;)!function(e){if("function"==typeof e)l(e);else if("object"==typeof e)"length"in e?l.apply(null,e):n(e);else throw Error("Expected usable value, not `"+e+"`")}(e[r]);else throw Error("Expected a list of plugins, not `"+e+"`")}function l(e,r){var n=function(e){for(var r,n=t.length,i=-1;++i<n;)if((r=t[i])[0]===e)return r}(e);n?(a(n[1])&&a(r)&&(r=o(n[1],r)),n[1]=r):t.push(u.call(arguments))}},_.parse=function(e){var t,r=l(e);return(x(),f("parse",t=_.Parser),d(t,"parse"))?new t(String(r),r).parse():t(String(r),r)},_.stringify=function(e,t){var r,n=l(t);return(x(),p("stringify",r=_.Compiler),g(e),d(r,"compile"))?new r(e,n).compile():r(e,n)},_.run=w,_.runSync=function(e,t){var r,i=!1;return w(e,t,function(e,t){i=!0,n(e),r=t}),y("runSync","run",i),r},_.process=S,_.processSync=function(e){var t,r=!1;return x(),f("processSync",_.Parser),p("processSync",_.Compiler),S(t=l(e),function(e){r=!0,n(e)}),y("processSync","process",r),t},_;function _(){for(var r=e(),n=t.length,a=-1;++a<n;)r.use.apply(null,t[a]);return r.data(o(!0,{},i)),r}function x(){var e,n,i,o;if(v)return _;for(;++b<t.length;)n=(e=t[b])[0],i=e[1],o=null,!1!==i&&(!0===i&&(e[1]=void 0),"function"==typeof(o=n.apply(_,e.slice(1)))&&r.use(o));return v=!0,b=1/0,_}function w(e,t,n){if(g(e),x(),n||"function"!=typeof t||(n=t,t=null),!n)return new Promise(i);function i(i,o){r.run(e,l(t),function(t,r,a){r=r||e,t?o(t):i?i(r):n(null,r,a)})}i(null,n)}function S(e,t){if(x(),f("process",_.Parser),p("process",_.Compiler),!t)return new Promise(r);function r(r,n){var i=l(e);h.run(_,{file:i},function(e){e?n(e):r?r(i):t(null,i)})}r(null,t)}})().freeze();var u=[].slice,c={}.hasOwnProperty,h=s().use(function(e,t){t.tree=e.parse(t.file)}).use(function(e,t,r){e.run(t.tree,t.file,function(e,n,i){e?r(e):(t.tree=n,t.file=i,r())})}).use(function(e,t){var r=e.stringify(t.tree,t.file),n=t.file;null==r||("string"==typeof r||i(r)?n.contents=r:n.result=r)});function d(e,t){return"function"==typeof e&&e.prototype&&(function(e){var t;for(t in e)return!0;return!1}(e.prototype)||t in e.prototype)}function f(e,t){if("function"!=typeof t)throw Error("Cannot `"+e+"` without `Parser`")}function p(e,t){if("function"!=typeof t)throw Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function g(e){if(!e||"string"!=typeof e.type)throw Error("Expected node, got `"+e+"`")}function y(e,t,r){if(!r)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}},35494:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},87504:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},32143:e=>{"use strict";function t(){return!0}e.exports=function e(r){if(null==r)return t;if("string"==typeof r)return function(e){return!!(e&&e.type===r)};if("object"==typeof r)return"length"in r?function(t){for(var r=[],n=-1;++n<t.length;)r[n]=e(t[n]);return function(){for(var e=-1;++e<r.length;)if(r[e].apply(this,arguments))return!0;return!1}}(r):function(e){var t;for(t in r)if(e[t]!==r[t])return!1;return!0};if("function"==typeof r)return r;throw Error("Expected function, string, or object as test")}},36731:e=>{"use strict";var t={}.hasOwnProperty;function r(e){return e&&"object"==typeof e||(e={}),i(e.line)+":"+i(e.column)}function n(e){return e&&"object"==typeof e||(e={}),r(e.start)+"-"+r(e.end)}function i(e){return e&&"number"==typeof e?e:1}e.exports=function(e){return e&&"object"==typeof e?t.call(e,"position")||t.call(e,"type")?n(e.position):t.call(e,"start")||t.call(e,"end")?n(e):t.call(e,"line")||t.call(e,"column")?r(e):"":""}},54718:e=>{e.exports=function(e){return e}},26311:(e,t,r)=>{"use strict";e.exports=a;var n=r(32143),i=r(54718),o="skip";function a(e,t,r,a){var s,l;"function"==typeof t&&"function"!=typeof r&&(a=r,r=t,t=null),l=n(t),s=a?-1:1,(function e(n,u,c){var h,d="object"==typeof n&&null!==n?n:{};return"string"==typeof d.type&&(h="string"==typeof d.tagName?d.tagName:"string"==typeof d.name?d.name:void 0,f.displayName="node ("+i(d.type+(h?"<"+h+">":""))+")"),f;function f(){var i,h,d,f=c.concat(n),p=[];if((!t||l(n,u,c[c.length-1]||null))&&!1===(p=null!==(i=r(n,c))&&"object"==typeof i&&"length"in i?i:"number"==typeof i?[!0,i]:[i])[0])return p;if(n.children&&p[0]!==o)for(d=(a?n.children.length:-1)+s;d>-1&&d<n.children.length;){if(!1===(h=e(n.children[d],d,f)())[0])return h;d="number"==typeof h[1]?h[1]:d+s}return p}})(e,null,[])()}a.CONTINUE=!0,a.SKIP=o,a.EXIT=!1},25223:(e,t,r)=>{"use strict";e.exports=s;var n=r(26311),i=n.CONTINUE,o=n.SKIP,a=n.EXIT;function s(e,t,r,i){"function"==typeof t&&"function"!=typeof r&&(i=r,r=t,t=null),n(e,t,function(e,t){var n=t[t.length-1],i=n?n.children.indexOf(e):null;return r(e,i,n)},i)}s.CONTINUE=i,s.SKIP=o,s.EXIT=a},88835:(e,t,r)=>{"use strict";var n=r(9655),i=r(32268);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return(i.isString(e)&&(e=v(e)),e instanceof o)?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),c=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(47186);function v(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",v=e.split(s);v[0]=v[0].replace(/\\/g,"/");var b=e=v.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],t?this.query=y.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);S&&!(x&&m[x])&&(b=b.substr(2),this.slashes=!0)}if(!m[x]&&(S||x&&!g[x])){for(var T,E,P=-1,C=0;C<h.length;C++){var A=b.indexOf(h[C]);-1!==A&&(-1===P||A<P)&&(P=A)}-1!==(E=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(T=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(T)),P=-1;for(var C=0;C<c.length;C++){var A=b.indexOf(c[C]);-1!==A&&(-1===P||A<P)&&(P=A)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var k=this.hostname.split(/\./),C=0,O=k.length;C<O;C++){var I=k[C];if(I&&!I.match(d)){for(var R="",D=0,L=I.length;D<L;D++)I.charCodeAt(D)>127?R+="x":R+=I[D];if(!R.match(d)){var j=k.slice(0,C),z=k.slice(C+1),B=I.match(f);B&&(j.push(B[1]),z.unshift(B[2])),z.length&&(b="/"+z.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+F,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[w])for(var C=0,O=u.length;C<O;C++){var V=u[C];if(-1!==b.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),b=b.split(V).join(U)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",q=this.search||"";this.path=F+q}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(r[c]=e[c])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",v=r.search||"";r.path=y+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=_||b||r.host&&e.pathname,w=x,S=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],T=r.protocol&&!g[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T){r.hostname=r.host=S.shift();var E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");E&&(r.auth=E.shift(),r.host=r.hostname=E.shift())}return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=S.slice(-1)[0],C=(r.host||e.host||S.length>1)&&("."===P||".."===P)||""===P,A=0,M=S.length;M>=0;M--)"."===(P=S[M])?S.splice(M,1):".."===P?(S.splice(M,1),A++):A&&(S.splice(M,1),A--);if(!x&&!w)for(;A--;A)S.unshift("..");x&&""!==S[0]&&(!S[0]||"/"!==S[0].charAt(0))&&S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var k=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(T){r.hostname=r.host=k?"":S.length?S.shift():"";var E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");E&&(r.auth=E.shift(),r.host=r.hostname=E.shift())}return(x=x||r.host&&S.length)&&!k&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},32268:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},1063:(e,t,r)=>{"use strict";var n=r(96540),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return s(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},88940:(e,t,r)=>{"use strict";var n=r(96540),i=r(19888),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var h=s(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=a(e,(h=u(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(a=e,s=r)}var a,s,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]))[0],h[1]);return l(function(){d.hasValue=!0,d.value=f},[f]),c(f),f}},19888:(e,t,r)=>{"use strict";e.exports=r(1063)},69242:(e,t,r)=>{"use strict";e.exports=r(88940)},68414:(e,t,r)=>{var n=r(41033),i=r(12550);i.v1=n,i.v4=i,e.exports=i},60471:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]]].join("")}},25814:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=0x100000000*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},41033:(e,t,r)=>{var n,i,o=r(25814),a=r(60471),s=0,l=0;e.exports=function(e,t,r){var u=t&&r||0,c=t||[],h=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var f=o();null==h&&(h=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=(f[6]<<8|f[7])&16383)}var p=void 0!==e.msecs?e.msecs:new Date().getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=p-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=m,i=d;var y=((0xfffffff&(p+=122192928e5))*1e4+m)%0x100000000;c[u++]=y>>>24&255,c[u++]=y>>>16&255,c[u++]=y>>>8&255,c[u++]=255&y;var v=p/0x100000000*1e4&0xfffffff;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var b=0;b<6;++b)c[u+b]=h[b];return t||a(c)}},12550:(e,t,r)=>{var n=r(25814),i=r(60471);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},61069:(e,t,r)=>{"use strict";var n=r(36731);function i(){}e.exports=a,i.prototype=Error.prototype,a.prototype=new i;var o=a.prototype;function a(e,t,r){var i,o,a,s,l;"string"==typeof t&&(r=t,t=null),l=[null,null],"string"==typeof(a=r)&&(-1===(s=a.indexOf(":"))?l[1]=a:(l[0]=a.slice(0,s),l[1]=a.slice(s+1))),i=n(t)||"1:1",o={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(o=t,t=t.start):o.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=i,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=o,this.source=l[0],this.ruleId=l[1]}o.file="",o.name="",o.reason="",o.message="",o.stack="",o.fatal=null,o.column=null,o.line=null},91459:(e,t,r)=>{"use strict";e.exports=r(47331)},40972:(e,t,r)=>{"use strict";var n=r(13430),i=r(5885),o=r(23760);e.exports=l;var a={}.hasOwnProperty,s=["history","path","basename","stem","extname","dirname"];function l(e){var t,r;if(e){if("string"==typeof e||o(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof l))return new l(e);for(this.data={},this.messages=[],this.history=[],this.cwd=i.cwd(),r=-1;++r<s.length;)t=s[r],a.call(e,t)&&(this[t]=e[t]);for(t in e)0>s.indexOf(t)&&(this[t]=e[t])}function u(e,t){if(e&&e.indexOf(n.sep)>-1)throw Error("`"+t+"` cannot be a path: did not expect `"+n.sep+"`")}function c(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function h(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}l.prototype.toString=function(e){return(this.contents||"").toString(e)},Object.defineProperty(l.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){c(e,"path"),this.path!==e&&this.history.push(e)}}),Object.defineProperty(l.prototype,"dirname",{get:function(){return"string"==typeof this.path?n.dirname(this.path):void 0},set:function(e){h(this.path,"dirname"),this.path=n.join(e||"",this.basename)}}),Object.defineProperty(l.prototype,"basename",{get:function(){return"string"==typeof this.path?n.basename(this.path):void 0},set:function(e){c(e,"basename"),u(e,"basename"),this.path=n.join(this.dirname||"",e)}}),Object.defineProperty(l.prototype,"extname",{get:function(){return"string"==typeof this.path?n.extname(this.path):void 0},set:function(e){if(u(e,"extname"),h(this.path,"extname"),e){if(46!==e.charCodeAt(0))throw Error("`extname` must start with `.`");if(e.indexOf(".",1)>-1)throw Error("`extname` cannot contain multiple dots")}this.path=n.join(this.dirname,this.stem+(e||""))}}),Object.defineProperty(l.prototype,"stem",{get:function(){return"string"==typeof this.path?n.basename(this.path,this.extname):void 0},set:function(e){c(e,"stem"),u(e,"stem"),this.path=n.join(this.dirname||"",e+(this.extname||""))}})},47331:(e,t,r)=>{"use strict";var n=r(61069),i=r(40972);e.exports=i,i.prototype.message=function(e,t,r){var i=new n(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i},i.prototype.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},i.prototype.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e}},13430:(e,t)=>{"use strict";function r(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}t.basename=function(e,t){var n,i,o,a,s=0,l=-1;if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');if(r(e),n=e.length,void 0===t||!t.length||t.length>e.length){for(;n--;)if(47===e.charCodeAt(n)){if(o){s=n+1;break}}else l<0&&(o=!0,l=n+1);return l<0?"":e.slice(s,l)}if(t===e)return"";for(i=-1,a=t.length-1;n--;)if(47===e.charCodeAt(n)){if(o){s=n+1;break}}else i<0&&(o=!0,i=n+1),a>-1&&(e.charCodeAt(n)===t.charCodeAt(a--)?a<0&&(l=n):(a=-1,l=i));return s===l?l=i:l<0&&(l=e.length),e.slice(s,l)},t.dirname=function(e){var t,n,i;if(r(e),!e.length)return".";for(t=-1,i=e.length;--i;)if(47===e.charCodeAt(i)){if(n){t=i;break}}else n||(n=!0);return t<0?47===e.charCodeAt(0)?"/":".":1===t&&47===e.charCodeAt(0)?"//":e.slice(0,t)},t.extname=function(e){var t,n,i,o=-1,a=0,s=-1,l=0;for(r(e),i=e.length;i--;){if(47===(n=e.charCodeAt(i))){if(t){a=i+1;break}continue}s<0&&(t=!0,s=i+1),46===n?o<0?o=i:1!==l&&(l=1):o>-1&&(l=-1)}return o<0||s<0||0===l||1===l&&o===s-1&&o===a+1?"":e.slice(o,s)},t.join=function(){for(var e,t,n,i,o=-1;++o<arguments.length;)r(arguments[o]),arguments[o]&&(i=void 0===i?arguments[o]:i+"/"+arguments[o]);return void 0===i?".":(r(e=i),t=47===e.charCodeAt(0),(n=function(e,t){for(var r,n,i="",o=0,a=-1,s=0,l=-1;++l<=e.length;){if(l<e.length)r=e.charCodeAt(l);else if(47===r)break;else r=47;if(47===r){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){if((n=i.lastIndexOf("/"))!==i.length-1){n<0?(i="",o=0):o=(i=i.slice(0,n)).length-1-i.lastIndexOf("/"),a=l,s=0;continue}}else if(i.length){i="",o=0,a=l,s=0;continue}}t&&(i=i.length?i+"/..":"..",o=2)}else i.length?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===r&&s>-1?s++:s=-1}return i}(e,!t)).length||t||(n="."),n.length&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n)},t.sep="/"},5885:(e,t)=>{"use strict";t.cwd=function(){return"/"}},23760:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},9771:e=>{"use strict";e.exports=function(){}},91352:(e,t,r)=>{"use strict";r.d(t,{Py:()=>l,gY:()=>u,pz:()=>s,sk:()=>c});var n=r(1275),i=r(76724),o=r(30500);function a(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[i.s7]=function(){return this},t}function s(e,t,r,n){var o,s=(0,i.Xd)(e.src),u=null===(o=null==t?void 0:t.options.services)||void 0===o?void 0:o[s.type],c=e.data?(0,i.A9)(e.data,r,n):void 0,h=u?l(u,e.id,c):a(e.id);return h.meta=e,h}function l(e,t,r){var n=a(t);if(n.deferred=!0,(0,i.Ai)(e)){var s=n.state=(0,o.G)(void 0,function(){return(r?e.withContext(r):e).initialState});n.getSnapshot=function(){return s}}return n}function u(e){return function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e}function c(e){var t;return(0,n.Cl)(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[i.s7]=function(){return this},t),e)}},1787:(e,t,r)=>{"use strict";r.d(t,{O:()=>b});var n=r(1275),i=r(76724),o=r(8328),a=r(42428),s=r(98978),l=r(9466),u=r(31204),c=r(12672),h=r(14487),d=r(91352);function f(e){return(0,n.Cl)((0,n.Cl)({type:s.lA},e),{toJSON:function(){e.onDone,e.onError;var t=(0,n.Tt)(e,["onDone","onError"]);return(0,n.Cl)((0,n.Cl)({},t),{type:s.lA,src:function(e){if("string"==typeof e){var t={type:e};return t.toString=function(){return e},t}return e}(e.src)})}})}var p={},m=function(e){return"#"===e[0]},g=function(e,t,r){var n=r.slice(0,-1).some(function(e){return!("cond"in e)&&!("in"in e)&&((0,i.Kg)(e.target)||(0,i.Ai)(e.target))});(0,i.R8)(!n,"One or more transitions for ".concat(""===t?"the transient event":"event '".concat(t,"'")," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},y=function(){function e(t,r,o,a){var s,d=this;void 0===o&&(o="context"in t?t.context:void 0),this.config=t,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},r),this.parent=null==a?void 0:a.parent,this.key=this.config.key||(null==a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:c.AD),this.id=this.config.id||(0,n.fX)([this.machine.key],(0,n.zs)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(s=this.config.schema)&&void 0!==s?s:{},this.description=this.config.description,u.p||(0,i.R8)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,i.LG)(this.config.states,function(t,r){var i,o=new e(t,{},void 0,{parent:d,key:r});return Object.assign(d.idMap,(0,n.Cl)(((i={})[o.id]=o,i),o.idMap)),o}):p;var m=0;!function e(t){var r,i;t.order=m++;try{for(var o=(0,n.Ju)((0,h.rz)(t)),a=o.next();!a.done;a=o.next()){var s=a.value;e(s)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return""===e.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,i.$r)(this.config.entry||this.config.onEntry).map(function(e){return(0,l.Hf)(e)}),this.onExit=(0,i.$r)(this.config.exit||this.config.onExit).map(function(e){return(0,l.Hf)(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,i.$r)(this.config.invoke).map(function(e,t){if((0,i.Ai)(e)){var r,o,a=(0,i.cv)(d.id,t);return d.machine.options.services=(0,n.Cl)(((r={})[a]=e,r),d.machine.options.services),f({src:a,id:a})}if((0,i.Kg)(e.src)){var a=e.id||(0,i.cv)(d.id,t);return f((0,n.Cl)((0,n.Cl)({},e),{id:a,src:e.src}))}if((0,i.Ai)(e.src)||(0,i.Tn)(e.src)){var a=e.id||(0,i.cv)(d.id,t);return d.machine.options.services=(0,n.Cl)(((o={})[a]=e.src,o),d.machine.options.services),f((0,n.Cl)((0,n.Cl)({id:a},e),{src:a}))}var s=e.src;return f((0,n.Cl)((0,n.Cl)({id:(0,i.cv)(d.id,t)},e),{src:s}))}),this.activities=(0,i.$r)(this.config.activities).concat(this.invoke).map(function(e){return(0,l._4)(e)}),this.transition=this.transition.bind(this),this.tags=(0,i.$r)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(0,h.Ki)(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,r){var i=this.options,o=i.actions,a=i.activities,s=i.guards,l=i.services,u=i.delays;return new e(this.config,{actions:(0,n.Cl)((0,n.Cl)({},o),t.actions),activities:(0,n.Cl)((0,n.Cl)({},a),t.activities),guards:(0,n.Cl)((0,n.Cl)({},s),t.guards),services:(0,n.Cl)((0,n.Cl)({},l),t.services),delays:(0,n.Cl)((0,n.Cl)({},u),t.delays)},null!=r?r:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return(0,i.Tn)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,i.LG)(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,r=this.transitions.filter(function(r){var n=r.eventType===e;return t?n:n||"*"===r.eventType});return this.__cache.candidates[e]=r,r},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var r=function(t,r){var n=(0,i.Tn)(t)?"".concat(e.id,":delay[").concat(r,"]"):t,o=(0,l.Pl)(n,e.id);return e.onEntry.push((0,l.tN)(o,{delay:t})),e.onExit.push((0,l.ZT)(o)),o};return((0,i.cy)(t)?t.map(function(e,t){var i=r(e.delay,t);return(0,n.Cl)((0,n.Cl)({},e),{event:i})}):(0,i.Bq)(Object.keys(t).map(function(e,o){var a=t[e],s=(0,i.Kg)(a)?{target:a}:a,l=isNaN(+e)?e:+e,u=r(l,o);return(0,i.$r)(s).map(function(e){return(0,n.Cl)((0,n.Cl)({},e),{event:u,delay:l})})}))).map(function(t){var r=t.delay;return(0,n.Cl)((0,n.Cl)({},e.formatTransition(t)),{delay:r})})},e.prototype.getStateNodes=function(e){var t,r=this;if(!e)return[];var o=e instanceof a.Uw?e.value:(0,i.at)(e,this.delimiter);if((0,i.Kg)(o)){var s=this.getStateNode(o).initial;return void 0!==s?this.getStateNodes(((t={})[o]=s,t)):[this,this.states[o]]}var l=Object.keys(o),u=[this];return u.push.apply(u,(0,n.fX)([],(0,n.zs)((0,i.Bq)(l.map(function(e){return r.getStateNode(e).getStateNodes(o[e])}))),!1)),u},e.prototype.handles=function(e){var t=(0,i.vd)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof a.Uw?e:a.Uw.create(e),r=Array.from((0,h.D0)([],this.getStateNodes(t.value)));return new a.Uw((0,n.Cl)((0,n.Cl)({},t),{value:this.resolve(t.value),configuration:r,done:(0,h.BJ)(r,this),tags:(0,h.iU)(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,r){var n=this.getStateNode(e).next(t,r);return n&&n.transitions.length?n:this.next(t,r)},e.prototype.transitionCompoundNode=function(e,t,r){var n=Object.keys(e),i=this.getStateNode(n[0])._transition(e[n[0]],t,r);return i&&i.transitions.length?i:this.next(t,r)},e.prototype.transitionParallelNode=function(e,t,r){var o,a,s={};try{for(var l=(0,n.Ju)(Object.keys(e)),u=l.next();!u.done;u=l.next()){var c=u.value,h=e[c];if(h){var d=this.getStateNode(c)._transition(h,t,r);d&&(s[c]=d)}}}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}var f=Object.keys(s).map(function(e){return s[e]}),p=(0,i.Bq)(f.map(function(e){return e.transitions}));if(!f.some(function(e){return e.transitions.length>0}))return this.next(t,r);var m=(0,i.Bq)(f.map(function(e){return e.entrySet})),g=(0,i.Bq)(Object.keys(s).map(function(e){return s[e].configuration}));return{transitions:p,entrySet:m,exitSet:(0,i.Bq)(f.map(function(e){return e.exitSet})),configuration:g,source:t,actions:(0,i.Bq)(Object.keys(s).map(function(e){return s[e].actions}))}},e.prototype._transition=function(e,t,r){return(0,i.Kg)(e)?this.transitionLeafNode(e,t,r):1===Object.keys(e).length?this.transitionCompoundNode(e,t,r):this.transitionParallelNode(e,t,r)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,(0,i.ft)(t))},e.prototype.next=function(e,t){var r,o,a,s=this,l=t.name,u=[],c=[];try{for(var h=(0,n.Ju)(this.getCandidates(l)),d=h.next();!d.done;d=h.next()){var f=d.value,p=f.cond,g=f.in,y=e.context,v=!g||((0,i.Kg)(g)&&m(g)?e.matches((0,i.at)(this.getStateNodeById(g).path,this.delimiter)):(0,i.HK)((0,i.at)(g,this.delimiter),(0,i.Ae)(this.path.slice(0,-2))(e.value))),b=!1;try{b=!p||(0,i.re)(this.machine,p,y,t,e)}catch(e){throw Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(l,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(b&&v){void 0!==f.target&&(c=f.target),u.push.apply(u,(0,n.fX)([],(0,n.zs)(f.actions),!1)),a=f;break}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}if(a){if(!c.length)return{transitions:[a],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:u};var _=(0,i.Bq)(c.map(function(t){return s.getRelativeStateNodes(t,e.historyValue)})),x=!!a.internal,w=[];return x||c.forEach(function(e){w.push.apply(w,(0,n.fX)([],(0,n.zs)(s.getExternalReentryNodes(e)),!1))}),{transitions:[a],entrySet:w,exitSet:x?[]:[this],configuration:_,source:e,actions:u}}},e.prototype.getExternalReentryNodes=function(e){for(var t=[],r=(0,n.zs)(e.order>this.order?[e,this]:[this,e],2),i=r[0],o=r[1];i&&i!==o;)t.push(i),i=i.parent;return i!==o?[]:(t.push(o),t)},e.prototype.getActions=function(e,t,r,a,u,c,d){var f,p,m,g,y=this,v=(0,h.D0)([],c?this.getStateNodes(c.value):[this]);try{for(var b=(0,n.Ju)(e),_=b.next();!_.done;_=b.next()){var x=_.value;(!(0,h.zy)(v,x)||(0,h.zy)(r.entrySet,x.parent))&&r.entrySet.push(x)}}catch(e){f={error:e}}finally{try{_&&!_.done&&(p=b.return)&&p.call(b)}finally{if(f)throw f.error}}try{for(var w=(0,n.Ju)(v),S=w.next();!S.done;S=w.next()){var x=S.value;(!(0,h.zy)(e,x)||(0,h.zy)(r.exitSet,x.parent))&&r.exitSet.push(x)}}catch(e){m={error:e}}finally{try{S&&!S.done&&(g=w.return)&&g.call(w)}finally{if(m)throw m.error}}var T=(0,i.Bq)(r.entrySet.map(function(e){var t=[];if("final"!==e.type)return t;var n=e.parent;if(!n.parent)return t;t.push((0,l.Vw)(e.id,e.doneData),(0,l.Vw)(n.id,e.doneData?(0,i.A9)(e.doneData,a,u):void 0));var o=n.parent;return"parallel"===o.type&&(0,h.i0)(o).every(function(e){return(0,h.BJ)(r.configuration,e)})&&t.push((0,l.Vw)(o.id)),t}));r.exitSet.sort(function(e,t){return t.order-e.order}),r.entrySet.sort(function(e,t){return e.order-t.order});var E=new Set(r.entrySet),P=new Set(r.exitSet),C=Array.from(E).map(function(e){var t=e.onEntry,r=e.activities.map(function(e){return(0,l.ni)(e)});return(0,l.Um)(d?(0,n.fX)((0,n.fX)([],(0,n.zs)(t),!1),(0,n.zs)(r),!1):(0,n.fX)((0,n.fX)([],(0,n.zs)(r),!1),(0,n.zs)(t),!1),y.machine.options.actions)}).concat([T.map(l.xl)]),A=Array.from(P).map(function(e){return(0,l.Um)((0,n.fX)((0,n.fX)([],(0,n.zs)(e.onExit),!1),(0,n.zs)(e.activities.map(function(e){return(0,l.ds)(e)})),!1),y.machine.options.actions)}).concat([(0,l.Um)(r.actions,this.machine.options.actions)]).concat(C);if(t){var M=(0,l.Um)((0,i.Bq)((0,n.fX)([],(0,n.zs)(e),!1).sort(function(e,t){return t.order-e.order}).map(function(e){return e.onExit})),this.machine.options.actions).filter(function(e){return e.type!==s.xl&&(e.type!==s.tN||!!e.to&&e.to!==o.i.Internal)});return A.concat([M])}return A},e.prototype.transition=function(e,t,r,o){void 0===e&&(e=this.initialState);var s,l=(0,i.ft)(t);if(e instanceof a.Uw)s=void 0===r?e:this.resolveState(a.Uw.from(e,r));else{var c=(0,i.Kg)(e)?this.resolve((0,i.zr)(this.getResolvedPath(e))):this.resolve(e),d=null!=r?r:this.machine.context;s=this.resolveState(a.Uw.from(c,d))}if(!u.p&&"*"===l.name)throw Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(l.name)&&!(0,i.M7)(l.name))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(l.name,"'"));var f=this._transition(s.value,s,l)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:s,actions:[]},p=(0,h.D0)([],this.getStateNodes(s.value)),m=f.configuration.length?(0,h.D0)(p,f.configuration):p;return f.configuration=(0,n.fX)([],(0,n.zs)(m),!1),this.resolveTransition(f,s,s.context,o,l)},e.prototype.resolveRaisedTransition=function(e,t,r,i){var o,a=e.actions;return(e=this.transition(e,t,void 0,i))._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,(0,n.fX)([],(0,n.zs)(a),!1)),e},e.prototype.resolveTransition=function(e,t,r,u,c){var f,p,m,g,y=this;void 0===c&&(c=l.zp);var v=e.configuration,b=!t||e.transitions.length>0,_=b?e.configuration:t?t.configuration:[],x=(0,h.BJ)(_,this),w=b?(0,h._W)(this.machine,v):void 0,S=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,T=this.getActions(new Set(_),x,e,r,c,t,u),E=t?(0,n.Cl)({},t.activities):{};try{for(var P=(0,n.Ju)(T),C=P.next();!C.done;C=P.next()){var A=C.value;try{for(var M=(m=void 0,(0,n.Ju)(A)),k=M.next();!k.done;k=M.next()){var O=k.value;O.type===s.ni?E[O.activity.id||O.activity.type]=O:O.type===s.ds&&(E[O.activity.id||O.activity.type]=!1)}}catch(e){m={error:e}}finally{try{k&&!k.done&&(g=M.return)&&g.call(M)}finally{if(m)throw m.error}}}}catch(e){f={error:e}}finally{try{C&&!C.done&&(p=P.return)&&p.call(P)}finally{if(f)throw f.error}}var I=(0,n.zs)((0,l.AS)(this,t,r,c,T,u,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=I[0],D=I[1],L=(0,n.zs)((0,i.jB)(R,function(e){return e.type===s.xl||e.type===s.tN&&e.to===o.i.Internal}),2),j=L[0],z=L[1],B=R.filter(function(e){var t;return e.type===s.ni&&(null===(t=e.activity)||void 0===t?void 0:t.type)===s.lA}).reduce(function(e,t){return e[t.activity.id]=(0,d.pz)(t.activity,y.machine,D,c),e},t?(0,n.Cl)({},t.children):{}),F=new a.Uw({value:w||t.value,context:D,_event:c,_sessionid:t?t._sessionid:null,historyValue:w?S?(0,i.BY)(S,w):void 0:t?t.historyValue:void 0,history:!w||e.source?t:void 0,actions:w?z:[],activities:w?E:t?t.activities:{},events:[],configuration:_,transitions:e.transitions,children:B,done:x,tags:(0,h.iU)(_),machine:this}),N=r!==D;F.changed=c.name===s.yo||N;var V=F.history;V&&delete V.history;var U=!x&&(this._transient||v.some(function(e){return e._transient}));if(!b&&(!U||""===c.name))return F;var G=F;if(!x)for(U&&(G=this.resolveRaisedTransition(G,{type:s.kx},c,u));j.length;){var H=j.shift();G=this.resolveRaisedTransition(G,H._event,c,u)}var q=G.changed||(V?!!G.actions.length||N||typeof V.value!=typeof G.value||!(0,a.iE)(G.value,V.value):void 0);return G.changed=q,G.history=V,G},e.prototype.getStateNode=function(e){if(m(e))return this.machine.getStateNodeById(e);if(!this.states)throw Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=m(e)?e.slice(1):e;if(t===this.id)return this;var r=this.machine.idMap[t];if(!r)throw Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&m(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=(0,i._J)(e,this.delimiter).slice(),r=this;t.length;){var n=t.shift();if(!n.length)break;r=r.getStateNode(n)}return r},e.prototype.resolve=function(e){var t,r=this;if(!e)return this.initialStateValue||p;switch(this.type){case"parallel":return(0,i.LG)(this.initialStateValue,function(t,n){return t?r.getStateNode(n).resolve(e[n]||t):p});case"compound":if((0,i.Kg)(e)){var n=this.getStateNode(e);if("parallel"===n.type||"compound"===n.type)return(t={})[e]=n.initialStateValue,t;return e}if(!Object.keys(e).length)return this.initialStateValue||{};return(0,i.LG)(e,function(e,t){return e?r.getStateNode(t).resolve(e):p});default:return e||p}},e.prototype.getResolvedPath=function(e){if(m(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw Error("Unable to find state node '".concat(e,"'"));return t.path}return(0,i._J)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=(0,i.rp)(this.states,function(e){return e.initialStateValue||p},function(e){return"history"!==e.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=(0,h.d2)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,entrySet:(0,n.fX)([],(0,n.zs)(r),!1),exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=(0,i.Kg)(t.target)&&m(t.target)?(0,i.zr)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,r){return void 0===r&&(r=!0),r?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if((0,h.d2)(this))return[this];if("compound"===this.type&&!this.initial)return u.p||(0,i.R8)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=(0,i.bm)(this.initialStateValue);return(0,i.Bq)(t.map(function(t){return e.getFromRelativePath(t)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=(0,n.zs)(e),r=t[0],i=t.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if("history"===o.type)return o.resolveHistory();if(!this.states[r])throw Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:(0,i.rp)(this.states,function(t,r){if(!e)return t.historyValue();var n=(0,i.Kg)(e)?void 0:e[r];return t.historyValue(n||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var n=this.target;return n?(0,i.Bq)((0,i.bm)(n).map(function(e){return r.getFromRelativePath(e)})):r.initialStateNodes}var o=(0,i.VQ)(r.path,"states")(e).current;return(0,i.Kg)(o)?[r.getStateNode(o)]:(0,i.Bq)((0,i.bm)(o).map(function(e){return"deep"===t.history?r.getFromRelativePath(e):[r.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=(0,i.Bq)(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var e,t,r,i,o=this.states,a=new Set(this.ownEvents);if(o)try{for(var s=(0,n.Ju)(Object.keys(o)),l=s.next();!l.done;l=s.next()){var u=o[l.value];if(u.states)try{for(var c=(r=void 0,(0,n.Ju)(u.events)),h=c.next();!h.done;h=c.next()){var d=h.value;a.add("".concat(d))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType})))},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!(0,i.Kg)(e))return e;var r=e[0]===t.delimiter;if(r&&!t.parent)return t.getStateNodeByPath(e.slice(1));var n=r?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(n);try{return t.parent.getStateNodeByPath(n)}catch(e){throw Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}})},e.prototype.formatTransition=function(e){var t=this,r=(0,i.R_)(e.target),o="internal"in e?e.internal:!r||r.some(function(e){return(0,i.Kg)(e)&&e[0]===t.delimiter}),a=this.machine.options.guards,s=this.resolveTarget(r),u=(0,n.Cl)((0,n.Cl)({},e),{actions:(0,l.Um)((0,i.$r)(e.actions)),cond:(0,i.Z8)(e.cond,a),target:s,source:this,internal:o,eventType:e.event,toJSON:function(){return(0,n.Cl)((0,n.Cl)({},u),{target:u.target?u.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return u},e.prototype.formatTransitions=function(){var e,t,r,o=this;if(this.config.on){if(Array.isArray(this.config.on))r=this.config.on;else{var a=this.config.on,s=a["*"],c=(0,n.Tt)(a,["*"]);r=(0,i.Bq)(Object.keys(c).map(function(e){u.p||""!==e||(0,i.R8)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var t=(0,i.oc)(e,c[e]);return u.p||g(o,e,t),t}).concat((0,i.oc)("*",void 0===s?[]:s)))}}else r=[];var h=this.config.always?(0,i.oc)("",this.config.always):[],d=this.config.onDone?(0,i.oc)(String((0,l.Vw)(this.id)),this.config.onDone):[];u.p||(0,i.R8)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var f=(0,i.Bq)(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,(0,n.fX)([],(0,n.zs)((0,i.oc)(String((0,l.tS)(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,(0,n.fX)([],(0,n.zs)((0,i.oc)(String((0,l.z3)(e.id)),e.onError)),!1)),t})),p=this.after,m=(0,i.Bq)((0,n.fX)((0,n.fX)((0,n.fX)((0,n.fX)([],(0,n.zs)(d),!1),(0,n.zs)(f),!1),(0,n.zs)(r),!1),(0,n.zs)(h),!1).map(function(e){return(0,i.$r)(e).map(function(e){return o.formatTransition(e)})}));try{for(var y=(0,n.Ju)(p),v=y.next();!v.done;v=y.next()){var b=v.value;m.push(b)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}return m},e}(),v=!1;function b(e,t){return u.p||e.predictableActionArguments||v||(v=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new y(e,t)}},42428:(e,t,r)=>{"use strict";r.d(t,{OS:()=>u,Sv:()=>c,Uw:()=>h,iE:()=>function e(t,r){if(t===r)return!0;if(void 0===t||void 0===r)return!1;if((0,o.Kg)(t)||(0,o.Kg)(r))return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length===i.length&&n.every(function(n){return e(t[n],r[n])})}});var n=r(1275),i=r(12672),o=r(76724),a=r(14487),s=r(9466),l=r(31204);function u(e){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e}function c(e,t){var r=e.exec;return(0,n.Cl)((0,n.Cl)({},e),{exec:void 0!==r?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}var h=function(){function e(e){var t,r=this;this.actions=[],this.activities=i.xP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||i.xP,this.meta=(0,a.IQ)(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,a.Xh)(r.configuration)}})}return e.from=function(t,r){return t instanceof e?t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:r,_event:s.zp,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=s.zp;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(e,t){var r=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),(0,o.Kg)(e))return[e];var i=Object.keys(e);return i.concat.apply(i,(0,n.fX)([],(0,n.zs)(i.map(function(n){return r.toStrings(e[n],t).map(function(e){return n+t+e})})),!1))},e.prototype.toJSON=function(){this.configuration,this.transitions;var e=this.tags;this.machine;var t=(0,n.Tt)(this,["configuration","transitions","tags","machine"]);return(0,n.Cl)((0,n.Cl)({},t),{tags:Array.from(e)})},e.prototype.matches=function(e){return(0,o.HK)(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){l.p&&(0,o.R8)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var t,r=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==r?void 0:r.transitions.length)&&r.transitions.some(function(e){return void 0!==e.target||e.actions.length})},e}()},1275:(e,t,r)=>{"use strict";r.d(t,{Cl:()=>n,Ju:()=>o,Tt:()=>i,fX:()=>s,zs:()=>a});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}},98978:(e,t,r)=>{"use strict";r.d(t,{LM:()=>v,O$:()=>p,Rm:()=>h,Sw:()=>y,Ts:()=>d,ZT:()=>l,ds:()=>o,kp:()=>c,kx:()=>u,lA:()=>f,ni:()=>i,tN:()=>s,xl:()=>a,yo:()=>g,z3:()=>m});var n=r(8328),i=n.Q.Start,o=n.Q.Stop,a=n.Q.Raise,s=n.Q.Send,l=n.Q.Cancel,u=n.Q.NullEvent,c=n.Q.Assign;n.Q.After,n.Q.DoneState;var h=n.Q.Log,d=n.Q.Init,f=n.Q.Invoke;n.Q.ErrorExecution;var p=n.Q.ErrorPlatform,m=n.Q.ErrorCustom,g=n.Q.Update,y=n.Q.Choose,v=n.Q.Pure},9466:(e,t,r)=>{"use strict";r.d(t,{AS:()=>function e(t,r,l,u,d,f,p){void 0===p&&(p=!1);var m=p?[]:S(d),g=m.length?(0,a.r_)(l,u,m,r):l,y=p?[l]:void 0,v=[];return[(0,a.Bq)(d.map(function(d){var m,b,_=[];try{for(var x=(0,n.Ju)(d),w=x.next();!w.done;w=x.next()){var S=w.value,T=function(d){switch(d.type){case o.xl:return{type:o.xl,_event:(0,a.ft)(d.event)};case o.tN:var m=function(e,t,r,i){var o,s={_event:r},l=(0,a.ft)((0,a.Tn)(e.event)?e.event(t,r.data,s):e.event);if((0,a.Kg)(e.delay)){var u=i&&i[e.delay];o=(0,a.Tn)(u)?u(t,r.data,s):u}else o=(0,a.Tn)(e.delay)?e.delay(t,r.data,s):e.delay;var c=(0,a.Tn)(e.to)?e.to(t,r.data,s):e.to;return(0,n.Cl)((0,n.Cl)({},e),{to:c,_event:l,event:l.data,delay:o})}(d,g,u,t.options.delays);return s.p||(0,a.R8)(!(0,a.Kg)(d.delay)||"number"==typeof m.delay,"No delay reference for delay expression '".concat(d.delay,"' was found on machine '").concat(t.id,"'")),f&&m.to!==i.i.Internal&&v.push(m),m;case o.Rm:var b,_,x=(_=g,(0,n.Cl)((0,n.Cl)({},d),{value:(0,a.Kg)(d.expr)?d.expr:d.expr(_,u.data,{_event:u})}));return null==f||f(x,g,u),x;case o.Sw:var w=null===(b=d.conds.find(function(e){var n=(0,a.Z8)(e.cond,t.options.guards);return!n||(0,a.re)(t,n,g,u,f?void 0:r)}))||void 0===b?void 0:b.actions;if(!w)return[];var S=(0,n.zs)(e(t,r,g,u,[h((0,a.$r)(w),t.options.actions)],f,p),2),T=S[0];return g=S[1],null==y||y.push(g),T;case o.LM:var w=d.get(g,u.data);if(!w)return[];var E=(0,n.zs)(e(t,r,g,u,[h((0,a.$r)(w),t.options.actions)],f,p),2),P=E[0];return g=E[1],null==y||y.push(g),P;case o.ds:var C,A,x=(C=g,A=(0,a.Tn)(d.activity)?d.activity(C,u.data):d.activity,{type:i.Q.Stop,activity:"string"==typeof A?{id:A}:A});return null==f||f(x,l,u),x;case o.kp:g=(0,a.r_)(g,u,[d],f?void 0:r),null==y||y.push(g);break;default:var M=c(d,t.options.actions),k=M.exec;if(f)f(M,g,u);else if(k&&y){var O=y.length-1;M=(0,n.Cl)((0,n.Cl)({},M),{exec:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];k.apply(void 0,(0,n.fX)([y[O]],(0,n.zs)(t),!1))}})}return M}}(S);T&&(_=_.concat(T))}}catch(e){m={error:e}}finally{try{w&&!w.done&&(b=x.return)&&b.call(x)}finally{if(m)throw m.error}}return v.forEach(function(e){f(e,g,u)}),v.length=0,_})),g]},H7:()=>u,Hf:()=>c,Pl:()=>b,Um:()=>h,Vw:()=>_,ZT:()=>m,_4:()=>d,ds:()=>y,kp:()=>v,ni:()=>g,tN:()=>p,tS:()=>x,xl:()=>f,z3:()=>w,zp:()=>l});var n=r(1275),i=r(8328),o=r(98978),a=r(76724),s=r(31204),l=(0,a.ft)({type:o.Ts});function u(e,t){return t&&t[e]||void 0}function c(e,t){var r;if((0,a.Kg)(e)||"number"==typeof e){var i=u(e,t);r=(0,a.Tn)(i)?{type:e,exec:i}:i||{type:e,exec:void 0}}else if((0,a.Tn)(e))r={type:e.name||e.toString(),exec:e};else{var i=u(e.type,t);if((0,a.Tn)(i))r=(0,n.Cl)((0,n.Cl)({},e),{exec:i});else if(i){var o=i.type||e.type;r=(0,n.Cl)((0,n.Cl)((0,n.Cl)({},i),e),{type:o})}else r=e}return r}var h=function(e,t){return e?((0,a.cy)(e)?e:[e]).map(function(e){return c(e,t)}):[]};function d(e){var t=c(e);return(0,n.Cl)((0,n.Cl)({id:(0,a.Kg)(e)?e:t.id},t),{type:t.type})}function f(e){return(0,a.Kg)(e)?{type:o.xl,event:e}:p(e,{to:i.i.Internal})}function p(e,t){return{to:t?t.to:void 0,type:o.tN,event:(0,a.Tn)(e)?e:(0,a.jK)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:(0,a.Tn)(e)?e.name:(0,a.vd)(e)}}var m=function(e){return{type:o.ZT,sendId:e}};function g(e){var t=d(e);return{type:i.Q.Start,activity:t,exec:void 0}}function y(e){var t=(0,a.Tn)(e)?e:d(e);return{type:i.Q.Stop,activity:t,exec:void 0}}var v=function(e){return{type:o.kp,assignment:e}};function b(e,t){return"".concat(i.Q.After,"(").concat(e,")").concat(t?"#".concat(t):"")}function _(e,t){var r="".concat(i.Q.DoneState,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function x(e,t){var r="".concat(i.Q.DoneInvoke,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function w(e,t){var r="".concat(i.Q.ErrorPlatform,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}var S=function(e){var t,r,i=[];try{for(var a=(0,n.Ju)(e),s=a.next();!s.done;s=a.next())for(var l=s.value,u=0;u<l.length;){if(l[u].type===o.kp){i.push(l[u]),l.splice(u,1);continue}u++}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}},12672:(e,t,r)=>{"use strict";r.d(t,{$D:()=>a,AD:()=>n,hS:()=>o,xP:()=>i});var n=".",i={},o="xstate.guard",a=""},31204:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=!0},20345:(e,t,r)=>{"use strict";r.d(t,{kp:()=>n});var n=r(9466).kp},30500:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=[],i=function(e,t){n.push(e);var r=t(e);return n.pop(),r}},14487:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>function e(t,r){return"compound"===r.type?s(r).some(function(e){return"final"===e.type&&d(t,e)}):"parallel"===r.type&&s(r).every(function(r){return e(t,r)})},D0:()=>u,IQ:()=>p,Ki:()=>l,Xh:()=>f,_W:()=>h,d2:()=>o,i0:()=>s,iU:()=>m,rz:()=>a,zy:()=>d});var n=r(1275),i=r(76724),o=function(e){return"atomic"===e.type||"final"===e.type};function a(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function s(e){return a(e).filter(function(e){return"history"!==e.type})}function l(e){var t=[e];return o(e)?t:t.concat((0,i.Bq)(s(e).map(l)))}function u(e,t){var r,i,o,a,l,u,h,d,f=c(new Set(e)),p=new Set(t);try{for(var m=(0,n.Ju)(p),g=m.next();!g.done;g=m.next())for(var y=g.value,v=y.parent;v&&!p.has(v);)p.add(v),v=v.parent}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}var b=c(p);try{for(var _=(0,n.Ju)(p),x=_.next();!x.done;x=_.next()){var y=x.value;if("compound"!==y.type||b.get(y)&&b.get(y).length){if("parallel"===y.type)try{for(var w=(l=void 0,(0,n.Ju)(s(y))),S=w.next();!S.done;S=w.next()){var T=S.value;p.has(T)||(p.add(T),f.get(T)?f.get(T).forEach(function(e){return p.add(e)}):T.initialStateNodes.forEach(function(e){return p.add(e)}))}}catch(e){l={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}else f.get(y)?f.get(y).forEach(function(e){return p.add(e)}):y.initialStateNodes.forEach(function(e){return p.add(e)})}}catch(e){o={error:e}}finally{try{x&&!x.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}try{for(var E=(0,n.Ju)(p),P=E.next();!P.done;P=E.next())for(var y=P.value,v=y.parent;v&&!p.has(v);)p.add(v),v=v.parent}catch(e){h={error:e}}finally{try{P&&!P.done&&(d=E.return)&&d.call(E)}finally{if(h)throw h.error}}return p}function c(e){var t,r,i=new Map;try{for(var o=(0,n.Ju)(e),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function h(e,t){var r=u([e],t);return function e(t,r){var n=r.get(t);if(!n)return{};if("compound"===t.type){var i=n[0];if(!i)return{};if(o(i))return i.key}var a={};return n.forEach(function(t){a[t.key]=e(t,r)}),a}(e,c(r))}function d(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function f(e){return(0,n.fX)([],(0,n.zs)(new Set((0,i.Bq)((0,n.fX)([],(0,n.zs)(e.map(function(e){return e.ownEvents})),!1)))),!1)}function p(e){return void 0===e&&(e=[]),e.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{})}function m(e){return new Set((0,i.Bq)(e.map(function(e){return e.tags})))}},8328:(e,t,r)=>{"use strict";var n,i;r.d(t,{Q:()=>n,i:()=>i}),function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(n||(n={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(i||(i={}))},76724:(e,t,r)=>{"use strict";r.d(t,{$X:()=>b,$r:()=>g,A9:()=>y,AT:()=>M,Ae:()=>f,Ai:()=>O,BY:()=>w,Bq:()=>m,En:()=>z,HK:()=>function e(t,r,n){void 0===n&&(n=o.AD);var i=u(t,n),a=u(r,n);return C(a)?!!C(i)&&a===i:C(i)?i in a:Object.keys(i).every(function(t){return t in a&&e(i[t],a[t])})},Kg:()=>C,LG:()=>h,M7:()=>v,R8:()=>T,R_:()=>j,Tn:()=>P,VQ:()=>p,WV:()=>N,Xd:()=>F,Z8:()=>A,_3:()=>I,_J:()=>l,at:()=>u,bm:()=>function e(t){return t?C(t)?[[t]]:m(Object.keys(t).map(function(r){var n=t[r];return"string"==typeof n||n&&Object.keys(n).length?e(t[r]).map(function(e){return[r].concat(e)}):[[r]]})):[[]]},cv:()=>V,cy:()=>E,ft:()=>D,jB:()=>x,jK:()=>R,lx:()=>_,oc:()=>L,r_:()=>S,re:()=>B,rp:()=>d,s7:()=>k,vd:()=>s,zr:()=>c});var n,i=r(1275),o=r(12672),a=r(31204);function s(e){try{return C(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}}function l(e,t){try{if(E(e))return e;return e.toString().split(t)}catch(t){throw Error("'".concat(e,"' is not a valid state path."))}}function u(e,t){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e?e.value:E(e)?c(e):"string"!=typeof e?e:c(l(e,t))}function c(e){if(1===e.length)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function h(e,t){for(var r={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];r[o]=t(e[o],o,e,i)}return r}function d(e,t,r){var n,o,a={};try{for(var s=(0,i.Ju)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u];r(c)&&(a[u]=t(c,u,e))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a}var f=function(e){return function(t){var r,n,o=t;try{for(var a=(0,i.Ju)(e),s=a.next();!s.done;s=a.next())o=o[s.value]}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}};function p(e,t){return function(r){var n,o,a=r;try{for(var s=(0,i.Ju)(e),l=s.next();!l.done;l=s.next()){var u=l.value;a=a[t][u]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a}}function m(e){var t;return(t=[]).concat.apply(t,(0,i.fX)([],(0,i.zs)(e),!1))}function g(e){return void 0===e?[]:E(e)?e:[e]}function y(e,t,r){if(P(e))return e(t,r.data);var n,o,a={};try{for(var s=(0,i.Ju)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u];P(c)?a[u]=c(t,r.data):a[u]=c}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a}function v(e){return/^(done|error)\./.test(e)}function b(e){return!!(e instanceof Promise||null!==e&&(P(e)||"object"==typeof e)&&P(e.then))}function _(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition}function x(e,t){var r,n,o=(0,i.zs)([[],[]],2),a=o[0],s=o[1];try{for(var l=(0,i.Ju)(e),u=l.next();!u.done;u=l.next()){var c=u.value;t(c)?a.push(c):s.push(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return[a,s]}function w(e,t){return{current:t,states:function e(t,r){return h(t.states,function(t,n){if(t){var i=(C(r)?void 0:r[n])||(t?t.current:void 0);if(i)return{current:i,states:e(t,i)}}})}(e,t)}}function S(e,t,r,n){return a.p||T(!!e,"Attempting to update undefined context"),e?r.reduce(function(e,r){var o,a,s=r.assignment,l={state:n,action:r,_event:t},u={};if(P(s))u=s(e,t.data,l);else try{for(var c=(0,i.Ju)(Object.keys(s)),h=c.next();!h.done;h=c.next()){var d=h.value,f=s[d];u[d]=P(f)?f(e,t.data,l):f}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return Object.assign({},e,u)},e):e}var T=function(){};function E(e){return Array.isArray(e)}function P(e){return"function"==typeof e}function C(e){return"string"==typeof e}function A(e,t){return e?C(e)?{type:o.hS,name:e,predicate:t?t[e]:void 0}:P(e)?{type:o.hS,name:e.name,predicate:e}:e:void 0}function M(e){try{return"subscribe"in e&&P(e.subscribe)}catch(e){return!1}}a.p||(T=function(e,t){var r=e instanceof Error?e:void 0;if((r||!e)&&void 0!==console){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});var k="function"==typeof Symbol&&Symbol.observable||"@@observable";function O(e){return!!e&&"__xstatenode"in e}function I(e){return!!e&&"function"==typeof e.send}function R(e,t){return C(e)||"number"==typeof e?(0,i.Cl)({type:e},t):e}function D(e,t){if(!C(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var r=R(e);return(0,i.Cl)({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function L(e,t){return(E(t)?t:[t]).map(function(t){return void 0===t||"string"==typeof t||O(t)?{target:t,event:e}:(0,i.Cl)((0,i.Cl)({},t),{event:e})})}function j(e){if(void 0!==e&&e!==o.$D)return g(e)}function z(e,t,r){if(!a.p){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(i))}}}function B(e,t,r,n,i){var a=e.options.guards,s={state:i,cond:t,_event:n};if(t.type===o.hS)return((null==a?void 0:a[t.name])||t.predicate)(r,n.data,s);var l=null==a?void 0:a[t.type];if(!l)throw Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return l(r,n.data,s)}function F(e){return"string"==typeof e?{type:e}:e}function N(e,t,r){var n=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||n).bind(o),error:((i?e.error:t)||n).bind(o),complete:((i?e.complete:r)||n).bind(o)}}function V(e,t){return"".concat(e,":invocation[").concat(t,"]")}(n={})[k]=function(){return this},n[Symbol.observable]=function(){return this}},57510:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},30067:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,i){for(var o,a,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))r.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var c=0;c<a.length;c++)n.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}:Object.assign},70079:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},5901:(e,t,r)=>{var n=r(70079);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},34579:(e,t,r)=>{var n=r(77736);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},43693:(e,t,r)=>{var n=r(77736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},24994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},99291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},41869:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},41132:(e,t,r)=>{var n=r(5901),i=r(99291),o=r(17122),a=r(41869);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},89045:(e,t,r)=>{var n=r(73738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},77736:(e,t,r)=>{var n=r(73738).default,i=r(89045);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},73738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},17122:(e,t,r)=>{var n=r(70079);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},16443:function(e){var t;t=function(){"use strict";var e={},t={};function r(r,n,i){if(t[r]=i,"index"===r){var o="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",a={};return t.shared(a),t.index(e,a),"undefined"!=typeof window&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))),e}}return r("shared",["exports"],function(e){let t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b;function _(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w(){if(P)return E;function e(e,t){this.x=e,this.y=t}return P=1,E=e,e.prototype={clone:function(){return new e(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t},E}"function"==typeof SuppressedError&&SuppressedError;var S,T,E,P,C,A,M=x(w()),k=x(function(){if(A)return C;function e(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}return A=1,C=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var o=this.sampleCurveDerivativeX(r);if(1e-6>Math.abs(o))break;r-=i/o}var a=0,s=1;for(r=e,n=0;n<20&&!(Math.abs((i=this.sampleCurveX(r))-e)<t);n++)e>i?a=r:s=r,r=.5*(s-a)+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},C}());function O(){return null==t&&(t="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),t}function I(){if(null==r&&(r=!1,O())){let e=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(e){for(let t=0;t<25;t++){let r=4*t;e.fillStyle=`rgb(${r},${r+1},${r+2})`,e.fillRect(t%5,Math.floor(t/5),1,1)}let t=e.getImageData(0,0,5,5).data;for(let e=0;e<100;e++)if(e%4!=3&&t[e]!==e){r=!0;break}}}return r||!1}var R="undefined"!=typeof Float32Array?Float32Array:Array;function D(){var e=new R(9);return R!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function L(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(){var e=new R(3);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function z(e){return Math.hypot(e[0],e[1],e[2])}function B(e,t,r){var n=new R(3);return n[0]=e,n[1]=t,n[2]=r,n}function F(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function N(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function V(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],l=r[2];return e[0]=i*l-o*s,e[1]=o*a-n*l,e[2]=n*s-i*a,e}function U(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function G(){var e=new R(4);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function H(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return e[0]=o*l*c-a*s*u,e[1]=a*s*c+o*l*u,e[2]=a*l*u-o*s*c,e[3]=a*l*c+o*s*u,e}function q(){var e=new R(2);return R!=Float32Array&&(e[0]=0,e[1]=0),e}function $(e,t){var r=new R(2);return r[0]=e,r[1]=t,r}function W(e,t,r){return t*(8192/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}function X(e,t){return(e%t+t)%t}function Z(e,t,r){return e*(1-r)+t*r}function K(e){if(e<=0)return 0;if(e>=1)return 1;let t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}function Y(e,t,r,n){let i=new k(e,t,r,n);return e=>i.solve(e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),j(),t4=new R(4),R!=Float32Array&&(t4[0]=0,t4[1]=0,t4[2]=0,t4[3]=0),j(),B(1,0,0),B(0,1,0),G(),G(),D(),q();let Q=Y(.25,.1,.25,1);function J(e,t,r){return Math.min(r,Math.max(t,e))}function ee(e,t,r){let n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function et(e,...t){for(let r of t)for(let t in r)e[t]=r[t];return e}let er=1;function en(e,t,r){let n={};for(let r in e)n[r]=t.call(this,e[r],r,e);return n}function ei(e,t,r){let n={};for(let r in e)t.call(this,e[r],r,e)&&(n[r]=e[r]);return n}function eo(e){return Array.isArray(e)?e.map(eo):"object"==typeof e&&e?en(e,eo):e}let ea={};function es(e){ea[e]||("undefined"!=typeof console&&console.warn(e),ea[e]=!0)}function el(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function eu(e){return"undefined"!=typeof WorkerGlobalScope&&void 0!==e&&e instanceof WorkerGlobalScope}let ec=null;function eh(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}let ed="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ef(e,t,r,n,i){return _(this,void 0,void 0,function*(){if("undefined"==typeof VideoFrame)throw Error("VideoFrame not supported");let o=new VideoFrame(e,{timestamp:0});try{let a=null==o?void 0:o.format;if(!a||!a.startsWith("BGR")&&!a.startsWith("RGB"))throw Error(`Unrecognized format ${a}`);let s=a.startsWith("BGR"),l=new Uint8ClampedArray(n*i*4);if(yield o.copyTo(l,function(e,t,r,n,i){let o=4*Math.max(-t,0),a=(Math.max(0,r)-r)*n*4+o,s=Math.max(0,t),l=Math.max(0,r);return{rect:{x:s,y:l,width:Math.min(e.width,t+n)-s,height:Math.min(e.height,r+i)-l},layout:[{offset:a,stride:4*n}]}}(e,t,r,n,i)),s)for(let e=0;e<l.length;e+=4){let t=l[e];l[e]=l[e+2],l[e+2]=t}return l}finally{o.close()}})}function ep(e,t,r,n){return e.addEventListener(t,r,n),{unsubscribe:()=>{e.removeEventListener(t,r,n)}}}function em(e){return e*Math.PI/180}function eg(e){return e/Math.PI*180}let ey={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},ev={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},eb="AbortError";function e_(){return Error(eb)}let ex={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ew(e){return ex.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))]}let eS="global-dispatcher";class eT extends Error{constructor(e,t,r,n){super(`AJAXError: ${t} (${e}): ${r}`),this.status=e,this.statusText=t,this.url=r,this.body=n}}let eE=()=>eu(self)?self.worker&&self.worker.referrer:("blob:"===window.location.protocol?window.parent:window).location.href,eP=function(e,t){var r;if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){let r=ew(e.url);if(r)return r(e,t);if(eu(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,targetMapId:eS},t)}if(!(/^file:/.test(r=e.url)||/^file:/.test(eE())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(e,t){return _(this,void 0,void 0,function*(){let r,n;let i=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:eE(),signal:t.signal});"json"!==e.type||i.headers.has("Accept")||i.headers.set("Accept","application/json");try{r=yield fetch(i)}catch(t){throw new eT(0,t.message,e.url,new Blob)}if(!r.ok){let t=yield r.blob();throw new eT(r.status,r.statusText,e.url,t)}n="arrayBuffer"===e.type||"image"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text();let o=yield n;if(t.signal.aborted)throw e_();return{data:o,cacheControl:r.headers.get("Cache-Control"),expires:r.headers.get("Expires")}})}(e,t);if(eu(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,mustQueue:!0,targetMapId:eS},t)}return new Promise((r,n)=>{var i;let o=new XMLHttpRequest;for(let t in o.open(e.method||"GET",e.url,!0),"arrayBuffer"!==e.type&&"image"!==e.type||(o.responseType="arraybuffer"),e.headers)o.setRequestHeader(t,e.headers[t]);"json"===e.type&&(o.responseType="text",(null===(i=e.headers)||void 0===i?void 0:i.Accept)||o.setRequestHeader("Accept","application/json")),o.withCredentials="include"===e.credentials,o.onerror=()=>{n(Error(o.statusText))},o.onload=()=>{if(!t.signal.aborted){if((o.status>=200&&o.status<300||0===o.status)&&null!==o.response){let t=o.response;if("json"===e.type)try{t=JSON.parse(o.response)}catch(e){return void n(e)}r({data:t,cacheControl:o.getResponseHeader("Cache-Control"),expires:o.getResponseHeader("Expires")})}else{let t=new Blob([o.response],{type:o.getResponseHeader("Content-Type")});n(new eT(o.status,o.statusText,e.url,t))}}},t.signal.addEventListener("abort",()=>{o.abort(),n(e_())}),o.send(e.body)})};function eC(e){if(!e||0>=e.indexOf("://")||0===e.indexOf("data:image/")||0===e.indexOf("blob:"))return!0;let t=new URL(e),r=window.location;return t.protocol===r.protocol&&t.host===r.host}function eA(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function eM(e,t,r){if(r&&r[e]){let n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}class ek{constructor(e,t={}){et(this,t),this.type=e}}class eO extends ek{constructor(e,t={}){super("error",et({error:e},t))}}class eI{on(e,t){return this._listeners=this._listeners||{},eA(e,t,this._listeners),{unsubscribe:()=>{this.off(e,t)}}}off(e,t){return eM(e,t,this._listeners),eM(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},eA(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new ek(e,t||{}));let r=e.type;if(this.listens(r)){for(let t of(e.target=this,this._listeners&&this._listeners[r]?this._listeners[r].slice():[]))t.call(this,e);for(let t of this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[])eM(r,t,this._oneTimeListeners),t.call(this,e);let t=this._eventedParent;t&&(et(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),t.fire(e))}else e instanceof eO&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var eR={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let eD=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function eL(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!eL(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!eL(e[r],t[r]))return!1;return!0}return e===t}function ej(e,t){e.push(t)}function ez(e,t,r){ej(r,{command:"addSource",args:[e,t[e]]})}function eB(e,t,r){ej(t,{command:"removeSource",args:[e]}),r[e]=!0}function eF(e,t,r,n,i,o){for(let a in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,a)&&(eL(e[a],t[a])||r.push({command:o,args:[n,a,t[a],i]}));for(let a in t)Object.prototype.hasOwnProperty.call(t,a)&&!Object.prototype.hasOwnProperty.call(e,a)&&(eL(e[a],t[a])||r.push({command:o,args:[n,a,t[a],i]}))}function eN(e){return e.id}function eV(e,t){return e[t.id]=t,e}class eU{constructor(e,t,r,n){this.message=(e?`${e}: `:"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function eG(e,...t){for(let r of t)for(let t in r)e[t]=r[t];return e}class eH extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class eq{constructor(e,t=[]){for(let[r,n]of(this.parent=e,this.bindings={},t))this.bindings[r]=n}concat(e){return new eq(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}let e$={kind:"null"},eW={kind:"number"},eX={kind:"string"},eZ={kind:"boolean"},eK={kind:"color"},eY={kind:"projectionDefinition"},eQ={kind:"object"},eJ={kind:"value"},e0={kind:"collator"},e1={kind:"formatted"},e2={kind:"padding"},e3={kind:"colorArray"},e5={kind:"numberArray"},e6={kind:"resolvedImage"},e4={kind:"variableAnchorOffsetCollection"};function e8(e,t){return{kind:"array",itemType:e,N:t}}function e7(e){if("array"===e.kind){let t=e7(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}let e9=[e$,eW,eX,eZ,eK,eY,e1,eQ,e8(eJ),e2,e5,e3,e6,e4];function te(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!te(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){for(let e of e9)if(!te(e,t))return null}}return`Expected ${e7(e)} but found ${e7(t)} instead.`}function tt(e,t){return t.some(t=>t.kind===e.kind)}function tr(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function tn(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}let ti=4/29,to=6/29,ta=6/29*3*(6/29),ts=6/29*(6/29)*(6/29),tl=Math.PI/180,tu=180/Math.PI;function tc(e){return(e%=360)<0&&(e+=360),e}function th([e,t,r,n]){let i,o;let a=tf((.2225045*(e=td(e))+.7168786*(t=td(t))+.0606169*(r=td(r)))/1);e===t&&t===r?i=o=a:(i=tf((.4360747*e+.3850649*t+.1430804*r)/.96422),o=tf((.0139322*e+.0971045*t+.7141733*r)/.82521));let s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),n]}function td(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tf(e){return e>ts?Math.pow(e,1/3):e/ta+ti}function tp([e,t,r,n]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,a=isNaN(r)?i:i-r/200;return i=+tg(i),[tm(3.1338561*(o=.96422*tg(o))-1.6168667*i-.4906146*(a=.82521*tg(a))),tm(-.9787684*o+1.9161415*i+.033454*a),tm(.0719453*o-.2289914*i+1.4052427*a),n]}function tm(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function tg(e){return e>to?e*e*e:ta*(e-ti)}let ty=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function tv(e,t){return ty(e,t)?e[t]:void 0}function tb(e){return parseInt(e.padEnd(2,e),16)/255}function t_(e,t){return tx(t?e/100:e,0,1)}function tx(e,t,r){return Math.min(Math.max(t,e),r)}function tw(e){return!e.some(Number.isNaN)}let tS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function tT(e,t,r){return e.map((e,n)=>e+r*(t[n]-e))}class tE{constructor(e,t,r,n=1,i=!0){this.r=e,this.g=t,this.b=r,this.a=n,i||(this.r*=n,this.g*=n,this.b*=n,n||this.overwriteGetter("rgb",[e,t,r,n]))}static parse(e){if(e instanceof tE)return e;if("string"!=typeof e)return;let t=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];let t=tv(tS,e);if(t){let[e,r,n]=t;return[e/255,r/255,n/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){let t=e.length<6?1:2,r=1;return[tb(e.slice(r,r+=t)),tb(e.slice(r,r+=t)),tb(e.slice(r,r+=t)),tb(e.slice(r,r+t)||"ff")]}if(e.startsWith("rgb")){let t=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(t){let[e,r,n,i,o,a,s,l,u,c,h,d]=t,f=[i||" ",s||" ",c].join("");if("  "===f||"  /"===f||",,"===f||",,,"===f){let e=[n,a,u].join(""),t="%%%"===e?100:255*(""===e);if(t){let e=[tx(+r/t,0,1),tx(+o/t,0,1),tx(+l/t,0,1),h?t_(+h,d):1];if(tw(e))return e}}return}}let r=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(r){let[e,t,n,i,o,a,s,l,u]=r,c=[n||" ",o||" ",s].join("");if("  "===c||"  /"===c||",,"===c||",,,"===c){let e=[+t,tx(+i,0,100),tx(+a,0,100),l?t_(+l,u):1];if(tw(e))return function([e,t,r,n]){function i(n){let i=(n+e/30)%12,o=t*Math.min(r,1-r);return r-o*Math.max(-1,Math.min(i-3,9-i,1))}return e=tc(e),t/=100,r/=100,[i(0),i(8),i(4),n]}(e)}}}(e);return t?new tE(...t,!1):void 0}get rgb(){let{r:e,g:t,b:r,a:n}=this,i=n||1/0;return this.overwriteGetter("rgb",[e/i,t/i,r/i,n])}get hcl(){return this.overwriteGetter("hcl",function(e){let[t,r,n,i]=th(e),o=Math.sqrt(r*r+n*n);return[Math.round(1e4*o)?tc(Math.atan2(n,r)*tu):NaN,o,t,i]}(this.rgb))}get lab(){return this.overwriteGetter("lab",th(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){let[e,t,r,n]=this.rgb;return`rgba(${[e,t,r].map(e=>Math.round(255*e)).join(",")},${n})`}static interpolate(e,t,r,n="rgb"){switch(n){case"rgb":{let[n,i,o,a]=tT(e.rgb,t.rgb,r);return new tE(n,i,o,a,!1)}case"hcl":{let n,i;let[o,a,s,l]=e.hcl,[u,c,h,d]=t.hcl;if(isNaN(o)||isNaN(u))isNaN(o)?isNaN(u)?n=NaN:(n=u,1!==s&&0!==s||(i=c)):(n=o,1!==h&&0!==h||(i=a));else{let e=u-o;u>o&&e>180?e-=360:u<o&&o-u>180&&(e+=360),n=o+r*e}let[f,p,m,g]=function([e,t,r,n]){return tp([r,Math.cos(e=isNaN(e)?0:e*tl)*t,Math.sin(e)*t,n])}([n,null!=i?i:a+r*(c-a),s+r*(h-s),l+r*(d-l)]);return new tE(f,p,m,g,!1)}case"lab":{let[n,i,o,a]=tp(tT(e.lab,t.lab,r));return new tE(n,i,o,a,!1)}}}}tE.black=new tE(0,0,0,1),tE.white=new tE(1,1,1,1),tE.transparent=new tE(0,0,0,0),tE.red=new tE(1,0,0,1);class tP{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let tC=["bottom","center","top"];class tA{constructor(e,t,r,n,i,o){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i,this.verticalAlign=o}}class tM{constructor(e){this.sections=e}static fromString(e){return new tM([new tA(e,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof tM?e:tM.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}}class tk{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tk)return e;if("number"==typeof e)return new tk([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(let t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new tk(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){return new tk(tT(e.values,t.values,r))}}class tO{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tO)return e;if("number"==typeof e)return new tO([e]);if(Array.isArray(e)){for(let t of e)if("number"!=typeof t)return;return new tO(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){return new tO(tT(e.values,t.values,r))}}class tI{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tI)return e;if("string"==typeof e){let t=tE.parse(e);if(!t)return;return new tI([t])}if(!Array.isArray(e))return;let t=[];for(let r of e){if("string"!=typeof r)return;let e=tE.parse(r);if(!e)return;t.push(e)}return new tI(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r,n="rgb"){let i=[];if(e.values.length!=t.values.length)throw Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let o=0;o<e.values.length;o++)i.push(tE.interpolate(e.values[o],t.values[o],r,n));return new tI(i)}}class tR extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}let tD=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class tL{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tL)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){let r=e[t],n=e[t+1];if("string"!=typeof r||!tD.has(r)||!Array.isArray(n)||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])return}return new tL(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){let n=e.values,i=t.values;if(n.length!==i.length)throw new tR(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);let o=[];for(let e=0;e<n.length;e+=2){if(n[e]!==i[e])throw new tR(`Cannot interpolate values containing mismatched anchors. from[${e}]: ${n[e]}, to[${e}]: ${i[e]}`);o.push(n[e]);let[t,a]=n[e+1],[s,l]=i[e+1];o.push([t+r*(s-t),a+r*(l-a)])}return new tL(o)}}class tj{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new tj({name:e,available:!1}):null}}class tz{constructor(e,t,r){this.from=e,this.to=t,this.transition=r}static interpolate(e,t,r){return new tz(e,t,r)}static parse(e){return e instanceof tz?e:Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]?new tz(e[0],e[1],e[2]):"object"==typeof e&&"string"==typeof e.from&&"string"==typeof e.to&&"number"==typeof e.transition?new tz(e.from,e.to,e.transition):"string"==typeof e?new tz(e,e,1):void 0}}function tB(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function tF(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof tz||e instanceof tE||e instanceof tP||e instanceof tM||e instanceof tk||e instanceof tO||e instanceof tI||e instanceof tL||e instanceof tj)return!0;if(Array.isArray(e)){for(let t of e)if(!tF(t))return!1;return!0}if("object"==typeof e){for(let t in e)if(!tF(e[t]))return!1;return!0}return!1}function tN(e){if(null===e)return e$;if("string"==typeof e)return eX;if("boolean"==typeof e)return eZ;if("number"==typeof e)return eW;if(e instanceof tE)return eK;if(e instanceof tz)return eY;if(e instanceof tP)return e0;if(e instanceof tM)return e1;if(e instanceof tk)return e2;if(e instanceof tO)return e5;if(e instanceof tI)return e3;if(e instanceof tL)return e4;if(e instanceof tj)return e6;if(Array.isArray(e)){let t;let r=e.length;for(let r of e){let e=tN(r);if(t){if(t===e)continue;t=eJ;break}t=e}return e8(t||eJ,r)}return eQ}function tV(e){let t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof tE||e instanceof tz||e instanceof tM||e instanceof tk||e instanceof tO||e instanceof tI||e instanceof tL||e instanceof tj?e.toString():JSON.stringify(e)}class tU{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!tF(e[1]))return t.error("invalid value");let r=e[1],n=tN(r),i=t.expectedType;return"array"===n.kind&&0===n.N&&i&&"array"===i.kind&&("number"!=typeof i.N||0===i.N)&&(n=i),new tU(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let tG={string:eX,number:eW,boolean:eZ,object:eQ};class tH{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1,i=e[0];if("array"===i){let i,o;if(e.length>2){let r=e[1];if("string"!=typeof r||!(r in tG)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=tG[r],n++}else i=eJ;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=e8(i,o)}else{if(!tG[i])throw Error(`Types doesn't contain name = ${i}`);r=tG[i]}let o=[];for(;n<e.length;n++){let r=t.parse(e[n],n,eJ);if(!r)return null;o.push(r)}return new tH(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){let r=this.args[t].evaluate(e);if(!te(this.type,tN(r)))return r;if(t===this.args.length-1)throw new tR(`Expected value to be of type ${e7(this.type)}, but found ${e7(tN(r))} instead.`)}throw Error()}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}let tq={"to-boolean":eZ,"to-color":eK,"to-number":eW,"to-string":eX};class t${constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[0];if(!tq[r])throw Error(`Can't parse ${r} as it is not part of the known types`);if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");let n=tq[r],i=[];for(let r=1;r<e.length;r++){let n=t.parse(e[r],r,eJ);if(!n)return null;i.push(n)}return new t$(n,i)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,r;for(let n of this.args){if(t=n.evaluate(e),r=null,t instanceof tE)return t;if("string"==typeof t){let r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:tB(t[0],t[1],t[2],t[3])))return new tE(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new tR(r||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"padding":{let t;for(let r of this.args){t=r.evaluate(e);let n=tk.parse(t);if(n)return n}throw new tR(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(let r of this.args){t=r.evaluate(e);let n=tO.parse(t);if(n)return n}throw new tR(`Could not parse numberArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(let r of this.args){t=r.evaluate(e);let n=tI.parse(t);if(n)return n}throw new tR(`Could not parse colorArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(let r of this.args){t=r.evaluate(e);let n=tL.parse(t);if(n)return n}throw new tR(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(let r of this.args){if(null===(t=r.evaluate(e)))return 0;let n=Number(t);if(!isNaN(n))return n}throw new tR(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return tM.fromString(tV(this.args[0].evaluate(e)));case"resolvedImage":return tj.fromString(tV(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return tV(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}let tW=["Unknown","Point","LineString","Polygon"];class tX{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?tW[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=tE.parse(e),this._parseColorCache.set(e,t)),t}}class tZ{constructor(e,t,r=[],n,i=new eq,o=[]){this.registry=e,this.path=r,this.key=r.map(e=>`[${e}]`).join(""),this.scope=i,this.errors=o,this.expectedType=n,this._isConstant=t}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new tH(t,[e]):"coerce"===r?new t$(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){let e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind){if("projectionDefinition"===e.kind&&["string","array"].includes(i.kind)||["color","formatted","resolvedImage"].includes(e.kind)&&["value","string"].includes(i.kind)||["padding","numberArray"].includes(e.kind)&&["value","number","array"].includes(i.kind)||"colorArray"===e.kind&&["value","string","array"].includes(i.kind)||"variableAnchorOffsetCollection"===e.kind&&["value","array"].includes(i.kind))n=r(n,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,i))return null}else n=r(n,e,t.typeAnnotation||"assert")}if(!(n instanceof tU)&&"resolvedImage"!==n.type.kind&&this._isConstant(n)){let e=new tX;try{n=new tU(n.type,n.evaluate(e))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){let n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new tZ(this.registry,this._isConstant,n,t||null,i,this.errors)}error(e,...t){let r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new eH(r,e))}checkSubtype(e,t){let r=te(e,t);return r&&this.error(r),r}}class tK{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(let t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);let r=[];for(let n=1;n<e.length-1;n+=2){let i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);let o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}let n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new tK(r,n):null}outputDefined(){return this.result.outputDefined()}}class tY{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");let r=e[1];return t.scope.has(r)?new tY(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class tQ{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eW),n=t.parse(e[2],2,e8(t.expectedType||eJ));return r&&n?new tQ(n.type.itemType,r,n):null}evaluate(e){let t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new tR(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new tR(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new tR(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class tJ{constructor(e,t){this.type=eZ,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eJ),n=t.parse(e[2],2,eJ);return r&&n?tt(r.type,[eZ,eX,eW,e$,eJ])?new tJ(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${e7(r.type)} instead`):null}evaluate(e){let t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!tr(t,["boolean","string","number","null"]))throw new tR(`Expected first argument to be of type boolean, string, number or null, but found ${e7(tN(t))} instead.`);if(!tr(r,["string","array"]))throw new tR(`Expected second argument to be of type array or string, but found ${e7(tN(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class t0{constructor(e,t,r){this.type=eW,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eJ),n=t.parse(e[2],2,eJ);if(!r||!n)return null;if(!tt(r.type,[eZ,eX,eW,e$,eJ]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${e7(r.type)} instead`);if(4===e.length){let i=t.parse(e[3],3,eW);return i?new t0(r,n,i):null}return new t0(r,n)}evaluate(e){let t;let r=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!tr(r,["boolean","string","number","null"]))throw new tR(`Expected first argument to be of type boolean, string, number or null, but found ${e7(tN(r))} instead.`);if(this.fromIndex&&(t=this.fromIndex.evaluate(e)),tr(n,["string"])){let e=n.indexOf(r,t);return -1===e?-1:[...n.slice(0,e)].length}if(tr(n,["array"]))return n.indexOf(r,t);throw new tR(`Expected second argument to be of type array or string, but found ${e7(tN(n))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class t1{constructor(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o}static parse(e,t){let r,n;if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);let i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);let u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(let e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,tN(e)))return null}else r=tN(e);if(void 0!==i[String(e)])return u.error("Branch labels must be unique.");i[String(e)]=o.length}let c=t.parse(l,a,n);if(!c)return null;n=n||c.type,o.push(c)}let a=t.parse(e[1],1,eJ);if(!a)return null;let s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(r,a.type)?null:new t1(r,n,a,i,o,s):null}evaluate(e){let t=this.input.evaluate(e);return(tN(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class t2{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){let r;if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);let n=[];for(let i=1;i<e.length-1;i+=2){let o=t.parse(e[i],i,eZ);if(!o)return null;let a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}let i=t.parse(e[e.length-1],e.length-1,r);if(!i)return null;if(!r)throw Error("Can't infer output type");return new t2(r,n,i)}evaluate(e){for(let[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(let[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class t3{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eJ),n=t.parse(e[2],2,eW);if(!r||!n)return null;if(!tt(r.type,[e8(eJ),eX,eJ]))return t.error(`Expected first argument to be of type array or string, but found ${e7(r.type)} instead`);if(4===e.length){let i=t.parse(e[3],3,eW);return i?new t3(r.type,r,n,i):null}return new t3(r.type,r,n)}evaluate(e){let t;let r=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(this.endIndex&&(t=this.endIndex.evaluate(e)),tr(r,["string"]))return[...r].slice(n,t).join("");if(tr(r,["array"]))return r.slice(n,t);throw new tR(`Expected first argument to be of type array or string, but found ${e7(tN(r))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function t5(e,t){let r=e.length-1,n,i,o=0,a=r,s=0;for(;o<=a;)if(n=e[s=Math.floor((o+a)/2)],i=e[s+1],n<=t){if(s===r||t<i)return s;o=s+1}else{if(!(n>t))throw new tR("Input is not a number.");a=s-1}return 0}class t6{constructor(e,t,r){for(let[n,i]of(this.type=e,this.input=t,this.labels=[],this.outputs=[],r))this.labels.push(n),this.outputs.push(i)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");let r=t.parse(e[1],1,eW);if(!r)return null;let n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){let o=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);let u=t.parse(a,l,i);if(!u)return null;i=i||u.type,n.push([o,u])}return new t6(i,r,n)}evaluate(e){let t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);let n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);let i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[t5(t,n)].evaluate(e)}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}var t4,t8,t7,t9,re=(t8=function(){if(t9)return t7;function e(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}return t9=1,t7=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var o=this.sampleCurveDerivativeX(r);if(1e-6>Math.abs(o))break;r-=i/o}var a=0,s=1;for(r=e,n=0;n<20&&!(Math.abs((i=this.sampleCurveX(r))-e)<t);n++)e>i?a=r:s=r,r=.5*(s-a)+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},t7}())&&t8.__esModule&&Object.prototype.hasOwnProperty.call(t8,"default")?t8.default:t8;class rt{constructor(e,t,r,n,i){for(let[o,a]of(this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[],i))this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,r,n){let i=0;if("exponential"===e.name)i=rr(t,e.base,r,n);else if("linear"===e.name)i=rr(t,1,r,n);else if("cubic-bezier"===e.name){let o=e.controlPoints;i=new re(o[0],o[1],o[2],o[3]).solve(rr(t,1,r,n))}return i}static parse(e,t){let[r,n,i,...o]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){let e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error(`Unknown interpolation type ${String(n[0])}`,1,0);{let e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,eW)))return null;let a=[],s=null;"interpolate-hcl"!==r&&"interpolate-lab"!==r||t.expectedType==e3?t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType):s=eK;for(let e=0;e<o.length;e+=2){let r=o[e],n=o[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);let u=t.parse(n,l,s);if(!u)return null;s=s||u.type,a.push([r,u])}return tn(s,eW)||tn(s,eY)||tn(s,eK)||tn(s,e2)||tn(s,e5)||tn(s,e3)||tn(s,e4)||tn(s,e8(eW))?new rt(s,r,n,i,a):t.error(`Type ${e7(s)} is not interpolatable.`)}evaluate(e){let t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);let n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);let i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);let o=t5(t,n),a=rt.interpolationFactor(this.interpolation,n,t[o],t[o+1]),s=r[o].evaluate(e),l=r[o+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return s+a*(l-s);case"color":return tE.interpolate(s,l,a);case"padding":return tk.interpolate(s,l,a);case"colorArray":return tI.interpolate(s,l,a);case"numberArray":return tO.interpolate(s,l,a);case"variableAnchorOffsetCollection":return tL.interpolate(s,l,a);case"array":return tT(s,l,a);case"projectionDefinition":return tz.interpolate(s,l,a)}case"interpolate-hcl":switch(this.type.kind){case"color":return tE.interpolate(s,l,a,"hcl");case"colorArray":return tI.interpolate(s,l,a,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return tE.interpolate(s,l,a,"lab");case"colorArray":return tI.interpolate(s,l,a,"lab")}}}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function rr(e,t,r,n){let i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let rn={color:tE.interpolate,number:function(e,t,r){return e+r*(t-e)},padding:tk.interpolate,numberArray:tO.interpolate,colorArray:tI.interpolate,variableAnchorOffsetCollection:tL.interpolate,array:tT};class ri{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);let i=[];for(let n of e.slice(1)){let e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}if(!r)throw Error("No output type");return new ri(n&&i.some(e=>te(n,e.type))?eJ:r,i)}evaluate(e){let t,r=null,n=0;for(let i of this.args)if(n++,(r=i.evaluate(e))&&r instanceof tj&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null!==r)break;return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function ro(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ra(e,t,r,n){return 0===n.compare(t,r)}function rs(e,t,r){let n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=eZ,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");let r=e[0],o=t.parse(e[1],1,eJ);if(!o)return null;if(!ro(r,o.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${e7(o.type)}'.`);let a=t.parse(e[2],2,eJ);if(!a)return null;if(!ro(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${e7(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${e7(o.type)}' and '${e7(a.type)}'.`);n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new tH(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new tH(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,e0)))return null}return new i(o,a,s)}evaluate(i){let o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){let t=tN(o),r=tN(a);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new tR(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){let e=tN(o),r=tN(a);if("string"!==e.kind||"string"!==r.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}let rl=rs("==",function(e,t,r){return t===r},ra),ru=rs("!=",function(e,t,r){return t!==r},function(e,t,r,n){return!ra(0,t,r,n)}),rc=rs("<",function(e,t,r){return t<r},function(e,t,r,n){return 0>n.compare(t,r)}),rh=rs(">",function(e,t,r){return t>r},function(e,t,r,n){return n.compare(t,r)>0}),rd=rs("<=",function(e,t,r){return t<=r},function(e,t,r,n){return 0>=n.compare(t,r)}),rf=rs(">=",function(e,t,r){return t>=r},function(e,t,r,n){return n.compare(t,r)>=0});class rp{constructor(e,t,r){this.type=e0,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");let r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");let n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,eZ);if(!n)return null;let i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,eZ);if(!i)return null;let o=null;return!r.locale||(o=t.parse(r.locale,1,eX))?new rp(n,i,o):null}evaluate(e){return new tP(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class rm{constructor(e,t,r,n,i){this.type=eX,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,eW);if(!r)return null;let n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&!(i=t.parse(n.locale,1,eX)))return null;let o=null;if(n.currency&&!(o=t.parse(n.currency,1,eX)))return null;let a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,eW)))return null;let s=null;return!n["max-fraction-digits"]||(s=t.parse(n["max-fraction-digits"],1,eW))?new rm(r,i,o,a,s):null}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class rg{constructor(e){this.type=e1,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");let n=[],i=!1;for(let r=1;r<=e.length-1;++r){let o=e[r];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&!(e=t.parse(o["font-scale"],1,eW)))return null;let r=null;if(o["text-font"]&&!(r=t.parse(o["text-font"],1,e8(eX))))return null;let a=null;if(o["text-color"]&&!(a=t.parse(o["text-color"],1,eK)))return null;let s=null;if(o["vertical-align"]){if("string"==typeof o["vertical-align"]&&!tC.includes(o["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${o["vertical-align"]}' instead.`);if(!(s=t.parse(o["vertical-align"],1,eX)))return null}let l=n[n.length-1];l.scale=e,l.font=r,l.textColor=a,l.verticalAlign=s}else{let o=t.parse(e[r],1,eJ);if(!o)return null;let a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:o,scale:null,font:null,textColor:null,verticalAlign:null})}}return new rg(n)}evaluate(e){return new tM(this.sections.map(t=>{let r=t.content.evaluate(e);return tN(r)===e6?new tA("",r,null,null,null,t.verticalAlign?t.verticalAlign.evaluate(e):null):new tA(tV(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null,t.verticalAlign?t.verticalAlign.evaluate(e):null)}))}eachChild(e){for(let t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class ry{constructor(e){this.type=e6,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,eX);return r?new ry(r):t.error("No image name provided.")}evaluate(e){let t=this.input.evaluate(e),r=tj.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}}class rv{constructor(e){this.type=eW,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);let r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${e7(r.type)} instead.`):new rv(r):null}evaluate(e){let t=this.input.evaluate(e);if("string"==typeof t)return[...t].length;if(Array.isArray(t))return t.length;throw new tR(`Expected value to be of type string or array, but found ${e7(tN(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}function rb(e,t){let r=Math.pow(2,t.z);return[360*((e[0]/8192+t.x)/r)-180,360/Math.PI*Math.atan(Math.exp((180-360*((e[1]/8192+t.y)/r))*Math.PI/180))-90]}function r_(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function rx(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function rw(e,t,r,n){var i,o;return 0!=(i=[n[0]-r[0],n[1]-r[1]])[0]*(o=[t[0]-e[0],t[1]-e[1]])[1]-i[1]*o[0]&&!(!rE(e,t,r,n)||!rE(r,n,e,t))}function rS(e,t,r=!1){var n,i;let o=!1;for(let a of t)for(let t=0;t<a.length-1;t++){if(function(e,t,r){let n=e[0]-t[0],i=e[1]-t[1],o=e[0]-r[0],a=e[1]-r[1];return n*a-o*i==0&&n*o<=0&&i*a<=0}(e,a[t],a[t+1]))return r;(n=a[t])[1]>e[1]!=(i=a[t+1])[1]>e[1]&&e[0]<(i[0]-n[0])*(e[1]-n[1])/(i[1]-n[1])+n[0]&&(o=!o)}return o}function rT(e,t){for(let r of e)if(!rS(r,t))return!1;for(let r=0;r<e.length-1;++r)if(function(e,t,r){for(let n of r)for(let r=0;r<n.length-1;++r)if(rw(e,t,n[r],n[r+1]))return!0;return!1}(e[r],e[r+1],t))return!1;return!0}function rE(e,t,r,n){let i=n[0]-r[0],o=n[1]-r[1],a=(e[0]-r[0])*o-i*(e[1]-r[1]),s=(t[0]-r[0])*o-i*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function rP(e,t,r){let n=[];for(let i=0;i<e.length;i++){let o=[];for(let n=0;n<e[i].length;n++){let a=function(e,t){let r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}(e[i][n],r);r_(t,a),o.push(a)}n.push(o)}return n}function rC(e,t,r){let n=[];for(let i=0;i<e.length;i++){let o=rP(e[i],t,r);n.push(o)}return n}function rA(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){let t=.5*n,i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}r_(t,e)}function rM(e,t,r,n){let i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[];for(let n of e)for(let e of n){let n=[e.x+o[0],e.y+o[1]];rA(n,t,r,i),a.push(n)}return a}function rk(e,t,r,n){let i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[];for(let r of e){let e=[];for(let n of r){let r=[n.x+o[0],n.y+o[1]];r_(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=i/2)for(let e of(t[0]=t[1]=1/0,t[2]=t[3]=-1/0,a))for(let n of e)rA(n,t,r,i);return a}class rO{constructor(e,t){this.type=eZ,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(tF(e[1])){let t=e[1];if("FeatureCollection"===t.type){let e=[];for(let r of t.features){let{type:t,coordinates:n}=r.geometry;"Polygon"===t&&e.push(n),"MultiPolygon"===t&&e.push(...n)}if(e.length)return new rO(t,{type:"MultiPolygon",coordinates:e})}else if("Feature"===t.type){let e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new rO(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new rO(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){let o=rP(t.coordinates,n,i),a=rM(e.geometry(),r,n,i);if(!rx(r,n))return!1;for(let e of a)if(!rS(e,o))return!1}if("MultiPolygon"===t.type){let o=rC(t.coordinates,n,i),a=rM(e.geometry(),r,n,i);if(!rx(r,n))return!1;for(let e of a)if(!function(e,t){for(let r of t)if(rS(e,r))return!0;return!1}(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){let o=rP(t.coordinates,n,i),a=rk(e.geometry(),r,n,i);if(!rx(r,n))return!1;for(let e of a)if(!rT(e,o))return!1}if("MultiPolygon"===t.type){let o=rC(t.coordinates,n,i),a=rk(e.geometry(),r,n,i);if(!rx(r,n))return!1;for(let e of a)if(!function(e,t){for(let r of t)if(rT(e,r))return!0;return!1}(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let rI=class{constructor(e=[],t=(e,t)=>e<t?-1:+(e>t)){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;let e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:t,compare:r}=this,n=t[e];for(;e>0;){let i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n}_down(e){let{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),o=n+1;if(o<this.length&&0>r(t[o],t[n])&&(n=o),r(t[n],i)>=0)break;t[e]=t[n],e=n}t[e]=i}};function rR(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function rD(e,t){let r,n;if(e.length<=1)return[e];let i=[];for(let t of e){let e=function(e){let t=0;for(let r,n,i=0,o=e.length,a=o-1;i<o;a=i++)r=e[i],t+=((n=e[a]).x-r.x)*(r.y+n.y);return t}(t);0!==e&&(t.area=Math.abs(e),void 0===n&&(n=e<0),n===e<0?(r&&i.push(r),r=[t]):r.push(t))}if(r&&i.push(r),t>1)for(let e=0;e<i.length;e++)i[e].length<=t||(function e(t,r,n=0,i=t.length-1,o=function(e,t){return e<t?-1:+(e>t)}){for(;i>n;){if(i-n>600){let a=i-n+1,s=r-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*u/a+c)),Math.min(i,Math.floor(r+(a-s)*u/a+c)),o)}let a=t[r],s=n,l=i;for(rR(t,n,r),o(t[i],a)>0&&rR(t,n,i);s<l;){for(rR(t,s,l),s++,l--;0>o(t[s],a);)s++;for(;o(t[l],a)>0;)l--}0===o(t[n],a)?rR(t,n,l):rR(t,++l,i),l<=r&&(n=l+1),r<=l&&(i=l-1)}}(i[e],t,1,i[e].length-1,rL),i[e]=i[e].slice(0,t));return i}function rL(e,t){return t.area-e.area}let rj=1/298.257223563*(2-1/298.257223563),rz=Math.PI/180;class rB{constructor(e){let t=6378.137*rz*1e3,r=Math.cos(e*rz),n=1/(1-rj*(1-r*r)),i=Math.sqrt(n);this.kx=t*i*r,this.ky=t*i*n*(1-rj)}distance(e,t){let r=this.wrap(e[0]-t[0])*this.kx,n=(e[1]-t[1])*this.ky;return Math.sqrt(r*r+n*n)}pointOnLine(e,t){let r,n,i,o,a=1/0;for(let s=0;s<e.length-1;s++){let l=e[s][0],u=e[s][1],c=this.wrap(e[s+1][0]-l)*this.kx,h=(e[s+1][1]-u)*this.ky,d=0;0===c&&0===h||((d=(this.wrap(t[0]-l)*this.kx*c+(t[1]-u)*this.ky*h)/(c*c+h*h))>1?(l=e[s+1][0],u=e[s+1][1]):d>0&&(l+=c/this.kx*d,u+=h/this.ky*d));let f=(c=this.wrap(t[0]-l)*this.kx)*c+(h=(t[1]-u)*this.ky)*h;f<a&&(a=f,r=l,n=u,i=s,o=d)}return{point:[r,n],index:i,t:Math.max(0,Math.min(1,o))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function rF(e,t){return t[0]-e[0]}function rN(e){return e[1]-e[0]+1}function rV(e,t){return e[1]>=e[0]&&e[1]<t}function rU(e,t){if(e[0]>e[1])return[null,null];let r=rN(e);if(t){if(2===r)return[e,null];let t=Math.floor(r/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===r)return[e,null];let n=Math.floor(r/2)-1;return[[e[0],e[0]+n],[e[0]+n+1,e[1]]]}function rG(e,t){if(!rV(t,e.length))return[1/0,1/0,-1/0,-1/0];let r=[1/0,1/0,-1/0,-1/0];for(let n=t[0];n<=t[1];++n)r_(r,e[n]);return r}function rH(e){let t=[1/0,1/0,-1/0,-1/0];for(let r of e)for(let e of r)r_(t,e);return t}function rq(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function r$(e,t,r){if(!rq(e)||!rq(t))return NaN;let n=0,i=0;return e[2]<t[0]&&(n=t[0]-e[2]),e[0]>t[2]&&(n=e[0]-t[2]),e[1]>t[3]&&(i=e[1]-t[3]),e[3]<t[1]&&(i=t[1]-e[3]),r.distance([0,0],[n,i])}function rW(e,t,r){let n=r.pointOnLine(t,e);return r.distance(e,n.point)}function rX(e,t,r,n,i){return Math.min(Math.min(rW(e,[r,n],i),rW(t,[r,n],i)),Math.min(rW(r,[e,t],i),rW(n,[e,t],i)))}function rZ(e,t){for(let r of e)for(let e of r)if(rS(e,t,!0))return!0;return!1}function rK(e,t,r,n,i,o){if(!o)return;let a=r$(rG(n,o),i,r);a<t&&e.push([a,o,[0,0]])}function rY(e,t,r,n,i,o,a){if(!o||!a)return;let s=r$(rG(n,o),rG(i,a),r);s<t&&e.push([s,o,a])}function rQ(e,t,r,n,i=1/0){let o=Math.min(n.distance(e[0],r[0][0]),i);if(0===o)return o;let a=new rI([[0,[0,e.length-1],[0,0]]],rF),s=rH(r);for(;a.length>0;){let i=a.pop();if(i[0]>=o)continue;let l=i[1],u=t?50:100;if(rN(l)<=u){if(!rV(l,e.length))return NaN;if(t){let t=function(e,t,r,n){if(!rV(t,e.length))return NaN;for(let n=t[0];n<=t[1];++n)if(rS(e[n],r,!0))return 0;let i=1/0;for(let o=t[0];o<t[1];++o){let t=e[o],a=e[o+1];for(let e of r)for(let r=0,o=e.length,s=o-1;r<o;s=r++){let o=e[s],l=e[r];if(rw(t,a,o,l))return 0;i=Math.min(i,rX(t,a,o,l,n))}}return i}(e,l,r,n);if(isNaN(t)||0===t)return t;o=Math.min(o,t)}else for(let t=l[0];t<=l[1];++t)if(0===(o=Math.min(o,function(e,t,r){if(rS(e,t,!0))return 0;let n=1/0;for(let i of t){let t=i[0],o=i[i.length-1];if(t!==o&&0===(n=Math.min(n,rW(e,[o,t],r))))break;let a=r.pointOnLine(i,e);if(0===(n=Math.min(n,r.distance(e,a.point))))break}return n}(e[t],r,n))))return 0}else{let r=rU(l,t);rK(a,o,n,e,s,r[0]),rK(a,o,n,e,s,r[1])}}return o}function rJ(e,t,r,n,i,o=1/0){let a=Math.min(o,i.distance(e[0],r[0]));if(0===a)return a;let s=new rI([[0,[0,e.length-1],[0,r.length-1]]],rF);for(;s.length>0;){let o=s.pop();if(o[0]>=a)continue;let l=o[1],u=o[2],c=t?50:100,h=n?50:100;if(rN(l)<=c&&rN(u)<=h){if(!rV(l,e.length)&&rV(u,r.length))return NaN;if(t&&n)a=Math.min(a,function(e,t,r,n,i){if(!rV(t,e.length)||!rV(n,r.length))return 1/0;let o=1/0;for(let a=t[0];a<t[1];++a){let t=e[a],s=e[a+1];for(let e=n[0];e<n[1];++e){let n=r[e],a=r[e+1];if(rw(t,s,n,a))return 0;o=Math.min(o,rX(t,s,n,a,i))}}return o}(e,l,r,u,i));else if(t&&!n){let t=e.slice(l[0],l[1]+1);for(let e=u[0];e<=u[1];++e)if(0===(a=Math.min(a,rW(r[e],t,i))))return a}else if(!t&&n){let t=r.slice(u[0],u[1]+1);for(let r=l[0];r<=l[1];++r)if(0===(a=Math.min(a,rW(e[r],t,i))))return a}else a=Math.min(a,function(e,t,r,n,i){if(!rV(t,e.length)||!rV(n,r.length))return NaN;let o=1/0;for(let a=t[0];a<=t[1];++a)for(let t=n[0];t<=n[1];++t)if(0===(o=Math.min(o,i.distance(e[a],r[t]))))return o;return o}(e,l,r,u,i))}else{let o=rU(l,t),c=rU(u,n);rY(s,a,i,e,r,o[0],c[0]),rY(s,a,i,e,r,o[0],c[1]),rY(s,a,i,e,r,o[1],c[0]),rY(s,a,i,e,r,o[1],c[1])}}return a}function r0(e){return"MultiPolygon"===e.type?e.coordinates.map(e=>({type:"Polygon",coordinates:e})):"MultiLineString"===e.type?e.coordinates.map(e=>({type:"LineString",coordinates:e})):"MultiPoint"===e.type?e.coordinates.map(e=>({type:"Point",coordinates:e})):[e]}class r1{constructor(e,t){this.type=eW,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(tF(e[1])){let t=e[1];if("FeatureCollection"===t.type)return new r1(t,t.features.map(e=>r0(e.geometry)).flat());if("Feature"===t.type)return new r1(t,r0(t.geometry));if("type"in t&&"coordinates"in t)return new r1(t,r0(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){let r=e.geometry(),n=r.flat().map(t=>rb([t.x,t.y],e.canonical));if(0===r.length)return NaN;let i=new rB(n[0][1]),o=1/0;for(let e of t){switch(e.type){case"Point":o=Math.min(o,rJ(n,!1,[e.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,rJ(n,!1,e.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,rQ(n,!1,e.coordinates,i,o))}if(0===o)break}return o}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){let r=e.geometry(),n=r.flat().map(t=>rb([t.x,t.y],e.canonical));if(0===r.length)return NaN;let i=new rB(n[0][1]),o=1/0;for(let e of t){switch(e.type){case"Point":o=Math.min(o,rJ(n,!0,[e.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,rJ(n,!0,e.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,rQ(n,!0,e.coordinates,i,o))}if(0===o)break}return o}(e,this.geometries);if("Polygon"===e.geometryType())return function(e,t){let r=e.geometry();if(0===r.length||0===r[0].length)return NaN;let n=rD(r,0).map(t=>t.map(t=>t.map(t=>rb([t.x,t.y],e.canonical)))),i=new rB(n[0][0][0][1]),o=1/0;for(let e of t)for(let t of n){switch(e.type){case"Point":o=Math.min(o,rQ([e.coordinates],!1,t,i,o));break;case"LineString":o=Math.min(o,rQ(e.coordinates,!0,t,i,o));break;case"Polygon":o=Math.min(o,function(e,t,r,n=1/0){let i=rH(e),o=rH(t);if(n!==1/0&&r$(i,o,r)>=n)return n;if(rx(i,o)){if(rZ(e,t))return 0}else if(rZ(t,e))return 0;let a=1/0;for(let n of e)for(let e=0,i=n.length,o=i-1;e<i;o=e++){let i=n[o],s=n[e];for(let e of t)for(let t=0,n=e.length,o=n-1;t<n;o=t++){let n=e[o],l=e[t];if(rw(i,s,n,l))return 0;a=Math.min(a,rX(i,s,n,l,r))}}return a}(t,e.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class r2{constructor(e){this.type=eJ,this.key=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);let r=e[1];return null==r?t.error("Global state property must be defined."):"string"!=typeof r?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new r2(r)}evaluate(e){var t;let r=null===(t=e.globals)||void 0===t?void 0:t.globalState;return r&&0!==Object.keys(r).length?tv(r,this.key):null}eachChild(){}outputDefined(){return!1}}let r3={"==":rl,"!=":ru,">":rh,"<":rc,">=":rf,"<=":rd,array:tH,at:tQ,boolean:tH,case:t2,coalesce:ri,collator:rp,format:rg,image:ry,in:tJ,"index-of":t0,interpolate:rt,"interpolate-hcl":rt,"interpolate-lab":rt,length:rv,let:tK,literal:tU,match:t1,number:tH,"number-format":rm,object:tH,slice:t3,step:t6,string:tH,"to-boolean":t$,"to-color":t$,"to-number":t$,"to-string":t$,var:tY,within:rO,distance:r1,"global-state":r2};class r5{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){let r=e[0],n=r5.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);let i=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1),s=null;for(let[n,o]of a){s=new tZ(t.registry,r7,t.path,null,t.scope);let a=[],l=!1;for(let t=1;t<e.length;t++){let r=e[t],i=Array.isArray(n)?n[t-1]:n.type,o=s.parse(r,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l){if(Array.isArray(n)&&n.length!==a.length)s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){let t=Array.isArray(n)?n[e]:n.type,r=a[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new r5(r,i,o,a)}}}if(1===a.length)t.errors.push(...s.errors);else{let r=(a.length?a:o).map(([e])=>Array.isArray(e)?`(${e.map(e7).join(", ")})`:`(${e7(e.type)}...)`).join(" | "),n=[];for(let r=1;r<e.length;r++){let i=t.parse(e[r],1+n.length);if(!i)return null;n.push(e7(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){for(let r in r5.definitions=t,t)e[r]=r5}}function r6(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);let o=i?i.evaluate(e):1,a=tB(t,r,n,o);if(a)throw new tR(a);return new tE(t/255,r/255,n/255,o,!1)}function r4(e,t){let r=t[e];return void 0===r?null:r}function r8(e){return{type:e}}function r7(e){if(e instanceof tY)return r7(e.boundExpression);if(e instanceof r5&&"error"===e.name||e instanceof rp||e instanceof rO||e instanceof r1||e instanceof r2)return!1;let t=e instanceof t$||e instanceof tH,r=!0;return e.eachChild(e=>{r=t?r&&r7(e):r&&e instanceof tU}),!!r&&r9(e)&&nt(e,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function r9(e){if(e instanceof r5&&("get"===e.name&&1===e.args.length||"feature-state"===e.name||"has"===e.name&&1===e.args.length||"properties"===e.name||"geometry-type"===e.name||"id"===e.name||/^filter-/.test(e.name))||e instanceof rO||e instanceof r1)return!1;let t=!0;return e.eachChild(e=>{t&&!r9(e)&&(t=!1)}),t}function ne(e){if(e instanceof r5&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!ne(e)&&(t=!1)}),t}function nt(e,t){if(e instanceof r5&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!nt(e,t)&&(r=!1)}),r}function nr(e){return{result:"success",value:e}}function nn(e){return{result:"error",value:e}}function ni(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function no(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function na(e){return!!e.expression&&e.expression.interpolated}function ns(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function nl(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&tN(e)===eQ}function nu(e){return e}function nc(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function nh(e,t,r,n,i){return nc(typeof r===i?n[r]:void 0,e.default,t.default)}function nd(e,t,r){if("number"!==ns(r))return nc(e.default,t.default);let n=e.stops.length;if(1===n||r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];let i=t5(e.stops.map(e=>e[0]),r);return e.stops[i][1]}function nf(e,t,r){let n=void 0!==e.base?e.base:1;if("number"!==ns(r))return nc(e.default,t.default);let i=e.stops.length;if(1===i||r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];let o=t5(e.stops.map(e=>e[0]),r),a=function(e,t,r,n){let i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],u=rn[t.type]||nu;return"function"==typeof s.evaluate?{evaluate(...t){let r=s.evaluate.apply(void 0,t),n=l.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==n)return u(r,n,a,e.colorSpace)}}:u(s,l,a,e.colorSpace)}function np(e,t,r){switch(t.type){case"color":r=tE.parse(r);break;case"formatted":r=tM.fromString(r.toString());break;case"resolvedImage":r=tj.fromString(r.toString());break;case"padding":r=tk.parse(r);break;case"colorArray":r=tI.parse(r);break;case"numberArray":r=tO.parse(r);break;default:ns(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0)}return nc(r,e.default,t.default)}r5.register(r3,{error:[{kind:"error"},[eX],(e,[t])=>{throw new tR(t.evaluate(e))}],typeof:[eX,[eJ],(e,[t])=>e7(tN(t.evaluate(e)))],"to-rgba":[e8(eW,4),[eK],(e,[t])=>{let[r,n,i,o]=t.evaluate(e).rgb;return[255*r,255*n,255*i,o]}],rgb:[eK,[eW,eW,eW],r6],rgba:[eK,[eW,eW,eW,eW],r6],has:{type:eZ,overloads:[[[eX],(e,[t])=>t.evaluate(e)in e.properties()],[[eX,eQ],(e,[t,r])=>t.evaluate(e)in r.evaluate(e)]]},get:{type:eJ,overloads:[[[eX],(e,[t])=>r4(t.evaluate(e),e.properties())],[[eX,eQ],(e,[t,r])=>r4(t.evaluate(e),r.evaluate(e))]]},"feature-state":[eJ,[eX],(e,[t])=>r4(t.evaluate(e),e.featureState||{})],properties:[eQ,[],e=>e.properties()],"geometry-type":[eX,[],e=>e.geometryType()],id:[eJ,[],e=>e.id()],zoom:[eW,[],e=>e.globals.zoom],"heatmap-density":[eW,[],e=>e.globals.heatmapDensity||0],elevation:[eW,[],e=>e.globals.elevation||0],"line-progress":[eW,[],e=>e.globals.lineProgress||0],accumulated:[eJ,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[eW,r8(eW),(e,t)=>{let r=0;for(let n of t)r+=n.evaluate(e);return r}],"*":[eW,r8(eW),(e,t)=>{let r=1;for(let n of t)r*=n.evaluate(e);return r}],"-":{type:eW,overloads:[[[eW,eW],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[eW],(e,[t])=>-t.evaluate(e)]]},"/":[eW,[eW,eW],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[eW,[eW,eW],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[eW,[],()=>Math.LN2],pi:[eW,[],()=>Math.PI],e:[eW,[],()=>Math.E],"^":[eW,[eW,eW],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[eW,[eW],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[eW,[eW],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[eW,[eW],(e,[t])=>Math.log(t.evaluate(e))],log2:[eW,[eW],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[eW,[eW],(e,[t])=>Math.sin(t.evaluate(e))],cos:[eW,[eW],(e,[t])=>Math.cos(t.evaluate(e))],tan:[eW,[eW],(e,[t])=>Math.tan(t.evaluate(e))],asin:[eW,[eW],(e,[t])=>Math.asin(t.evaluate(e))],acos:[eW,[eW],(e,[t])=>Math.acos(t.evaluate(e))],atan:[eW,[eW],(e,[t])=>Math.atan(t.evaluate(e))],min:[eW,r8(eW),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[eW,r8(eW),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[eW,[eW],(e,[t])=>Math.abs(t.evaluate(e))],round:[eW,[eW],(e,[t])=>{let r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[eW,[eW],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[eW,[eW],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[eZ,[eX,eJ],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[eZ,[eJ],(e,[t])=>e.id()===t.value],"filter-type-==":[eZ,[eX],(e,[t])=>e.geometryType()===t.value],"filter-<":[eZ,[eX,eJ],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[eZ,[eJ],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[eZ,[eX,eJ],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[eZ,[eJ],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[eZ,[eX,eJ],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[eZ,[eJ],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[eZ,[eX,eJ],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[eZ,[eJ],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[eZ,[eJ],(e,[t])=>t.value in e.properties()],"filter-has-id":[eZ,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[eZ,[e8(eX)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[eZ,[e8(eJ)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[eZ,[eX,e8(eJ)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[eZ,[eX,e8(eJ)],(e,[t,r])=>(function(e,t,r,n){for(;r<=n;){let i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1})(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:eZ,overloads:[[[eZ,eZ],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[r8(eZ),(e,t)=>{for(let r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:eZ,overloads:[[[eZ,eZ],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[r8(eZ),(e,t)=>{for(let r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[eZ,[eZ],(e,[t])=>!t.evaluate(e)],"is-supported-script":[eZ,[eX],(e,[t])=>{let r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[eX,[eX],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[eX,[eX],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[eX,r8(eJ),(e,t)=>t.map(t=>tV(t.evaluate(e))).join("")],"resolved-locale":[eX,[e0],(e,[t])=>t.evaluate(e).resolvedLocale()]});class nm{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new tX,this._defaultValue=t?function(e){if("color"===e.type&&nl(e.default))return new tE(0,0,0,0);switch(e.type){case"color":return tE.parse(e.default)||null;case"padding":return tk.parse(e.default)||null;case"numberArray":return tO.parse(e.default)||null;case"colorArray":return tI.parse(e.default)||null;case"variableAnchorOffsetCollection":return tL.parse(e.default)||null;case"projectionDefinition":return tz.parse(e.default)||null;default:return void 0===e.default?null:e.default}}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{let e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new tR(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function ng(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in r3}function ny(e,t){let r=new tZ(r3,r7,[],t?function(e){let t={color:eK,string:eX,number:eW,enum:eX,boolean:eZ,formatted:e1,padding:e2,numberArray:e5,colorArray:e3,projectionDefinition:eY,resolvedImage:e6,variableAnchorOffsetCollection:e4};return"array"===e.type?e8(t[e.value]||eJ,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?nr(new nm(n,t)):nn(r.errors)}class nv{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!ne(t.expression),this.globalStateRefs=nw(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}}class nb{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!ne(t.expression),this.globalStateRefs=nw(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}interpolationFactor(e,t,r){return this.interpolationType?rt.interpolationFactor(this.interpolationType,e,t,r):0}}function n_(e,t){let r=ny(e,t);if("error"===r.result)return r;let n=r.value.expression,i=r9(n);if(!i&&!ni(t))return nn([new eH("","data expressions not supported")]);let o=nt(n,["zoom"]);if(!o&&!no(t))return nn([new eH("","zoom expressions not supported")]);let a=function e(t){let r=null;if(t instanceof tK)r=e(t.result);else if(t instanceof ri){for(let n of t.args)if(r=e(n))break}else(t instanceof t6||t instanceof rt)&&t.input instanceof r5&&"zoom"===t.input.name&&(r=t);return r instanceof eH||t.eachChild(t=>{let n=e(t);n instanceof eH?r=n:!r&&n?r=new eH("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new eH("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(n);return a||o?a instanceof eH?nn([a]):a instanceof rt&&!na(t)?nn([new eH("",'"interpolate" expressions cannot be used with this property')]):nr(a?new nb(i?"camera":"composite",r.value,a.labels,a instanceof rt?a.interpolation:void 0):new nv(i?"constant":"source",r.value)):nn([new eH("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class nx{constructor(e,t){this._parameters=e,this._specification=t,eG(this,function e(t,r){var n;let i,o;let a=t.stops&&"object"==typeof t.stops[0][0],s=a||!(a||void 0!==t.property),l=t.type||(na(r)?"exponential":"interval"),u=function(e){switch(e.type){case"color":return tE.parse;case"padding":return tk.parse;case"numberArray":return tO.parse;case"colorArray":return tI.parse;default:return null}}(r);if(u&&((t=eG({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],u(e[1])])),t.default=u(t.default?t.default:r.default)),t.colorSpace&&"rgb"!==(n=t.colorSpace)&&"hcl"!==n&&"lab"!==n)throw Error(`Unknown color space: "${t.colorSpace}"`);let c=function(e){switch(e){case"exponential":return nf;case"interval":return nd;case"categorical":return nh;case"identity":return np;default:throw Error(`Unknown function type "${e}"`)}}(l);if("categorical"===l){for(let e of(i=Object.create(null),t.stops))i[e[0]]=e[1];o=typeof t.stops[0][0]}if(a){let n={},i=[];for(let e=0;e<t.stops.length;e++){let r=t.stops[e],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}let o=[];for(let t of i)o.push([n[t].zoom,e(n[t],r)]);let a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:rt.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},n)=>nf({stops:o,base:t.base},r,e).evaluate(e,n)}}if(s){let e="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:rt.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>c(t,r,e,i,o)}}return{kind:"source",evaluate(e,n){let a=n&&n.properties?n.properties[t.property]:void 0;return void 0===a?nc(t.default,r.default):c(t,r,a,i,o)}}}(this._parameters,this._specification))}static deserialize(e){return new nx(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function nw(e,t=new Set){return e instanceof r2&&t.add(e.key),e.eachChild(e=>{nw(e,t)}),t}function nS(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(let t of e.slice(1))if(!nS(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}let nT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nE(e){if(null==e)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};nS(e)||(e=function e(t){if(!t)return!0;let r=t[0];return t.length<=1?"any"!==r:"=="===r?nC(t[1],t[2],"=="):"!="===r?nk(nC(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?nC(t[1],t[2],r):"any"===r?["any"].concat(t.slice(1).map(e)):"all"===r?["all"].concat(t.slice(1).map(e)):"none"===r?["all"].concat(t.slice(1).map(e).map(nk)):"in"===r?nA(t[1],t.slice(2)):"!in"===r?nk(nA(t[1],t.slice(2))):"has"===r?nM(t[1]):"!has"!==r||nk(nM(t[1]))}(e));let t=ny(e,nT);if("error"===t.result)throw Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,r,n)=>t.value.evaluate(e,r,{},n),needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0]||"distance"===t[0])return!0;for(let r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e),getGlobalStateRefs:()=>nw(t.value.expression)}}function nP(e,t){return e<t?-1:+(e>t)}function nC(e,t,r){switch(e){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,e,t]}}function nA(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(nP)]]:["filter-in-small",e,["literal",t]]}}function nM(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function nk(e){return["!",e]}function nO(e){let t=e.value;return t?[new eU(e.key,t,"constants have been deprecated as of v8")]:[]}function nI(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function nR(e){if(Array.isArray(e))return e.map(nR);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){let t={};for(let r in e)t[r]=nR(e[r]);return t}return nI(e)}function nD(e){let t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec,l=[],u=ns(r);if("object"!==u)return[new eU(t,r,`object expected, ${u} found`)];for(let e in r){let u;let c=e.split(".")[0],h=tv(n,c)||n["*"];if(tv(i,c))u=i[c];else if(tv(n,c))u=s;else if(i["*"])u=i["*"];else{if(!n["*"]){l.push(new eU(t,r[e],`unknown property "${e}"`));continue}u=s}l=l.concat(u({key:(t?`${t}.`:t)+e,value:r[e],valueSpec:h,style:o,styleSpec:a,object:r,objectKey:e,validateSpec:s},r))}for(let e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&l.push(new eU(t,r,`missing required property "${e}"`));return l}function nL(e){let t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||e.validateSpec;if("array"!==ns(t))return[new eU(o,t,`array expected, ${ns(t)} found`)];if(r.length&&t.length!==r.length)return[new eU(o,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new eU(o,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===ns(r.value)&&(s=r.value);let l=[];for(let r=0;r<t.length;r++)l=l.concat(a({array:t,arrayIndex:r,value:t[r],valueSpec:s,validateSpec:e.validateSpec,style:n,styleSpec:i,key:`${o}[${r}]`}));return l}function nj(e){let t=e.key,r=e.value,n=e.valueSpec,i=ns(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new eU(t,r,`number expected, ${i} found`)]:"minimum"in n&&r<n.minimum?[new eU(t,r,`${r} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&r>n.maximum?[new eU(t,r,`${r} is greater than the maximum value ${n.maximum}`)]:[]}function nz(e){let t=e.valueSpec,r=nI(e.value.type),n,i,o,a={},s="categorical"!==r&&void 0===e.value.property,l="array"===ns(e.value.stops)&&"array"===ns(e.value.stops[0])&&"object"===ns(e.value.stops[0][0]),u=nD({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new eU(e.key,e.value,'identity function may not have a "stops" property')];let t=[],n=e.value;return t=t.concat(nL({key:e.key,value:n,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:c})),"array"===ns(n)&&0===n.length&&t.push(new eU(e.key,n,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new eU(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new eU(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!na(e.valueSpec)&&u.push(new eU(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(s||ni(e.valueSpec)?s&&!no(e.valueSpec)&&u.push(new eU(e.key,e.value,"zoom functions not supported")):u.push(new eU(e.key,e.value,"property functions not supported"))),("categorical"===r||l)&&void 0===e.value.property&&u.push(new eU(e.key,e.value,'"property" property is required')),u;function c(e){let r=[],n=e.value,s=e.key;if("array"!==ns(n))return[new eU(s,n,`array expected, ${ns(n)} found`)];if(2!==n.length)return[new eU(s,n,`array length 2 expected, length ${n.length} found`)];if(l){if("object"!==ns(n[0]))return[new eU(s,n,`object expected, ${ns(n[0])} found`)];if(void 0===n[0].zoom)return[new eU(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new eU(s,n,"object stop key must have value")];if(o&&o>nI(n[0].zoom))return[new eU(s,n[0].zoom,"stop zoom values must appear in ascending order")];nI(n[0].zoom)!==o&&(o=nI(n[0].zoom),i=void 0,a={}),r=r.concat(nD({key:`${s}[0]`,value:n[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:nj,value:h}}))}else r=r.concat(h({key:`${s}[0]`,value:n[0],validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},n));return ng(nR(n[1]))?r.concat([new eU(`${s}[1]`,n[1],"expressions are not allowed in function stops.")]):r.concat(e.validateSpec({key:`${s}[1]`,value:n[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function h(e,o){let s=ns(e.value),l=nI(e.value),u=null!==e.value?e.value:o;if(n){if(s!==n)return[new eU(e.key,u,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new eU(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){let n=`number expected, ${s} found`;return ni(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new eU(e.key,u,n)]}return"categorical"!==r||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&void 0!==i&&l<i?[new eU(e.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new eU(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new eU(e.key,u,`integer expected, found ${l}`)]}}function nB(e){let t=("property"===e.expressionContext?n_:ny)(nR(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new eU(`${e.key}${t.key}`,e.value,t.message));let r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new eU(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!ne(r))return[new eU(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!ne(r))return[new eU(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!nt(r,["zoom","feature-state"]))return[new eU(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!r9(r))return[new eU(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nF(e){let t=e.key,r=e.value,n=ns(r);return"string"!==n?[new eU(t,r,`color expected, ${n} found`)]:tE.parse(String(r))?[]:[new eU(t,r,`color expected, "${r}" found`)]}function nN(e){let t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(nI(r))&&i.push(new eU(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(nI(r))&&i.push(new eU(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function nV(e){return nS(nR(e.value))?nB(eG({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){let r=t.value,n=t.key;if("array"!==ns(r))return[new eU(n,r,`array expected, ${ns(r)} found`)];let i=t.styleSpec,o,a=[];if(r.length<1)return[new eU(n,r,"filter array must have at least 1 element")];switch(a=a.concat(nN({key:`${n}[0]`,value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),nI(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===nI(r[1])&&a.push(new eU(n,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&a.push(new eU(n,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&"string"!==(o=ns(r[1]))&&a.push(new eU(`${n}[1]`,r[1],`string expected, ${o} found`));for(let e=2;e<r.length;e++)o=ns(r[e]),"$type"===nI(r[1])?a=a.concat(nN({key:`${n}[${e}]`,value:r[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new eU(`${n}[${e}]`,r[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<r.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:r[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=ns(r[1]),2!==r.length?a.push(new eU(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new eU(`${n}[1]`,r[1],`string expected, ${o} found`))}return a}(e)}function nU(e,t){let r;let n=e.key,i=e.validateSpec,o=e.style,a=e.styleSpec,s=e.value,l=e.objectKey,u=a[`${t}_${e.layerType}`];if(!u)return[];let c=l.match(/^(.*)-transition$/);if("paint"===t&&c&&u[c[1]]&&u[c[1]].transition)return i({key:n,value:s,valueSpec:a.transition,style:o,styleSpec:a});let h=e.valueSpec||u[l];if(!h)return[new eU(n,s,`unknown property "${l}"`)];if("string"===ns(s)&&ni(h)&&!h.tokens&&(r=/^{([^}]+)}$/.exec(s)))return[new eU(n,s,`"${l}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(r[1])} }\`.`)];let d=[];return"symbol"===e.layerType&&("text-field"===l&&o&&!o.glyphs&&d.push(new eU(n,s,'use of "text-field" requires a style "glyphs" property')),"text-font"===l&&nl(nR(s))&&"identity"===nI(s.type)&&d.push(new eU(n,s,'"text-font" does not support identity functions'))),d.concat(i({key:e.key,value:s,valueSpec:h,style:o,styleSpec:a,expressionContext:"property",propertyType:t,propertyKey:l}))}function nG(e){return nU(e,"paint")}function nH(e){return nU(e,"layout")}function nq(e){let t=[],r=e.value,n=e.key,i=e.style,o=e.styleSpec;if("object"!==ns(r))return[new eU(n,r,`object expected, ${ns(r)} found`)];r.type||r.ref||t.push(new eU(n,r,'either "type" or "ref" is required'));let a=nI(r.type),s=nI(r.ref);if(r.id){let o=nI(r.id);for(let a=0;a<e.arrayIndex;a++){let e=i.layers[a];nI(e.id)===o&&t.push(new eU(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in r&&t.push(new eU(n,r[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{nI(t.id)===s&&(e=t)}),e?e.ref?t.push(new eU(n,r.ref,"ref cannot reference another ref layer")):a=nI(e.type):t.push(new eU(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==a){if(r.source){let e=i.sources&&i.sources[r.source],o=e&&nI(e.type);e?"vector"===o&&"raster"===a?t.push(new eU(n,r.source,`layer "${r.id}" requires a raster source`)):"raster-dem"!==o&&"hillshade"===a||"raster-dem"!==o&&"color-relief"===a?t.push(new eU(n,r.source,`layer "${r.id}" requires a raster-dem source`)):"raster"===o&&"raster"!==a?t.push(new eU(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==o||r["source-layer"]?"raster-dem"===o&&"hillshade"!==a&&"color-relief"!==a?t.push(new eU(n,r.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):"line"===a&&r.paint&&r.paint["line-gradient"]&&("geojson"!==o||!e.lineMetrics)&&t.push(new eU(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new eU(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new eU(n,r.source,`source "${r.source}" not found`))}else t.push(new eU(n,r,'missing required property "source"'))}return t=t.concat(nD({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:`${n}.type`,value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:r,objectKey:"type"}),filter:nV,layout:e=>nD({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>nH(eG({layerType:a},e))}}),paint:e=>nD({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>nG(eG({layerType:a},e))}})}}))}function n$(e){let t=e.value,r=e.key,n=ns(t);return"string"!==n?[new eU(r,t,`string expected, ${n} found`)]:[]}let nW={promoteId:function({key:e,value:t}){if("string"===ns(t))return n$({key:e,value:t});{let r=[];for(let n in t)r.push(...n$({key:`${e}.${n}`,value:t[n]}));return r}}};function nX(e){let t;let r=e.value,n=e.key,i=e.styleSpec,o=e.style,a=e.validateSpec;if(!r.type)return[new eU(n,r,'"type" is required')];let s=nI(r.type);switch(s){case"vector":case"raster":return nD({key:n,value:r,valueSpec:i[`source_${s.replace("-","_")}`],style:e.style,styleSpec:i,objectElementValidators:nW,validateSpec:a});case"raster-dem":return function(e){var t;let r=null!==(t=e.sourceName)&&void 0!==t?t:"",n=e.value,i=e.styleSpec,o=i.source_raster_dem,a=e.style,s=[],l=ns(n);if(void 0===n)return s;if("object"!==l)return s.push(new eU("source_raster_dem",n,`object expected, ${l} found`)),s;let u="custom"===nI(n.encoding),c=["redFactor","greenFactor","blueFactor","baseShift"],h=e.value.encoding?`"${e.value.encoding}"`:"Default";for(let t in n)!u&&c.includes(t)?s.push(new eU(t,n[t],`In "${r}": "${t}" is only valid when "encoding" is set to "custom". ${h} encoding found`)):o[t]?s=s.concat(e.validateSpec({key:t,value:n[t],valueSpec:o[t],validateSpec:e.validateSpec,style:a,styleSpec:i})):s.push(new eU(t,n[t],`unknown property "${t}"`));return s}({sourceName:n,value:r,style:e.style,styleSpec:i,validateSpec:a});case"geojson":if(t=nD({key:n,value:r,valueSpec:i.source_geojson,style:o,styleSpec:i,validateSpec:a,objectElementValidators:nW}),r.cluster)for(let e in r.clusterProperties){let[i,o]=r.clusterProperties[e],a="string"==typeof i?[i,["accumulated"],["get",e]]:i;t.push(...nB({key:`${n}.${e}.map`,value:o,expressionContext:"cluster-map"})),t.push(...nB({key:`${n}.${e}.reduce`,value:a,expressionContext:"cluster-reduce"}))}return t;case"video":return nD({key:n,value:r,valueSpec:i.source_video,style:o,validateSpec:a,styleSpec:i});case"image":return nD({key:n,value:r,valueSpec:i.source_image,style:o,validateSpec:a,styleSpec:i});case"canvas":return[new eU(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nN({key:`${n}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function nZ(e){let t=e.value,r=e.styleSpec,n=r.light,i=e.style,o=[],a=ns(t);if(void 0===t)return o;if("object"!==a)return o.concat([new eU("light",t,`object expected, ${a} found`)]);for(let a in t){let s=a.match(/^(.*)-transition$/);o=o.concat(s&&n[s[1]]&&n[s[1]].transition?e.validateSpec({key:a,value:t[a],valueSpec:r.transition,validateSpec:e.validateSpec,style:i,styleSpec:r}):n[a]?e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:i,styleSpec:r}):[new eU(a,t[a],`unknown property "${a}"`)])}return o}function nK(e){let t=e.value,r=e.styleSpec,n=r.sky,i=e.style,o=ns(t);if(void 0===t)return[];if("object"!==o)return[new eU("sky",t,`object expected, ${o} found`)];let a=[];for(let o in t)a=a.concat(n[o]?e.validateSpec({key:o,value:t[o],valueSpec:n[o],style:i,styleSpec:r}):[new eU(o,t[o],`unknown property "${o}"`)]);return a}function nY(e){let t=e.value,r=e.styleSpec,n=r.terrain,i=e.style,o=[],a=ns(t);if(void 0===t)return o;if("object"!==a)return o.concat([new eU("terrain",t,`object expected, ${a} found`)]);for(let a in t)o=o.concat(n[a]?e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:i,styleSpec:r}):[new eU(a,t[a],`unknown property "${a}"`)]);return o}function nQ(e){let t=[],r=e.value,n=e.key;if(Array.isArray(r)){let i=[],o=[];for(let a in r)r[a].id&&i.includes(r[a].id)&&t.push(new eU(n,r,`all the sprites' ids must be unique, but ${r[a].id} is duplicated`)),i.push(r[a].id),r[a].url&&o.includes(r[a].url)&&t.push(new eU(n,r,`all the sprites' URLs must be unique, but ${r[a].url} is duplicated`)),o.push(r[a].url),t=t.concat(nD({key:`${n}[${a}]`,value:r[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return n$({key:n,value:r})}function nJ(e){var t;return(t=e.value)&&t.constructor===Object?[]:[new eU(e.key,e.value,`object expected, ${ns(e.value)} found`)]}let n0={"*":()=>[],array:nL,boolean:function(e){let t=e.value,r=e.key,n=ns(t);return"boolean"!==n?[new eU(r,t,`boolean expected, ${n} found`)]:[]},number:nj,color:nF,constants:nO,enum:nN,filter:nV,function:nz,layer:nq,object:nD,source:nX,light:nZ,sky:nK,terrain:nY,projection:function(e){let t=e.value,r=e.styleSpec,n=r.projection,i=e.style,o=ns(t);if(void 0===t)return[];if("object"!==o)return[new eU("projection",t,`object expected, ${o} found`)];let a=[];for(let o in t)a=a.concat(n[o]?e.validateSpec({key:o,value:t[o],valueSpec:n[o],style:i,styleSpec:r}):[new eU(o,t[o],`unknown property "${o}"`)]);return a},projectionDefinition:function(e){var t;let r=e.key,n=e.value,i=ns(n=n instanceof String?n.valueOf():n);return"array"!==i||Array.isArray(t=n)&&3===t.length&&"string"==typeof t[0]&&"string"==typeof t[1]&&"number"==typeof t[2]||["interpolate","step","literal"].includes(n[0])?["array","string"].includes(i)?[]:[new eU(r,n,`projection expected, invalid type "${i}" found`)]:[new eU(r,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:n$,formatted:function(e){return 0===n$(e).length?[]:nB(e)},resolvedImage:function(e){return 0===n$(e).length?[]:nB(e)},padding:function(e){let t=e.key,r=e.value;if("array"===ns(r)){if(r.length<1||r.length>4)return[new eU(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];let n={type:"number"},i=[];for(let o=0;o<r.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:r[o],validateSpec:e.validateSpec,valueSpec:n}));return i}return nj({key:t,value:r,valueSpec:{}})},numberArray:function(e){let t=e.key,r=e.value;if("array"===ns(r)){let n={type:"number"};if(r.length<1)return[new eU(t,r,"array length at least 1 expected, length 0 found")];let i=[];for(let o=0;o<r.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:r[o],validateSpec:e.validateSpec,valueSpec:n}));return i}return nj({key:t,value:r,valueSpec:{}})},colorArray:function(e){let t=e.key,r=e.value;if("array"===ns(r)){if(r.length<1)return[new eU(t,r,"array length at least 1 expected, length 0 found")];let e=[];for(let n=0;n<r.length;n++)e=e.concat(nF({key:`${t}[${n}]`,value:r[n]}));return e}return nF({key:t,value:r})},variableAnchorOffsetCollection:function(e){let t=e.key,r=e.value,n=ns(r),i=e.styleSpec;if("array"!==n||r.length<1||r.length%2!=0)return[new eU(t,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let n=0;n<r.length;n+=2)o=(o=o.concat(nN({key:`${t}[${n}]`,value:r[n],valueSpec:i.layout_symbol["text-anchor"]}))).concat(nL({key:`${t}[${n+1}]`,value:r[n+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o},sprite:nQ,state:nJ};function n1(e){let t=e.value,r=e.valueSpec,n=e.styleSpec;return e.validateSpec=n1,r.expression&&nl(nI(t))?nz(e):r.expression&&ng(nR(t))?nB(e):r.type&&n0[r.type]?n0[r.type](e):nD(eG({},e,{valueSpec:r.type?n[r.type]:r}))}function n2(e){let t=e.value,r=e.key,n=n$(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new eU(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new eU(r,t,'"glyphs" url must include a "{range}" token'))),n}function n3(e,t=eR){let r=[];return r=r.concat(n1({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:n1,objectElementValidators:{glyphs:n2,"*":()=>[]}})),e.constants&&(r=r.concat(nO({key:"constants",value:e.constants}))),n6(r)}function n5(e){return function(t){return e({...t,validateSpec:n1})}}function n6(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function n4(e){return function(...t){return n6(e.apply(this,t))}}n3.source=n4(n5(nX)),n3.sprite=n4(n5(nQ)),n3.glyphs=n4(n5(n2)),n3.light=n4(n5(nZ)),n3.sky=n4(n5(nK)),n3.terrain=n4(n5(nY)),n3.state=n4(n5(nJ)),n3.layer=n4(n5(nq)),n3.filter=n4(n5(nV)),n3.paintProperty=n4(n5(nG)),n3.layoutProperty=n4(n5(nH));let n8=n3.light,n7=n3.sky,n9=n3.paintProperty,ie=n3.layoutProperty;function it(e,t){let r=!1;if(t&&t.length)for(let n of t)e.fire(new eO(Error(n.message))),r=!0;return r}class ir{constructor(e,t,r){let n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;let i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(let e=0;e<this.d*this.d;e++){let t=i[3+e],r=i[3+e+1];n.push(t===r?null:i.subarray(t,r))}let o=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],o),this.bboxes=i.subarray(o),this.insert=this._insertReadonly}else{this.d=t+2*r;for(let e=0;e<this.d*this.d;e++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;let i=r/t*e;this.min=-i,this.max=e+i}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}_insertReadonly(){throw Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,r,n,i,o){this.cells[i].push(o)}query(e,t,r,n,i){let o=this.min,a=this.max;if(e<=o&&t<=o&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);{let o=[];return this._forEachCell(e,t,r,n,this._queryCell,o,{},i),o}}_queryCell(e,t,r,n,i,o,a,s){let l=this.cells[i];if(null!==l){let i=this.keys,u=this.bboxes;for(let c=0;c<l.length;c++){let h=l[c];if(void 0===a[h]){let l=4*h;(s?s(u[l+0],u[l+1],u[l+2],u[l+3]):e<=u[l+2]&&t<=u[l+3]&&r>=u[l+0]&&n>=u[l+1])?(a[h]=!0,o.push(i[h])):a[h]=!1}}}}_forEachCell(e,t,r,n,i,o,a,s){let l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),h=this._convertToCellCoord(n);for(let d=l;d<=c;d++)for(let l=u;l<=h;l++){let u=this.d*l+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,r,n,u,o,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let e=this.cells,t=3+this.cells.length+1+1,r=0;for(let e=0;e<this.cells.length;e++)r+=this.cells[e].length;let n=new Int32Array(t+r+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;let i=t;for(let t=0;t<e.length;t++){let r=e[t];n[3+t]=i,n.set(r,i),i+=r.length}return n[3+e.length]=i,n.set(this.keys,i),i+=this.keys.length,n[3+e.length+1]=i,n.set(this.bboxes,i),i+=this.bboxes.length,n.buffer}static serialize(e,t){let r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}}static deserialize(e){return new ir(e.buffer)}}let ii={};function io(e,t,r={}){if(ii[e])throw Error(`${e} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),ii[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(let e in io("Object",Object),io("Set",Set),io("TransferableGridIndex",ir),io("Color",tE),io("Error",Error),io("AJAXError",eT),io("ResolvedImage",tj),io("StylePropertyFunction",nx),io("StyleExpression",nm,{omit:["_evaluator"]}),io("ZoomDependentExpression",nb),io("ZoomConstantExpression",nv),io("CompoundExpression",r5,{omit:["_evaluate"]}),r3)r3[e]._classRegistryKey||io(`Expression_${e}`,r3[e]);function ia(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function is(e){return e.$name||e.constructor._classRegistryKey}function il(e){return!function(e){if(null===e||"object"!=typeof e)return!1;let t=is(e);return!(!t||"Object"===t)}(e)&&(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof Error||ia(e)||eh(e)||ArrayBuffer.isView(e)||e instanceof ImageData)}function iu(e,t){if(il(e))return(ia(e)||eh(e))&&t&&t.push(e),ArrayBuffer.isView(e)&&t&&t.push(e.buffer),e instanceof ImageData&&t&&t.push(e.data.buffer),e;if(Array.isArray(e)){let r=[];for(let n of e)r.push(iu(n,t));return r}if("object"!=typeof e)throw Error("can't serialize object of type "+typeof e);let r=is(e);if(!r)throw Error(`can't serialize object of unregistered class ${e.constructor.name}`);if(!ii[r])throw Error(`${r} is not registered.`);let{klass:n}=ii[r],i=n.serialize?n.serialize(e,t):{};if(n.serialize){if(t&&i===t[t.length-1])throw Error("statically serialized object won't survive transfer of $name property")}else{for(let n in e){if(!e.hasOwnProperty(n)||ii[r].omit.indexOf(n)>=0)continue;let o=e[n];i[n]=ii[r].shallow.indexOf(n)>=0?o:iu(o,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw Error("$name property is reserved for worker serialization logic.");return"Object"!==r&&(i.$name=r),i}function ic(e){if(il(e))return e;if(Array.isArray(e))return e.map(ic);if("object"!=typeof e)throw Error("can't deserialize object of type "+typeof e);let t=is(e)||"Object";if(!ii[t])throw Error(`can't deserialize unregistered class ${t}`);let{klass:r}=ii[t];if(!r)throw Error(`can't deserialize unregistered class ${t}`);if(r.deserialize)return r.deserialize(e);let n=Object.create(r.prototype);for(let r of Object.keys(e)){if("$name"===r)continue;let i=e[r];n[r]=ii[t].shallow.indexOf(r)>=0?i:ic(i)}return n}class ih{constructor(){this.first=!0}update(e,t){let r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}let id={"Latin-1 Supplement":e=>e>=128&&e<=255,"Hangul Jamo":e=>e>=4352&&e<=4607,Khmer:e=>e>=6016&&e<=6143,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Kanbun:e=>e>=12688&&e<=12703,"CJK Strokes":e=>e>=12736&&e<=12783,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Hangul Syllables":e=>e>=44032&&e<=55215,"Private Use Area":e=>e>=57344&&e<=63743,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function ip(e){for(let t of e)if(iv(t.charCodeAt(0)))return!0;return!1}function im(e){return RegExp(e.map(e=>{try{return RegExp(`\\p{sc=${e}}`,"u").source}catch(e){return null}}).filter(e=>e).join("|"),"u")}let ig=im(["Arab","Dupl","Mong","Ougr","Syrc"]),iy=im(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function iv(e){return!(746!==e&&747!==e&&(e<4352||!(id["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||id["CJK Compatibility"](e)||id["CJK Strokes"](e)||!(!id["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||id["Enclosed CJK Letters and Months"](e)||id["Ideographic Description Characters"](e)||id.Kanbun(e)||id.Katakana(e)&&12540!==e||!(!id["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!id["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||id["Vertical Forms"](e)||id["Yijing Hexagram Symbols"](e)||/\p{sc=Cans}/u.test(String.fromCodePoint(e))||/\p{sc=Hang}/u.test(String.fromCodePoint(e))||iy.test(String.fromCodePoint(e)))))}function ib(e){return!(iv(e)||id["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||id["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||id["Letterlike Symbols"](e)||id["Number Forms"](e)||id["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||id["Control Pictures"](e)&&9251!==e||id["Optical Character Recognition"](e)||id["Enclosed Alphanumerics"](e)||id["Geometric Shapes"](e)||id["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||id["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||id["CJK Symbols and Punctuation"](e)||id.Katakana(e)||id["Private Use Area"](e)||id["CJK Compatibility Forms"](e)||id["Small Form Variants"](e)||id["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}let i_=im(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function ix(e){return i_.test(String.fromCodePoint(e))}let iw=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(e){this.pluginStatus=e.pluginStatus,this.pluginURL=e.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(e){if(iw.isParsed())throw Error("RTL text plugin already registered.");this.applyArabicShaping=e.applyArabicShaping,this.processBidirectionalText=e.processBidirectionalText,this.processStyledBidirectionalText=e.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return null!=this.applyArabicShaping&&null!=this.processBidirectionalText&&null!=this.processStyledBidirectionalText}getRTLTextPluginStatus(){return this.pluginStatus}syncState(e,t){return _(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if("loading"!==e.pluginStatus)return this.setState(e),e;let r=e.pluginURL,n=new Promise(e=>{this.loadScriptResolve=e});t(r);let i=new Promise(e=>setTimeout(()=>e(),this.TIMEOUT));if(yield Promise.race([n,i]),this.isParsed()){let e={pluginStatus:"loaded",pluginURL:r};return this.setState(e),e}throw this.setState({pluginStatus:"error",pluginURL:""}),Error(`RTL Text Plugin failed to import scripts from ${r}`)})}};class iS{constructor(e,t){this.zoom=e,t?(this.now=t.now||0,this.fadeDuration=t.fadeDuration||0,this.zoomHistory=t.zoomHistory||new ih,this.transition=t.transition||{},this.globalState=t.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ih,this.transition={},this.globalState={})}isSupportedScript(e){return function(e,t){for(let n of e){var r;if(r=n.charCodeAt(0),!t&&ix(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||id.Khmer(r))return!1}return!0}(e,"loaded"===iw.getRTLTextPluginStatus())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}class iT{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(nl(e))return new nx(e,t);if(ng(e)){let r=n_(e,t);if("error"===r.result)throw Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value}{let r=e;return"color"===t.type&&"string"==typeof e?r=tE.parse(e):"padding"===t.type&&("number"==typeof e||Array.isArray(e))?r=tk.parse(e):"numberArray"===t.type&&("number"==typeof e||Array.isArray(e))?r=tO.parse(e):"colorArray"===t.type&&("string"==typeof e||Array.isArray(e))?r=tI.parse(e):"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)?r=tL.parse(e):"projectionDefinition"===t.type&&"string"==typeof e&&(r=tz.parse(e)),{globalStateRefs:new Set,kind:"constant",evaluate:()=>r}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}class iE{constructor(e){this.property=e,this.value=new iT(e,void 0)}transitioned(e,t){return new iC(this.property,this.value,t,et({},e.transition,this.transition),e.now)}untransitioned(){return new iC(this.property,this.value,null,{},0)}}class iP{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return eo(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new iE(this._values[e].property)),this._values[e].value=new iT(this._values[e].property,null===t?void 0:eo(t))}getTransition(e){return eo(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new iE(this._values[e].property)),this._values[e].transition=eo(t)||void 0}serialize(){let e={};for(let t of Object.keys(this._values)){let r=this.getValue(t);void 0!==r&&(e[t]=r);let n=this.getTransition(t);void 0!==n&&(e[`${t}-transition`]=n)}return e}transitioned(e,t){let r=new iA(this._properties);for(let n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(e,t._values[n]);return r}untransitioned(){let e=new iA(this._properties);for(let t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class iC{constructor(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)}possiblyEvaluate(e,t,r){let n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;if(o){if(n>this.end||this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(e,t,r);{let a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,r),i,K(a))}}return i}}class iA{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,r){let n=new iO(this._properties);for(let i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}hasTransition(){for(let e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class iM{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}hasValue(e){return void 0!==this._values[e].value}getValue(e){return eo(this._values[e].value)}setValue(e,t){this._values[e]=new iT(this._values[e].property,null===t?void 0:eo(t))}serialize(){let e={};for(let t of Object.keys(this._values)){let r=this.getValue(t);void 0!==r&&(e[t]=r)}return e}possiblyEvaluate(e,t,r){let n=new iO(this._properties);for(let i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}}class ik{constructor(e,t,r){this.property=e,this.value=t,this.parameters=r}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}class iO{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class iI{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,r){let n=rn[this.specification.type];return n?n(e,t,r):e}}class iR{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,r,n){return new ik(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)}interpolate(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new ik(this,{kind:"constant",value:void 0},e.parameters);let n=rn[this.specification.type];return n?new ik(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e}evaluate(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)}}class iD extends iR{possiblyEvaluate(e,t,r,n){if(void 0===e.value)return new ik(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){let i=e.expression.evaluate(t,null,{},r,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i;return new ik(this,{kind:"constant",value:this._calculate(o,o,o,t)},t)}return"camera"===e.expression.kind?new ik(this,{kind:"constant",value:this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t)},t):new ik(this,e.expression,t)}evaluate(e,t,r,n,i,o){if("source"===e.kind){let a=e.evaluate(t,r,n,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class iL{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){let i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new iS(Math.floor(t.zoom-1),t)),e.expression.evaluate(new iS(Math.floor(t.zoom),t)),e.expression.evaluate(new iS(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class ij{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}interpolate(){return!1}}class iz{constructor(e){for(let t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){let r=e[t];r.specification.overridable&&this.overridableProperties.push(t);let n=this.defaultPropertyValues[t]=new iT(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new iE(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}}}io("DataDrivenProperty",iR),io("DataConstantProperty",iI),io("CrossFadedDataDrivenProperty",iD),io("CrossFadedProperty",iL),io("ColorRampProperty",ij);let iB="-transition";class iF extends eI{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter,this._featureFilter=nE(e.filter)),t.layout&&(this._unevaluatedLayout=new iM(t.layout)),t.paint)){for(let r in this._transitionablePaint=new iP(t.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(let t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new iO(t.paint)}}setFilter(e){this.filter=e,this._featureFilter=nE(e)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}getLayoutAffectingGlobalStateRefs(){let e=new Set;if(this._unevaluatedLayout)for(let t in this._unevaluatedLayout._values)for(let r of this._unevaluatedLayout._values[t].getGlobalStateRefs())e.add(r);for(let t of this._featureFilter.getGlobalStateRefs())e.add(t);return e}setLayoutProperty(e,t,r={}){null!=t&&this._validate(ie,`layers.${this.id}.layout.${e}`,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(iB)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,r={}){if(null!=t&&this._validate(n9,`layers.${this.id}.paint.${e}`,e,t,r))return!1;if(e.endsWith(iB))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;{let r=this._transitionablePaint._values[e],n="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);let a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,r){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){let e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),ei(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,r,n,i={}){return(!i||!1!==i.validate)&&it(this,e.call(n3,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:eR,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let e in this.paint._values){let t=this.paint.get(e);if(t instanceof ik&&ni(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}let iN={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class iV{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class iU{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){let t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function iG(e,t=1){let r=0,n=0;return{members:e.map(e=>{let i=iN[e.type].BYTES_PER_ELEMENT,o=r=iH(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}}),size:iH(r,Math.max(n,t)),alignment:t}}function iH(e,t){return Math.ceil(e/t)*t}class iq extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){let r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){let n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e}}iq.prototype.bytesPerElement=4,io("StructArrayLayout2i4",iq);class i$ extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r){let n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){let i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e}}i$.prototype.bytesPerElement=6,io("StructArrayLayout3i6",i$);class iW extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){let i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){let o=4*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,e}}iW.prototype.bytesPerElement=8,io("StructArrayLayout4i8",iW);class iX extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){let a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){let s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}iX.prototype.bytesPerElement=12,io("StructArrayLayout2i4i12",iX);class iZ extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){let a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){let s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e}}iZ.prototype.bytesPerElement=8,io("StructArrayLayout2i4ub8",iZ);class iK extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){let r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){let n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e}}iK.prototype.bytesPerElement=8,io("StructArrayLayout2f8",iK);class iY extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,u){let c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,i,o,a,s,l,u)}emplace(e,t,r,n,i,o,a,s,l,u,c){let h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,e}}iY.prototype.bytesPerElement=20,io("StructArrayLayout10ui20",iY);class iQ extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,u,c,h){let d=this.length;return this.resize(d+1),this.emplace(d,e,t,r,n,i,o,a,s,l,u,c,h)}emplace(e,t,r,n,i,o,a,s,l,u,c,h,d){let f=12*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=d,e}}iQ.prototype.bytesPerElement=24,io("StructArrayLayout4i4ui4i24",iQ);class iJ extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){let n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){let i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e}}iJ.prototype.bytesPerElement=12,io("StructArrayLayout3f12",iJ);class i0 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){let t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[+e+0]=t,e}}i0.prototype.bytesPerElement=4,io("StructArrayLayout1ul4",i0);class i1 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l){let u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,o,a,s,l)}emplace(e,t,r,n,i,o,a,s,l,u){let c=10*e;return this.int16[c+0]=t,this.int16[c+1]=r,this.int16[c+2]=n,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[5*e+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e}}i1.prototype.bytesPerElement=20,io("StructArrayLayout6i1ul2ui20",i1);class i2 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){let a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){let s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}i2.prototype.bytesPerElement=12,io("StructArrayLayout2i2i2i12",i2);class i3 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){let o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){let a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=i,this.int16[s+7]=o,e}}i3.prototype.bytesPerElement=16,io("StructArrayLayout2f1f2i16",i3);class i5 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){let a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){let s=16*e,l=4*e,u=8*e;return this.uint8[s+0]=t,this.uint8[s+1]=r,this.float32[l+1]=n,this.float32[l+2]=i,this.int16[u+6]=o,this.int16[u+7]=a,e}}i5.prototype.bytesPerElement=16,io("StructArrayLayout2ub2f2i16",i5);class i6 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){let n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){let i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e}}i6.prototype.bytesPerElement=6,io("StructArrayLayout3ui6",i6);class i4 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g){let y=this.length;return this.resize(y+1),this.emplace(y,e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g)}emplace(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y){let v=24*e,b=12*e,_=48*e;return this.int16[v+0]=t,this.int16[v+1]=r,this.uint16[v+2]=n,this.uint16[v+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[b+7]=h,this.float32[b+8]=d,this.uint8[_+36]=f,this.uint8[_+37]=p,this.uint8[_+38]=m,this.uint32[b+10]=g,this.int16[v+22]=y,e}}i4.prototype.bytesPerElement=48,io("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",i4);class i8 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b,_,x,w,S,T,E,P,C){let A=this.length;return this.resize(A+1),this.emplace(A,e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b,_,x,w,S,T,E,P,C)}emplace(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b,_,x,w,S,T,E,P,C,A){let M=32*e,k=16*e;return this.int16[M+0]=t,this.int16[M+1]=r,this.int16[M+2]=n,this.int16[M+3]=i,this.int16[M+4]=o,this.int16[M+5]=a,this.int16[M+6]=s,this.int16[M+7]=l,this.uint16[M+8]=u,this.uint16[M+9]=c,this.uint16[M+10]=h,this.uint16[M+11]=d,this.uint16[M+12]=f,this.uint16[M+13]=p,this.uint16[M+14]=m,this.uint16[M+15]=g,this.uint16[M+16]=y,this.uint16[M+17]=v,this.uint16[M+18]=b,this.uint16[M+19]=_,this.uint16[M+20]=x,this.uint16[M+21]=w,this.uint16[M+22]=S,this.uint32[k+12]=T,this.float32[k+13]=E,this.float32[k+14]=P,this.uint16[M+30]=C,this.uint16[M+31]=A,e}}i8.prototype.bytesPerElement=64,io("StructArrayLayout8i15ui1ul2f2ui64",i8);class i7 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){let t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[+e+0]=t,e}}i7.prototype.bytesPerElement=4,io("StructArrayLayout1f4",i7);class i9 extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){let n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){let i=3*e;return this.uint16[6*e+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e}}i9.prototype.bytesPerElement=12,io("StructArrayLayout1ui2f12",i9);class oe extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){let n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){let i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e}}oe.prototype.bytesPerElement=8,io("StructArrayLayout1ul2ui8",oe);class ot extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){let r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){let n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e}}ot.prototype.bytesPerElement=4,io("StructArrayLayout2ui4",ot);class or extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){let t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[+e+0]=t,e}}or.prototype.bytesPerElement=2,io("StructArrayLayout1ui2",or);class on extends iU{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){let i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){let o=4*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.float32[o+3]=i,e}}on.prototype.bytesPerElement=16,io("StructArrayLayout4f16",on);class oi extends iV{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new M(this.anchorPointX,this.anchorPointY)}}oi.prototype.size=20;class oo extends i1{get(e){return new oi(this,e)}}io("CollisionBoxArray",oo);class oa extends iV{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}oa.prototype.size=48;class os extends i4{get(e){return new oa(this,e)}}io("PlacedSymbolArray",os);class ol extends iV{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ol.prototype.size=64;class ou extends i8{get(e){return new ol(this,e)}}io("SymbolInstanceArray",ou);class oc extends i7{getoffsetX(e){return this.float32[+e+0]}}io("GlyphOffsetArray",oc);class oh extends i${getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}io("SymbolLineVertexArray",oh);class od extends iV{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}od.prototype.size=12;class of extends i9{get(e){return new od(this,e)}}io("TextAnchorOffsetArray",of);class op extends iV{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}op.prototype.size=8;class om extends oe{get(e){return new op(this,e)}}io("FeatureIndexArray",om);class og extends iq{}class oy extends iq{}class ov extends iq{}class ob extends iX{}class o_ extends iZ{}class ox extends iK{}class ow extends iY{}class oS extends iQ{}class oT extends iJ{}class oE extends i0{}class oP extends i2{}class oC extends i5{}class oA extends i6{}class oM extends ot{}let{members:ok}=iG([{name:"a_pos",components:2,type:"Int16"}],4);class oO{constructor(e=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=e}prepareSegment(e,t,r,n){let i=this.segments[this.segments.length-1];return e>oO.MAX_VERTEX_ARRAY_LENGTH&&es(`Max vertices per segment is ${oO.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${oO.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!i||i.vertexLength+e>oO.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n?this.createNewSegment(t,r,n):i}createNewSegment(e,t,r){let n={vertexOffset:e.length,primitiveOffset:t.length,vertexLength:0,primitiveLength:0,vaos:{}};return void 0!==r&&(n.sortKey=r),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(n),n}getOrCreateLatestSegment(e,t,r){return this.prepareSegment(0,e,t,r)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let e of this.segments)for(let t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,r,n){return new oO([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}function oI(e,t){return 256*(e=J(Math.floor(e),0,255))+J(Math.floor(t),0,255)}oO.MAX_VERTEX_ARRAY_LENGTH=65535,io("SegmentVector",oO);let oR=iG([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var oD,oL,oj,oz={exports:{}},oB={exports:{}},oF={exports:{}},oN=x(function(){if(oj)return oz.exports;oj=1;var e=(oD||(oD=1,oB.exports=function(e,t){var r,n,i,o,a,s;for(n=e.length-(r=3&e.length),i=t,s=0;s<n;)a=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,i=27492+(65535&(o=5*(65535&(i=(i^=a=(65535&(a=(a=(65535&a)*0xcc9e2d51+(((a>>>16)*0xcc9e2d51&65535)<<16)&0xffffffff)<<15|a>>>17))*0x1b873593+(((a>>>16)*0x1b873593&65535)<<16)&0xffffffff)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&0xffffffff))+((58964+(o>>>16)&65535)<<16);switch(a=0,r){case 3:a^=(255&e.charCodeAt(s+2))<<16;case 2:a^=(255&e.charCodeAt(s+1))<<8;case 1:i^=a=(65535&(a=(a=(65535&(a^=255&e.charCodeAt(s)))*0xcc9e2d51+(((a>>>16)*0xcc9e2d51&65535)<<16)&0xffffffff)<<15|a>>>17))*0x1b873593+(((a>>>16)*0x1b873593&65535)<<16)&0xffffffff}return i^=e.length,i=0x85ebca6b*(65535&(i^=i>>>16))+((0x85ebca6b*(i>>>16)&65535)<<16)&0xffffffff,i=0xc2b2ae35*(65535&(i^=i>>>13))+((0xc2b2ae35*(i>>>16)&65535)<<16)&0xffffffff,(i^=i>>>16)>>>0}),oB.exports),t=(oL||(oL=1,oF.exports=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=0x5bd1e995*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((0x5bd1e995*(r>>>16)&65535)<<16),i=0x5bd1e995*(65535&i)+((0x5bd1e995*(i>>>16)&65535)<<16)^(r=0x5bd1e995*(65535&(r^=r>>>24))+((0x5bd1e995*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=0x5bd1e995*(65535&(i^=255&e.charCodeAt(o)))+((0x5bd1e995*(i>>>16)&65535)<<16)}return i=0x5bd1e995*(65535&(i^=i>>>13))+((0x5bd1e995*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}),oF.exports);return oz.exports=e,oz.exports.murmur3=e,oz.exports.murmur2=t,oz.exports}());class oV{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,r,n){this.ids.push(oU(e)),this.positions.push(t,r,n)}getPositions(e){if(!this.indexed)throw Error("Trying to get index, but feature positions are not indexed");let t=oU(e),r=0,n=this.ids.length-1;for(;r<n;){let e=r+n>>1;this.ids[e]>=t?n=e:r=e+1}let i=[];for(;this.ids[r]===t;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(e,t){let r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){let o=t[n+i>>1],a=n-1,s=i+1;for(;;){do a++;while(t[a]<o)do s--;while(t[s]>o)if(a>=s)break;oG(t,a,s),oG(r,3*a,3*s),oG(r,3*a+1,3*s+1),oG(r,3*a+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(e){let t=new oV;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function oU(e){let t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:oN(String(e))}function oG(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}io("FeaturePositionMap",oV);class oH{constructor(e,t){this.gl=e.gl,this.location=t}}class oq extends oH{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class o$ extends oH{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class oW extends oH{constructor(e,t){super(e,t),this.current=tE.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}let oX=new Float32Array(16);function oZ(e){return[oI(255*e.r,255*e.g),oI(255*e.b,255*e.a)]}class oK{constructor(e,t,r){this.value=e,this.uniformNames=t.map(e=>`u_${e}`),this.type=r}setUniform(e,t,r){e.set(r.constantOr(this.value))}getBinding(e,t,r){return"color"===this.type?new oW(e,t):new oq(e,t)}}class oY{constructor(e,t){this.uniformNames=t.map(e=>`u_${e}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,r,n){let i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,r){return"u_pattern"===r.substr(0,9)?new o$(e,t):new oq(e,t)}}class oQ{constructor(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:`a_${e}`,type:"Float32",components:"color"===r?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(e,t,r,n,i){let o=this.paintVertexArray.length,a=this.expression.evaluate(new iS(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)}updatePaintArray(e,t,r,n){let i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(e,t,i)}_setPaintValue(e,t,r){if("color"===this.type){let n=oZ(r);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class oJ{constructor(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:`a_${e}`,type:"Float32",components:"color"===r?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,r,n,i){let o=this.expression.evaluate(new iS(this.zoom),t,{},n,[],i),a=this.expression.evaluate(new iS(this.zoom+1),t,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)}updatePaintArray(e,t,r,n){let i=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(e,t,i,o)}_setPaintValue(e,t,r,n){if("color"===this.type){let i=oZ(r),o=oZ(n);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){let r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=J(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)}getBinding(e,t,r){return new oq(e,t)}}class o0{constructor(e,t,r,n,i,o){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,r){let n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}updatePaintArray(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)}_setPaintValues(e,t,r,n){if(!n||!r)return;let{min:i,mid:o,max:a}=r,s=n[i],l=n[o],u=n[a];if(s&&l&&u)for(let r=e;r<t;r++)this.zoomInPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,oR.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,oR.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class o1{constructor(e,t,r){this.binders={},this._buffers=[];let n=[];for(let o in e.paint._values){var i;if(!r(o))continue;let a=e.paint.get(o);if(!(a instanceof ik&&ni(a.property.specification)))continue;let s=(i=e.type,({"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]})[o]||[o.replace(`${i}-`,"").replace(/-/g,"_")]),l=a.value,u=a.property.specification.type,c=a.property.useIntegerZoom,h=a.property.specification["property-type"],d="cross-faded"===h||"cross-faded-data-driven"===h;if("constant"===l.kind)this.binders[o]=d?new oY(l.value,s):new oK(l.value,s,u),n.push(`/u_${o}`);else if("source"===l.kind||d){let r=o3(o,u,"source");this.binders[o]=d?new o0(l,u,c,t,r,e.id):new oQ(l,s,u,r),n.push(`/a_${o}`)}else{let e=o3(o,u,"composite");this.binders[o]=new oJ(l,s,u,c,t,e),n.push(`/z_${o}`)}}this.cacheKey=n.sort().join("")}getMaxValue(e){let t=this.binders[e];return t instanceof oQ||t instanceof oJ?t.maxValue:0}populatePaintArrays(e,t,r,n,i){for(let o in this.binders){let a=this.binders[o];(a instanceof oQ||a instanceof oJ||a instanceof o0)&&a.populatePaintArray(e,t,r,n,i)}}setConstantPatternPositions(e,t){for(let r in this.binders){let n=this.binders[r];n instanceof oY&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,r,n,i){let o=!1;for(let a in e)for(let s of t.getPositions(a)){let t=r.feature(s.index);for(let r in this.binders){let l=this.binders[r];if((l instanceof oQ||l instanceof oJ||l instanceof o0)&&!0===l.expression.isStateDependent){let u=n.paint.get(r);l.expression=u.value,l.updatePaintArray(s.start,s.end,t,e[a],i),o=!0}}}return o}defines(){let e=[];for(let t in this.binders){let r=this.binders[t];(r instanceof oK||r instanceof oY)&&e.push(...r.uniformNames.map(e=>`#define HAS_UNIFORM_${e}`))}return e}getBinderAttributes(){let e=[];for(let t in this.binders){let r=this.binders[t];if(r instanceof oQ||r instanceof oJ)for(let t=0;t<r.paintVertexAttributes.length;t++)e.push(r.paintVertexAttributes[t].name);else if(r instanceof o0)for(let t=0;t<oR.members.length;t++)e.push(oR.members[t].name)}return e}getBinderUniforms(){let e=[];for(let t in this.binders){let r=this.binders[t];if(r instanceof oK||r instanceof oY||r instanceof oJ)for(let t of r.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){let r=[];for(let n in this.binders){let i=this.binders[n];if(i instanceof oK||i instanceof oY||i instanceof oJ){for(let o of i.uniformNames)if(t[o]){let a=i.getBinding(e,t[o],o);r.push({name:o,property:n,binding:a})}}}return r}setUniforms(e,t,r,n){for(let{name:e,property:i,binding:o}of t)this.binders[i].setUniform(o,n,r.get(i),e)}updatePaintBuffers(e){for(let t in this._buffers=[],this.binders){let r=this.binders[t];if(e&&r instanceof o0){let t=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(r instanceof oQ||r instanceof oJ)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(let t in this.binders){let r=this.binders[t];(r instanceof oQ||r instanceof oJ||r instanceof o0)&&r.upload(e)}this.updatePaintBuffers()}destroy(){for(let e in this.binders){let t=this.binders[e];(t instanceof oQ||t instanceof oJ||t instanceof o0)&&t.destroy()}}}class o2{constructor(e,t,r=()=>!0){for(let n of(this.programConfigurations={},e))this.programConfigurations[n.id]=new o1(n,t,r);this.needsUpload=!1,this._featureMap=new oV,this._bufferOffset=0}populatePaintArrays(e,t,r,n,i,o){for(let r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i,o);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,r,n){for(let i of r)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,n)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(let t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(let e in this.programConfigurations)this.programConfigurations[e].destroy()}}function o3(e,t,r){let n={"line-pattern":{source:ow,composite:ow},"fill-pattern":{source:ow,composite:ow},"fill-extrusion-pattern":{source:ow,composite:ow}}[e];return n&&n[r]||({color:{source:iK,composite:on},number:{source:i7,composite:iK}})[t][r]}io("ConstantBinder",oK),io("CrossFadedConstantBinder",oY),io("SourceExpressionBinder",oQ),io("CrossFadedCompositeBinder",o0),io("CompositeExpressionBinder",oJ),io("ProgramConfiguration",o1,{omit:["_buffers"]}),io("ProgramConfigurationSet",o2);let o5=-16383-1;function o6(e){let t=8192/e.extent,r=e.loadGeometry();for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<n.length;e++){let r=n[e],i=Math.round(r.x*t),o=Math.round(r.y*t);r.x=J(i,o5,16383),r.y=J(o,o5,16383),(i<r.x||i>r.x+1||o<r.y||o>r.y+1)&&es("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function o4(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?o6(e):[]}}class o8{constructor(e){this.zoom=e.zoom,this.globalState=e.globalState,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new oy,this.indexArray=new oA,this.segments=new oO,this.programConfigurations=new o2(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r){let n=this.layers[0],i=[],o=null,a=!1,s="heatmap"===n.type;"circle"===n.type&&(a=!(o=n.layout.get("circle-sort-key")).isConstant(),s=s||"map"===n.paint.get("circle-pitch-alignment"));let l=s?t.subdivisionGranularity.circle:1;for(let{feature:t,id:n,index:s,sourceLayerIndex:l}of e){let e=this.layers[0]._featureFilter.needGeometry,u=o4(t,e);if(!this.layers[0]._featureFilter.filter(new iS(this.zoom,{globalState:this.globalState}),u,r))continue;let c=a?o.evaluate(u,{},r):void 0,h={id:n,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:o6(t),patterns:{},sortKey:c};i.push(h)}for(let n of(a&&i.sort((e,t)=>e.sortKey-t.sortKey),i)){let{geometry:i,index:o,sourceLayerIndex:a}=n,s=e[o].feature;this.addFeature(n,i,o,r,l),t.featureIndex.insert(s,i,o,a,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ok),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,r,n,i=1){let o;switch(i){case 1:o=[0,7];break;case 3:o=[0,2,5,7];break;case 5:o=[0,1,3,4,6,7];break;case 7:o=[0,1,2,3,4,5,6,7];break;default:throw Error(`Invalid circle bucket granularity: ${i}; valid values are 1, 3, 5, 7.`)}let a=o.length;for(let r of t)for(let t of r){let r=t.x,n=t.y;if(r<0||r>=8192||n<0||n>=8192)continue;let i=this.segments.prepareSegment(a*a,this.layoutVertexArray,this.indexArray,e.sortKey),s=i.vertexLength;for(let e=0;e<a;e++)for(let t=0;t<a;t++)!function(e,t,r,n,i){e.emplaceBack(-32768+8*t+n,-32768+8*r+i)}(this.layoutVertexArray,r,n,o[t],o[e]);for(let e=0;e<a-1;e++)for(let t=0;t<a-1;t++){let r=s+e*a+t,n=s+(e+1)*a+t;this.indexArray.emplaceBack(r,n+1,r+1),this.indexArray.emplaceBack(r,n,n+1)}i.vertexLength+=a*a,i.primitiveLength+=(a-1)*(a-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)}}function o7(e,t){for(let r=0;r<e.length;r++)if(ai(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(ai(e,t[r]))return!0;return!!ae(e,t)}function o9(e,t){if(1===e.length)return an(t,e[0]);for(let r=0;r<t.length;r++){let n=t[r];for(let t=0;t<n.length;t++)if(ai(e,n[t]))return!0}for(let r=0;r<e.length;r++)if(an(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(ae(e,t[r]))return!0;return!1}function ae(e,t){if(0===e.length||0===t.length)return!1;for(let i=0;i<e.length-1;i++){let o=e[i],a=e[i+1];for(let e=0;e<t.length-1;e++){var r,n;if(el(o,r=t[e],n=t[e+1])!==el(a,r,n)&&el(o,a,r)!==el(o,a,n))return!0}}return!1}function at(e,t,r){let n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(ar(e,t[r-1],t[r])<n)return!0;return!1}function ar(e,t,r){let n=t.distSqr(r);if(0===n)return e.distSqr(t);let i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function an(e,t){let r,n,i,o=!1;for(let a=0;a<e.length;a++){r=e[a];for(let e=0,a=r.length-1;e<r.length;a=e++)n=r[e],i=r[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o)}return o}function ai(e,t){let r=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){let o=e[n],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(r=!r)}return r}function ao(e,t,r){let n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function aa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function as(e,t,r,n,i){if(!t[0]&&!t[1])return e;let o=M.convert(t)._mult(i);"viewport"===r&&o._rotate(-n);let a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}io("CircleBucket",o8,{omit:["layers"]});var al={get paint(){return a=a||new iz({"circle-radius":new iR(eR.paint_circle["circle-radius"]),"circle-color":new iR(eR.paint_circle["circle-color"]),"circle-blur":new iR(eR.paint_circle["circle-blur"]),"circle-opacity":new iR(eR.paint_circle["circle-opacity"]),"circle-translate":new iI(eR.paint_circle["circle-translate"]),"circle-translate-anchor":new iI(eR.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new iI(eR.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new iI(eR.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new iR(eR.paint_circle["circle-stroke-width"]),"circle-stroke-color":new iR(eR.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new iR(eR.paint_circle["circle-stroke-opacity"])})},get layout(){return o=o||new iz({"circle-sort-key":new iR(eR.layout_circle["circle-sort-key"])})}};class au extends iF{constructor(e){super(e,al)}createBucket(e){return new o8(e)}queryRadius(e){return ao("circle-radius",this,e)+ao("circle-stroke-width",this,e)+aa(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:r,geometry:n,transform:i,pixelsToTileUnits:o,unwrappedTileID:a,getElevation:s}){var l;let u=as(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-i.bearingInRadians,o),c=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),h="map"===this.paint.get("circle-pitch-alignment"),d=h?u:u.map(e=>ac(e,i,a,s)),f=h?c*o:c;for(let e of n)for(let t of e){let e=h?t:ac(t,i,a,s),r=f,n=i.projectTileCoordinates(t.x,t.y,a,s).signedDistanceFromCamera;if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?r*=n/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(r*=i.cameraToCenterDistance/n),l=r,ai(d,e)||at(e,d,l))return!0}return!1}}function ac(e,t,r,n){let i=t.projectTileCoordinates(e.x,e.y,r,n).point;return new M((.5*i.x+.5)*t.width,(-(.5*i.y)+.5)*t.height)}class ah extends o8{}io("HeatmapBucket",ah,{omit:["layers"]});var ad={get paint(){return s=s||new iz({"heatmap-radius":new iR(eR.paint_heatmap["heatmap-radius"]),"heatmap-weight":new iR(eR.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new iI(eR.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ij(eR.paint_heatmap["heatmap-color"]),"heatmap-opacity":new iI(eR.paint_heatmap["heatmap-opacity"])})}};function af(e,{width:t,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*r*n)throw RangeError(`mismatched image size. expected: ${i.length} but got: ${t*r*n}`)}else i=new Uint8Array(t*r*n);return e.width=t,e.height=r,e.data=i,e}function ap(e,{width:t,height:r},n){if(t===e.width&&r===e.height)return;let i=af({},{width:t,height:r},n);am(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,r)},n),e.width=t,e.height=r,e.data=i.data}function am(e,t,r,n,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw RangeError("out of range destination coordinates for image copy");let a=e.data,s=t.data;if(a===s)throw Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){let u=((r.y+l)*e.width+r.x)*o,c=((n.y+l)*t.width+n.x)*o;for(let e=0;e<i.width*o;e++)s[c+e]=a[u+e]}return t}class ag{constructor(e,t){af(this,e,1,t)}resize(e){ap(this,e,1)}clone(){return new ag({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){am(e,t,r,n,i,1)}}class ay{constructor(e,t){af(this,e,4,t)}resize(e){ap(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new ay({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){am(e,t,r,n,i,4)}setPixel(e,t,r){let n=4*(e*this.width+t);this.data[n+0]=Math.round(255*r.r/r.a),this.data[n+1]=Math.round(255*r.g/r.a),this.data[n+2]=Math.round(255*r.b/r.a),this.data[n+3]=Math.round(255*r.a)}}function av(e){let t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new ay({width:r,height:n});if(Math.log(r)/Math.LN2%1!=0)throw Error(`width is not a power of 2 - ${r}`);let o=(n,o,a)=>{t[e.evaluationKey]=a;let s=e.expression.evaluate(t);i.setPixel(n/4/r,o/4,s)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){let s=n/(r-1),{start:l,end:u}=e.clips[t];o(i,a,l*(1-s)+u*s)}else for(let e=0,t=0;e<r;e++,t+=4)o(0,t,e/(r-1));return i}io("AlphaImage",ag),io("RGBAImage",ay);let ab="big-fb";class a_ extends iF{createBucket(e){return new ah(e)}constructor(e){super(e,ad),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=av({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(ab)&&this.heatmapFbos.delete(ab)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}var ax={get paint(){return l=l||new iz({"hillshade-illumination-direction":new iI(eR.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new iI(eR.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new iI(eR.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new iI(eR.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new iI(eR.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new iI(eR.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new iI(eR.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new iI(eR.paint_hillshade["hillshade-method"])})}};class aw extends iF{constructor(e){super(e,ax),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let e=this.paint.get("hillshade-illumination-direction").values,t=this.paint.get("hillshade-illumination-altitude").values,r=this.paint.get("hillshade-highlight-color").values,n=this.paint.get("hillshade-shadow-color").values,i=Math.max(e.length,t.length,r.length,n.length);e=e.concat(Array(i-e.length).fill(e.at(-1))),t=t.concat(Array(i-t.length).fill(t.at(-1))),r=r.concat(Array(i-r.length).fill(r.at(-1))),n=n.concat(Array(i-n.length).fill(n.at(-1)));let o=t.map(em);return{directionRadians:e.map(em),altitudeRadians:o,shadowColor:n,highlightColor:r}}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}var aS={get paint(){return u=u||new iz({"color-relief-opacity":new iI(eR["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new ij(eR["paint_color-relief"]["color-relief-color"])})}};class aT{constructor(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)}update(e,t,r){let{width:n,height:i}=e,o=!(this.size&&this.size[0]===n&&this.size[1]===i||r),{context:a}=this,{gl:s}=a;if(this.useMipmap=!!(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[n,i],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||eh(e)?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{let{x:t,y:o}=r||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||eh(e)?s.texSubImage2D(s.TEXTURE_2D,0,t,o,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,o,n,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D),a.pixelStoreUnpackFlipY.setDefault(),a.pixelStoreUnpack.setDefault(),a.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(e,t,r){let{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),r!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class aE{constructor(e,t,r,n=1,i=1,o=1,a=0){if(this.uid=e,t.height!==t.width)throw RangeError("DEM tiles must be square");if(r&&!["mapbox","terrarium","custom"].includes(r))return void es(`"${r}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=t.height;let s=this.dim=t.height-2;switch(this.data=new Uint32Array(t.data.buffer),r){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=n,this.greenFactor=i,this.blueFactor=o,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let e=0;e<s;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(s,e)]=this.data[this._idx(s-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,s)]=this.data[this._idx(e,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let e=0;e<s;e++)for(let t=0;t<s;t++){let r=this.get(e,t);r>this.max&&(this.max=r),r<this.min&&(this.min=r)}}get(e,t){let r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return this.unpack(r[n],r[n+1],r[n+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}unpack(e,t,r){return e*this.redFactor+t*this.greenFactor+r*this.blueFactor-this.baseShift}pack(e){return aP(e,this.getUnpackVector())}getPixels(){return new ay({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,r){if(this.dim!==e.dim)throw Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case -1:n=i-1;break;case 1:i=n+1}switch(r){case -1:o=a-1;break;case 1:a=o+1}let s=-t*this.dim,l=-r*this.dim;for(let t=o;t<a;t++)for(let r=n;r<i;r++)this.data[this._idx(r,t)]=e.data[this._idx(r+s,t+l)]}}function aP(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=Math.min(r,n,i),s=Math.round((e+o)/a);return{r:Math.floor(s*a/r)%256,g:Math.floor(s*a/n)%256,b:Math.floor(s*a/i)%256}}io("DEMData",aE);class aC extends iF{constructor(e){super(e,aS)}_createColorRamp(e){let t={elevationStops:[],colorStops:[]},r=this._transitionablePaint._values["color-relief-color"].value.expression;if(r instanceof nv&&r._styleExpression.expression instanceof rt){this.colorRampExpression=r;let e=r._styleExpression.expression;for(let r of(t.elevationStops=e.labels,t.colorStops=[],t.elevationStops))t.colorStops.push(e.evaluate({globals:{elevation:r}}))}if(t.elevationStops.length<1&&(t.elevationStops=[0],t.colorStops=[tE.transparent]),t.elevationStops.length<2&&(t.elevationStops.push(t.elevationStops[0]+1),t.colorStops.push(t.colorStops[0])),t.elevationStops.length<=e)return t;let n={elevationStops:[],colorStops:[]},i=(t.elevationStops.length-1)/(e-1);for(let e=0;e<t.elevationStops.length-.5;e+=i)n.elevationStops.push(t.elevationStops[Math.round(e)]),n.colorStops.push(t.colorStops[Math.round(e)]);return es(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),n}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(e,t,r){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let n=this._createColorRamp(t),i=new ay({width:n.colorStops.length,height:1}),o=new ay({width:n.colorStops.length,height:1});for(let e=0;e<n.elevationStops.length;e++){let t=aP(n.elevationStops[e],r);o.setPixel(0,e,new tE(t.r/255,t.g/255,t.b/255,1)),i.setPixel(0,e,n.colorStops[e])}return this.colorRampTextures={elevationTexture:new aT(e,o,e.gl.RGBA),colorTexture:new aT(e,i,e.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return"none"!==this.visibility&&!!this.colorRampTextures}}let{members:aA}=iG([{name:"a_pos",components:2,type:"Int16"}],4);function aM(e,t,r){let n=r.patternDependencies,i=!1;for(let r of t){let t=r.paint.get(`${e}-pattern`);t.isConstant()||(i=!0);let o=t.constantOr(null);o&&(i=!0,n[o.to]=!0,n[o.from]=!0)}return i}function ak(e,t,r,n,i){let o=i.patternDependencies;for(let a of t){let t=a.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},r,{},i.availableImages),s=t.evaluate({zoom:n},r,{},i.availableImages),l=t.evaluate({zoom:n+1},r,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,r.patterns[a.id]={min:e,mid:s,max:l}}}return r}function aO(e,t,r,n,i){let o;if(i===function(e,t,r,n){let i=0;for(let o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,r,n)>0)for(let i=t;i<r;i+=n)o=aH(i/n|0,e[i],e[i+1],o);else for(let i=r-n;i>=t;i-=n)o=aH(i/n|0,e[i],e[i+1],o);return o&&aB(o,o.next)&&(aq(o),o=o.next),o}function aI(e,t){if(!e)return e;t||(t=e);let r,n=e;do if(r=!1,n.steiner||!aB(n,n.next)&&0!==az(n.prev,n,n.next))n=n.next;else{if(aq(n),(n=t=n.prev)===n.next)break;r=!0}while(r||n!==t)return t}function aR(e,t){let r=e.x-t.x;return 0===r&&0==(r=e.y-t.y)&&(r=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)),r}function aD(e,t,r,n,i){return(e=0x55555555&((e=0x33333333&((e=0xf0f0f0f&((e=0xff00ff&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=0x55555555&((t=0x33333333&((t=0xf0f0f0f&((t=0xff00ff&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function aL(e,t,r,n,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function aj(e,t,r,n,i,o,a,s){return(e!==a||t!==s)&&aL(e,t,r,n,i,o,a,s)}function az(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function aB(e,t){return e.x===t.x&&e.y===t.y}function aF(e,t,r,n){let i=aV(az(e,t,r)),o=aV(az(e,t,n)),a=aV(az(r,n,e)),s=aV(az(r,n,t));return i!==o&&a!==s||!(0!==i||!aN(e,r,t))||!(0!==o||!aN(e,n,t))||!(0!==a||!aN(r,e,n))||!(0!==s||!aN(r,t,n))}function aN(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function aV(e){return e>0?1:e<0?-1:0}function aU(e,t){return 0>az(e.prev,e,e.next)?az(e,t,e.next)>=0&&az(e,e.prev,t)>=0:0>az(e,t,e.prev)||0>az(e,e.next,t)}function aG(e,t){let r=a$(e.i,e.x,e.y),n=a$(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function aH(e,t,r,n){let i=a$(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function aq(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function a$(e,t,r){return{i:e,x:t,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class aW{constructor(e,t){if(t>e)throw Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=e,this._minGranularity=t}getGranularityForZoomLevel(e){return Math.max(Math.floor(this._baseZoomGranularity/(1<<e)),this._minGranularity,1)}}class aX{constructor(e){this.fill=e.fill,this.line=e.line,this.tile=e.tile,this.stencil=e.stencil,this.circle=e.circle}}aX.noSubdivision=new aX({fill:new aW(0,0),line:new aW(0,0),tile:new aW(0,0),stencil:new aW(0,0),circle:1}),io("SubdivisionGranularityExpression",aW),io("SubdivisionGranularitySetting",aX);class aZ{constructor(e,t){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=e,this._granularityCellSize=8192/e,this._canonical=t}_getKey(e,t){return(e+=32768)<<16|t+32768}_vertexToIndex(e,t){if(e<-32768||t<-32768||e>32767||t>32767)throw Error("Vertex coordinates are out of signed 16 bit integer range.");let r=0|Math.round(e),n=0|Math.round(t),i=this._getKey(r,n);if(this._vertexDictionary.has(i))return this._vertexDictionary.get(i);let o=this._vertexBuffer.length/2;return this._vertexDictionary.set(i,o),this._vertexBuffer.push(r,n),o}_subdivideTrianglesScanline(e){if(this._granularity<2)return function(e,t){let r=[];for(let n=0;n<t.length;n+=3){let i=t[n],o=t[n+1],a=t[n+2],s=e[2*i],l=e[2*i+1];(e[2*o]-s)*(e[2*a+1]-l)-(e[2*o+1]-l)*(e[2*a]-s)>0?(r.push(i),r.push(a),r.push(o)):(r.push(i),r.push(o),r.push(a))}return r}(this._vertexBuffer,e);let t=[],r=e.length;for(let n=0;n<r;n+=3){let r=[e[n+0],e[n+1],e[n+2]],i=[this._vertexBuffer[2*e[n+0]+0],this._vertexBuffer[2*e[n+0]+1],this._vertexBuffer[2*e[n+1]+0],this._vertexBuffer[2*e[n+1]+1],this._vertexBuffer[2*e[n+2]+0],this._vertexBuffer[2*e[n+2]+1]],o=1/0,a=1/0,s=-1/0,l=-1/0;for(let e=0;e<3;e++){let t=i[2*e],r=i[2*e+1];o=Math.min(o,t),s=Math.max(s,t),a=Math.min(a,r),l=Math.max(l,r)}if(o===s||a===l)continue;let u=Math.floor(o/this._granularityCellSize),c=Math.ceil(s/this._granularityCellSize),h=Math.floor(a/this._granularityCellSize),d=Math.ceil(l/this._granularityCellSize);if(u!==c||h!==d)for(let e=h;e<d;e++){let n=this._scanlineGenerateVertexRingForCellRow(e,i,r);(function(e,t,r){if(0===t.length)throw Error("Subdivision vertex ring is empty.");let n=0,i=e[2*t[0]];for(let r=1;r<t.length;r++){let o=e[2*t[r]];o<i&&(i=o,n=r)}let o=t.length,a=n,s=(a+1)%o;for(;;){let n=a-1>=0?a-1:o-1,i=(s+1)%o,l=e[2*t[n]],u=e[2*t[i]],c=e[2*t[a]],h=e[2*t[a]+1],d=e[2*t[s]+1],f=!1;if(l<u)f=!0;else if(l>u)f=!1;else{let r=d-h,o=-(e[2*t[s]]-c),a=h<d?1:-1;((l-c)*r+(e[2*t[n]+1]-h)*o)*a>((u-c)*r+(e[2*t[i]+1]-h)*o)*a&&(f=!0)}if(f){let e=t[n],i=t[a],l=t[s];e!==i&&e!==l&&i!==l&&r.push(l,i,e),--a<0&&(a=o-1)}else{let e=t[i],n=t[a],l=t[s];e!==n&&e!==l&&n!==l&&r.push(l,n,e),++s>=o&&(s=0)}if(n===i)break}})(this._vertexBuffer,n,t)}else t.push(...r)}return t}_scanlineGenerateVertexRingForCellRow(e,t,r){let n=e*this._granularityCellSize,i=n+this._granularityCellSize,o=[];for(let e=0;e<3;e++){let a=t[2*e],s=t[2*e+1],l=t[2*(e+1)%6],u=t[(2*(e+1)+1)%6],c=t[2*(e+2)%6],h=t[(2*(e+2)+1)%6],d=l-a,f=u-s,p=0===d,m=0===f,g=(n-s)/f,y=(i-s)/f,v=Math.min(g,y),b=Math.max(g,y);if(!m&&(v>=1||b<=0)||m&&(s<n||s>i)){u>=n&&u<=i&&o.push(r[(e+1)%3]);continue}!m&&v>0&&o.push(this._vertexToIndex(a+d*v,s+f*v));let _=a+d*Math.max(v,0),x=a+d*Math.min(b,1);p||this._generateIntraEdgeVertices(o,a,s,l,u,_,x),!m&&b<1&&o.push(this._vertexToIndex(a+d*b,s+f*b)),(m||u>=n&&u<=i)&&o.push(r[(e+1)%3]),!m&&(u<=n||u>=i)&&this._generateInterEdgeVertices(o,a,s,l,u,c,h,x,n,i)}return o}_generateIntraEdgeVertices(e,t,r,n,i,o,a){let s=n-t,l=i-r,u=0===l,c=u?Math.min(t,n):Math.min(o,a),h=u?Math.max(t,n):Math.max(o,a),d=Math.floor(c/this._granularityCellSize)+1,f=Math.ceil(h/this._granularityCellSize)-1;if(u?t<n:o<a)for(let n=d;n<=f;n++){let i=n*this._granularityCellSize;e.push(this._vertexToIndex(i,r+l*(i-t)/s))}else for(let n=f;n>=d;n--){let i=n*this._granularityCellSize;e.push(this._vertexToIndex(i,r+l*(i-t)/s))}}_generateInterEdgeVertices(e,t,r,n,i,o,a,s,l,u){let c=a-i,h=(l-i)/c,d=(u-i)/c,f=Math.min(h,d),p=Math.max(h,d),m=n+(o-n)*f,g=Math.floor(Math.min(m,s)/this._granularityCellSize)+1,y=Math.ceil(Math.max(m,s)/this._granularityCellSize)-1,v=s<m,b=0===c;if(b&&(a===l||a===u))return;if(b||f>=1||p<=0){let e=r-a,n=o+(t-o)*Math.min((l-a)/e,(u-a)/e);g=Math.floor(Math.min(n,s)/this._granularityCellSize)+1,y=Math.ceil(Math.max(n,s)/this._granularityCellSize)-1,v=s<n}let _=i-r>0?u:l;if(v)for(let t=g;t<=y;t++)e.push(this._vertexToIndex(t*this._granularityCellSize,_));else for(let t=y;t>=g;t--)e.push(this._vertexToIndex(t*this._granularityCellSize,_))}_generateOutline(e){let t=[];for(let r of e){let e=aY(r,this._granularity,!0),n=this._pointArrayToIndices(e),i=[];for(let e=1;e<n.length;e++)i.push(n[e-1]),i.push(n[e]);t.push(i)}return t}_handlePoles(e){let t=!1,r=!1;this._canonical&&(0===this._canonical.y&&(t=!0),this._canonical.y===(1<<this._canonical.z)-1&&(r=!0)),(t||r)&&this._fillPoles(e,t,r)}_ensureNoPoleVertices(){let e=this._vertexBuffer;for(let t=0;t<e.length;t+=2){let r=e[t+1];-32768===r&&(e[t+1]=-32767),32767===r&&(e[t+1]=32766)}}_generatePoleQuad(e,t,r,n,i,o){n>i!=(-32768===o)?(e.push(t),e.push(r),e.push(this._vertexToIndex(n,o)),e.push(r),e.push(this._vertexToIndex(i,o))):(e.push(r),e.push(t),e.push(this._vertexToIndex(n,o)),e.push(this._vertexToIndex(i,o)),e.push(r)),e.push(this._vertexToIndex(n,o))}_fillPoles(e,t,r){let n=this._vertexBuffer,i=e.length;for(let o=2;o<i;o+=3){let i=e[o-2],a=e[o-1],s=e[o],l=n[2*i],u=n[2*i+1],c=n[2*a],h=n[2*a+1],d=n[2*s],f=n[2*s+1];t&&(0===u&&0===h&&this._generatePoleQuad(e,i,a,l,c,-32768),0===h&&0===f&&this._generatePoleQuad(e,a,s,c,d,-32768),0===f&&0===u&&this._generatePoleQuad(e,s,i,d,l,-32768)),r&&(8192===u&&8192===h&&this._generatePoleQuad(e,i,a,l,c,32767),8192===h&&8192===f&&this._generatePoleQuad(e,a,s,c,d,32767),8192===f&&8192===u&&this._generatePoleQuad(e,s,i,d,l,32767))}}_initializeVertices(e){for(let t=0;t<e.length;t+=2)this._vertexToIndex(e[t],e[t+1])}subdividePolygonInternal(e,t){let r;if(this._used)throw Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:n,holeIndices:i}=function(e){let t=[],r=[];for(let n of e)if(0!==n.length){n!==e[0]&&t.push(r.length/2);for(let e=0;e<n.length;e++)r.push(n[e].x),r.push(n[e].y)}return{flattened:r,holeIndices:t}}(e);this._initializeVertices(n);try{let e=function(e,t,r=2){let n,i,o;let a=t&&t.length,s=a?t[0]*r:e.length,l=aO(e,0,s,r,!0),u=[];if(!l||l.next===l.prev)return u;if(a&&(l=function(e,t,r,n){let i=[];for(let r=0,o=t.length;r<o;r++){let a=aO(e,t[r]*n,r<o-1?t[r+1]*n:e.length,n,!1);a===a.next&&(a.steiner=!0),i.push(function(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e)return r}(a))}i.sort(aR);for(let e=0;e<i.length;e++)r=function(e,t){let r=function(e,t){let r=t,n=e.x,i=e.y,o,a=-1/0;if(aB(e,r))return r;do{if(aB(e,r.next))return r.next;if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){let e=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=n&&e>a&&(a=e,o=r.x<r.next.x?r:r.next,e===n))return o}r=r.next}while(r!==t)if(!o)return null;let s=o,l=o.x,u=o.y,c=1/0;r=o;do{if(n>=r.x&&r.x>=l&&n!==r.x&&aL(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)){var h,d;let t=Math.abs(i-r.y)/(n-r.x);aU(r,e)&&(t<c||t===c&&(r.x>o.x||r.x===o.x&&(h=o,d=r,0>az(h.prev,h,d.prev)&&0>az(d.next,h,h.next))))&&(o=r,c=t)}r=r.next}while(r!==s)return o}(e,t);if(!r)return t;let n=aG(r,e);return aI(n,n.next),aI(r,r.next)}(i[e],r);return r}(e,t,l,r)),e.length>80*r){n=1/0,i=1/0;let t=-1/0,a=-1/0;for(let o=r;o<s;o+=r){let r=e[o],s=e[o+1];r<n&&(n=r),s<i&&(i=s),r>t&&(t=r),s>a&&(a=s)}o=Math.max(t-n,a-i),o=0!==o?32767/o:0}return function e(t,r,n,i,o,a,s){if(!t)return;!s&&a&&function(e,t,r,n){let i=e;do 0===i.z&&(i.z=aD(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e)i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,r=1;do{let n,i=e;e=null;let o=null;for(t=0;i;){t++;let a=i,s=0;for(let e=0;e<r&&(s++,a=a.nextZ);e++);let l=r;for(;s>0||l>0&&a;)0!==s&&(0===l||!a||i.z<=a.z)?(n=i,i=i.nextZ,s--):(n=a,a=a.nextZ,l--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;i=a}o.nextZ=null,r*=2}while(t>1)}(i)}(t,i,o,a);let l=t;for(;t.prev!==t.next;){let u=t.prev,c=t.next;if(a?function(e,t,r,n){let i=e.prev,o=e.next;if(az(i,e,o)>=0)return!1;let a=i.x,s=e.x,l=o.x,u=i.y,c=e.y,h=o.y,d=Math.min(a,s,l),f=Math.min(u,c,h),p=Math.max(a,s,l),m=Math.max(u,c,h),g=aD(d,f,t,r,n),y=aD(p,m,t,r,n),v=e.prevZ,b=e.nextZ;for(;v&&v.z>=g&&b&&b.z<=y;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=m&&v!==i&&v!==o&&aj(a,u,s,c,l,h,v.x,v.y)&&az(v.prev,v,v.next)>=0||(v=v.prevZ,b.x>=d&&b.x<=p&&b.y>=f&&b.y<=m&&b!==i&&b!==o&&aj(a,u,s,c,l,h,b.x,b.y)&&az(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;v&&v.z>=g;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=m&&v!==i&&v!==o&&aj(a,u,s,c,l,h,v.x,v.y)&&az(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=p&&b.y>=f&&b.y<=m&&b!==i&&b!==o&&aj(a,u,s,c,l,h,b.x,b.y)&&az(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}(t,i,o,a):function(e){let t=e.prev,r=e.next;if(az(t,e,r)>=0)return!1;let n=t.x,i=e.x,o=r.x,a=t.y,s=e.y,l=r.y,u=Math.min(n,i,o),c=Math.min(a,s,l),h=Math.max(n,i,o),d=Math.max(a,s,l),f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=c&&f.y<=d&&aj(n,a,i,s,o,l,f.x,f.y)&&az(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}(t))r.push(u.i,t.i,c.i),aq(t),t=c.next,l=c.next;else if((t=c)===l){s?1===s?e(t=function(e,t){let r=e;do{let n=r.prev,i=r.next.next;!aB(n,i)&&aF(n,r,r.next,i)&&aU(n,i)&&aU(i,n)&&(t.push(n.i,r.i,i.i),aq(r),aq(r.next),r=e=i),r=r.next}while(r!==e)return aI(r)}(aI(t),r),r,n,i,o,a,2):2===s&&function(t,r,n,i,o,a){let s=t;do{let t=s.next.next;for(;t!==s.prev;){var l,u;if(s.i!==t.i&&(l=s,u=t,l.next.i!==u.i&&l.prev.i!==u.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&aF(r,r.next,e,t))return!0;r=r.next}while(r!==e)return!1}(l,u)&&(aU(l,u)&&aU(u,l)&&function(e,t){let r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e)return n}(l,u)&&(az(l.prev,l,u.prev)||az(l,u.prev,u))||aB(l,u)&&az(l.prev,l,l.next)>0&&az(u.prev,u,u.next)>0))){let l=aG(s,t);return s=aI(s,s.next),l=aI(l,l.next),e(s,r,n,i,o,a,0),void e(l,r,n,i,o,a,0)}t=t.next}s=s.next}while(s!==t)}(t,r,n,i,o,a):e(aI(t),r,n,i,o,a,1);break}}}(l,u,r,n,i,o,0),u}(n,i),t=this._convertIndices(n,e);r=this._subdivideTrianglesScanline(t)}catch(e){console.error(e)}let o=[];return t&&(o=this._generateOutline(e)),this._ensureNoPoleVertices(),this._handlePoles(r),{verticesFlattened:this._vertexBuffer,indicesTriangles:r,indicesLineList:o}}_convertIndices(e,t){let r=[];for(let n=0;n<t.length;n++)r.push(this._vertexToIndex(e[2*t[n]],e[2*t[n]+1]));return r}_pointArrayToIndices(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];t.push(this._vertexToIndex(n.x,n.y))}return t}}function aK(e,t,r,n=!0){return new aZ(r,t).subdividePolygonInternal(e,n)}function aY(e,t,r=!1){if(!e||e.length<1||e.length<2)return[];let n=e[0],i=e[e.length-1],o=r&&(n.x!==i.x||n.y!==i.y);if(t<2)return o?[...e,e[0]]:[...e];let a=Math.floor(8192/t),s=[];s.push(new M(e[0].x,e[0].y));let l=e.length,u=o?l:l-1;for(let t=0;t<u;t++){let r=e[t],n=t<l-1?e[t+1]:e[0],i=r.x,o=r.y,u=n.x,c=n.y,h=i!==u,d=o!==c;if(!h&&!d)continue;let f=u-i,p=c-o,m=Math.abs(f),g=Math.abs(p),y=i,v=o;for(;;){let e=f>0?(Math.floor(y/a)+1)*a:(Math.ceil(y/a)-1)*a,t=p>0?(Math.floor(v/a)+1)*a:(Math.ceil(v/a)-1)*a,r=Math.abs(y-e),n=Math.abs(v-t),i=Math.abs(v-c),o=h?r/m:Number.POSITIVE_INFINITY,l=d?n/g:Number.POSITIVE_INFINITY;if((Math.abs(y-u)<=r||!h)&&(i<=n||!d))break;if(o<l&&h||!d){let t=new M(y=e,Math.round(v+=p*o));s[s.length-1].x===t.x&&s[s.length-1].y===t.y||s.push(t)}else{let e=new M(Math.round(y+=f*l),v=t);s[s.length-1].x===e.x&&s[s.length-1].y===e.y||s.push(e)}}let b=new M(u,c);s[s.length-1].x===b.x&&s[s.length-1].y===b.y||s.push(b)}return s}function aQ(e,t,r,n,i,o,a,s,l){let u=i.length/2,c=a&&s&&l;if(u<oO.MAX_VERTEX_ARRAY_LENGTH){let h,d;let f=t.prepareSegment(u,r,n),p=f.vertexLength;for(let e=0;e<o.length;e+=3)n.emplaceBack(p+o[e],p+o[e+1],p+o[e+2]);f.vertexLength+=u,f.primitiveLength+=o.length/3,c&&(h=(d=a.prepareSegment(u,r,s)).vertexLength,d.vertexLength+=u);for(let t=0;t<i.length;t+=2)e(i[t],i[t+1]);if(c)for(let e=0;e<l.length;e++){let t=l[e];for(let e=1;e<t.length;e+=2)s.emplaceBack(h+t[e-1],h+t[e]);d.primitiveLength+=t.length/2}}else(function(e,t,r,n,i,o){let a=[];for(let e=0;e<n.length/2;e++)a.push(-1);let s={count:0},l=0,u=e.getOrCreateLatestSegment(t,r),c=u.vertexLength;for(let h=2;h<i.length;h+=3){let d=i[h-2],f=i[h-1],p=i[h],m=a[d]<l,g=a[f]<l,y=a[p]<l;u.vertexLength+(+!!m+ +!!g+ +!!y)>oO.MAX_VERTEX_ARRAY_LENGTH&&(u=e.createNewSegment(t,r),l=s.count,m=!0,g=!0,y=!0,c=0);let v=aJ(a,n,o,s,d,m,u),b=aJ(a,n,o,s,f,g,u),_=aJ(a,n,o,s,p,y,u);r.emplaceBack(c+v-l,c+b-l,c+_-l),u.primitiveLength++}})(t,r,n,i,o,e),c&&function(e,t,r,n,i,o){let a=[];for(let e=0;e<n.length/2;e++)a.push(-1);let s={count:0},l=0,u=e.getOrCreateLatestSegment(t,r),c=u.vertexLength;for(let h=0;h<i.length;h++){let d=i[h];for(let f=1;f<i[h].length;f+=2){let i=d[f-1],h=d[f],p=a[i]<l,m=a[h]<l;u.vertexLength+(+!!p+ +!!m)>oO.MAX_VERTEX_ARRAY_LENGTH&&(u=e.createNewSegment(t,r),l=s.count,p=!0,m=!0,c=0);let g=aJ(a,n,o,s,i,p,u),y=aJ(a,n,o,s,h,m,u);r.emplaceBack(c+g-l,c+y-l),u.primitiveLength++}}}(a,r,s,i,l,e),t.forceNewSegmentOnNextPrepare(),null==a||a.forceNewSegmentOnNextPrepare()}function aJ(e,t,r,n,i,o,a){if(o){let o=n.count;return r(t[2*i],t[2*i+1]),e[i]=n.count,n.count++,a.vertexLength++,o}return e[i]}class a0{constructor(e){this.zoom=e.zoom,this.globalState=e.globalState,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ov,this.indexArray=new oA,this.indexArray2=new oM,this.programConfigurations=new o2(e.layers,e.zoom),this.segments=new oO,this.segments2=new oO,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r){this.hasPattern=aM("fill",this.layers,t);let n=this.layers[0].layout.get("fill-sort-key"),i=!n.isConstant(),o=[];for(let{feature:a,id:s,index:l,sourceLayerIndex:u}of e){let e=this.layers[0]._featureFilter.needGeometry,c=o4(a,e);if(!this.layers[0]._featureFilter.filter(new iS(this.zoom,{globalState:this.globalState}),c,r))continue;let h=i?n.evaluate(c,{},r,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:u,index:l,geometry:e?c.geometry:o6(a),patterns:{},sortKey:h};o.push(d)}for(let n of(i&&o.sort((e,t)=>e.sortKey-t.sortKey),o)){let{geometry:i,index:o,sourceLayerIndex:a}=n;if(this.hasPattern){let e=ak("fill",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,{},t.subdivisionGranularity);t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(let n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,t,r,e.subdivisionGranularity)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,aA),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,r,n,i,o){for(let e of rD(t,500)){let t=aK(e,n,o.fill.getGranularityForZoomLevel(n.z)),r=this.layoutVertexArray;aQ((e,t)=>{r.emplaceBack(e,t)},this.segments,this.layoutVertexArray,this.indexArray,t.verticesFlattened,t.indicesTriangles,this.segments2,this.indexArray2,t.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}}io("FillBucket",a0,{omit:["layers","patternFeatures"]});var a1={get paint(){return h=h||new iz({"fill-antialias":new iI(eR.paint_fill["fill-antialias"]),"fill-opacity":new iR(eR.paint_fill["fill-opacity"]),"fill-color":new iR(eR.paint_fill["fill-color"]),"fill-outline-color":new iR(eR.paint_fill["fill-outline-color"]),"fill-translate":new iI(eR.paint_fill["fill-translate"]),"fill-translate-anchor":new iI(eR.paint_fill["fill-translate-anchor"]),"fill-pattern":new iD(eR.paint_fill["fill-pattern"])})},get layout(){return c=c||new iz({"fill-sort-key":new iR(eR.layout_fill["fill-sort-key"])})}};class a2 extends iF{constructor(e){super(e,a1)}recalculate(e,t){super.recalculate(e,t);let r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new a0(e)}queryRadius(){return aa(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:e,geometry:t,transform:r,pixelsToTileUnits:n}){return o9(as(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-r.bearingInRadians,n),t)}isTileClipped(){return!0}}let a3=iG([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),a5=iG([{name:"a_centroid",components:2,type:"Int16"}],4),{members:a6}=a3;var a4,a8,a7,a9,se,st,sr,sn={};function si(){if(a8)return a4;a8=1;var e=w();function t(e,t,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=o,e.readFields(r,this,t)}function r(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}return a4=t,t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var r,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,l=[];t.pos<n;){if(o<=0){var u=t.readVarint();i=7&u,o=u>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(r&&l.push(r),r=[]),r.push(new e(a,s));else{if(7!==i)throw Error("unknown command "+i);r&&r.push(r[0].clone())}}return r&&l.push(r),l},t.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==r)throw Error("unknown command "+r)}return[a,l,s,u]},t.prototype.toGeoJSON=function(e,r,n){var i,o,a=this.extent*Math.pow(2,n),s=this.extent*e,l=this.extent*r,u=this.loadGeometry(),c=t.types[this.type];function h(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+s)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+l)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(i=0;i<u.length;i++)d[i]=u[i][0];h(u=d);break;case 2:for(i=0;i<u.length;i++)h(u[i]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=function(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)n+=((r=e[a]).x-(t=e[i]).x)*(t.y+r.y);return n}(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(u),i=0;i<u.length;i++)for(o=0;o<u[i].length;o++)h(u[i][o])}1===u.length?u=u[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f},a4}function so(){if(a9)return a7;a9=1;var e=si();function t(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(r,this,t),this.length=this._features.length}function r(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}return a7=t,t.prototype.feature=function(t){if(t<0||t>=this._features.length)throw Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new e(this._pbf,r,this.extent,this._keys,this._values)},a7}function sa(){return sr||(sr=1,sn.VectorTile=function(){if(st)return se;st=1;var e=so();function t(t,r,n){if(3===t){var i=new e(n,n.readVarint()+n.pos);i.length&&(r[i.name]=i)}}return se=function(e,r){this.layers=e.readFields(t,{},r)}}(),sn.VectorTileFeature=si(),sn.VectorTileLayer=so()),sn}var ss=x(sa());let sl=ss.VectorTileFeature.types;function su(e,t,r,n,i,o,a,s){e.emplaceBack(t,r,2*Math.floor(8192*n)+a,16384*i,16384*o,Math.round(s))}class sc{constructor(e){this.zoom=e.zoom,this.globalState=e.globalState,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ob,this.centroidVertexArray=new og,this.indexArray=new oA,this.programConfigurations=new o2(e.layers,e.zoom),this.segments=new oO,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r){for(let{feature:n,id:i,index:o,sourceLayerIndex:a}of(this.features=[],this.hasPattern=aM("fill-extrusion",this.layers,t),e)){let e=this.layers[0]._featureFilter.needGeometry,s=o4(n,e);if(!this.layers[0]._featureFilter.filter(new iS(this.zoom,{globalState:this.globalState}),s,r))continue;let l={id:i,sourceLayerIndex:a,index:o,geometry:e?s.geometry:o6(n),properties:n.properties,type:n.type,patterns:{}};this.hasPattern?this.features.push(ak("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,o,r,{},t.subdivisionGranularity),t.featureIndex.insert(n,l.geometry,o,a,this.index,!0)}}addFeatures(e,t,r){for(let n of this.features){let{geometry:i}=n;this.addFeature(n,i,n.index,t,r,e.subdivisionGranularity)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,a6),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,a5.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,r,n,i,o){for(let r of rD(t,500)){let t={x:0,y:0,sampleCount:0},i=this.layoutVertexArray.length;this.processPolygon(t,n,e,r,o);let a=this.layoutVertexArray.length-i,s=Math.floor(t.x/t.sampleCount),l=Math.floor(t.y/t.sampleCount);for(let e=0;e<a;e++)this.centroidVertexArray.emplaceBack(s,l)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}processPolygon(e,t,r,n,i){if(n.length<1||sh(n[0]))return;for(let t of n)0!==t.length&&function(e,t){for(let r=0;r<t.length;r++){let n=t[r];r===t.length-1&&t[0].x===n.x&&t[0].y===n.y||(e.x+=n.x,e.y+=n.y,e.sampleCount++)}}(e,t);let o={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},a=i.fill.getGranularityForZoomLevel(t.z),s="Polygon"===sl[r.type];for(let e of n){if(0===e.length||sh(e))continue;let t=aY(e,a,s);this._generateSideFaces(t,o)}if(!s)return;let l=aK(n,t,a,!1),u=this.layoutVertexArray;aQ((e,t)=>{su(u,e,t,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,l.verticesFlattened,l.indicesTriangles)}_generateSideFaces(e,t){let r=0;for(let n=1;n<e.length;n++){let i=e[n],o=e[n-1];if(i.x===o.x&&(i.x<0||i.x>8192)||i.y===o.y&&(i.y<0||i.y>8192))continue;t.segment.vertexLength+4>oO.MAX_VERTEX_ARRAY_LENGTH&&(t.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let a=i.sub(o)._perp()._unit(),s=o.dist(i);r+s>32768&&(r=0),su(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,0,r),su(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,1,r),r+=s,su(this.layoutVertexArray,o.x,o.y,a.x,a.y,0,0,r),su(this.layoutVertexArray,o.x,o.y,a.x,a.y,0,1,r);let l=t.segment.vertexLength;this.indexArray.emplaceBack(l,l+2,l+1),this.indexArray.emplaceBack(l+1,l+2,l+3),t.segment.vertexLength+=4,t.segment.primitiveLength+=2}}}function sh(e){return e.every(e=>e.x<0)||e.every(e=>e.x>8192)||e.every(e=>e.y<0)||e.every(e=>e.y>8192)}io("FillExtrusionBucket",sc,{omit:["layers","features"]});var sd={get paint(){return d=d||new iz({"fill-extrusion-opacity":new iI(eR["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new iR(eR["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new iI(eR["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new iI(eR["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new iD(eR["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new iR(eR["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new iR(eR["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new iI(eR["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sf extends iF{constructor(e){super(e,sd)}createBucket(e){return new sc(e)}queryRadius(){return aa(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:r,geometry:n,transform:i,pixelsToTileUnits:o,pixelPosMatrix:a}){let s=as(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-i.bearingInRadians,o),l=this.paint.get("fill-extrusion-height").evaluate(t,r),u=this.paint.get("fill-extrusion-base").evaluate(t,r),c=function(e,t){let r=[];for(let n of e){let e=[n.x,n.y,0,1];U(e,e,t),r.push(new M(e[0]/e[3],e[1]/e[3]))}return r}(s,a),h=function(e,t,r,n){let i=[],o=[],a=n[8]*t,s=n[9]*t,l=n[10]*t,u=n[11]*t,c=n[8]*r,h=n[9]*r,d=n[10]*r,f=n[11]*r;for(let t of e){let e=[],r=[];for(let i of t){let t=i.x,o=i.y,p=n[0]*t+n[4]*o+n[12],m=n[1]*t+n[5]*o+n[13],g=n[2]*t+n[6]*o+n[14],y=n[3]*t+n[7]*o+n[15],v=g+l,b=y+u,_=p+c,x=m+h,w=g+d,S=y+f,T=new M((p+a)/b,(m+s)/b);T.z=v/b,e.push(T);let E=new M(_/S,x/S);E.z=w/S,r.push(E)}i.push(e),o.push(r)}return[i,o]}(n,u,l,a);return function(e,t,r){let n=1/0;o9(r,t)&&(n=sm(r,t[0]));for(let i=0;i<t.length;i++){let o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){let t=o[e],i=[t,o[e+1],a[e+1],a[e],t];o7(r,i)&&(n=Math.min(n,sm(r,i)))}}return n!==1/0&&n}(h[0],h[1],c)}}function sp(e,t){return e.x*t.x+e.y*t.y}function sm(e,t){if(1===e.length){let r,n=0,i=t[n++];for(;!r||i.equals(r);)if(!(r=t[n++]))return 1/0;for(;n<t.length;n++){let o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),u=a.sub(i),c=sp(s,s),h=sp(s,l),d=sp(l,l),f=sp(u,s),p=sp(u,l),m=c*d-h*h,g=(d*f-h*p)/m,y=(c*p-h*f)/m,v=i.z*(1-g-y)+r.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(let r of t)e=Math.min(e,r.z);return e}}let{members:sg}=iG([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:sy}=iG([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),sv=ss.VectorTileFeature.types,sb=Math.cos(Math.PI/180*37.5);class s_{constructor(e){this.zoom=e.zoom,this.globalState=e.globalState,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new o_,this.layoutVertexArray2=new ox,this.indexArray=new oA,this.programConfigurations=new o2(e.layers,e.zoom),this.segments=new oO,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r){this.hasPattern=aM("line",this.layers,t);let n=this.layers[0].layout.get("line-sort-key"),i=!n.isConstant(),o=[];for(let{feature:t,id:a,index:s,sourceLayerIndex:l}of e){let e=this.layers[0]._featureFilter.needGeometry,u=o4(t,e);if(!this.layers[0]._featureFilter.filter(new iS(this.zoom,{globalState:this.globalState}),u,r))continue;let c=i?n.evaluate(u,{},r):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:o6(t),patterns:{},sortKey:c};o.push(h)}for(let n of(i&&o.sort((e,t)=>e.sortKey-t.sortKey),o)){let{geometry:i,index:o,sourceLayerIndex:a}=n;if(this.hasPattern){let e=ak("line",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,{},t.subdivisionGranularity);t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(let n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,t,r,e.subdivisionGranularity)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,sy)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,sg),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,r,n,i,o){let a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap"),u=a.get("line-miter-limit"),c=a.get("line-round-limit");for(let r of(this.lineClips=this.lineFeatureClips(e),t))this.addLine(r,e,s,l,u,c,n,o);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}addLine(e,t,r,n,i,o,a,s){let l,u,c,h,d;if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e=aY(e,a?s.line.getGranularityForZoomLevel(a.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let f="Polygon"===sv[t.type],p=e.length;for(;p>=2&&e[p-1].equals(e[p-2]);)p--;let m=0;for(;m<p-1&&e[m].equals(e[m+1]);)m++;if(p<(f?3:2))return;"bevel"===r&&(i=1.05);let g=this.overscaling<=16?122880/(512*this.overscaling):0,y=this.segments.prepareSegment(10*p,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,f&&(l=e[p-2],d=e[m].sub(l)._unit()._perp());for(let t=m;t<p;t++){if((c=t===p-1?f?e[m+1]:void 0:e[t+1])&&e[t].equals(c))continue;d&&(h=d),l&&(u=l),l=e[t],d=c?c.sub(l)._unit()._perp():h;let a=(h=h||d).add(d);0===a.x&&0===a.y||a._unit();let s=h.x*d.x+h.y*d.y,v=a.x*d.x+a.y*d.y,b=0!==v?1/v:1/0,_=2*Math.sqrt(2-2*v),x=v<sb&&u&&c,w=h.x*d.y-h.y*d.x>0;if(x&&t>m){let e=l.dist(u);if(e>2*g){let t=l.sub(l.sub(u)._mult(g/e)._round());this.updateDistance(u,t),this.addCurrentVertex(t,h,0,0,y),u=t}}let S=u&&c,T=S?r:f?"butt":n;if(S&&"round"===T&&(b<o?T="miter":b<=2&&(T="fakeround")),"miter"===T&&b>i&&(T="bevel"),"bevel"===T&&(b>2&&(T="flipbevel"),b<i&&(T="miter")),u&&this.updateDistance(u,l),"miter"===T)a._mult(b),this.addCurrentVertex(l,a,0,0,y);else if("flipbevel"===T){if(b>100)a=d.mult(-1);else{let e=b*h.add(d).mag()/h.sub(d).mag();a._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(l,a,0,0,y),this.addCurrentVertex(l,a.mult(-1),0,0,y)}else if("bevel"===T||"fakeround"===T){let e=-Math.sqrt(b*b-1),t=w?e:0,r=w?0:e;if(u&&this.addCurrentVertex(l,h,t,r,y),"fakeround"===T){let e=Math.round(180*_/Math.PI/20);for(let t=1;t<e;t++){let r=t/e;if(.5!==r){let e=r-.5;r+=r*e*(r-1)*((1.0904+s*(s*(3.55645-1.43519*s)-3.2452))*e*e+(.848013+s*(.215638*s-1.06021)))}let n=d.sub(h)._mult(r)._add(h)._unit()._mult(w?-1:1);this.addHalfVertex(l,n.x,n.y,!1,w,0,y)}}c&&this.addCurrentVertex(l,d,-t,-r,y)}else if("butt"===T)this.addCurrentVertex(l,a,0,0,y);else if("square"===T){let e=u?1:-1;this.addCurrentVertex(l,a,e,e,y)}else"round"===T&&(u&&(this.addCurrentVertex(l,h,0,0,y),this.addCurrentVertex(l,h,1,1,y,!0)),c&&(this.addCurrentVertex(l,d,-1,-1,y,!0),this.addCurrentVertex(l,d,0,0,y)));if(x&&t<p-1){let e=l.dist(c);if(e>2*g){let t=l.add(c.sub(l)._mult(g/e)._round());this.updateDistance(l,t),this.addCurrentVertex(t,d,0,0,y),l=t}}}}addCurrentVertex(e,t,r,n,i,o=!1){let a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,o,!1,r,i),this.addHalfVertex(e,a,s,o,!0,-n,i),this.distance>16384&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,r,n,i,o))}addHalfVertex({x:e,y:t},r,n,i,o,a,s){let l=.5*(this.lineClips?32767*this.scaledDistance:this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+ +!!i,(t<<1)+ +!!o,Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let u=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,u,this.e2),s.primitiveLength++),o?this.e2=u:this.e1=u}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}io("LineBucket",s_,{omit:["layers","patternFeatures"]});var sx={get paint(){return p=p||new iz({"line-opacity":new iR(eR.paint_line["line-opacity"]),"line-color":new iR(eR.paint_line["line-color"]),"line-translate":new iI(eR.paint_line["line-translate"]),"line-translate-anchor":new iI(eR.paint_line["line-translate-anchor"]),"line-width":new iR(eR.paint_line["line-width"]),"line-gap-width":new iR(eR.paint_line["line-gap-width"]),"line-offset":new iR(eR.paint_line["line-offset"]),"line-blur":new iR(eR.paint_line["line-blur"]),"line-dasharray":new iL(eR.paint_line["line-dasharray"]),"line-pattern":new iD(eR.paint_line["line-pattern"]),"line-gradient":new ij(eR.paint_line["line-gradient"])})},get layout(){return f=f||new iz({"line-cap":new iI(eR.layout_line["line-cap"]),"line-join":new iR(eR.layout_line["line-join"]),"line-miter-limit":new iI(eR.layout_line["line-miter-limit"]),"line-round-limit":new iI(eR.layout_line["line-round-limit"]),"line-sort-key":new iR(eR.layout_line["line-sort-key"])})}};class sw extends iR{possiblyEvaluate(e,t){return t=new iS(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,r,n){return t=et({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,r,n)}}class sS extends iF{constructor(e){super(e,sx),this.gradientVersion=0,m||((m=new sw(sx.paint.properties["line-width"].specification)).useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){let e=this.gradientExpression();this.stepInterpolant=void 0!==e._styleExpression&&e._styleExpression.expression instanceof t6,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=m.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new s_(e)}queryRadius(e){var t,r;return t=ao("line-width",this,e),((r=ao("line-gap-width",this,e))>0?r+2*t:t)/2+Math.abs(ao("line-offset",this,e))+aa(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:r,geometry:n,transform:i,pixelsToTileUnits:o}){var a,s;let l=as(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-i.bearingInRadians,o),u=o/2*(a=this.paint.get("line-width").evaluate(t,r),(s=this.paint.get("line-gap-width").evaluate(t,r))>0?s+2*a:a),c=this.paint.get("line-offset").evaluate(t,r);return c&&(n=function(e,t){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=[];for(let e=0;e<i.length;e++){let r=i[e-1],n=i[e],a=i[e+1],s=0===e?new M(0,0):n.sub(r)._unit()._perp(),l=e===i.length-1?new M(0,0):a.sub(n)._unit()._perp(),u=s._add(l)._unit(),c=u.x*l.x+u.y*l.y;0!==c&&u._mult(1/c),o.push(u._mult(t)._add(n))}r.push(o)}return r}(n,c*o)),function(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(e.length>=3){for(let t=0;t<i.length;t++)if(ai(e,i[t]))return!0}if(function(e,t,r){if(e.length>1){if(ae(e,t))return!0;for(let n=0;n<t.length;n++)if(at(t[n],e,r))return!0}for(let n=0;n<e.length;n++)if(at(e[n],t,r))return!0;return!1}(e,i,r))return!0}return!1}(l,n,u)}isTileClipped(){return!0}}let sT=iG([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),sE=iG([{name:"a_projected_pos",components:3,type:"Float32"}],4);iG([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let sP=iG([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);iG([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let sC=iG([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),sA=iG([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);iG([{name:"triangle",components:3,type:"Uint16"}]),iG([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),iG([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),iG([{type:"Float32",name:"offsetX"}]),iG([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),iG([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let sM={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var sk,sO,sI,sR={};function sD(){if(sI)return sO;sI=1,sO=t;var e=(sk||(sk=1,sR.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=u}return(f?-1:1)*a*Math.pow(2,o-n)},sR.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=n?0:o-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+f]=255&a,f+=p,a/=256,u-=8);e[r+f-p]|=128*m}),sR);function t(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var r="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function n(e){return e.type===t.Bytes?e.readVarint()+e.pos:e.pos+1}function i(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=0xfffffff?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function o(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function a(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function s(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function l(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function u(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function c(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function f(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function p(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+0x1000000*e[t+3]}function m(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function g(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}return t.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=p(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=g(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=p(this.buf,this.pos)+0x100000000*p(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=p(this.buf,this.pos)+0x100000000*g(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var t=e.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=e.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o,a=r.buf;if(i=(112&(o=a[r.pos++]))>>4,o<128||(i|=(127&(o=a[r.pos++]))<<3,o<128)||(i|=(127&(o=a[r.pos++]))<<10,o<128)||(i|=(127&(o=a[r.pos++]))<<17,o<128)||(i|=(127&(o=a[r.pos++]))<<24,o<128)||(i|=(1&(o=a[r.pos++]))<<31,o<128))return n=i,t?0x100000000*n+(e>>>0):0x100000000*(n>>>0)+(e>>>0);throw Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?-((e+1)/2):e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e,t=this.readVarint()+this.pos,n=this.pos;return this.pos=t,t-n>=12&&r?(e=this.buf,r.decode(e.subarray(n,t))):function(e,t,r){for(var n="",i=t;i<r;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c}return n}(this.buf,n,t)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,r){if(this.type!==t.Bytes)return e.push(this.readVarint(r));var i=n(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(r));return e},readPackedSVarint:function(e){if(this.type!==t.Bytes)return e.push(this.readSVarint());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==t.Bytes)return e.push(this.readBoolean());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==t.Bytes)return e.push(this.readFloat());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==t.Bytes)return e.push(this.readDouble());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==t.Bytes)return e.push(this.readFixed32());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==t.Bytes)return e.push(this.readSFixed32());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==t.Bytes)return e.push(this.readFixed64());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==t.Bytes)return e.push(this.readSFixed64());var r=n(this);for(e=e||[];this.pos<r;)e.push(this.readSFixed64());return e},skip:function(e){var r=7&e;if(r===t.Varint)for(;this.buf[this.pos++]>127;);else if(r===t.Bytes)this.pos=this.readVarint()+this.pos;else if(r===t.Fixed32)this.pos+=4;else{if(r!==t.Fixed64)throw Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),m(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),m(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),m(this.buf,-1&e,this.pos),m(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),m(this.buf,-1&e,this.pos),m(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>0xfffffff||e<0?function(e,t){var r,n,i,o,a;if(e>=0?(r=e%0x100000000|0,n=e/0x100000000|0):(n=~(-e/0x100000000),0xffffffff^(r=~(-e%0x100000000))?r=r+1|0:(r=0,n=n+1|0)),e>=0xffffffffffffffff||e<-0xffffffffffffffff)throw Error("Given varint doesn't fit into 10 bytes");t.realloc(10),i=r,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,t.buf[t.pos]=127&(i>>>=7),a=(7&(o=n))<<4,t.buf[t.pos++]|=a|128*!!(o>>>=3),o&&(t.buf[t.pos++]=127&o|128*!!(o>>>=7),o&&(t.buf[t.pos++]=127&o|128*!!(o>>>=7),o&&(t.buf[t.pos++]=127&o|128*!!(o>>>=7),o&&(t.buf[t.pos++]=127&o|128*!!(o>>>=7),o&&(t.buf[t.pos++]=127&o)))))}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|128*(e>127),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|128*(e>127),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|128*(e>127),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?-(2*e)-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&i(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),e.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),e.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&i(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,r,n){this.writeTag(e,t.Bytes),this.writeRawMessage(r,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,o,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,a,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,s,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,f,t)},writeBytesField:function(e,r){this.writeTag(e,t.Bytes),this.writeBytes(r)},writeFixed32Field:function(e,r){this.writeTag(e,t.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(e,r){this.writeTag(e,t.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(e,r){this.writeTag(e,t.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(e,r){this.writeTag(e,t.Fixed64),this.writeSFixed64(r)},writeVarintField:function(e,r){this.writeTag(e,t.Varint),this.writeVarint(r)},writeSVarintField:function(e,r){this.writeTag(e,t.Varint),this.writeSVarint(r)},writeStringField:function(e,r){this.writeTag(e,t.Bytes),this.writeString(r)},writeFloatField:function(e,r){this.writeTag(e,t.Fixed32),this.writeFloat(r)},writeDoubleField:function(e,r){this.writeTag(e,t.Fixed64),this.writeDouble(r)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}},sO}var sL,sj=x(sD());function sz(e,t,r){1===e&&r.readMessage(sB,t)}function sB(e,t,r){if(3===e){let{id:e,bitmap:n,width:i,height:o,left:a,top:s,advance:l}=r.readMessage(sF,{});t.push({id:e,bitmap:new ag({width:i+6,height:o+6},n),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function sF(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function sN(e){let t=0,r=0;for(let n of e)t+=n.w*n.h,r=Math.max(r,n.w);e.sort((e,t)=>t.h-e.h);let n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],i=0,o=0;for(let t of e)for(let e=n.length-1;e>=0;e--){let r=n[e];if(!(t.w>r.w||t.h>r.h)){if(t.x=r.x,t.y=r.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===r.w&&t.h===r.h){let t=n.pop();e<n.length&&(n[e]=t)}else t.h===r.h?(r.x+=t.w,r.w-=t.w):(t.w===r.w||n.push({x:r.x+t.w,y:r.y,w:r.w-t.w,h:t.h}),r.y+=t.h,r.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}class sV{constructor(e,{pixelRatio:t,version:r,stretchX:n,stretchY:i,content:o,textFitWidth:a,textFitHeight:s}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=o,this.version=r,this.textFitWidth=a,this.textFitHeight=s}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class sU{constructor(e,t){let r={},n={};this.haveRenderCallbacks=[];let i=[];this.addImages(e,r,i),this.addImages(t,n,i);let{w:o,h:a}=sN(i),s=new ay({width:o||1,height:a||1});for(let t in e){let n=e[t],i=r[t].paddedRect;ay.copy(n.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data)}for(let e in t){let r=t[e],i=n[e].paddedRect,o=i.x+1,a=i.y+1,l=r.data.width,u=r.data.height;ay.copy(r.data,s,{x:0,y:0},{x:o,y:a},r.data),ay.copy(r.data,s,{x:0,y:u-1},{x:o,y:a-1},{width:l,height:1}),ay.copy(r.data,s,{x:0,y:0},{x:o,y:a+u},{width:l,height:1}),ay.copy(r.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:u}),ay.copy(r.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:u})}this.image=s,this.iconPositions=r,this.patternPositions=n}addImages(e,t,r){for(let n in e){let i=e[n],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(o),t[n]=new sV(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){for(let r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}patchUpdatedImage(e,t,r){if(!e||!t||e.version===t.version)return;e.version=t.version;let[n,i]=e.tl;r.update(t.data,void 0,{x:n,y:i})}}io("ImagePosition",sV),io("ImageAtlas",sU),e.an=void 0,(sL=e.an||(e.an={}))[sL.none=0]="none",sL[sL.horizontal=1]="horizontal",sL[sL.vertical=2]="vertical",sL[sL.horizontalOnly=3]="horizontalOnly";class sG{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(e,t,r){let n=new sG;return n.scale=e||1,n.fontStack=t,n.verticalAlign=r||"bottom",n}static forImage(e,t){let r=new sG;return r.imageName=e,r.verticalAlign=t||"bottom",r}}class sH{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){let r=new sH;for(let n=0;n<e.sections.length;n++){let i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;t+=n&&ib(n)&&!sM[e[r+1]]||i&&ib(i)&&!sM[e[r-1]]||!sM[e[r]]?e[r]:sM[e[r]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&s$[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let r=this.text.length-1;r>=0&&r>=e&&s$[this.text.charCodeAt(r)];r--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){let r=new sH;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}getMaxImageSize(e){let t=0,r=0;for(let n=0;n<this.length();n++){let i=this.getSection(n);if(i.imageName){let n=e[i.imageName];if(!n)continue;let o=n.displaySize;t=Math.max(t,o[0]),r=Math.max(r,o[1])}}return{maxImageWidth:t,maxImageHeight:r}}addTextSection(e,t){this.text+=e.text,this.sections.push(sG.forText(e.scale,e.fontStack||t,e.verticalAlign));let r=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(r)}addImageSection(e){let t=e.image?e.image.name:"";if(0===t.length)return void es("Can't add FormattedSection with an empty image.");let r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(sG.forImage(t,e.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):es("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function sq(t,r,n,i,o,a,s,l,u,c,h,d,f,p,m){let g;let y=sH.fromFeature(t,o);d===e.an.vertical&&y.verticalizePunctuation();let{processBidirectionalText:v,processStyledBidirectionalText:b}=iw;if(v&&1===y.sections.length)for(let e of(g=[],v(y.toString(),sQ(y,c,a,r,i,p)))){let t=new sH;t.text=e,t.sections=y.sections;for(let r=0;r<e.length;r++)t.sectionIndex.push(0);g.push(t)}else if(b)for(let e of(g=[],b(y.text,y.sectionIndex,sQ(y,c,a,r,i,p)))){let t=new sH;t.text=e[0],t.sectionIndex=e[1],t.sections=y.sections,g.push(t)}else g=function(e,t){let r=[],n=e.text,i=0;for(let n of t)r.push(e.substring(i,n)),i=n;return i<n.length&&r.push(e.substring(i,n.length)),r}(y,sQ(y,c,a,r,i,p));let _=[],x={positionedLines:_,text:y.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(t,r,n,i,o,a,s,l,u,c,h,d){let f=0,p=0,m=0,g=0,y="right"===l?1:.5*("left"!==l),v=24/d,b=0;for(let s of o){s.trim();let o=s.getMaxScale(),l={positionedGlyphs:[],lineOffset:0};t.positionedLines[b]=l;let d=l.positionedGlyphs,_=0;if(!s.length()){p+=a,++b;continue}let x=function(e,t,r){let n=24*t.getMaxScale(),{maxImageWidth:i,maxImageHeight:o}=t.getMaxImageSize(e),a=Math.max(n,o*r);return{verticalLineContentWidth:Math.max(n,i*r),horizontalLineContentHeight:a}}(i,s,v);for(let a=0;a<s.length();a++){let l;let m=s.getSection(a),g=s.getSectionIndex(a),y=s.getCharCode(a),b=!(u===e.an.horizontal||!h&&!iv(y)||h&&(s$[y]||/\p{sc=Arab}/u.test(String.fromCodePoint(y))));if(m.imageName){if(t.iconsInText=!0,m.scale=m.scale*v,!(l=function(e,t,r,n,i){let o;let a=i[e.imageName];if(!a)return null;let s=a.paddedRect,l=a.displaySize,u={width:l[0],height:l[1],left:1,top:-3,advance:t?l[1]:l[0]};if(t)o=n.verticalLineContentWidth-l[1]*e.scale;else{let t=s0(e.verticalAlign);o=(n.horizontalLineContentHeight-l[1]*e.scale)*t}return{rect:s,metrics:u,baselineOffset:o,imageOffset:(t?l[0]:l[1])*e.scale-24*r}}(m,b,o,x,i)))continue;_=Math.max(_,l.imageOffset)}else if(!(l=function(e,t,r,n,i,o){let a;let s=o[e.fontStack],l=function(e,t,r,n){if(e&&e.rect)return e;let i=t[r.fontStack],o=i&&i[n];return o?{rect:null,metrics:o.metrics}:null}(s&&s[t],i,e,t);if(null===l)return null;if(r)a=n.verticalLineContentWidth-24*e.scale;else{let t=s0(e.verticalAlign);a=(n.horizontalLineContentHeight-24*e.scale)*t}return{rect:l.rect,metrics:l.metrics,baselineOffset:a}}(m,y,b,x,r,n)))continue;let{rect:w,metrics:S,baselineOffset:T}=l;d.push({glyph:y,imageName:m.imageName,x:f,y:p+T+-17,vertical:b,scale:m.scale,fontStack:m.fontStack,sectionIndex:g,metrics:S,rect:w}),b?(t.verticalizable=!0,f+=(m.imageName?S.advance:24)*m.scale+c):f+=S.advance*m.scale+c}0!==d.length&&(m=Math.max(f-c,m),function(e,t,r,n){if(0===n)return;let i=e[r],o=(e[r].x+i.metrics.advance*i.scale)*n;for(let t=0;t<=r;t++)e[t].x-=o}(d,0,d.length-1,y)),f=0,l.lineOffset=Math.max(_,(o-1)*24);let w=a*o+_;p+=w,g=Math.max(w,g),++b}let{horizontalAlign:_,verticalAlign:x}=sJ(s);(function(e,t,r,n,i,o,a,s,l){let u=(t-r)*i,c=0;for(let t of(c=o!==a?-s*n- -17:-n*l*a+.5*a,e))for(let e of t.positionedGlyphs)e.x+=u,e.y+=c})(t.positionedLines,y,_,x,m,g,a,p,o.length),t.top+=-x*p,t.bottom=t.top+p,t.left+=-_*m,t.right=t.left+m}(x,r,n,i,g,s,l,u,d,c,f,m),!function(e){for(let t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(_)&&x}let s$={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},sW={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},sX={40:!0};function sZ(e,t,r,n,i,o){if(t.imageName){let e=n[t.imageName];return e?e.displaySize[0]*t.scale*24/o+i:0}{let n=r[t.fontStack],o=n&&n[e];return o?o.metrics.advance*t.scale+i:0}}function sK(e,t,r,n){let i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function sY(e,t,r,n,i,o){let a=null,s=sK(t,r,i,o);for(let e of n){let n=sK(t-e.x,r,i,o)+e.badness;n<=s&&(a=e,s=n)}return{index:e,x:t,priorBreak:a,badness:s}}function sQ(e,t,r,n,i,o){if(!e)return[];let a=[],s=function(e,t,r,n,i,o){let a=0;for(let r=0;r<e.length();r++){let s=e.getSection(r);a+=sZ(e.getCharCode(r),s,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,o),l=e.text.indexOf("")>=0,u=0;for(let r=0;r<e.length();r++){let c=e.getSection(r),h=e.getCharCode(r);if(s$[h]||(u+=sZ(h,c,n,i,t,o)),r<e.length()-1){let t=!(h<11904)&&(!!id["CJK Compatibility Forms"](h)||!!id["CJK Compatibility"](h)||!!id["CJK Strokes"](h)||!!id["CJK Symbols and Punctuation"](h)||!!id["Enclosed CJK Letters and Months"](h)||!!id["Halfwidth and Fullwidth Forms"](h)||!!id["Ideographic Description Characters"](h)||!!id["Vertical Forms"](h)||iy.test(String.fromCodePoint(h)));(sW[h]||t||c.imageName||r!==e.length()-2&&sX[e.getCharCode(r+1)])&&a.push(sY(r+1,u,s,a,function(e,t,r){let n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}(h,e.getCharCode(r+1),t&&l),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(sY(e.length(),u,s,a,0,!0))}function sJ(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function s0(e){switch(e){case"top":return 0;case"center":return .5;default:return 1}}function s1(e){var t,r;let n=e.left,i=e.top,o=e.right-n,a=e.bottom-i,s=null!==(t=e.image.textFitWidth)&&void 0!==t?t:"stretchOrShrink",l=null!==(r=e.image.textFitHeight)&&void 0!==r?r:"stretchOrShrink",u=(e.image.content[2]-e.image.content[0])/(e.image.content[3]-e.image.content[1]);if("proportional"===l){if("stretchOnly"===s&&o/a<u||"proportional"===s){let e=Math.ceil(a*u);n*=e/o,o=e}}else if("proportional"===s&&"stretchOnly"===l&&0!==u&&o/a>u){let e=Math.ceil(o/u);i*=e/a,a=e}return{x1:n,y1:i,x2:n+o,y2:i+a}}function s2(e,t,r,n,i,o){let a,s,l,u,c;let h=e.image;if(h.content){let e=h.content,t=h.pixelRatio||1;a=[e[0]/t,e[1]/t,h.displaySize[0]-e[2]/t,h.displaySize[1]-e[3]/t]}let d=t.left*o,f=t.right*o;"width"===r||"both"===r?(c=i[0]+d-n[3],l=i[0]+f+n[1]):l=(c=i[0]+(d+f-h.displaySize[0])/2)+h.displaySize[0];let p=t.top*o,m=t.bottom*o;return"height"===r||"both"===r?(s=i[1]+p-n[0],u=i[1]+m+n[2]):u=(s=i[1]+(p+m-h.displaySize[1])/2)+h.displaySize[1],{image:h,top:s,right:l,bottom:u,left:c,collisionPadding:a}}function s3(e,t){let{expression:r}=t;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new iS(e+1))};if("source"===r.kind)return{kind:"source"};{let{zoomStops:t,interpolationType:n}=r,i=0;for(;i<t.length&&t[i]<=e;)i++;let o=i=Math.max(0,i-1);for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);let a=t[i],s=t[o];return"composite"===r.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:n}:{kind:"camera",minZoom:a,maxZoom:s,minSize:r.evaluate(new iS(a)),maxSize:r.evaluate(new iS(s)),interpolationType:n}}}function s5(e,t,r){let n="never",i=e.get(t);return i?n=i:e.get(r)&&(n="always"),n}let s6=ss.VectorTileFeature.types,s4=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function s8(e,t,r,n,i,o,a,s,l,u,c,h,d){let f=s?Math.min(32640,Math.round(s[0])):0,p=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(f<<1)+ +!!l,p,16*u,16*c,256*h,256*d)}function s7(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}class s9{constructor(e){this.layoutVertexArray=new oS,this.indexArray=new oA,this.programConfigurations=e,this.segments=new oO,this.dynamicLayoutVertexArray=new oT,this.opacityVertexArray=new oE,this.hasVisibleVertices=!1,this.placedSymbolArray=new os}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,sT.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,sE.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,s4,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}io("SymbolBuffers",s9);class le{constructor(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new oO,this.collisionVertexArray=new oC}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,sP.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}io("CollisionBuffers",le);class lt{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(e=>e.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=s3(this.zoom,r["text-size"]),this.iconSizeData=s3(this.zoom,r["icon-size"]);let n=this.layers[0].layout,i=n.get("symbol-sort-key"),o=n.get("symbol-z-order");this.canOverlap="never"!==s5(n,"text-overlap","text-allow-overlap")||"never"!==s5(n,"icon-overlap","icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map(t=>e.an[t])),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=t.sourceID}createArrays(){this.text=new s9(new o2(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new s9(new o2(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new oc,this.lineVertexArray=new oh,this.symbolInstances=new ou,this.textAnchorOffsets=new of}calculateGlyphDependencies(e,t,r,n,i){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(r||n)&&i){let r=sM[e.charAt(o)];r&&(t[r.charCodeAt(0)]=!0)}}populate(t,r,n){let i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof tM&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!u&&!c)return;let d=r.iconDependencies,f=r.glyphDependencies,p=r.availableImages,m=new iS(this.zoom,{globalState:this.globalState});for(let{feature:r,id:s,index:l,sourceLayerIndex:g}of t){let t,y;let v=i._featureFilter.needGeometry,b=o4(r,v);if(!i._featureFilter.filter(m,b,n))continue;if(v||(b.geometry=o6(r)),u){let e=i.getValueAndResolveTokens("text-field",b,n,p),r=tM.factory(e),o=this.hasRTLText=this.hasRTLText||function(e){for(let t of e.sections)if(function(e){for(let t of e)if(ix(t.charCodeAt(0)))return!0;return!1}(t.text))return!0;return!1}(r);(!o||"unavailable"===iw.getRTLTextPluginStatus()||o&&iw.isParsed())&&(t=function(e,t,r){return e.sections.forEach(e=>{e.text=function(e,t,r){let n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),iw.applyArabicShaping&&(e=iw.applyArabicShaping(e)),e}(e.text,t,r)}),e}(r,i,b))}if(c){let e=i.getValueAndResolveTokens("icon-image",b,n,p);y=e instanceof tj?e:tj.fromString(e)}if(!t&&!y)continue;let _=this.sortFeaturesByKey?h.evaluate(b,{},n):void 0;if(this.features.push({id:s,text:t,icon:y,index:l,sourceLayerIndex:g,geometry:b.geometry,properties:r.properties,type:s6[r.type],sortKey:_}),y&&(d[y.name]=!0),t){let r=a.evaluate(b,{},n).join(","),i="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");for(let n of(this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.an.vertical)>=0,t.sections))if(n.image)d[n.image.name]=!0;else{let e=ip(t.toString()),o=n.fontStack||r,a=f[o]=f[o]||{};this.calculateGlyphDependencies(n.text,a,i,this.allowVerticalPlacement,e)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){let t={},r={},n=[],i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){let o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){let o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function l(e,t,r){let n=r?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let u=0;u<e.length;u++){let c=e[u],h=c.geometry,d=c.text?c.text.toString():null;if(!d){o(u);continue}let f=l(d,h),p=l(d,h,!0);if(f in r&&p in t&&r[f]!==t[p]){let e=s(f,p,h),i=a(f,p,n[e].geometry);delete t[f],delete r[p],r[l(d,n[i].geometry,!0)]=i,n[e].geometry=null}else f in r?a(f,p,h):p in t?s(f,p,h):(o(u),t[f]=i-1,r[p]=i-1)}return n.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){let r=this.lineVertexArray.length;if(void 0!==e.segment){let r=e.dist(t[e.segment+1]),n=e.dist(t[e.segment]),i={};for(let n=e.segment+1;n<t.length;n++)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n<t.length-1&&(r+=t[n+1].dist(t[n]));for(let r=e.segment||0;r>=0;r--)i[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r>0&&(n+=t[r-1].dist(t[r]));for(let e=0;e<t.length;e++){let t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,r,n,i,o,a,s,l,u,c,h,d){let f=t.indexArray,p=t.layoutVertexArray,m=t.segments.prepareSegment(4*r.length,p,f,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,v=this.allowVerticalPlacement&&s===e.an.vertical?Math.PI/2:0,b=a.text&&a.text.sections;for(let e=0;e<r.length;e++){let{tl:i,tr:o,bl:s,br:u,tex:c,pixelOffsetTL:h,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:_,glyphOffset:x,isSDF:w,sectionIndex:S}=r[e],T=m.vertexLength,E=x[1];s8(p,l.x,l.y,i.x,E+i.y,c.x,c.y,n,w,h.x,h.y,y,_),s8(p,l.x,l.y,o.x,E+o.y,c.x+c.w,c.y,n,w,g.x,h.y,y,_),s8(p,l.x,l.y,s.x,E+s.y,c.x,c.y+c.h,n,w,h.x,g.y,y,_),s8(p,l.x,l.y,u.x,E+u.y,c.x+c.w,c.y+c.h,n,w,g.x,g.y,y,_),s7(t.dynamicLayoutVertexArray,l,v),f.emplaceBack(T,T+2,T+1),f.emplaceBack(T+1,T+2,T+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==r.length-1&&S===r[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,a,a.index,{},d,b&&b[S])}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,u,c,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],s,0,!1,0,h)}_addCollisionDebugVertex(e,t,r,n,i,o){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(e,t,r,n,i,o,a){let s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=s.vertexLength,u=i.layoutVertexArray,c=i.collisionVertexArray,h=a.anchorX,d=a.anchorY;this._addCollisionDebugVertex(u,c,o,h,d,new M(e,t)),this._addCollisionDebugVertex(u,c,o,h,d,new M(r,t)),this._addCollisionDebugVertex(u,c,o,h,d,new M(r,n)),this._addCollisionDebugVertex(u,c,o,h,d,new M(e,n)),s.vertexLength+=4;let f=i.indexArray;f.emplaceBack(l,l+1),f.emplaceBack(l+1,l+2),f.emplaceBack(l+2,l+3),f.emplaceBack(l+3,l),s.primitiveLength+=4}addDebugCollisionBoxes(e,t,r,n){for(let i=e;i<t;i++){let e=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,n?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,r)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new le(oP,sC.members,oM),this.iconCollisionBox=new le(oP,sC.members,oM);for(let e=0;e<this.symbolInstances.length;e++){let t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,r,n,i,o,a,s,l){let u={};for(let n=t;n<r;n++){let t=e.get(n);u.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.textFeatureIndex=t.featureIndex;break}for(let t=n;t<i;t++){let r=e.get(t);u.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalTextFeatureIndex=r.featureIndex;break}for(let t=o;t<a;t++){let r=e.get(t);u.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.iconFeatureIndex=r.featureIndex;break}for(let t=s;t<l;t++){let r=e.get(t);u.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalIconFeatureIndex=r.featureIndex;break}return u}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){let r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){let r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs;for(let t=r.vertexStartIndex;t<n;t+=4)e.indexArray.emplaceBack(t,t+2,t+1),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;let t=Math.sin(e),r=Math.cos(e),n=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);let a=this.symbolInstances.get(e);n.push(0|Math.round(t*a.anchorX+r*a.anchorY)),i.push(a.featureIndex)}return o.sort((e,t)=>n[e]-n[t]||i[t]-i[e]),o}addToSortKeyRanges(e,t){let r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){for(let t of(this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[],this.symbolInstanceIndexes)){let e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach((e,t,r)=>{e>=0&&r.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}io("SymbolBucket",lt,{omit:["layers","collisionBoxArray","features","compareText"]}),lt.MAX_GLYPHS=65535,lt.addDynamicAttributes=s7;var lr={get paint(){return y=y||new iz({"icon-opacity":new iR(eR.paint_symbol["icon-opacity"]),"icon-color":new iR(eR.paint_symbol["icon-color"]),"icon-halo-color":new iR(eR.paint_symbol["icon-halo-color"]),"icon-halo-width":new iR(eR.paint_symbol["icon-halo-width"]),"icon-halo-blur":new iR(eR.paint_symbol["icon-halo-blur"]),"icon-translate":new iI(eR.paint_symbol["icon-translate"]),"icon-translate-anchor":new iI(eR.paint_symbol["icon-translate-anchor"]),"text-opacity":new iR(eR.paint_symbol["text-opacity"]),"text-color":new iR(eR.paint_symbol["text-color"],{runtimeType:eK,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new iR(eR.paint_symbol["text-halo-color"]),"text-halo-width":new iR(eR.paint_symbol["text-halo-width"]),"text-halo-blur":new iR(eR.paint_symbol["text-halo-blur"]),"text-translate":new iI(eR.paint_symbol["text-translate"]),"text-translate-anchor":new iI(eR.paint_symbol["text-translate-anchor"])})},get layout(){return g=g||new iz({"symbol-placement":new iI(eR.layout_symbol["symbol-placement"]),"symbol-spacing":new iI(eR.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new iI(eR.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new iR(eR.layout_symbol["symbol-sort-key"]),"symbol-z-order":new iI(eR.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new iI(eR.layout_symbol["icon-allow-overlap"]),"icon-overlap":new iI(eR.layout_symbol["icon-overlap"]),"icon-ignore-placement":new iI(eR.layout_symbol["icon-ignore-placement"]),"icon-optional":new iI(eR.layout_symbol["icon-optional"]),"icon-rotation-alignment":new iI(eR.layout_symbol["icon-rotation-alignment"]),"icon-size":new iR(eR.layout_symbol["icon-size"]),"icon-text-fit":new iI(eR.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new iI(eR.layout_symbol["icon-text-fit-padding"]),"icon-image":new iR(eR.layout_symbol["icon-image"]),"icon-rotate":new iR(eR.layout_symbol["icon-rotate"]),"icon-padding":new iR(eR.layout_symbol["icon-padding"]),"icon-keep-upright":new iI(eR.layout_symbol["icon-keep-upright"]),"icon-offset":new iR(eR.layout_symbol["icon-offset"]),"icon-anchor":new iR(eR.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new iI(eR.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new iI(eR.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new iI(eR.layout_symbol["text-rotation-alignment"]),"text-field":new iR(eR.layout_symbol["text-field"]),"text-font":new iR(eR.layout_symbol["text-font"]),"text-size":new iR(eR.layout_symbol["text-size"]),"text-max-width":new iR(eR.layout_symbol["text-max-width"]),"text-line-height":new iI(eR.layout_symbol["text-line-height"]),"text-letter-spacing":new iR(eR.layout_symbol["text-letter-spacing"]),"text-justify":new iR(eR.layout_symbol["text-justify"]),"text-radial-offset":new iR(eR.layout_symbol["text-radial-offset"]),"text-variable-anchor":new iI(eR.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new iR(eR.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new iR(eR.layout_symbol["text-anchor"]),"text-max-angle":new iI(eR.layout_symbol["text-max-angle"]),"text-writing-mode":new iI(eR.layout_symbol["text-writing-mode"]),"text-rotate":new iR(eR.layout_symbol["text-rotate"]),"text-padding":new iI(eR.layout_symbol["text-padding"]),"text-keep-upright":new iI(eR.layout_symbol["text-keep-upright"]),"text-transform":new iR(eR.layout_symbol["text-transform"]),"text-offset":new iR(eR.layout_symbol["text-offset"]),"text-allow-overlap":new iI(eR.layout_symbol["text-allow-overlap"]),"text-overlap":new iI(eR.layout_symbol["text-overlap"]),"text-ignore-placement":new iI(eR.layout_symbol["text-ignore-placement"]),"text-optional":new iI(eR.layout_symbol["text-optional"])})}};class ln{constructor(e){if(void 0===e.property.overrides)throw Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:e$,this.defaultValue=e}evaluate(e){if(e.formattedSection){let t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}io("FormatSectionOverride",ln,{omit:["defaultValue"]});class li extends iF{constructor(e){super(e,lr)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){let e=this.layout.get("text-writing-mode");if(e){let t=[];for(let r of e)0>t.indexOf(r)&&t.push(r);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,r,n){var i;let o=this.layout.get(e).evaluate(t,{},r,n),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||ng(a.value)||!o?o:(i=t.properties,o.replace(/{([^{}]+)}/g,(e,t)=>i&&t in i?String(i[t]):""))}createBucket(e){return new lt(e)}queryRadius(){return 0}queryIntersectsFeature(){throw Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let e of lr.paint.overridableProperties){if(!li.hasPaintOverride(this.layout,e))continue;let t=this.paint.get(e),r=new nm(new ln(t),t.property.specification),n=null;n="constant"===t.value.kind||"source"===t.value.kind?new nv("source",r):new nb("composite",r,t.value.zoomStops),this.paint._values[e]=new ik(t.property,n,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&li.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){let r=e.get("text-field"),n=lr.paint.properties[t],i=!1,o=e=>{for(let t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof tM)o(r.value.value.sections);else if("source"===r.value.kind){let e=t=>{i||(t instanceof tU&&tN(t.value)===e1?o(t.value.sections):t instanceof rg?o(t.sections):t.eachChild(e))},t=r.value;t._styleExpression&&e(t._styleExpression.expression)}return i}}var lo={get paint(){return v=v||new iz({"background-color":new iI(eR.paint_background["background-color"]),"background-pattern":new iL(eR.paint_background["background-pattern"]),"background-opacity":new iI(eR.paint_background["background-opacity"])})}};class la extends iF{constructor(e){super(e,lo)}}var ls={get paint(){return b=b||new iz({"raster-opacity":new iI(eR.paint_raster["raster-opacity"]),"raster-hue-rotate":new iI(eR.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new iI(eR.paint_raster["raster-brightness-min"]),"raster-brightness-max":new iI(eR.paint_raster["raster-brightness-max"]),"raster-saturation":new iI(eR.paint_raster["raster-saturation"]),"raster-contrast":new iI(eR.paint_raster["raster-contrast"]),"raster-resampling":new iI(eR.paint_raster["raster-resampling"]),"raster-fade-duration":new iI(eR.paint_raster["raster-fade-duration"])})}};class ll extends iF{constructor(e){super(e,ls)}}class lu extends iF{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw Error("Custom layers cannot be serialized")}}class lc{constructor(e){this._methodToThrottle=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let lh={once:!0};class ld{constructor(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ld(ee(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){let t=Math.PI/180,r=this.lat*t,n=e.lat*t;return 6371008.8*Math.acos(Math.min(Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t),1))}static convert(e){if(e instanceof ld)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new ld(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new ld(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let lf=2*Math.PI*6371008.8;function lp(e){return lf*Math.cos(e*Math.PI/180)}function lm(e){return(180+e)/360}function lg(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function ly(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function lv(e,t){return e*lp(ly(t))}class lb{constructor(e,t,r=0){this.x=+e,this.y=+t,this.z=+r}static fromLngLat(e,t=0){let r=ld.convert(e);return new lb(lm(r.lng),lg(r.lat),t/lp(r.lat))}toLngLat(){return new ld(360*this.x-180,ly(this.y))}toAltitude(){return lv(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/lf*(1/Math.cos(ly(this.y)*Math.PI/180))}}function l_(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class lx{constructor(e,t,r){if(e<0||e>25||r<0||r>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw Error(`x=${t}, y=${r}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=t,this.y=r,this.key=lT(0,e,e,t,r)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,r){var n,i,o,a,s;let l=(i=this.y,o=this.z,a=l_(256*(n=this.x),256*(i=Math.pow(2,o)-i-1),o),s=l_(256*(n+1),256*(i+1),o),a[0]+","+a[1]+","+s[0]+","+s[1]),u=function(e,t,r){let n,i="";for(let o=e;o>0;o--)i+=(t&(n=1<<o-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,u).replace(/{bbox-epsg-3857}/g,l)}isChildOf(e){let t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){let t=Math.pow(2,this.z);return new M((e.x*t-this.x)*8192,(e.y*t-this.y)*8192)}toString(){return`${this.z}/${this.x}/${this.y}`}}class lw{constructor(e,t){this.wrap=e,this.canonical=t,this.key=lT(e,t.z,t.z,t.x,t.y)}}class lS{constructor(e,t,r,n,i){if(this.terrainRttPosMatrix32f=null,e<r)throw Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${r}`);this.overscaledZ=e,this.wrap=t,this.canonical=new lx(r,+n,+i),this.key=lT(t,e,r,n,i)}clone(){return new lS(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);let t=this.canonical.z-e;return e>this.canonical.z?new lS(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new lS(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);let r=this.canonical.z-e;return e>this.canonical.z?lT(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):lT(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}isChildOf(e){if(e.wrap!==this.wrap)return!1;let t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new lS(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new lS(t,this.wrap,t,r,n),new lS(t,this.wrap,t,r+1,n),new lS(t,this.wrap,t,r,n+1),new lS(t,this.wrap,t,r+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new lS(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new lS(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new lw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new lb(e.x-this.wrap,e.y))}}function lT(e,t,r,n,i){(e*=2)<0&&(e=-1*e-1);let o=1<<r;return(o*o*e+o*i+n).toString(36)+r.toString(36)+t.toString(36)}io("CanonicalTileID",lx),io("OverscaledTileID",lS,{omit:["terrainRttPosMatrix32f"]});class lE{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(e){return this.minX=Math.min(this.minX,e.x),this.minY=Math.min(this.minY,e.y),this.maxX=Math.max(this.maxX,e.x),this.maxY=Math.max(this.maxY,e.y),this}expandBy(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(e){return this.expandBy(-e)}map(e){let t=new lE;return t.extend(e(new M(this.minX,this.minY))),t.extend(e(new M(this.maxX,this.minY))),t.extend(e(new M(this.minX,this.maxY))),t.extend(e(new M(this.maxX,this.maxY))),t}static fromPoints(e){let t=new lE;for(let r of e)t.extend(r);return t}contains(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(e){return!this.empty()&&!e.empty()&&e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY}intersects(e){return!this.empty()&&!e.empty()&&e.minX<=this.maxX&&e.maxX>=this.minX&&e.minY<=this.maxY&&e.maxY>=this.minY}}class lP{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){let r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class lC{constructor(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){let e={geometry:this.geometry};for(let t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class lA{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new ir(8192,16,0),this.grid3D=new ir(8192,16,0),this.featureIndexArray=new om,this.promoteId=t}insert(e,t,r,n,i,o){let a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);let s=o?this.grid3D:this.grid;for(let e=0;e<t.length;e++){let r=t[e],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<r.length;e++){let t=r[e];n[0]=Math.min(n[0],t.x),n[1]=Math.min(n[1],t.y),n[2]=Math.max(n[2],t.x),n[3]=Math.max(n[3],t.y)}n[0]<8192&&n[1]<8192&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ss.VectorTile(new sj(this.rawTileData)).layers,this.sourceLayerCoder=new lP(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,r,n){let i;this.loadVTLayers();let o=e.params,a=8192/e.tileSize/e.scale,s=nE(o.filter),l=e.queryGeometry,u=e.queryPadding*a,c=lE.fromPoints(l),h=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),d=lE.fromPoints(e.cameraQueryGeometry).expandBy(u);for(let t of this.grid3D.query(d.minX,d.minY,d.maxX,d.maxY,(t,r,n,i)=>(function(e,t,r,n,i){for(let o of e)if(t<=o.x&&r<=o.y&&n>=o.x&&i>=o.y)return!0;let o=[new M(t,r),new M(t,i),new M(n,i),new M(n,r)];if(e.length>2){for(let t of o)if(ai(e,t))return!0}for(let t=0;t<e.length-1;t++)if(function(e,t,r){let n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;let o=el(e,t,r[0]);return o!==el(e,t,r[1])||o!==el(e,t,r[2])||o!==el(e,t,r[3])}(e[t],e[t+1],o))return!0;return!1})(e.cameraQueryGeometry,t-u,r-u,n+u,i+u)))h.push(t);h.sort(lk);let f={};for(let u=0;u<h.length;u++){let c=h[u];if(c===i)continue;i=c;let d=this.featureIndexArray.get(c),p=null;this.loadMatchingFeature(f,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,s,o.layers,o.availableImages,t,r,n,(t,r,n)=>(p||(p=o6(t)),r.queryIntersectsFeature({queryGeometry:l,feature:t,featureState:n,geometry:p,zoom:this.z,transform:e.transform,pixelsToTileUnits:a,pixelPosMatrix:e.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:e.getElevation})))}return f}loadMatchingFeature(e,t,r,n,i,o,a,s,l,u,c){let h=this.bucketLayerIDs[t];if(o&&!h.some(e=>o.has(e)))return;let d=this.sourceLayerCoder.decode(r),f=this.vtLayers[d].feature(n);if(i.needGeometry){let e=o4(f,!0);if(!i.filter(new iS(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new iS(this.tileID.overscaledZ),f))return;let p=this.getId(f,d);for(let t=0;t<h.length;t++){let r=h[t];if(o&&!o.has(r))continue;let i=s[r];if(!i)continue;let d={};p&&u&&(d=u.getState(i.sourceLayer||"_geojsonTileLayer",p));let m=et({},l[r]);m.paint=lM(m.paint,i.paint,f,d,a),m.layout=lM(m.layout,i.layout,f,d,a);let g=!c||c(f,i,d);if(!g)continue;let y=new lC(f,this.z,this.x,this.y,p);y.layer=m;let v=e[r];void 0===v&&(v=e[r]=[]),v.push({featureIndex:n,feature:y,intersectionZ:g})}}lookupSymbolFeatures(e,t,r,n,i,o,a,s){let l={};this.loadVTLayers();let u=nE(i);for(let i of e)this.loadMatchingFeature(l,r,n,i,u,o,a,s,t);return l}hasLayer(e){for(let t of this.bucketLayerIDs)for(let r of t)if(e===r)return!0;return!1}getId(e,t){var r;let n=e.id;return this.promoteId&&("boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),void 0===n&&(null===(r=e.properties)||void 0===r?void 0:r.cluster)&&this.promoteId&&(n=Number(e.properties.cluster_id))),n}}function lM(e,t,r,n,i){return en(e,(e,o)=>{let a=t instanceof iO?t.get(o):null;return a&&a.evaluate?a.evaluate(r,n,i):a})}function lk(e,t){return t-e}function lO(e,t,r,n,i){let o=[];for(let a=0;a<e.length;a++){let s;let l=e[a];for(let e=0;e<l.length-1;e++){let a=l[e],u=l[e+1];a.x<t&&u.x<t||(a.x<t?a=new M(t,a.y+(t-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x<t&&(u=new M(t,a.y+(t-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y<r&&u.y<r||(a.y<r?a=new M(a.x+(r-a.y)/(u.y-a.y)*(u.x-a.x),r)._round():u.y<r&&(u=new M(a.x+(r-a.y)/(u.y-a.y)*(u.x-a.x),r)._round()),a.x>=n&&u.x>=n||(a.x>=n?a=new M(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x>=n&&(u=new M(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y>=i&&u.y>=i||(a.y>=i?a=new M(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round():u.y>=i&&(u=new M(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round()),s&&a.equals(s[s.length-1])||(s=[a],o.push(s)),s.push(u)))))}}return o}io("FeatureIndex",lA,{omit:["rawTileData","sourceLayerCoder"]});class lI extends M{constructor(e,t,r,n){super(e,t),this.angle=r,void 0!==n&&(this.segment=n)}clone(){return new lI(this.x,this.y,this.angle,this.segment)}}function lR(e,t,r,n,i){if(void 0===t.segment||0===r)return!0;let o=t,a=t.segment+1,s=0;for(;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;let l=[],u=0;for(;s<r/2;){let t=e[a],r=e[a+1];if(!r)return!1;let o=e[a-1].angleTo(t)-t.angleTo(r);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),u+=o;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=t.dist(r)}return!0}function lD(e){let t=0;for(let r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function lL(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function lj(e,t,r,n){let i=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,u={x1:e.left,y1:e.top,x2:e.right,y2:e.bottom},c=o.stretchX||[[0,s]],h=o.stretchY||[[0,l]],d=(e,t)=>e+t[1]-t[0],f=c.reduce(d,0),p=h.reduce(d,0),m=s-f,g=l-p,y=0,v=f,b=0,_=p,x=0,w=m,S=0,T=g;if(o.content&&n){let t=o.content,r=t[2]-t[0],n=t[3]-t[1];(o.textFitWidth||o.textFitHeight)&&(u=s1(e)),y=lz(c,0,t[0]),b=lz(h,0,t[1]),v=lz(c,t[0],t[2]),_=lz(h,t[1],t[3]),x=t[0]-y,S=t[1]-b,w=r-v,T=n-_}let E=u.x1,P=u.y1,C=u.x2-E,A=u.y2-P,k=(e,n,i,s)=>{var l,u,c,h;let d=(e.stretch-y)/v*C+E,m=(l=e.fixed-x,l-w*e.stretch/f),g=(n.stretch-b)/_*A+P,k=(u=n.fixed-S,u-T*n.stretch/p),O=(i.stretch-y)/v*C+E,I=(c=i.fixed-x,c-w*i.stretch/f),R=(s.stretch-b)/_*A+P,D=(h=s.fixed-S,h-T*s.stretch/p),L=new M(d,g),j=new M(O,g),z=new M(O,R),B=new M(d,R),F=new M(m/a,k/a),N=new M(I/a,D/a),V=t*Math.PI/180;if(V){let e=Math.sin(V),t=Math.cos(V),r=[t,-e,e,t];L._matMult(r),j._matMult(r),B._matMult(r),z._matMult(r)}let U=e.stretch+e.fixed,G=n.stretch+n.fixed;return{tl:L,tr:j,bl:B,br:z,tex:{x:o.paddedRect.x+1+U,y:o.paddedRect.y+1+G,w:i.stretch+i.fixed-U,h:s.stretch+s.fixed-G},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:F,pixelOffsetBR:N,minFontScaleX:w/a/C,minFontScaleY:T/a/A,isSDF:r}};if(n&&(o.stretchX||o.stretchY)){let e=lB(c,m,f),t=lB(h,g,p);for(let r=0;r<e.length-1;r++){let n=e[r],o=e[r+1];for(let e=0;e<t.length-1;e++)i.push(k(n,t[e],o,t[e+1]))}}else i.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function lz(e,t,r){let n=0;for(let i of e)n+=Math.max(t,Math.min(r,i[1]))-Math.max(t,Math.min(r,i[0]));return n}function lB(e,t,r){let n=[{fixed:-1,stretch:0}];for(let[t,r]of e){let e=n[n.length-1];n.push({fixed:t-e.stretch,stretch:e.stretch}),n.push({fixed:t-e.stretch,stretch:e.stretch+(r-t)})}return n.push({fixed:t+1,stretch:r}),n}io("Anchor",lI);class lF{constructor(e,t,r,n,i,o,a,s,l,u){var c;if(this.boxStartIndex=e.length,l){let e=o.top,t=o.bottom,r=o.collisionPadding;r&&(e-=r[1],t+=r[3]);let n=t-e;n>0&&(n=Math.max(10,n),this.circleDiameter=n)}else{let l=(null===(c=o.image)||void 0===c?void 0:c.content)&&(o.image.textFitWidth||o.image.textFitHeight)?s1(o):{x1:o.left,y1:o.top,x2:o.right,y2:o.bottom};l.y1=l.y1*a-s[0],l.y2=l.y2*a+s[2],l.x1=l.x1*a-s[3],l.x2=l.x2*a+s[1];let h=o.collisionPadding;if(h&&(l.x1-=h[0]*a,l.y1-=h[1]*a,l.x2+=h[2]*a,l.y2+=h[3]*a),u){let e=new M(l.x1,l.y1),t=new M(l.x2,l.y1),r=new M(l.x1,l.y2),n=new M(l.x2,l.y2),i=u*Math.PI/180;e._rotate(i),t._rotate(i),r._rotate(i),n._rotate(i),l.x1=Math.min(e.x,t.x,r.x,n.x),l.x2=Math.max(e.x,t.x,r.x,n.x),l.y1=Math.min(e.y,t.y,r.y,n.y),l.y2=Math.max(e.y,t.y,r.y,n.y)}e.emplaceBack(t.x,t.y,l.x1,l.y1,l.x2,l.y2,r,n,i)}this.boxEndIndex=e.length}}class lN{constructor(e=[],t=(e,t)=>e<t?-1:+(e>t)){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;let e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:t,compare:r}=this,n=t[e];for(;e>0;){let i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n}_down(e){let{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),o=n+1;if(o<this.length&&0>r(t[o],t[n])&&(n=o),r(t[n],i)>=0)break;t[e]=t[n],e=n}t[e]=i}}function lV(e,t){return t.max-e.max}function lU(e,t,r,n){this.p=new M(e,t),this.h=r,this.d=function(e,t){let r=!1,n=1/0;for(let i=0;i<t.length;i++){let o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){let i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(r=!r),n=Math.min(n,ar(e,i,s))}}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}e.aD=void 0,(S=e.aD||(e.aD={}))[S.center=1]="center",S[S.left=2]="left",S[S.right=3]="right",S[S.top=4]="top",S[S.bottom=5]="bottom",S[S["top-left"]=6]="top-left",S[S["top-right"]=7]="top-right",S[S["bottom-left"]=8]="bottom-left",S[S["bottom-right"]=9]="bottom-right";let lG=Number.POSITIVE_INFINITY;function lH(e,t){return t[1]!==lG?function(e,t,r){let n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){let r=0,n=0;t<0&&(t=0);let i=t/Math.SQRT2;switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function lq(e,t,r){var n;let i=e.layout,o=null===(n=i.get("text-variable-anchor-offset"))||void 0===n?void 0:n.evaluate(t,{},r);if(o){let e=o.values,t=[];for(let r=0;r<e.length;r+=2){let n=t[r]=e[r],i=e[r+1].map(e=>24*e);n.startsWith("top")?i[1]-=7:n.startsWith("bottom")&&(i[1]+=7),t[r+1]=i}return new tL(t)}let a=i.get("text-variable-anchor");if(a){let n;n=void 0!==e._unevaluatedLayout.getValue("text-radial-offset")?[24*i.get("text-radial-offset").evaluate(t,{},r),lG]:i.get("text-offset").evaluate(t,{},r).map(e=>24*e);let o=[];for(let e of a)o.push(e,lH(e,n));return new tL(o)}return null}function l$(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function lW(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p){let m=function(e,t,r,n,i,o,a,s){let l=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=[];for(let e of t.positionedLines)for(let n of e.positionedGlyphs){if(!n.rect)continue;let o=n.rect||{},c=4,h=!0,d=1,f=0,p=(i||s)&&n.vertical,m=n.metrics.advance*n.scale/2;if(s&&t.verticalizable&&(f=e.lineOffset/2-(n.imageName?-(24-n.metrics.width*n.scale)/2:(n.scale-1)*24)),n.imageName){let e=a[n.imageName];h=e.sdf,c=1/(d=e.pixelRatio)}let g=i?[n.x+m,n.y]:[0,0],y=i?[0,0]:[n.x+m+r[0],n.y+r[1]-f],v=[0,0];p&&(v=y,y=[0,0]);let b=n.metrics.isDoubleResolution?2:1,_=(n.metrics.left-c)*n.scale-m+y[0],x=(-n.metrics.top-c)*n.scale+y[1],w=_+o.w/b*n.scale/d,S=x+o.h/b*n.scale/d,T=new M(_,x),E=new M(w,x),P=new M(_,S),C=new M(w,S);if(p){let e=new M(-m,m- -17),t=-Math.PI/2,r=12-m,i=new M(22-r,-(n.imageName?r:0)),o=new M(...v);T._rotateAround(t,e)._add(i)._add(o),E._rotateAround(t,e)._add(i)._add(o),P._rotateAround(t,e)._add(i)._add(o),C._rotateAround(t,e)._add(i)._add(o)}if(l){let e=Math.sin(l),t=Math.cos(l),r=[t,-e,e,t];T._matMult(r),E._matMult(r),P._matMult(r),C._matMult(r)}let A=new M(0,0),k=new M(0,0);u.push({tl:T,tr:E,bl:P,br:C,tex:o,writingMode:t.writingMode,glyphOffset:g,sectionIndex:n.sectionIndex,isSDF:h,pixelOffsetTL:A,pixelOffsetBR:k,minFontScaleX:0,minFontScaleY:0})}return u}(0,r,s,i,o,a,n,e.allowVerticalPlacement),g=e.textSizeData,y=null;for(let r of("source"===g.kind?(y=[128*i.layout.get("text-size").evaluate(a,{})])[0]>32640&&es(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`):"composite"===g.kind&&((y=[128*f.compositeTextSizes[0].evaluate(a,{},p),128*f.compositeTextSizes[1].evaluate(a,{},p)])[0]>32640||y[1]>32640)&&es(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`),e.addSymbols(e.text,m,y,s,o,a,u,t,l.lineStartIndex,l.lineLength,d,p),c))h[r]=e.text.placedSymbolArray.length-1;return 4*m.length}function lX(e){for(let t in e)return e[t];return null}let lZ=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class lK{static from(e){if(!(e instanceof ArrayBuffer))throw Error("Data must be an instance of ArrayBuffer.");let[t,r]=new Uint8Array(e,0,2);if(219!==t)throw Error("Data does not appear to be in a KDBush format.");let n=r>>4;if(1!==n)throw Error(`Got v${n} data when expected v1.`);let i=lZ[15&r];if(!i)throw Error("Unrecognized array type.");let[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new lK(a,o,i,e)}constructor(e,t=64,r=Float64Array,n){if(isNaN(e)||e<0)throw Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;let i=lZ.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(i<0)throw Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+s),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){let r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){let e=this._pos>>1;if(e!==this.numItems)throw Error(`Added ${e} items when expected ${this.numItems}.`);return function e(t,r,n,i,o,a){if(o-i<=n)return;let s=i+o>>1;(function e(t,r,n,i,o,a){for(;o>i;){if(o-i>600){let s=o-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*c/s+h)),Math.min(o,Math.floor(n+(s-l)*c/s+h)),a)}let s=r[2*n+a],l=i,u=o;for(lY(t,r,i,n),r[2*o+a]>s&&lY(t,r,i,o);l<u;){for(lY(t,r,l,u),l++,u--;r[2*l+a]<s;)l++;for(;r[2*u+a]>s;)u--}r[2*i+a]===s?lY(t,r,i,u):lY(t,r,++u,o),u<=n&&(i=u+1),n<=u&&(o=u-1)}})(t,r,s,i,o,a),e(t,r,n,i,s-1,1-a),e(t,r,n,s+1,o,1-a)}(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,n){if(!this._finished)throw Error("Data not yet indexed - call index.finish().");let{ids:i,coords:o,nodeSize:a}=this,s=[0,i.length-1,0],l=[];for(;s.length;){let u=s.pop()||0,c=s.pop()||0,h=s.pop()||0;if(c-h<=a){for(let a=h;a<=c;a++){let s=o[2*a],u=o[2*a+1];s>=e&&s<=r&&u>=t&&u<=n&&l.push(i[a])}continue}let d=h+c>>1,f=o[2*d],p=o[2*d+1];f>=e&&f<=r&&p>=t&&p<=n&&l.push(i[d]),(0===u?e<=f:t<=p)&&(s.push(h),s.push(d-1),s.push(1-u)),(0===u?r>=f:n>=p)&&(s.push(d+1),s.push(c),s.push(1-u))}return l}within(e,t,r){if(!this._finished)throw Error("Data not yet indexed - call index.finish().");let{ids:n,coords:i,nodeSize:o}=this,a=[0,n.length-1,0],s=[],l=r*r;for(;a.length;){let u=a.pop()||0,c=a.pop()||0,h=a.pop()||0;if(c-h<=o){for(let r=h;r<=c;r++)lJ(i[2*r],i[2*r+1],e,t)<=l&&s.push(n[r]);continue}let d=h+c>>1,f=i[2*d],p=i[2*d+1];lJ(f,p,e,t)<=l&&s.push(n[d]),(0===u?e-r<=f:t-r<=p)&&(a.push(h),a.push(d-1),a.push(1-u)),(0===u?e+r>=f:t+r>=p)&&(a.push(d+1),a.push(c),a.push(1-u))}return s}}function lY(e,t,r,n){lQ(e,r,n),lQ(t,2*r,2*n),lQ(t,2*r+1,2*n+1)}function lQ(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function lJ(e,t,r,n){let i=e-r,o=t-n;return i*i+o*o}e.cw=void 0,(T=e.cw||(e.cw={})).create="create",T.load="load",T.fullLoad="fullLoad";let l0=null,l1=[],l2=1e3/60,l3="loadTime",l5="fullLoadTime";e.$=8192,e.A=R,e.B=function([e,t,r]){return t+=90,{x:e*Math.cos(t*=Math.PI/180)*Math.sin(r*=Math.PI/180),y:e*Math.sin(t)*Math.sin(r),z:e*Math.cos(r)}},e.C=rn,e.D=iI,e.E=eI,e.F=iS,e.G=n7,e.H=function(e){if(null==ec){let t=e.navigator?e.navigator.userAgent:null;ec=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return ec},e.I=sV,e.J=class{constructor(e,t){this.target=e,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new lc(()=>this.process()),this.subscription=ep(this.target,"message",e=>this.receive(e),!1),this.globalScope=eu(self)?e:window}registerMessageHandler(e,t){this.messageHandlers[e]=t}sendAsync(e,t){return new Promise((r,n)=>{let i=Math.round(1e18*Math.random()).toString(36).substring(0,10),o=t?ep(t.signal,"abort",()=>{null==o||o.unsubscribe(),delete this.resolveRejects[i];let t={id:i,type:"<cancel>",origin:location.origin,targetMapId:e.targetMapId,sourceMapId:this.mapId};this.target.postMessage(t)},lh):null;this.resolveRejects[i]={resolve:e=>{null==o||o.unsubscribe(),r(e)},reject:e=>{null==o||o.unsubscribe(),n(e)}};let a=[],s=Object.assign(Object.assign({},e),{id:i,sourceMapId:this.mapId,origin:location.origin,data:iu(e.data,a)});this.target.postMessage(s,{transfer:a})})}receive(e){let t=e.data,r=t.id;if(!("file://"!==t.origin&&"file://"!==location.origin&&"resource://android"!==t.origin&&"resource://android"!==location.origin&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if("<cancel>"===t.type){delete this.tasks[r];let e=this.abortControllers[r];return delete this.abortControllers[r],void(e&&e.abort())}if(eu(self)||t.mustQueue)return this.tasks[r]=t,this.taskQueue.push(r),void this.invoker.trigger();this.processTask(r,t)}}process(){if(0===this.taskQueue.length)return;let e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,t){return _(this,void 0,void 0,function*(){if("<response>"===t.type){let r=this.resolveRejects[e];if(delete this.resolveRejects[e],!r)return;return void(t.error?r.reject(ic(t.error)):r.resolve(ic(t.data)))}if(!this.messageHandlers[t.type])return void this.completeTask(e,Error(`Could not find a registered handler for ${t.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let r=ic(t.data),n=new AbortController;this.abortControllers[e]=n;try{let i=yield this.messageHandlers[t.type](t.sourceMapId,r,n);this.completeTask(e,null,i)}catch(t){this.completeTask(e,t)}})}completeTask(e,t,r){let n=[];delete this.abortControllers[e];let i={id:e,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?iu(t):null,data:iu(r,n)};this.target.postMessage(i,{transfer:n})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},e.K=eS,e.L=function(){var e=new R(16);return R!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.M=function(e,t,r){var n,i,o,a,s,l,u,c,h,d,f,p,m=r[0],g=r[1],y=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=n=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=n*m+s*g+h*y+t[12],e[13]=i*m+l*g+d*y+t[13],e[14]=o*m+u*g+f*y+t[14],e[15]=a*m+c*g+p*y+t[15]),e},e.N=function(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.O=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],y=t[14],v=t[15],b=r[0],_=r[1],x=r[2],w=r[3];return e[0]=b*n+_*s+x*h+w*m,e[1]=b*i+_*l+x*d+w*g,e[2]=b*o+_*u+x*f+w*y,e[3]=b*a+_*c+x*p+w*v,e[4]=(b=r[4])*n+(_=r[5])*s+(x=r[6])*h+(w=r[7])*m,e[5]=b*i+_*l+x*d+w*g,e[6]=b*o+_*u+x*f+w*y,e[7]=b*a+_*c+x*p+w*v,e[8]=(b=r[8])*n+(_=r[9])*s+(x=r[10])*h+(w=r[11])*m,e[9]=b*i+_*l+x*d+w*g,e[10]=b*o+_*u+x*f+w*y,e[11]=b*a+_*c+x*p+w*v,e[12]=(b=r[12])*n+(_=r[13])*s+(x=r[14])*h+(w=r[15])*m,e[13]=b*i+_*l+x*d+w*g,e[14]=b*o+_*u+x*f+w*y,e[15]=b*a+_*c+x*p+w*v,e},e.P=M,e.Q=function(e,t){let r={};for(let n=0;n<t.length;n++){let i=t[n];i in e&&(r[i]=e[i])}return r},e.R=ay,e.S=ld,e.T=aT,e.U=lg,e.V=lm,e.W=O,e.X=I,e.Y=ef,e.Z=lS,e._=_,e.a=ex,e.a$=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},e.a0=lb,e.a1=lE,e.a2=25,e.a3=lx,e.a4=e=>{let t=window.document.createElement("video");return t.muted=!0,new Promise(r=>{for(let n of(t.onloadstart=()=>{r(t)},e)){let e=window.document.createElement("source");eC(n)||(t.crossOrigin="Anonymous"),e.src=n,t.appendChild(e)}})},e.a5=eU,e.a6=function(){return er++},e.a7=oo,e.a8=lt,e.a9=nE,e.aA=24,e.aB=W,e.aC=function(e,t,r,n,i=!1){if(!r[0]&&!r[1])return[0,0];let o=i?"map"===n?-e.bearingInRadians:0:"viewport"===n?e.bearingInRadians:0;if(o){let e=Math.sin(o),t=Math.cos(o);r=[r[0]*t-r[1]*e,r[0]*e+r[1]*t]}return[i?r[0]:W(t,r[0],e.zoom),i?r[1]:W(t,r[1],e.zoom)]},e.aE=s5,e.aF=l$,e.aG=sJ,e.aH=lK,e.aI=iG,e.aJ=aX,e.aK=og,e.aL=oO,e.aM=oA,e.aN=ee,e.aO=eg,e.aP=lv,e.aQ=N,e.aR=F,e.aS=function(e){var t=new R(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.aT=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.aU=function(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.aV=V,e.aW=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.aX=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e},e.aY=z,e.aZ=function(e,t,r){let n=t[0]*r[0]+t[1]*r[1]+t[2]*r[2];return 0===n?null:(-(e[0]*r[0]+e[1]*r[1]+e[2]*r[2])-r[3])/n},e.a_=z,e.aa=o4,e.ab=lC,e.ac=function(e){let t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,r,n,i)=>{let o=n||i;return t[r]=!o||o.toLowerCase(),""}),t["max-age"]){let e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t},e.ad=em,e.ae=function(e){return Math.pow(2,e)},e.af=L,e.ag=J,e.ah=85.051129,e.ai=function(e,t){return e/lp(t)},e.aj=function(e){return Math.log(e)/Math.LN2},e.ak=function(e){var t=e[0],r=e[1];return t*t+r*r},e.al=function(e,t){let r=[];for(let n in e)n in t||r.push(n);return r},e.am=function(e,t){let r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){let{interpolationType:i,minZoom:o,maxZoom:a}=e,s=i?J(rt.interpolationFactor(i,t,o,a),0,1):0;"camera"===e.kind?n=rn.number(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}},e.ao=function(e,{uSize:t,uSizeT:r},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/128:"composite"===e.kind?rn.number(n/128,i/128,r):t},e.ap=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],g=t[14],y=t[15],v=r*s-n*a,b=r*l-i*a,_=r*u-o*a,x=n*l-i*s,w=n*u-o*s,S=i*u-o*l,T=c*m-h*p,E=c*g-d*p,P=c*y-f*p,C=h*g-d*m,A=h*y-f*m,M=d*y-f*g,k=v*M-b*A+_*C+x*P-w*E+S*T;return k?(e[0]=(s*M-l*A+u*C)*(k=1/k),e[1]=(i*A-n*M-o*C)*k,e[2]=(m*S-g*w+y*x)*k,e[3]=(d*w-h*S-f*x)*k,e[4]=(l*P-a*M-u*E)*k,e[5]=(r*M-i*P+o*E)*k,e[6]=(g*_-p*S-y*b)*k,e[7]=(c*S-d*_+f*b)*k,e[8]=(a*A-s*P+u*T)*k,e[9]=(n*P-r*A-o*T)*k,e[10]=(p*w-m*_+y*v)*k,e[11]=(h*_-c*w-f*v)*k,e[12]=(s*E-a*C-l*T)*k,e[13]=(r*C-n*E+i*T)*k,e[14]=(m*b-p*x-g*v)*k,e[15]=(c*x-h*b+d*v)*k,e):null},e.aq=q,e.ar=function(e){return Math.hypot(e[0],e[1])},e.as=function(e){return e[0]=0,e[1]=0,e},e.at=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},e.au=s7,e.av=U,e.aw=function(e,t,r,n){let i=t.y-e.y,o=t.x-e.x,a=n.y-r.y,s=n.x-r.x,l=a*o-s*i;if(0===l)return null;let u=(s*(e.y-r.y)-a*(e.x-r.x))/l;return new M(e.x+u*o,e.y+u*i)},e.ax=lO,e.ay=o7,e.az=function(e){let t=1/0,r=1/0,n=-1/0,i=-1/0;for(let o of e)t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return[t,r,n,i]},e.b=eh,e.b$=sA,e.b0=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},e.b1=lw,e.b2=lT,e.b3=function(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(o=1/(n-i)),e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e},e.b4=function(e){var t=new R(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.b5=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*n,e[1]=a*i+c*n,e[2]=s*i+h*n,e[3]=l*i+d*n,e[4]=u*i-o*n,e[5]=c*i-a*n,e[6]=h*i-s*n,e[7]=d*i-l*n,e},e.b6=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*n,e[5]=a*i+c*n,e[6]=s*i+h*n,e[7]=l*i+d*n,e[8]=u*i-o*n,e[9]=c*i-a*n,e[10]=h*i-s*n,e[11]=d*i-l*n,e},e.b7=function(){let e=new Float32Array(16);return L(e),e},e.b8=function(){let e=new Float64Array(16);return L(e),e},e.b9=function(){return new Float64Array(16)},e.bA=function(e){return e[0]=0,e[1]=0,e[2]=0,e},e.bB=function(e,t,r,n){let i=Math.sqrt(e*e+t*t),o=Math.sqrt(r*r+n*n);e/=i,t/=i;let a=Math.acos(e*(r/=o)+t*(n/=o));return-t*r+e*n>0?a:-a},e.bC=function(e,t){let r=X(e,2*Math.PI),n=X(t,2*Math.PI);return Math.min(Math.abs(r-n),Math.abs(r-n+2*Math.PI),Math.abs(r-n-2*Math.PI))},e.bD=function(){let e={},t=eR.$version;for(let r in eR.$root){let n=eR.$root[r];if(n.required){let i=null;null!=(i="version"===r?t:"array"===n.type?[]:{})&&(e[r]=i)}}return e},e.bE=ih,e.bF=eE,e.bG=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==r){if("object"!=typeof r||Object.keys(t).length!==Object.keys(r).length)return!1;for(let n in t)if(!e(t[n],r[n]))return!1;return!0}return t===r},e.bH=function(e){e=e.slice();let t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=function(e,t){let r={};for(let t in e)"ref"!==t&&(r[t]=e[t]);return eD.forEach(e=>{e in t&&(r[e]=t[e])}),r}(e[r],t[e[r].ref]));return e},e.bI=function(e){if("custom"===e.type)return new lu(e);switch(e.type){case"background":return new la(e);case"circle":return new au(e);case"color-relief":return new aC(e);case"fill":return new a2(e);case"fill-extrusion":return new sf(e);case"heatmap":return new a_(e);case"hillshade":return new aw(e);case"line":return new sS(e);case"raster":return new ll(e);case"symbol":return new li(e)}},e.bJ=eo,e.bK=function(e,t){if(!e)return[{command:"setStyle",args:[t]}];let r=[];try{if(!eL(e.version,t.version))return[{command:"setStyle",args:[t]}];eL(e.center,t.center)||r.push({command:"setCenter",args:[t.center]}),eL(e.state,t.state)||r.push({command:"setGlobalState",args:[t.state]}),eL(e.centerAltitude,t.centerAltitude)||r.push({command:"setCenterAltitude",args:[t.centerAltitude]}),eL(e.zoom,t.zoom)||r.push({command:"setZoom",args:[t.zoom]}),eL(e.bearing,t.bearing)||r.push({command:"setBearing",args:[t.bearing]}),eL(e.pitch,t.pitch)||r.push({command:"setPitch",args:[t.pitch]}),eL(e.roll,t.roll)||r.push({command:"setRoll",args:[t.roll]}),eL(e.sprite,t.sprite)||r.push({command:"setSprite",args:[t.sprite]}),eL(e.glyphs,t.glyphs)||r.push({command:"setGlyphs",args:[t.glyphs]}),eL(e.transition,t.transition)||r.push({command:"setTransition",args:[t.transition]}),eL(e.light,t.light)||r.push({command:"setLight",args:[t.light]}),eL(e.terrain,t.terrain)||r.push({command:"setTerrain",args:[t.terrain]}),eL(e.sky,t.sky)||r.push({command:"setSky",args:[t.sky]}),eL(e.projection,t.projection)||r.push({command:"setProjection",args:[t.projection]});let n={},i=[];!function(e,t,r,n){let i;for(i in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||eB(i,r,n));for(i in t){var o;Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?eL(e[i],t[i])||("geojson"===e[i].type&&"geojson"===t[i].type&&function(e,t,r){let n;for(n in e[r])if(Object.prototype.hasOwnProperty.call(e[r],n)&&"data"!==n&&!eL(e[r][n],t[r][n]))return!1;for(n in t[r])if(Object.prototype.hasOwnProperty.call(t[r],n)&&"data"!==n&&!eL(e[r][n],t[r][n]))return!1;return!0}(e,t,i)?ej(r,{command:"setGeoJSONSourceData",args:[i,t[i].data]}):(o=t,eB(i,r,n),ez(i,o,r))):ez(i,t,r))}}(e.sources,t.sources,i,n);let o=[];e.layers&&e.layers.forEach(e=>{"source"in e&&n[e.source]?r.push({command:"removeLayer",args:[e.id]}):o.push(e)}),r=r.concat(i),function(e,t,r){let n,i,o,a,s;t=t||[];let l=(e=e||[]).map(eN),u=t.map(eN),c=e.reduce(eV,{}),h=t.reduce(eV,{}),d=l.slice(),f=Object.create(null);for(let e=0,t=0;e<l.length;e++)n=l[e],Object.prototype.hasOwnProperty.call(h,n)?t++:(ej(r,{command:"removeLayer",args:[n]}),d.splice(d.indexOf(n,t),1));for(let e=0,t=0;e<u.length;e++)n=u[u.length-1-e],d[d.length-1-e]!==n&&(Object.prototype.hasOwnProperty.call(c,n)?(ej(r,{command:"removeLayer",args:[n]}),d.splice(d.lastIndexOf(n,d.length-t),1)):t++,a=d[d.length-e],ej(r,{command:"addLayer",args:[h[n],a]}),d.splice(d.length-e,0,n),f[n]=!0);for(let e=0;e<u.length;e++)if(i=c[n=u[e]],o=h[n],!f[n]&&!eL(i,o)){if(eL(i.source,o.source)&&eL(i["source-layer"],o["source-layer"])&&eL(i.type,o.type)){for(s in eF(i.layout,o.layout,r,n,null,"setLayoutProperty"),eF(i.paint,o.paint,r,n,null,"setPaintProperty"),eL(i.filter,o.filter)||ej(r,{command:"setFilter",args:[n,o.filter]}),eL(i.minzoom,o.minzoom)&&eL(i.maxzoom,o.maxzoom)||ej(r,{command:"setLayerZoomRange",args:[n,o.minzoom,o.maxzoom]}),i)Object.prototype.hasOwnProperty.call(i,s)&&"layout"!==s&&"paint"!==s&&"filter"!==s&&"metadata"!==s&&"minzoom"!==s&&"maxzoom"!==s&&(0===s.indexOf("paint.")?eF(i[s],o[s],r,n,s.slice(6),"setPaintProperty"):eL(i[s],o[s])||ej(r,{command:"setLayerProperty",args:[n,s,o[s]]}));for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&!Object.prototype.hasOwnProperty.call(i,s)&&"layout"!==s&&"paint"!==s&&"filter"!==s&&"metadata"!==s&&"minzoom"!==s&&"maxzoom"!==s&&(0===s.indexOf("paint.")?eF(i[s],o[s],r,n,s.slice(6),"setPaintProperty"):eL(i[s],o[s])||ej(r,{command:"setLayerProperty",args:[n,s,o[s]]}))}else ej(r,{command:"removeLayer",args:[n]}),a=d[d.lastIndexOf(n)+1],ej(r,{command:"addLayer",args:[o,a]})}}(o,t.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:"setStyle",args:[t]}]}return r},e.bL=function(e){let t=[],r=e.id;return void 0===r&&t.push({message:`layers.${r}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${r}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},e.bM=en,e.bN=ei,e.bO=class extends oH{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.bP=oW,e.bQ=class extends oH{constructor(e,t){super(e,t),this.current=oX}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.bR=o$,e.bS=class extends oH{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.bT=class extends oH{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.bU=D,e.bV=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.bW=function(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e},e.bX=function(e,t,r,n,i,o,a){var s=1/(t-r),l=1/(n-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(a+o)*u,e[15]=1,e},e.bY=class extends oH{constructor(e,t){super(e,t),this.current=[]}set(e){if(e!=this.current){this.current=e;let t=new Float32Array(4*e.length);for(let r=0;r<e.length;r++)t[4*r]=e[r].r,t[4*r+1]=e[r].g,t[4*r+2]=e[r].b,t[4*r+3]=e[r].a;this.gl.uniform4fv(this.location,t)}}},e.bZ=class extends oH{constructor(e,t){super(e,t),this.current=[]}set(e){if(e!=this.current){this.current=e;let t=new Float32Array(e);this.gl.uniform1fv(this.location,t)}}},e.b_=class extends i3{},e.ba=function(e,t,r){let n=new Float64Array(4);return H(n,e,t-90,r),n},e.bb=function(e,t,r,n){var i,o,a,s,l,u=t[0],c=t[1],h=t[2],d=t[3],f=r[0],p=r[1],m=r[2],g=r[3];return(o=u*f+c*p+h*m+d*g)<0&&(o=-o,f=-f,p=-p,m=-m,g=-g),1-o>1e-6?(a=Math.sin(i=Math.acos(o)),s=Math.sin((1-n)*i)/a,l=Math.sin(n*i)/a):(s=1-n,l=n),e[0]=s*u+l*f,e[1]=s*c+l*p,e[2]=s*h+l*m,e[3]=s*d+l*g,e},e.bc=function(e){var t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g;let y,v;let b=new Float64Array(9);l=(t=e[0])*(o=t+t),u=(r=e[1])*o,h=(n=e[2])*o,d=n*(a=r+r),p=(i=e[3])*o,m=i*a,g=i*(s=n+n),b[0]=1-(c=r*a)-(f=n*s),b[3]=u-g,b[6]=h+m,b[1]=u+g,b[4]=1-l-f,b[7]=d-p,b[2]=h-m,b[5]=d+p,b[8]=1-l-c;let _=eg(-Math.asin(J(b[2],-1,1)));return .001>Math.hypot(b[5],b[8])?(y=0,v=-eg(Math.atan2(b[3],b[4]))):(y=eg(0===b[5]&&0===b[8]?0:Math.atan2(b[5],b[8])),v=eg(0===b[1]&&0===b[0]?0:Math.atan2(b[1],b[0]))),{roll:y,pitch:_+90,bearing:v}},e.bd=function(e,t){return e.roll==t.roll&&e.pitch==t.pitch&&e.bearing==t.bearing},e.be=tE,e.bf=oq,e.bg=-32768,e.bh=32767,e.bi=aW,e.bj=Z,e.bk=K,e.bl=tz,e.bm=function(e,t,r,n,i){return Z(n,i,J((e-t)/(r-t),0,1))},e.bn=X,e.bo=function(){return new Float64Array(3)},e.bp=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},e.bq=H,e.br=function(e,t,r){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1],l=t[2],u=i*l-o*s,c=o*a-n*l,h=n*s-i*a,d=i*h-o*c,f=o*u-n*h,p=n*c-i*u,m=2*r[3];return c*=m,h*=m,f*=2,p*=2,e[0]=a+(u*=m)+(d*=2),e[1]=s+c+f,e[2]=l+h+p,e},e.bs=function(e,t,r){var n,i,o,a,s,l,u;let c=(n=[e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2]])[0]*((u=n[8])*(o=n[4])-(a=n[5])*(l=n[7]))+n[1]*(-u*(i=n[3])+a*(s=n[6]))+n[2]*(l*i-o*s);if(0===c)return null;let h=V([],[t[0],t[1],t[2]],[r[0],r[1],r[2]]),d=V([],[r[0],r[1],r[2]],[e[0],e[1],e[2]]),f=V([],[e[0],e[1],e[2]],[t[0],t[1],t[2]]),p=N([],h,-e[3]);return F(p,p,N([],d,-t[3])),F(p,p,N([],f,-r[3])),N(p,p,1/c),p},e.bt=6371008.8,e.bu=function(){return new Float64Array(4)},e.bv=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},e.bw=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},e.bx=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},e.by=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*n,e[1]=a*i-c*n,e[2]=s*i-h*n,e[3]=l*i-d*n,e[8]=o*n+u*i,e[9]=a*n+c*i,e[10]=s*n+h*i,e[11]=l*n+d*i,e},e.bz=function(e,t){let r=X(e,360),n=X(t,360),i=n-r,o=n>r?i-360:i+360;return Math.abs(i)<Math.abs(o)?i:o},e.c=e_,e.c0=class extends i6{},e.c1=ab,e.c2=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.c3=av,e.c4=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/(a=a||1),e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e},e.c5=class extends iW{},e.c6=class extends or{},e.c7=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},e.c8=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=t[0],b=t[1],_=t[2],x=t[3],w=t[4],S=t[5],T=t[6],E=t[7],P=t[8],C=t[9],A=t[10],M=t[11],k=t[12],O=t[13],I=t[14],R=t[15];return Math.abs(r-v)<=1e-6*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-b)<=1e-6*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=1e-6*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=1e-6*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=1e-6*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=1e-6*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-E)<=1e-6*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-P)<=1e-6*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(h-C)<=1e-6*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-A)<=1e-6*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(f-M)<=1e-6*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(p-k)<=1e-6*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-O)<=1e-6*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-I)<=1e-6*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-R)<=1e-6*Math.max(1,Math.abs(y),Math.abs(R))},e.c9=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.cA=function(e){delete ex.REGISTERED_PROTOCOLS[e]},e.cB=function(e,t){let r={};for(let n=0;n<e.length;n++){let i=t&&t[e[n].id]||function(e){let t="";for(let r of eD)t+=`/${function e(t){let r=typeof t;if("number"===r||"boolean"===r||"string"===r||null==t)return JSON.stringify(t);if(Array.isArray(t)){let r="[";for(let n of t)r+=`${e(n)},`;return`${r}]`}let n=Object.keys(t).sort(),i="{";for(let r=0;r<n.length;r++)i+=`${JSON.stringify(n[r])}:${e(t[n[r]])},`;return`${i}}`}(e[r])}`;return t}(e[n]);t&&(t[e[n].id]=i);let o=r[i];o||(o=r[i]=[]),o.push(e[n])}let n=[];for(let e in r)n.push(r[e]);return n},e.cC=io,e.cD=lP,e.cE=lA,e.cF=sU,e.cG=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=8192/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;let r=t.bucket.layers[0],n=r.layout,i=r._unevaluatedLayout._values,o={layoutIconSize:i["icon-size"].possiblyEvaluate(new iS(t.bucket.zoom+1),t.canonical),layoutTextSize:i["text-size"].possiblyEvaluate(new iS(t.bucket.zoom+1),t.canonical),textMaxSize:i["text-size"].possiblyEvaluate(new iS(18))};if("composite"===t.bucket.textSizeData.kind){let{minZoom:e,maxZoom:r}=t.bucket.textSizeData;o.compositeTextSizes=[i["text-size"].possiblyEvaluate(new iS(e),t.canonical),i["text-size"].possiblyEvaluate(new iS(r),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){let{minZoom:e,maxZoom:r}=t.bucket.iconSizeData;o.compositeIconSizes=[i["icon-size"].possiblyEvaluate(new iS(e),t.canonical),i["icon-size"].possiblyEvaluate(new iS(r),t.canonical)]}let a=24*n.get("text-line-height"),s="viewport"!==n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),l=n.get("text-keep-upright"),u=n.get("text-size");for(let i of t.bucket.features){let c=n.get("text-font").evaluate(i,{},t.canonical).join(","),h=u.evaluate(i,{},t.canonical),d=o.layoutTextSize.evaluate(i,{},t.canonical),f=o.layoutIconSize.evaluate(i,{},t.canonical),p={horizontal:{},vertical:void 0},m=i.text,g,y=[0,0];if(m){let o=m.toString(),u=24*n.get("text-letter-spacing").evaluate(i,{},t.canonical),f=!function(e){for(let r of e){var t;if(t=r.charCodeAt(0),ig.test(String.fromCodePoint(t)))return!1}return!0}(o)?0:u,g=n.get("text-anchor").evaluate(i,{},t.canonical),v=lq(r,i,t.canonical);if(!v){let e=n.get("text-radial-offset").evaluate(i,{},t.canonical);y=e?lH(g,[24*e,lG]):n.get("text-offset").evaluate(i,{},t.canonical).map(e=>24*e)}let b=s?"center":n.get("text-justify").evaluate(i,{},t.canonical),_="point"===n.get("symbol-placement")?24*n.get("text-max-width").evaluate(i,{},t.canonical):1/0,x=()=>{t.bucket.allowVerticalPlacement&&ip(o)&&(p.vertical=sq(m,t.glyphMap,t.glyphPositions,t.imagePositions,c,_,a,g,"left",f,y,e.an.vertical,!0,d,h))};if(!s&&v){let r=new Set;if("auto"===b)for(let e=0;e<v.values.length;e+=2)r.add(l$(v.values[e]));else r.add(b);let n=!1;for(let i of r)if(!p.horizontal[i]){if(n)p.horizontal[i]=p.horizontal[0];else{let r=sq(m,t.glyphMap,t.glyphPositions,t.imagePositions,c,_,a,"center",i,f,y,e.an.horizontal,!1,d,h);r&&(p.horizontal[i]=r,n=1===r.positionedLines.length)}}x()}else{"auto"===b&&(b=l$(g));let r=sq(m,t.glyphMap,t.glyphPositions,t.imagePositions,c,_,a,g,b,f,y,e.an.horizontal,!1,d,h);r&&(p.horizontal[b]=r),x(),ip(o)&&s&&l&&(p.vertical=sq(m,t.glyphMap,t.glyphPositions,t.imagePositions,c,_,a,g,b,f,y,e.an.vertical,!1,d,h))}}let v=!1;if(i.icon&&i.icon.name){let e=t.imageMap[i.icon.name];e&&(g=function(e,t,r){let{horizontalAlign:n,verticalAlign:i}=sJ(r),o=t[0]-e.displaySize[0]*n,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}(t.imagePositions[i.icon.name],n.get("icon-offset").evaluate(i,{},t.canonical),n.get("icon-anchor").evaluate(i,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&es("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==n.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}let b=lX(p.horizontal)||p.vertical;t.bucket.iconsInText=!!b&&b.iconsInText,(b||g)&&function(t,r,n,i,o,a,s,l,u,c,h,d){let f,p=a.textMaxSize.evaluate(r,{});void 0===p&&(p=s);let m=t.layers[0].layout,g=m.get("icon-offset").evaluate(r,{},h),y=lX(n.horizontal),v=s/24,b=t.tilePixelRatio*v,_=t.tilePixelRatio*p/24,x=t.tilePixelRatio*l,w=t.tilePixelRatio*m.get("symbol-spacing"),S=m.get("text-padding")*t.tilePixelRatio,T=function(e,t,r,n=1){let i=e.get("icon-padding").evaluate(t,{},r),o=i&&i.values;return[o[0]*n,o[1]*n,o[2]*n,o[3]*n]}(m,r,h,t.tilePixelRatio),E=m.get("text-max-angle")/180*Math.PI,P="viewport"!==m.get("text-rotation-alignment")&&"point"!==m.get("symbol-placement"),C="map"===m.get("icon-rotation-alignment")&&"point"!==m.get("symbol-placement"),A=m.get("symbol-placement"),k=w/2,O=m.get("icon-text-fit");i&&"none"!==O&&(t.allowVerticalPlacement&&n.vertical&&(f=s2(i,n.vertical,O,m.get("icon-text-fit-padding"),g,v)),y&&(i=s2(i,y,O,m.get("icon-text-fit-padding"),g,v)));let I=h?d.line.getGranularityForZoomLevel(h.z):1,R=(l,d)=>{d.x<0||d.x>=8192||d.y<0||d.y>=8192||function(t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b,_,x,w,S,T,E){let P=t.addToLineVertexArray(r,n),C,A,M,k,O=0,I=0,R=0,D=0,L=-1,j=-1,z={},B=oN("");if(t.allowVerticalPlacement&&i.vertical){let e=l.layout.get("text-rotate").evaluate(x,{},T)+90;M=new lF(u,r,c,h,d,i.vertical,f,p,m,e),s&&(k=new lF(u,r,c,h,d,s,y,v,m,e))}if(o){let n=l.layout.get("icon-rotate").evaluate(x,{}),i="none"!==l.layout.get("icon-text-fit"),a=lj(o,n,S,i),f=s?lj(s,n,S,i):void 0;A=new lF(u,r,c,h,d,o,y,v,!1,n),O=4*a.length;let p=t.iconSizeData,m=null;"source"===p.kind?(m=[128*l.layout.get("icon-size").evaluate(x,{})])[0]>32640&&es(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`):"composite"===p.kind&&((m=[128*w.compositeIconSizes[0].evaluate(x,{},T),128*w.compositeIconSizes[1].evaluate(x,{},T)])[0]>32640||m[1]>32640)&&es(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`),t.addSymbols(t.icon,a,m,_,b,x,e.an.none,r,P.lineStartIndex,P.lineLength,-1,T),L=t.icon.placedSymbolArray.length-1,f&&(I=4*f.length,t.addSymbols(t.icon,f,m,_,b,x,e.an.vertical,r,P.lineStartIndex,P.lineLength,-1,T),j=t.icon.placedSymbolArray.length-1)}let F=Object.keys(i.horizontal);for(let n of F){let o=i.horizontal[n];!C&&(B=oN(o.text),C=new lF(u,r,c,h,d,o,f,p,m,l.layout.get("text-rotate").evaluate(x,{},T)));let s=1===o.positionedLines.length;if(R+=lW(t,r,o,a,l,m,x,g,P,i.vertical?e.an.horizontal:e.an.horizontalOnly,s?F:[n],z,L,w,T),s)break}i.vertical&&(D+=lW(t,r,i.vertical,a,l,m,x,g,P,e.an.vertical,["vertical"],z,j,w,T));let N=C?C.boxStartIndex:t.collisionBoxArray.length,V=C?C.boxEndIndex:t.collisionBoxArray.length,U=M?M.boxStartIndex:t.collisionBoxArray.length,G=M?M.boxEndIndex:t.collisionBoxArray.length,H=A?A.boxStartIndex:t.collisionBoxArray.length,q=A?A.boxEndIndex:t.collisionBoxArray.length,$=k?k.boxStartIndex:t.collisionBoxArray.length,W=k?k.boxEndIndex:t.collisionBoxArray.length,X=-1,Z=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;X=Z(C,-1),X=Z(M,X),X=Z(A,X);let K=+((X=Z(k,X))>-1);K&&(X*=E/24),t.glyphOffsetArray.length>=lt.MAX_GLYPHS&&es("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey);let Y=lq(l,x,T),[Q,J]=function(t,r){let n=t.length,i=null==r?void 0:r.values;if((null==i?void 0:i.length)>0)for(let r=0;r<i.length;r+=2){let n=i[r+1];t.emplaceBack(e.aD[i[r]],n[0],n[1])}return[n,t.length]}(t.textAnchorOffsets,Y);t.symbolInstances.emplaceBack(r.x,r.y,z.right>=0?z.right:-1,z.center>=0?z.center:-1,z.left>=0?z.left:-1,z.vertical||-1,L,j,B,N,V,U,G,H,q,$,W,c,R,D,O,I,K,0,f,X,Q,J)}(t,d,l,n,i,o,f,t.layers[0],t.collisionBoxArray,r.index,r.sourceLayerIndex,t.index,b,[S,S,S,S],P,u,x,T,C,g,r,a,c,h,s)};if("line"===A)for(let e of lO(r.geometry,0,0,8192,8192)){let r=aY(e,I);for(let e of function(e,t,r,n,i,o,a,s,l){let u=n?.6*24*a:0,c=lL(n,i),h=c*a,d=0===e[0].x||8192===e[0].x||0===e[0].y||8192===e[0].y;return t-h<t/4&&(t=h+t/4),function e(t,r,n,i,o,a,s,l,u){let c=a/2,h=lD(t),d=0,f=r-n,p=[];for(let e=0;e<t.length-1;e++){let r=t[e],s=t[e+1],l=r.dist(s),m=s.angleTo(r);for(;f+n<d+l;){let g=((f+=n)-d)/l,y=rn.number(r.x,s.x,g),v=rn.number(r.y,s.y,g);if(y>=0&&y<u&&v>=0&&v<u&&f-c>=0&&f+c<=h){let r=new lI(y,v,m,e);r._round(),i&&!lR(t,r,a,i,o)||p.push(r)}}d+=l}return l||p.length||s||(p=e(t,d/2,n,i,o,a,s,!0,u)),p}(e,d?t/2*s%t:(c/2+48)*a*s%t,t,u,r,h,d,!1,8192)}(r,w,E,n.vertical||y,i,0,_,t.overscaling,8192))y&&function(e,t,r,n){let i=e.compareText;if(t in i){let e=i[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<r)return!0}else i[t]=[];return i[t].push(n),!1}(t,y.text,k,e)||R(r,e)}else if("line-center"===A){for(let e of r.geometry)if(e.length>1){let t=aY(e,I),r=function(e,t,r,n,i,o){let a=r?.6*24*o:0,s=lL(r,n)*o,l=0,u=lD(e)/2;for(let r=0;r<e.length-1;r++){let n=e[r],i=e[r+1],o=n.dist(i);if(l+o>u){let c=(u-l)/o,h=new lI(rn.number(n.x,i.x,c),rn.number(n.y,i.y,c),i.angleTo(n),r);return h._round(),!a||lR(e,h,s,a,t)?h:void 0}l+=o}}(t,E,n.vertical||y,i,0,_);r&&R(t,r)}}else if("Polygon"===r.type)for(let e of rD(r.geometry,0)){let t=function(e,t=1,r=!1){let n=lE.fromPoints(e[0]),i=Math.min(n.width(),n.height()),o=i/2,a=new lN([],lV),{minX:s,minY:l,maxX:u,maxY:c}=n;if(0===i)return new M(s,l);for(let t=s;t<u;t+=i)for(let r=l;r<c;r+=i)a.push(new lU(t+o,r+o,o,e));let h=function(e){let t=0,r=0,n=0,i=e[0];for(let e=0,o=i.length,a=o-1;e<o;a=e++){let o=i[e],s=i[a],l=o.x*s.y-s.x*o.y;r+=(o.x+s.x)*l,n+=(o.y+s.y)*l,t+=3*l}return new lU(r/t,n/t,0,e)}(e),d=a.length;for(;a.length;){let n=a.pop();(n.d>h.d||!h.d)&&(h=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,d)),n.max-h.d<=t||(o=n.h/2,a.push(new lU(n.p.x-o,n.p.y-o,o,e)),a.push(new lU(n.p.x+o,n.p.y-o,o,e)),a.push(new lU(n.p.x-o,n.p.y+o,o,e)),a.push(new lU(n.p.x+o,n.p.y+o,o,e)),d+=4)}return r&&(console.log(`num probes: ${d}`),console.log(`best distance: ${h.d}`)),h.p}(e,16);R(aY(e[0],I,!0),new lI(t.x,t.y,0))}else if("LineString"===r.type)for(let e of r.geometry){let t=aY(e,I);R(t,new lI(t[0].x,t[0].y,0))}else if("Point"===r.type)for(let e of r.geometry)for(let t of e)R([t],new lI(t.x,t.y,0))}(t.bucket,i,p,g,t.imageMap,o,d,f,y,v,t.canonical,t.subdivisionGranularity)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.cH=s_,e.cI=a0,e.cJ=sc,e.cK=ss,e.cL=sj,e.cM=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.cN=function(e,t,r,o,a){return _(this,void 0,void 0,function*(){if(I())try{return yield ef(e,t,r,o,a)}catch(e){}return function(e,t,r,o,a){let s=e.width,l=e.height;n&&i||(i=(n=new OffscreenCanvas(s,l)).getContext("2d",{willReadFrequently:!0})),n.width=s,n.height=l,i.drawImage(e,0,0,s,l);let u=i.getImageData(t,r,o,a);return i.clearRect(0,0,s,l),u.data}(e,t,r,o,a)})},e.cO=aE,e.cP=x,e.cQ=w,e.cR=sa,e.cS=sD,e.cT=ny,e.cU=iw,e.ca=e=>"symbol"===e.type,e.cb=e=>"circle"===e.type,e.cc=e=>"heatmap"===e.type,e.cd=e=>"line"===e.type,e.ce=e=>"fill"===e.type,e.cf=e=>"fill-extrusion"===e.type,e.cg=e=>"hillshade"===e.type,e.ch=e=>"color-relief"===e.type,e.ci=e=>"raster"===e.type,e.cj=e=>"background"===e.type,e.ck=e=>"custom"===e.type,e.cl=Y,e.cm=function(e,t,r){let n=$(t.x-r.x,t.y-r.y),i=$(e.x-r.x,e.y-r.y);return eg(Math.atan2(n[0]*i[1]-n[1]*i[0],n[0]*i[0]+n[1]*i[1]))},e.cn=Q,e.co=function(e,t){return ev[t]&&(e instanceof MouseEvent||e instanceof WheelEvent)},e.cp=function(e,t){return ey[t]&&"touches"in e},e.cq=function(e){return ey[e]||ev[e]},e.cr=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},e.cs=function(e,t){let{x:r,y:n}=lb.fromLngLat(t);return!(e<0||e>25||n<0||n>=1||r<0||r>=1)},e.ct=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.cu=class extends i${},e.cv={mark(e){performance.mark(e)},frame(e){null!=l0&&l1.push(e-l0),l0=e},clearMetrics(){for(let t in l0=null,l1=[],performance.clearMeasures(l3),performance.clearMeasures(l5),e.cw)performance.clearMarks(e.cw[t])},getPerformanceMetrics(){performance.measure(l3,e.cw.create,e.cw.load),performance.measure(l5,e.cw.create,e.cw.fullLoad);let t=performance.getEntriesByName(l3)[0].duration,r=performance.getEntriesByName(l5)[0].duration,n=l1.length,i=1/(l1.reduce((e,t)=>e+t,0)/n/1e3),o=l1.filter(e=>e>l2).reduce((e,t)=>e+(t-l2)/l2,0);return{loadTime:t,fullLoadTime:r,fps:i,percentDroppedFrames:o/(n+o)*100,totalFrames:n}}},e.cx=function(e){return e.message===eb},e.cy=eT,e.cz=function(e,t){ex.REGISTERED_PROTOCOLS[e]=t},e.d=eC,e.e=et,e.f=e=>_(void 0,void 0,void 0,function*(){if(0===e.byteLength)return createImageBitmap(new ImageData(1,1));let t=new Blob([new Uint8Array(e)],{type:"image/png"});try{return createImageBitmap(t)}catch(e){throw Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),e.g=ew,e.h=e=>new Promise((t,r)=>{let n=new Image;n.onload=()=>{t(n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame(()=>{n.src=ed})},n.onerror=()=>r(Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let i=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(i):ed}),e.i=eu,e.j=(e,t)=>eP(et(e,{type:"json"}),t),e.k=eO,e.l=ek,e.m=eP,e.n=(e,t)=>eP(et(e,{type:"arrayBuffer"}),t),e.o=function(e){return new sj(e).readFields(sz,[])},e.p=sN,e.q=ag,e.r=iz,e.s=ep,e.t=iP,e.u=id,e.v=eR,e.w=es,e.x=n8,e.y=it,e.z=n3}),r("worker",["./shared"],function(e){class t{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,r){for(let r of t){this._layerConfigs[r.id]=r;let t=this._layers[r.id]=e.bI(r);t._featureFilter=e.a9(t.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(let e of r)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];for(let t of(this.familiesBySource={},e.cB(Object.values(this._layerConfigs),this.keyCache))){let e=t.map(e=>this._layers[e.id]),r=e[0];if("none"===r.visibility)continue;let n=r.source||"",i=this.familiesBySource[n];i||(i=this.familiesBySource[n]={});let o=r.sourceLayer||"_geojsonTileLayer",a=i[o];a||(a=i[o]=[]),a.push(e)}}}class r{constructor(t){let r={},n=[];for(let e in t){let i=t[e],o=r[e]={};for(let e in i){let t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;let r={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};n.push(r),o[e]={rect:r,metrics:t.metrics}}}let{w:i,h:o}=e.p(n),a=new e.q({width:i||1,height:o||1});for(let n in t){let i=t[n];for(let t in i){let o=i[+t];if(!o||0===o.bitmap.width||0===o.bitmap.height)continue;let s=r[n][t].rect;e.q.copy(o.bitmap,a,{x:0,y:0},{x:s.x+1,y:s.y+1},o.bitmap)}}this.image=a,this.positions=r}}e.cC("GlyphAtlas",r);class n{constructor(t){this.tileID=new e.Z(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[],this.globalState=t.globalState}parse(t,n,o,a,s){return e._(this,void 0,void 0,function*(){this.status="parsing",this.data=t,this.collisionBoxArray=new e.a7;let l=new e.cD(Object.keys(t.layers).sort()),u=new e.cE(this.tileID,this.promoteId);u.bucketLayerIDs=[];let c={},h={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:o,subdivisionGranularity:s},d=n.familiesBySource[this.source];for(let r in d){let n=t.layers[r];if(!n)continue;1===n.version&&e.w(`Vector tile source "${this.source}" layer "${r}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let a=l.encode(r),s=[];for(let e=0;e<n.length;e++){let t=n.feature(e),i=u.getId(t,r);s.push({feature:t,id:i,index:e,sourceLayerIndex:a})}for(let t of d[r]){let r=t[0];r.source!==this.source&&e.w(`layer.source = ${r.source} does not equal this.source = ${this.source}`),r.minzoom&&this.zoom<Math.floor(r.minzoom)||r.maxzoom&&this.zoom>=r.maxzoom||"none"!==r.visibility&&(i(t,this.zoom,o),(c[r.id]=r.createBucket({index:u.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:a,sourceID:this.source,globalState:this.globalState})).populate(s,h,this.tileID.canonical),u.bucketLayerIDs.push(t.map(e=>e.id)))}}let f=e.bM(h.glyphDependencies,e=>Object.keys(e).map(Number));this.inFlightDependencies.forEach(e=>null==e?void 0:e.abort()),this.inFlightDependencies=[];let p=Promise.resolve({});if(Object.keys(f).length){let e=new AbortController;this.inFlightDependencies.push(e),p=a.sendAsync({type:"GG",data:{stacks:f,source:this.source,tileID:this.tileID,type:"glyphs"}},e)}let m=Object.keys(h.iconDependencies),g=Promise.resolve({});if(m.length){let e=new AbortController;this.inFlightDependencies.push(e),g=a.sendAsync({type:"GI",data:{icons:m,source:this.source,tileID:this.tileID,type:"icons"}},e)}let y=Object.keys(h.patternDependencies),v=Promise.resolve({});if(y.length){let e=new AbortController;this.inFlightDependencies.push(e),v=a.sendAsync({type:"GI",data:{icons:y,source:this.source,tileID:this.tileID,type:"patterns"}},e)}let[b,_,x]=yield Promise.all([p,g,v]),w=new r(b),S=new e.cF(_,x);for(let t in c){let r=c[t];r instanceof e.a8?(i(r.layers,this.zoom,o),e.cG({bucket:r,glyphMap:b,glyphPositions:w.positions,imageMap:_,imagePositions:S.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:h.subdivisionGranularity})):r.hasPattern&&(r instanceof e.cH||r instanceof e.cI||r instanceof e.cJ)&&(i(r.layers,this.zoom,o),r.addFeatures(h,this.tileID.canonical,S.patternPositions))}return this.status="done",{buckets:Object.values(c).filter(e=>!e.isEmpty()),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:w.image,imageAtlas:S,glyphMap:this.returnDependencies?b:null,iconMap:this.returnDependencies?_:null,glyphPositions:this.returnDependencies?w.positions:null}})}}function i(t,r,n){let i=new e.F(r);for(let e of t)e.recalculate(i,n)}class o{constructor(e,t,r){this.actor=e,this.layerIndex=t,this.availableImages=r,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(t,r){return e._(this,void 0,void 0,function*(){let n=yield e.n(t.request,r);try{return{vectorTile:new e.cK.VectorTile(new e.cL(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires}}catch(i){let e=new Uint8Array(n.data),r=`Unable to parse the tile at ${t.request.url}, `;throw Error(r+=31===e[0]&&139===e[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${i.message}`)}})}loadTile(t){return e._(this,void 0,void 0,function*(){let r=t.uid,i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.cM(t.request),o=new n(t);this.loading[r]=o;let a=new AbortController;o.abort=a;try{let n=yield this.loadVectorTile(t,a);if(delete this.loading[r],!n)return null;let s=n.rawData,l={};n.expires&&(l.expires=n.expires),n.cacheControl&&(l.cacheControl=n.cacheControl);let u={};if(i){let e=i.finish();e&&(u.resourceTiming=JSON.parse(JSON.stringify(e)))}o.vectorTile=n.vectorTile;let c=o.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);this.loaded[r]=o,this.fetching[r]={rawTileData:s,cacheControl:l,resourceTiming:u};try{let t=yield c;return e.e({rawTileData:s.slice(0)},t,l,u)}finally{delete this.fetching[r]}}catch(e){throw delete this.loading[r],o.status="done",this.loaded[r]=o,e}})}reloadTile(t){return e._(this,void 0,void 0,function*(){let r=t.uid;if(!this.loaded||!this.loaded[r])throw Error("Should not be trying to reload a tile that was never loaded or has been removed");let n=this.loaded[r];if(n.showCollisionBoxes=t.showCollisionBoxes,n.globalState=t.globalState,"parsing"===n.status){let i;let o=yield n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);if(this.fetching[r]){let{rawTileData:t,cacheControl:n,resourceTiming:a}=this.fetching[r];delete this.fetching[r],i=e.e({rawTileData:t.slice(0)},o,n,a)}else i=o;return i}if("done"===n.status&&n.vectorTile)return n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity)})}abortTile(t){return e._(this,void 0,void 0,function*(){let e=this.loading,r=t.uid;e&&e[r]&&e[r].abort&&(e[r].abort.abort(),delete e[r])})}removeTile(t){return e._(this,void 0,void 0,function*(){this.loaded&&this.loaded[t.uid]&&delete this.loaded[t.uid]})}}class a{constructor(){this.loaded={}}loadTile(t){return e._(this,void 0,void 0,function*(){let{uid:r,encoding:n,rawImageData:i,redFactor:o,greenFactor:a,blueFactor:s,baseShift:l}=t,u=i.width+2,c=i.height+2,h=e.b(i)?new e.R({width:u,height:c},(yield e.cN(i,-1,-1,u,c))):i,d=new e.cO(r,h,n,o,a,s,l);return this.loaded=this.loaded||{},this.loaded[r]=d,d})}removeTile(e){let t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]}}var s,l,u,c=function(){if(u)return l;function e(e,r){if(0!==e.length){t(e[0],r);for(var n=1;n<e.length;n++)t(e[n],!r)}}function t(e,t){for(var r=0,n=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}r+n>=0!=!!t&&e.reverse()}return u=1,l=function t(r,n){var i,o=r&&r.type;if("FeatureCollection"===o)for(i=0;i<r.features.length;i++)t(r.features[i],n);else if("GeometryCollection"===o)for(i=0;i<r.geometries.length;i++)t(r.geometries[i],n);else if("Feature"===o)t(r.geometry,n);else if("Polygon"===o)e(r.coordinates,n);else if("MultiPolygon"===o)for(i=0;i<r.coordinates.length;i++)e(r.coordinates[i],n);return r}}(),h=e.cP(c);let d=e.cK.VectorTileFeature.prototype.toGeoJSON;class f{constructor(t){this._feature=t,this.extent=e.$,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){let t=[];for(let r of this._feature.geometry)t.push([new e.P(r[0],r[1])]);return t}{let t=[];for(let r of this._feature.geometry){let n=[];for(let t of r)n.push(new e.P(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,r){return d.call(this,e,t,r)}}class p{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.$,this.length=t.length,this._features=t}feature(e){return new f(this._features[e])}}var m,g,y,v={exports:{}},b=function(){if(y)return v.exports;y=1;var t=e.cS(),r=function(){if(g)return m;g=1;var t=e.cQ(),r=e.cR().VectorTileFeature;function n(e,t){this.options=t||{},this.features=e,this.length=e.length}function i(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}return m=n,n.prototype.feature=function(e){return new i(this.features[e],this.options.extent)},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var r=0;r<e.length;r++){for(var n=e[r],i=[],o=0;o<n.length;o++)i.push(new t(n[o][0],n[o][1]));this.geometry.push(i)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},i.prototype.toGeoJSON=r.prototype.toGeoJSON,m}();function n(e){var r=new t;return function(e,t){for(var r in e.layers)t.writeMessage(3,i,e.layers[r])}(e,r),r.finish()}function i(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r,n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,o,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var a=n.values;for(r=0;r<a.length;r++)t.writeMessage(4,l,a[r])}function o(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,a,e),t.writeVarintField(3,r.type),t.writeMessage(4,s,r)}function a(e,t){var r=e.feature,n=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in r.properties){var l=r.properties[s],u=o[s];if(null!==l){void 0===u&&(n.push(s),o[s]=u=n.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,d=a[h];void 0===d&&(i.push(l),a[h]=d=i.length-1),t.writeVarint(d)}}}function s(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint((u<<3)+1);for(var c=3===n?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==n&&t.writeVarint((c-1<<3)+2);var d=l[h].x-i,f=l[h].y-o;t.writeVarint(d<<1^d>>31),t.writeVarint(f<<1^f>>31),i+=d,o+=f}3===n&&t.writeVarint(15)}}function l(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}return v.exports=n,v.exports.fromVectorTileJs=n,v.exports.fromGeojsonVt=function(e,t){t=t||{};var i={};for(var o in e)i[o]=new r(e[o].features,t),i[o].name=o,i[o].version=t.version,i[o].extent=t.extent;return n({layers:i})},v.exports.GeoJSONWrapper=r,v.exports}(),_=e.cP(b);let x={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},w=Math.fround||(s=new Float32Array(1),e=>(s[0]=+e,s[0]));class S{constructor(e){this.options=Object.assign(Object.create(x),e),this.trees=Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){let{log:t,minZoom:r,maxZoom:n}=this.options;t&&console.time("total time");let i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;let o=[];for(let t=0;t<e.length;t++){let r=e[t];if(!r.geometry)continue;let[n,i]=r.geometry.coordinates,a=w(P(n)),s=w(C(i));o.push(a,s,1/0,t,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[n+1]=this._createTree(o);t&&console.timeEnd(i);for(let e=n;e>=r;e--){let r=+Date.now();a=this.trees[e]=this._createTree(this._cluster(a,e)),t&&console.log("z%d: %d clusters in %dms",e,a.numItems,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){let e=this.getClusters([r,n,180,o],t),a=this.getClusters([-180,n,i,o],t);return e.concat(a)}let a=this.trees[this._limitZoom(t)],s=a.range(P(r),C(o),P(i),C(n)),l=a.data,u=[];for(let e of s){let t=this.stride*e;u.push(l[t+5]>1?T(l,t,this.clusterProps):this.points[l[t+3]])}return u}getChildren(e){let t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw Error(n);let o=i.data;if(t*this.stride>=o.length)throw Error(n);let a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(o[t*this.stride],o[t*this.stride+1],a),l=[];for(let t of s){let r=t*this.stride;o[r+4]===e&&l.push(o[r+5]>1?T(o,r,this.clusterProps):this.points[o[r+3]])}if(0===l.length)throw Error(n);return l}getLeaves(e,t,r){let n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}getTile(e,t,r){let n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(r-s)/i,u=(r+1+s)/i,c={features:[]};return this._addTileFeatures(n.range((t-s)/i,l,(t+1+s)/i,u),n.data,t,r,i,c),0===t&&this._addTileFeatures(n.range(1-s/i,l,1,u),n.data,i,r,i,c),t===i-1&&this._addTileFeatures(n.range(0,l,s/i,u),n.data,-1,r,i,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){let r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){for(let o of this.getChildren(t)){let t=o.properties;if(t&&t.cluster?i+t.point_count<=n?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,r,n,i):i<n?i++:e.push(o),e.length===r)break}return i}_createTree(t){let r=new e.aH(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)r.add(t[e],t[e+1]);return r.finish(),r.data=t,r}_addTileFeatures(e,t,r,n,i,o){for(let a of e){let e,s,l,u;let c=a*this.stride,h=t[c+5]>1;if(h)e=E(t,c,this.clusterProps),s=t[c],l=t[c+1];else{let r=this.points[t[c+3]];e=r.properties;let[n,i]=r.geometry.coordinates;s=P(n),l=C(i)}let d={type:1,geometry:[[Math.round(this.options.extent*(s*i-r)),Math.round(this.options.extent*(l*i-n))]],tags:e};void 0!==(u=h||this.options.generateId?t[c+3]:this.points[t[c+3]].id)&&(d.id=u),o.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let{radius:r,extent:n,reduce:i,minPoints:o}=this.options,a=r/(n*Math.pow(2,t)),s=e.data,l=[],u=this.stride;for(let r=0;r<s.length;r+=u){if(s[r+2]<=t)continue;s[r+2]=t;let n=s[r],c=s[r+1],h=e.within(s[r],s[r+1],a),d=s[r+5],f=d;for(let e of h){let r=e*u;s[r+2]>t&&(f+=s[r+5])}if(f>d&&f>=o){let e,o=n*d,a=c*d,p=-1,m=(r/u<<5)+(t+1)+this.points.length;for(let n of h){let l=n*u;if(s[l+2]<=t)continue;s[l+2]=t;let c=s[l+5];o+=s[l]*c,a+=s[l+1]*c,s[l+4]=m,i&&(e||(e=this._map(s,r,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(s,l)))}s[r+4]=m,l.push(o/f,a/f,1/0,m,-1,f),i&&l.push(p)}else{for(let e=0;e<u;e++)l.push(s[r+e]);if(f>1)for(let e of h){let r=e*u;if(!(s[r+2]<=t)){s[r+2]=t;for(let e=0;e<u;e++)l.push(s[r+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+5]>1){let n=this.clusterProps[e[t+6]];return r?Object.assign({},n):n}let n=this.points[e[t+3]].properties,i=this.options.map(n);return r&&i===n?Object.assign({},i):i}}function T(e,t,r){return{type:"Feature",id:e[t+3],properties:E(e,t,r),geometry:{type:"Point",coordinates:[360*(e[t]-.5),360*Math.atan(Math.exp((180-360*e[t+1])*Math.PI/180))/Math.PI-90]}}}function E(e,t,r){let n=e[t+5],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?Math.round(n/100)/10+"k":n,o=e[t+6];return Object.assign(-1===o?{}:Object.assign({},r[o]),{cluster:!0,cluster_id:e[t+3],point_count:n,point_count_abbreviated:i})}function P(e){return e/360+.5}function C(e){let t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function A(e,t,r,n){let i={id:null==e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===t||"MultiPoint"===t||"LineString"===t)M(i,r);else if("Polygon"===t)M(i,r[0]);else if("MultiLineString"===t)for(let e of r)M(i,e);else if("MultiPolygon"===t)for(let e of r)M(i,e[0]);return i}function M(e,t){for(let r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function k(e,t,r,n){if(!t.geometry)return;let i=t.geometry.coordinates;if(i&&0===i.length)return;let o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===o)O(i,s);else if("MultiPoint"===o)for(let e of i)O(e,s);else if("LineString"===o)I(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(let r of i)I(r,s=[],a,!1),e.push(A(l,"LineString",s,t.properties));return}R(i,s,a,!1)}else if("Polygon"===o)R(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(let i of t.geometry.geometries)k(e,{id:l,geometry:i,properties:t.properties},r,n);return}throw Error("Input data is not a valid GeoJSON object.")}for(let e of i){let t=[];R(e,t,a,!0),s.push(t)}}e.push(A(l,o,s,t.properties))}function O(e,t){t.push(e[0]/360+.5,D(e[1]),0)}function I(e,t,r,n){let i,o,a=0;for(let r=0;r<e.length;r++){let s=e[r][0]/360+.5,l=D(e[r][1]);t.push(s,l,0),r>0&&(a+=n?(i*l-s*o)/2:Math.sqrt(Math.pow(s-i,2)+Math.pow(l-o,2))),i=s,o=l}let s=t.length-3;t[2]=1,function e(t,r,n,i){let o=i,a=r+(n-r>>1),s,l=n-r,u=t[r],c=t[r+1],h=t[n],d=t[n+1];for(let e=r+3;e<n;e+=3){let r=function(e,t,r,n,i,o){let a=i-r,s=o-n;if(0!==a||0!==s){let l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=i,n=o):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}(t[e],t[e+1],u,c,h,d);if(r>o)s=e,o=r;else if(r===o){let t=Math.abs(e-a);t<l&&(s=e,l=t)}}o>i&&(s-r>3&&e(t,r,s,i),t[s+2]=o,n-s>3&&e(t,s,n,i))}(t,0,s,r),t[s+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function R(e,t,r,n){for(let i=0;i<e.length;i++){let o=[];I(e[i],o,r,n),t.push(o)}}function D(e){let t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function L(e,t,r,n,i,o,a,s){if(n/=t,o>=(r/=t)&&a<n)return e;if(a<r||o>=n)return null;let l=[];for(let t of e){let e=t.geometry,o=t.type,a=0===i?t.minX:t.minY,u=0===i?t.maxX:t.maxY;if(a>=r&&u<n){l.push(t);continue}if(u<r||a>=n)continue;let c=[];if("Point"===o||"MultiPoint"===o)(function(e,t,r,n,i){for(let o=0;o<e.length;o+=3){let a=e[o+i];a>=r&&a<=n&&F(t,e[o],e[o+1],e[o+2])}})(e,c,r,n,i);else if("LineString"===o)j(e,c,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===o)B(e,c,r,n,i,!1);else if("Polygon"===o)B(e,c,r,n,i,!0);else if("MultiPolygon"===o)for(let t of e){let e=[];B(t,e,r,n,i,!0),e.length&&c.push(e)}if(c.length){if(s.lineMetrics&&"LineString"===o){for(let e of c)l.push(A(t.id,o,e,t.tags));continue}"LineString"!==o&&"MultiLineString"!==o||(1===c.length?(o="LineString",c=c[0]):o="MultiLineString"),"Point"!==o&&"MultiPoint"!==o||(o=3===c.length?"Point":"MultiPoint"),l.push(A(t.id,o,c,t.tags))}}return l.length?l:null}function j(e,t,r,n,i,o,a){let s=z(e),l=0===i?N:V,u,c,h=e.start;for(let d=0;d<e.length-3;d+=3){let f=e[d],p=e[d+1],m=e[d+2],g=e[d+3],y=e[d+4],v=0===i?f:p,b=0===i?g:y,_=!1;a&&(u=Math.sqrt(Math.pow(f-g,2)+Math.pow(p-y,2))),v<r?b>r&&(c=l(s,f,p,g,y,r),a&&(s.start=h+u*c)):v>n?b<n&&(c=l(s,f,p,g,y,n),a&&(s.start=h+u*c)):F(s,f,p,m),b<r&&v>=r&&(c=l(s,f,p,g,y,r),_=!0),b>n&&v<=n&&(c=l(s,f,p,g,y,n),_=!0),!o&&_&&(a&&(s.end=h+u*c),t.push(s),s=z(e)),a&&(h+=u)}let d=e.length-3,f=e[d],p=e[d+1],m=0===i?f:p;m>=r&&m<=n&&F(s,f,p,e[d+2]),d=s.length-3,o&&d>=3&&(s[d]!==s[0]||s[d+1]!==s[1])&&F(s,s[0],s[1],s[2]),s.length&&t.push(s)}function z(e){let t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function B(e,t,r,n,i,o){for(let a of e)j(a,t,r,n,i,o,!1)}function F(e,t,r,n){e.push(t,r,n)}function N(e,t,r,n,i,o){let a=(o-t)/(n-t);return F(e,o,r+(i-r)*a,1),a}function V(e,t,r,n,i,o){let a=(o-r)/(i-r);return F(e,t+(n-t)*a,o,1),a}function U(e,t){let r=[];for(let n=0;n<e.length;n++){let i;let o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=G(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a)for(let e of(i=[],o.geometry))i.push(G(e,t));else if("MultiPolygon"===a)for(let e of(i=[],o.geometry)){let r=[];for(let n of e)r.push(G(n,t));i.push(r)}r.push(A(o.id,a,i,o.tags))}return r}function G(e,t){let r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(let n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function H(e,t){if(e.transformed)return e;let r=1<<e.z,n=e.x,i=e.y;for(let o of e.features){let e=o.geometry,a=o.type;if(o.geometry=[],1===a)for(let a=0;a<e.length;a+=2)o.geometry.push(q(e[a],e[a+1],t,r,n,i));else for(let a=0;a<e.length;a++){let s=[];for(let o=0;o<e[a].length;o+=2)s.push(q(e[a][o],e[a][o+1],t,r,n,i));o.geometry.push(s)}}return e.transformed=!0,e}function q(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function $(e,t,r,n,i,o){let a=n*n;if(n>0&&t.size<(i?a:n))return void(r.numPoints+=t.length/3);let s=[];for(let e=0;e<t.length;e+=3)(0===n||t[e+2]>a)&&(r.numSimplified++,s.push(t[e],t[e+1])),r.numPoints++;i&&function(e,t){let r=0;for(let t=0,n=e.length,i=n-2;t<n;i=t,t+=2)r+=(e[t]-e[i])*(e[t+1]+e[i+1]);if(r>0===t)for(let t=0,r=e.length;t<r/2;t+=2){let n=e[t],i=e[t+1];e[t]=e[r-2-t],e[t+1]=e[r-1-t],e[r-2-t]=n,e[r-1-t]=i}}(s,o),e.push(s)}let W={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class X{constructor(e,t){let r=(t=this.options=function(e,t){for(let r in t)e[r]=t[r];return e}(Object.create(W),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw Error("promoteId and generateId cannot be used together.");let n=function(e,t){let r=[];if("FeatureCollection"===e.type)for(let n=0;n<e.features.length;n++)k(r,e.features[n],t,n);else k(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){let r=t.buffer/t.extent,n=e,i=L(e,1,-1-r,r,0,-1,2,t),o=L(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=L(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=U(i,1).concat(n)),o&&(n=n.concat(U(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(e,t,r,n,i,o,a){let s=[e,t,r,n],l=this.options,u=l.debug;for(;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();let c=1<<t,h=Z(t,r,n),d=this.tiles[h];if(!d&&(u>1&&console.time("creation"),d=this.tiles[h]=function(e,t,r,n,i){let o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:e.length,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let t of e)(function(e,t,r,n){let i=t.geometry,o=t.type,a=[];if(e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),"Point"===o||"MultiPoint"===o)for(let t=0;t<i.length;t+=3)a.push(i[t],i[t+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)$(a,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(let t=0;t<i.length;t++)$(a,i[t],e,r,"Polygon"===o,0===t);else if("MultiPolygon"===o)for(let t=0;t<i.length;t++){let n=i[t];for(let t=0;t<n.length;t++)$(a,n[t],e,r,!0,0===t)}if(a.length){let r=t.tags||null;if("LineString"===o&&n.lineMetrics){for(let e in r={},t.tags)r[e]=t.tags[e];r.mapbox_clip_start=i.start/i.size,r.mapbox_clip_end=i.end/i.size}let s={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:r};null!==t.id&&(s.id=t.id),e.features.push(s)}})(a,t,o,i);return a}(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));let e=`z${t}`;this.stats[e]=(this.stats[e]||0)+1,this.total++}if(d.source=e,null==i){if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else{if(t===l.maxZoom||t===i)continue;if(null!=i){let e=i-t;if(r!==o>>e||n!==a>>e)continue}}if(d.source=null,0===e.length)continue;u>1&&console.time("clipping");let f=.5*l.buffer/l.extent,p=.5-f,m=.5+f,g=1+f,y=null,v=null,b=null,_=null,x=L(e,c,r-f,r+m,0,d.minX,d.maxX,l),w=L(e,c,r+p,r+g,0,d.minX,d.maxX,l);e=null,x&&(y=L(x,c,n-f,n+m,1,d.minY,d.maxY,l),v=L(x,c,n+p,n+g,1,d.minY,d.maxY,l),x=null),w&&(b=L(w,c,n-f,n+m,1,d.minY,d.maxY,l),_=L(w,c,n+p,n+g,1,d.minY,d.maxY,l),w=null),u>1&&console.timeEnd("clipping"),s.push(y||[],t+1,2*r,2*n),s.push(v||[],t+1,2*r,2*n+1),s.push(b||[],t+1,2*r+1,2*n),s.push(_||[],t+1,2*r+1,2*n+1)}}getTile(e,t,r){e*=1,t*=1,r*=1;let{extent:n,debug:i}=this.options;if(e<0||e>24)return null;let o=1<<e,a=Z(e,t=t+o&o-1,r);if(this.tiles[a])return H(this.tiles[a],n);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);let s,l=e,u=t,c=r;for(;!s&&l>0;)l--,u>>=1,c>>=1,s=this.tiles[Z(l,u,c)];return s&&s.source?(i>1&&(console.log("found parent tile z%d-%d-%d",l,u,c),console.time("drilling down")),this.splitTile(s.source,l,u,c,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[a]?H(this.tiles[a],n):null):null}}function Z(e,t,r){return 32*((1<<e)*r+t)+e}function K(e,t){return t?e.properties[t]:e.id}function Y(e,t){if(null==e)return!0;if("Feature"===e.type)return null!=K(e,t);if("FeatureCollection"===e.type){let r=new Set;for(let n of e.features){let e=K(n,t);if(null==e||r.has(e))return!1;r.add(e)}return!0}return!1}function Q(e,t){let r=new Map;if(null==e);else if("Feature"===e.type)r.set(K(e,t),e);else for(let n of e.features)r.set(K(n,t),n);return r}class J extends o{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(t,r){return e._(this,void 0,void 0,function*(){let e=t.tileID.canonical;if(!this._geoJSONIndex)throw Error("Unable to parse the data into a cluster or geojson");let r=this._geoJSONIndex.getTile(e.z,e.x,e.y);if(!r)return null;let n=new p(r.features),i=_(n);return 0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),{vectorTile:n,rawData:i.buffer}})}loadData(t){return e._(this,void 0,void 0,function*(){var r,n;null===(r=this._pendingRequest)||void 0===r||r.abort();let i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.cM(t.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(t,this._pendingRequest),this._geoJSONIndex=t.cluster?new S(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;let n={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(r);for(let t of s){let[o,a]=r[t],s=e.cT(a),l=e.cT("string"==typeof o?[o,["accumulated"],["get",t]]:o);n[t]=s.value,i[t]=l.value}return t.map=e=>{a.properties=e;let t={};for(let e of s)t[e]=n[e].evaluate(o,a);return t},t.reduce=(e,t)=>{for(let r of(a.properties=t,s))o.accumulated=e[r],e[r]=i[r].evaluate(o,a)},t}(t)).load((yield this._pendingData).features):(n=yield this._pendingData,new X(n,t.geojsonVtOptions)),this.loaded={};let r={};if(i){let e=i.finish();e&&(r.resourceTiming={},r.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)))}return r}catch(t){if(delete this._pendingRequest,e.cx(t))return{abandoned:!0};throw t}})}getData(){return e._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(e){let t=this.loaded;return t&&t[e.uid]?super.reloadTile(e):this.loadTile(e)}loadAndProcessGeoJSON(t,r){return e._(this,void 0,void 0,function*(){let n=yield this.loadGeoJSON(t,r);if(delete this._pendingRequest,"object"!=typeof n)throw Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`);if(h(n,!0),t.filter){let r=e.cT(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));n={type:"FeatureCollection",features:n.features.filter(e=>r.value.evaluate({zoom:0},e))}}return n})}loadGeoJSON(t,r){return e._(this,void 0,void 0,function*(){let{promoteId:n}=t;if(t.request){let i=yield e.j(t.request,r);return this._dataUpdateable=Y(i.data,n)?Q(i.data,n):void 0,i.data}if("string"==typeof t.data)try{let e=JSON.parse(t.data);return this._dataUpdateable=Y(e,n)?Q(e,n):void 0,e}catch(e){throw Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`)}if(!t.dataDiff)throw Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw Error(`Cannot update existing geojson data in ${t.source}`);return function(e,t,r){var n,i,o,a;if(t.removeAll&&e.clear(),t.remove)for(let r of t.remove)e.delete(r);if(t.add)for(let n of t.add){let t=K(n,r);null!=t&&e.set(t,n)}if(t.update)for(let r of t.update){let t=e.get(r.id);if(null==t)continue;let s=!r.removeAllProperties&&((null===(n=r.removeProperties)||void 0===n?void 0:n.length)>0||(null===(i=r.addOrUpdateProperties)||void 0===i?void 0:i.length)>0);if((r.newGeometry||r.removeAllProperties||s)&&(t=Object.assign({},t),e.set(r.id,t),s&&(t.properties=Object.assign({},t.properties))),r.newGeometry&&(t.geometry=r.newGeometry),r.removeAllProperties)t.properties={};else if((null===(o=r.removeProperties)||void 0===o?void 0:o.length)>0)for(let e of r.removeProperties)Object.prototype.hasOwnProperty.call(t.properties,e)&&delete t.properties[e];if((null===(a=r.addOrUpdateProperties)||void 0===a?void 0:a.length)>0)for(let{key:e,value:n}of r.addOrUpdateProperties)t.properties[e]=n}}(this._dataUpdateable,t.dataDiff,n),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(t){return e._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(e){return this._geoJSONIndex.getClusterExpansionZoom(e.clusterId)}getClusterChildren(e){return this._geoJSONIndex.getChildren(e.clusterId)}getClusterLeaves(e){return this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset)}}class ee{constructor(t){this.self=t,this.actor=new e.J(t),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(e,t)=>{if(this.externalWorkerSourceTypes[e])throw Error(`Worker source with name "${e}" already registered.`);this.externalWorkerSourceTypes[e]=t},this.self.addProtocol=e.cz,this.self.removeProtocol=e.cA,this.self.registerRTLTextPlugin=t=>{e.cU.setMethods(t)},this.actor.registerMessageHandler("LDT",(e,t)=>this._getDEMWorkerSource(e,t.source).loadTile(t)),this.actor.registerMessageHandler("RDT",(t,r)=>e._(this,void 0,void 0,function*(){this._getDEMWorkerSource(t,r.source).removeTile(r)})),this.actor.registerMessageHandler("GCEZ",(t,r)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,r.type,r.source).getClusterExpansionZoom(r)})),this.actor.registerMessageHandler("GCC",(t,r)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,r.type,r.source).getClusterChildren(r)})),this.actor.registerMessageHandler("GCL",(t,r)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,r.type,r.source).getClusterLeaves(r)})),this.actor.registerMessageHandler("LD",(e,t)=>this._getWorkerSource(e,t.type,t.source).loadData(t)),this.actor.registerMessageHandler("GD",(e,t)=>this._getWorkerSource(e,t.type,t.source).getData()),this.actor.registerMessageHandler("LT",(e,t)=>this._getWorkerSource(e,t.type,t.source).loadTile(t)),this.actor.registerMessageHandler("RT",(e,t)=>this._getWorkerSource(e,t.type,t.source).reloadTile(t)),this.actor.registerMessageHandler("AT",(e,t)=>this._getWorkerSource(e,t.type,t.source).abortTile(t)),this.actor.registerMessageHandler("RMT",(e,t)=>this._getWorkerSource(e,t.type,t.source).removeTile(t)),this.actor.registerMessageHandler("RS",(t,r)=>e._(this,void 0,void 0,function*(){if(!this.workerSources[t]||!this.workerSources[t][r.type]||!this.workerSources[t][r.type][r.source])return;let e=this.workerSources[t][r.type][r.source];delete this.workerSources[t][r.type][r.source],void 0!==e.removeSource&&e.removeSource(r)})),this.actor.registerMessageHandler("RM",t=>e._(this,void 0,void 0,function*(){delete this.layerIndexes[t],delete this.availableImages[t],delete this.workerSources[t],delete this.demWorkerSources[t]})),this.actor.registerMessageHandler("SR",(t,r)=>e._(this,void 0,void 0,function*(){this.referrer=r})),this.actor.registerMessageHandler("SRPS",(e,t)=>this._syncRTLPluginState(e,t)),this.actor.registerMessageHandler("IS",(t,r)=>e._(this,void 0,void 0,function*(){this.self.importScripts(r)})),this.actor.registerMessageHandler("SI",(e,t)=>this._setImages(e,t)),this.actor.registerMessageHandler("UL",(t,r)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t).update(r.layers,r.removedIds)})),this.actor.registerMessageHandler("SL",(t,r)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t).replace(r)}))}_setImages(t,r){return e._(this,void 0,void 0,function*(){for(let e in this.availableImages[t]=r,this.workerSources[t]){let n=this.workerSources[t][e];for(let e in n)n[e].availableImages=r}})}_syncRTLPluginState(t,r){return e._(this,void 0,void 0,function*(){return yield e.cU.syncState(r,this.self.importScripts)})}_getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}_getLayerIndex(e){let r=this.layerIndexes[e];return r||(r=this.layerIndexes[e]=new t),r}_getWorkerSource(e,t,r){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){let n={sendAsync:(t,r)=>(t.targetMapId=e,this.actor.sendAsync(t,r))};switch(t){case"vector":this.workerSources[e][t][r]=new o(n,this._getLayerIndex(e),this._getAvailableImages(e));break;case"geojson":this.workerSources[e][t][r]=new J(n,this._getLayerIndex(e),this._getAvailableImages(e));break;default:this.workerSources[e][t][r]=new this.externalWorkerSourceTypes[t](n,this._getLayerIndex(e),this._getAvailableImages(e))}}return this.workerSources[e][t][r]}_getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new a),this.demWorkerSources[e][t]}}return e.i(self)&&(self.worker=new ee(self)),ee}),r("index",["exports","./shared"],function(e,t){let r,n,i,o,a,s,l;var u,c="5.6.1";function h(){var e=new t.A(4);return t.A!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}let d={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e,r,n){let i=requestAnimationFrame(e=>{o(),r(e)}),{unsubscribe:o}=t.s(e.signal,"abort",()=>{o(),cancelAnimationFrame(i),n(t.c())},!1)},frameAsync(e){return new Promise((t,r)=>{this.frame(e,t,r)})},getImageData(e,t=0){return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){let t=window.document.createElement("canvas"),r=t.getContext("2d",{willReadFrequently:!0});if(!r)throw Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r},resolveURL:e=>(r||(r=document.createElement("a")),r.href=e,r.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==n&&(n=matchMedia("(prefers-reduced-motion: reduce)")),n.matches)}};class f{static testProp(e){if(!f.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in f.docStyle)return e[t];return e[0]}static create(e,t,r){let n=window.document.createElement(e);return void 0!==t&&(n.className=t),r&&r.appendChild(n),n}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){f.docStyle&&f.selectProp&&(f.userSelect=f.docStyle[f.selectProp],f.docStyle[f.selectProp]="none")}static enableDrag(){f.docStyle&&f.selectProp&&(f.docStyle[f.selectProp]=f.userSelect)}static setTransform(e,t){e.style[f.transformProp]=t}static addEventListener(e,t,r,n={}){e.addEventListener(t,r,"passive"in n?n:n.capture)}static removeEventListener(e,t,r,n={}){e.removeEventListener(t,r,"passive"in n?n:n.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",f.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",f.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",f.suppressClickInternal,!0)},0)}static getScale(e){let t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,r,n){let i=r.boundingClientRect;return new t.P((n.clientX-i.left)/r.x-e.clientLeft,(n.clientY-i.top)/r.y-e.clientTop)}static mousePos(e,t){let r=f.getScale(e);return f.getPoint(e,r,t)}static touchPos(e,t){let r=[],n=f.getScale(e);for(let i=0;i<t.length;i++)r.push(f.getPoint(e,n,t[i]));return r}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){let t=(new DOMParser).parseFromString(e,"text/html").body||document.createElement("body");for(let e of t.querySelectorAll("script"))e.remove();return f.clean(t),t.innerHTML}static isPossiblyDangerous(e,t){let r=t.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!r.includes("javascript:")&&!r.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){for(let t of e.children)f.removeAttributes(t),f.clean(t)}static removeAttributes(e){for(let{name:t,value:r}of e.attributes)f.isPossiblyDangerous(t,r)&&e.removeAttribute(t)}}f.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,f.selectProp=f.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),f.transformProp=f.testProp(["transform","WebkitTransform"]);let p={supported:!1,testSupport:function(e){!y&&g&&(v?b(e):m=e)}},m,g,y=!1,v=!1;function b(e){let t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,g),e.isContextLost())return;p.supported=!0}catch(e){}e.deleteTexture(t),y=!0}"undefined"!=typeof document&&((g=document.createElement("img")).onload=()=>{m&&b(m),m=null,v=!0},g.onerror=()=>{y=!0,m=null},g.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e){let r,n,i,o;e.resetRequestQueue=()=>{r=[],n=0,i=0,o={}},e.addThrottleControl=e=>{let t=i++;return o[t]=e,t},e.removeThrottleControl=e=>{delete o[e],s()},e.getImage=(e,n,i=!0)=>new Promise((o,a)=>{p.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),t.e(e,{type:"image"}),r.push({abortController:n,requestParameters:e,supportImageRefresh:i,state:"queued",onError:e=>{a(e)},onSuccess:e=>{o(e)}}),s()});let a=e=>t._(this,void 0,void 0,function*(){var r;e.state="running";let{requestParameters:i,supportImageRefresh:o,onError:a,onSuccess:u,abortController:c}=e,h=!1===o&&!t.i(self)&&!t.g(i.url)&&(!i.headers||Object.keys(i.headers).reduce((e,t)=>e&&"accept"===t,!0));n++;let d=h?l(i,c):t.m(i,c);try{let n=yield d;delete e.abortController,e.state="completed",n.data instanceof HTMLImageElement||t.b(n.data)?u(n):n.data&&u({data:yield(r=n.data,"function"==typeof createImageBitmap?t.f(r):t.h(r)),cacheControl:n.cacheControl,expires:n.expires})}catch(t){delete e.abortController,a(t)}finally{n--,s()}}),s=()=>{let e=(()=>{for(let e of Object.keys(o))if(o[e]())return!0;return!1})()?t.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let t=n;t<e&&r.length>0;t++){let e=r.shift();e.abortController.signal.aborted?t--:a(e)}},l=(e,r)=>new Promise((n,i)=>{let o=new Image,a=e.url,s=e.credentials;s&&"include"===s?o.crossOrigin="use-credentials":(s&&"same-origin"===s||!t.d(a))&&(o.crossOrigin="anonymous"),r.signal.addEventListener("abort",()=>{o.src="",i(t.c())}),o.fetchPriority="high",o.onload=()=>{o.onerror=o.onload=null,n({data:o})},o.onerror=()=>{o.onerror=o.onload=null,r.signal.aborted||i(Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},o.src=a})}(u||(u={})),u.resetRequestQueue();class _{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function x(e){let t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){let r=[];for(let{id:n,url:i}of e){let e=`${n}${i}`;-1===r.indexOf(e)&&(r.push(e),t.push({id:n,url:i}))}}return t}function w(e,t,r){try{let n=new URL(e);return n.pathname+=`${t}${r}`,n.toString()}catch(t){throw Error(`Invalid sprite URL "${e}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class S extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(let{ids:e,promiseResolve:t}of this.requestors)t(this._getImagesForIds(e));this.requestors=[]}}getImage(e){let r=this.images[e];if(r&&!r.data&&r.spriteData){let e=r.spriteData;r.data=new t.R({width:e.width,height:e.height},e.context.getImageData(e.x,e.y,e.width,e.height).data),r.spriteData=null}return r}addImage(e,t){if(this.images[e])throw Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t)}_validate(e,r){let n=!0,i=r.data||r.spriteData;return this._validateStretch(r.stretchX,i&&i.width)||(this.fire(new t.k(Error(`Image "${e}" has invalid "stretchX" value`))),n=!1),this._validateStretch(r.stretchY,i&&i.height)||(this.fire(new t.k(Error(`Image "${e}" has invalid "stretchY" value`))),n=!1),this._validateContent(r.content,r)||(this.fire(new t.k(Error(`Image "${e}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let r=0;for(let n of e){if(n[0]<r||n[1]<n[0]||t<n[1])return!1;r=n[1]}return!0}_validateContent(e,t){if(!e)return!0;if(4!==e.length)return!1;let r=t.spriteData,n=r&&r.width||t.data.width,i=r&&r.height||t.data.height;return!(e[0]<0||n<e[0]||e[1]<0||i<e[1]||e[2]<0||n<e[2]||e[3]<0||i<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,t,r=!0){let n=this.getImage(e);if(r&&(n.data.width!==t.data.width||n.data.height!==t.data.height))throw Error(`size mismatch between old image (${n.data.width}x${n.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=n.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){let t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((t,r)=>{let n=!0;if(!this.isLoaded())for(let t of e)this.images[t]||(n=!1);this.isLoaded()||n?t(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:t})})}_getImagesForIds(e){let r={};for(let n of e){let e=this.getImage(n);e||(this.fire(new t.l("styleimagemissing",{id:n})),e=this.getImage(n)),e?r[n]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,textFitWidth:e.textFitWidth,textFitHeight:e.textFitHeight,hasRenderCallback:!!(e.userImage&&e.userImage.render)}:t.w(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return r}getPixelSize(){let{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(e){let r=this.patterns[e],n=this.getImage(e);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{let r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new t.I(r,n);this.patterns[e]={bin:r,position:i}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){let r=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.T(e,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}_updatePatternAtlas(){let e=[];for(let t in this.patterns)e.push(this.patterns[t].bin);let{w:r,h:n}=t.p(e),i=this.atlasImage;for(let e in i.resize({width:r||1,height:n||1}),this.patterns){let{bin:r}=this.patterns[e],n=r.x+1,o=r.y+1,a=this.getImage(e).data,s=a.width,l=a.height;t.R.copy(a,i,{x:0,y:0},{x:n,y:o},{width:s,height:l}),t.R.copy(a,i,{x:0,y:l-1},{x:n,y:o-1},{width:s,height:1}),t.R.copy(a,i,{x:0,y:0},{x:n,y:o+l},{width:s,height:1}),t.R.copy(a,i,{x:s-1,y:0},{x:n-1,y:o},{width:1,height:l}),t.R.copy(a,i,{x:0,y:0},{x:n+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(let r of e){if(this.callbackDispatchedThisFrame[r])continue;this.callbackDispatchedThisFrame[r]=!0;let e=this.getImage(r);e||t.w(`Image with ID: "${r}" was not found`),function(e){let{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}(e)&&this.updateImage(r,e)}}}function T(e,t,r,n,i,o,a,s,l){for(let u=t;u<t+n;u++)E(e,r*o+u,o,i,a,s,l);for(let u=r;u<r+i;u++)E(e,u*o+t,1,n,a,s,l)}function E(e,t,r,n,i,o,a){o[0]=0,a[0]=-1e20,a[1]=1e20,i[0]=e[t];for(let s=1,l=0,u=0;s<n;s++){i[s]=e[t+s*r];let n=s*s;do{let e=o[l];u=(i[s]-i[e]+n-e*e)/(s-e)/2}while(u<=a[l]&&--l>-1)o[++l]=s,a[l]=u,a[l+1]=1e20}for(let s=0,l=0;s<n;s++){for(;a[l+1]<s;)l++;let n=o[l],u=s-n;e[t+s*r]=i[n]+u*u}}class P{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return t._(this,void 0,void 0,function*(){let t=[];for(let r in e)for(let n of e[r])t.push(this._getAndCacheGlyphsPromise(r,n));let r=yield Promise.all(t),n={};for(let{stack:e,id:t,glyph:i}of r)n[e]||(n[e]={}),n[e][t]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics};return n})}_getAndCacheGlyphsPromise(e,r){return t._(this,void 0,void 0,function*(){let t=this.entries[e];t||(t=this.entries[e]={glyphs:{},requests:{},ranges:{}});let n=t.glyphs[r];if(void 0!==n)return{stack:e,id:r,glyph:n};if(n=this._tinySDF(t,e,r))return t.glyphs[r]=n,{stack:e,id:r,glyph:n};let i=Math.floor(r/256);if(256*i>65535)throw Error("glyphs > 65535 not supported");if(t.ranges[i])return{stack:e,id:r,glyph:n};if(!this.url)throw Error("glyphsUrl is not set");if(!t.requests[i]){let r=P.loadGlyphRange(e,i,this.url,this.requestManager);t.requests[i]=r}let o=yield t.requests[i];for(let e in o)this._doesCharSupportLocalGlyph(+e)||(t.glyphs[+e]=o[+e]);return t.ranges[i]=!0,{stack:e,id:r,glyph:o[r]||null}})}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(/\p{Ideo}|\p{sc=Hang}|\p{sc=Hira}|\p{sc=Kana}/u.test(String.fromCodePoint(e))||t.u["CJK Unified Ideographs"](e)||t.u["Hangul Syllables"](e)||t.u.Hiragana(e)||t.u.Katakana(e)||t.u["CJK Symbols and Punctuation"](e)||t.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,r,n){let i=this.localIdeographFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let o=e.tinySDF;if(!o){let t="400";/bold/i.test(r)?t="900":/medium/i.test(r)?t="500":/light/i.test(r)&&(t="200"),o=e.tinySDF=new P.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:i,fontWeight:t})}let a=o.draw(String.fromCharCode(n));return{id:n,bitmap:new t.q({width:a.width||60,height:a.height||60},a.data),metrics:{width:a.glyphWidth/2||24,height:a.glyphHeight/2||24,left:a.glyphLeft/2+.5||0,top:a.glyphTop/2-27.5||-8,advance:a.glyphAdvance/2||24,isDoubleResolution:!0}}}}P.loadGlyphRange=function(e,r,n,i){return t._(this,void 0,void 0,function*(){let o=256*r,a=o+255,s=i.transformRequest(n.replace("{fontstack}",e).replace("{range}",`${o}-${a}`),"Glyphs"),l=yield t.n(s,new AbortController);if(!l||!l.data)throw Error(`Could not load glyph range. range: ${r}, ${o}-${a}`);let u={};for(let e of t.o(l.data))u[e.id]=e;return u})},P.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:r=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=n,this.radius=r;let s=this.size=e+4*t,l=this._createCanvas(s),u=this.ctx=l.getContext("2d",{willReadFrequently:!0});u.font=`${a} ${o} ${e}px ${i}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){let t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){let{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(r),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),l=Math.min(this.size-this.buffer,a+Math.ceil(n)),u=s+2*this.buffer,c=l+2*this.buffer,h=Math.max(u*c,0),d=new Uint8ClampedArray(h),f={data:d,width:u,height:c,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return f;let{ctx:p,buffer:m,gridInner:g,gridOuter:y}=this;p.clearRect(m,m,s,l),p.fillText(e,m,m+a);let v=p.getImageData(m,m,s,l);y.fill(1e20,0,h),g.fill(0,0,h);for(let e=0;e<l;e++)for(let t=0;t<s;t++){let r=v.data[4*(e*s+t)+3]/255;if(0===r)continue;let n=(e+m)*u+t+m;if(1===r)y[n]=0,g[n]=1e20;else{let e=.5-r;y[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}T(y,0,0,u,c,u,this.f,this.v,this.z),T(g,m,m,s,l,u,this.f,this.v,this.z);for(let e=0;e<h;e++){let t=Math.sqrt(y[e])-Math.sqrt(g[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return f}};class C{constructor(){this.specification=t.v.light.position}possiblyEvaluate(e,r){return t.B(e.expression.evaluate(r))}interpolate(e,r,n){return{x:t.C.number(e.x,r.x,n),y:t.C.number(e.y,r.y,n),z:t.C.number(e.z,r.z,n)}}}class A extends t.E{constructor(e){super(),i=i||new t.r({anchor:new t.D(t.v.light.anchor),position:new C,color:new t.D(t.v.light.color),intensity:new t.D(t.v.light.intensity)}),this._transitionable=new t.t(i),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,r={}){if(!this._validate(t.x,e,r))for(let t in e){let r=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),r):this._transitionable.setValue(t,r)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,r,n){return(!n||!1!==n.validate)&&t.y(this,e.call(t.z,{value:r,style:{glyphs:!0,sprite:!0},styleSpec:t.v}))}}let M=new t.r({"sky-color":new t.D(t.v.sky["sky-color"]),"horizon-color":new t.D(t.v.sky["horizon-color"]),"fog-color":new t.D(t.v.sky["fog-color"]),"fog-ground-blend":new t.D(t.v.sky["fog-ground-blend"]),"horizon-fog-blend":new t.D(t.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new t.D(t.v.sky["sky-horizon-blend"]),"atmosphere-blend":new t.D(t.v.sky["atmosphere-blend"])});class k extends t.E{constructor(e){super(),this._transitionable=new t.t(M),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0))}setSky(e,r={}){if(!this._validate(t.G,e,r))for(let t in e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0}),e){let r=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),r):this._transitionable.setValue(t,r)}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,r,n={}){return!1!==(null==n?void 0:n.validate)&&t.y(this,e.call(t.z,t.e({value:r,style:{glyphs:!0,sprite:!0},styleSpec:t.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class O{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){let r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]}getDashRanges(e,t,r){let n=[],i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r,a=!0;n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;let l=e[t];i=s*r,s+=l,o=s*r,n.push({left:i,right:o,isDash:a,zeroLength:0===l})}return n}addRoundDash(e,t,r){let n=t/2;for(let t=-r;t<=r;t++){let i=this.width*(this.nextRow+r+t),o=0,a=e[0];for(let s=0;s<this.width;s++){let l;s/a.right>1&&(a=e[++o]);let u=Math.min(Math.abs(s-a.left),Math.abs(s-a.right)),c=t/r*(n+1);if(a.isDash){let e=n-Math.abs(c);l=Math.sqrt(u*u+e*e)}else l=n-Math.sqrt(u*u+c*c);this.data[i+s]=Math.max(0,Math.min(255,l+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){let r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}let t=e[0],r=e[e.length-1];t.isDash===r.isDash&&(t.left=r.left-this.width,r.right=t.right+this.width);let n=this.width*this.nextRow,i=0,o=e[0];for(let t=0;t<this.width;t++){t/o.right>1&&(o=e[++i]);let r=Math.min(Math.abs(t-o.left),Math.abs(t-o.right));this.data[n+t]=Math.max(0,Math.min(255,(o.isDash?r:-r)+128))}}addDash(e,r){let n=7*!!r,i=2*n+1;if(this.nextRow+i>this.height)return t.w("LineAtlas out of space"),null;let o=0;for(let t=0;t<e.length;t++)o+=e[t];if(0!==o){let t=this.width/o,i=this.getDashRanges(e,this.width,t);r?this.addRoundDash(i,t,n):this.addRegularDash(i)}let a={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=i,this.dirty=!0,a}bind(e){let t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}let I="maplibre_preloaded_worker_pool";class R{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<R.workerCount;)this.workers.push(new Worker(t.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[I]}numActive(){return Object.keys(this.active).length}}let D=Math.floor(d.hardwareConcurrency/2);function L(){return o||(o=new R),o}R.workerCount=t.H(globalThis)?Math.max(Math.min(D,3),1):1;class j{constructor(e,r){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=r;let n=this.workerPool.acquire(r);for(let e=0;e<n.length;e++){let i=new t.J(n[e],r);i.name=`Worker ${e}`,this.actors.push(i)}if(!this.actors.length)throw Error("No actors found")}broadcast(e,t){let r=[];for(let n of this.actors)r.push(n.sendAsync({type:e,data:t}));return Promise.all(r)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(e=>{e.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,t){for(let r of this.actors)r.registerMessageHandler(e,t)}}function z(){return a||(a=new j(L(),t.K)).registerMessageHandler("GR",(e,r,n)=>t.m(r,n)),a}function B(e,t){let r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}function F(e,t){let r=e.feature,n=t.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}function N(e,r,n){return t._(this,void 0,void 0,function*(){let i=e;if(e.url?i=(yield t.j(r.transformRequest(e.url,"Source"),n)).data:yield d.frameAsync(n),!i)return null;let o=t.Q(t.e(i,e),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in i&&i.vector_layers&&(o.vectorLayerIds=i.vector_layers.map(e=>e.id)),o})}class V{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof t.S?new t.S(e.lng,e.lat):t.S.convert(e),this}setSouthWest(e){return this._sw=e instanceof t.S?new t.S(e.lng,e.lat):t.S.convert(e),this}extend(e){let r,n;let i=this._sw,o=this._ne;if(e instanceof t.S)r=e,n=e;else{if(!(e instanceof V))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(V.convert(e)):this.extend(t.S.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(t.S.convert(e)):this;if(r=e._sw,n=e._ne,!r||!n)return this}return i||o?(i.lng=Math.min(r.lng,i.lng),i.lat=Math.min(r.lat,i.lat),o.lng=Math.max(n.lng,o.lng),o.lat=Math.max(n.lat,o.lat)):(this._sw=new t.S(r.lng,r.lat),this._ne=new t.S(n.lng,n.lat)),this}getCenter(){return new t.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.S(this.getWest(),this.getNorth())}getSouthEast(){return new t.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){let{lng:r,lat:n}=t.S.convert(e),i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(e){return e instanceof V?e:e?new V(e):e}static fromLngLat(e,r=0){let n=360*r/0x2637f09,i=n/Math.cos(Math.PI/180*e.lat);return new V(new t.S(e.lng-i,e.lat-n),new t.S(e.lng+i,e.lat+n))}adjustAntiMeridian(){let e=new t.S(this._sw.lng,this._sw.lat),r=new t.S(this._ne.lng,this._ne.lat);return new V(e,e.lng>r.lng?new t.S(r.lng+360,r.lat):r)}}class U{constructor(e,t,r){this.bounds=V.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=r||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){let r=Math.pow(2,e.z),n=Math.floor(t.V(this.bounds.getWest())*r),i=Math.floor(t.U(this.bounds.getNorth())*r),o=Math.ceil(t.V(this.bounds.getEast())*r),a=Math.ceil(t.U(this.bounds.getSouth())*r);return e.x>=n&&e.x<o&&e.y>=i&&e.y<a}}class G extends t.E{constructor(e,r,n,i){if(super(),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.Q(r,["url","scheme","tileSize","promoteId"])),this._options=t.e({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let e=yield N(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(t.e(this,e),e.bounds&&(this.tileBounds=new U(e.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new t.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return t.e({},this._options)}loadTile(e){return t._(this,void 0,void 0,function*(){let t=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r={request:this.map._requestManager.transformRequest(t,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};r.request.collectResourceTiming=this._collectResourceTiming;let n="RT";if(e.actor&&"expired"!==e.state){if("loading"===e.state)return new Promise((t,r)=>{e.reloadPromise={resolve:t,reject:r}})}else e.actor=this.dispatcher.getActor(),n="LT";e.abortController=new AbortController;try{let t=yield e.actor.sendAsync({type:n,data:r},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,t)}catch(t){if(delete e.abortController,e.aborted)return;if(t&&404!==t.status)throw t;this._afterTileLoadWorkerResponse(e,null)}})}_afterTileLoadWorkerResponse(e,t){if(t&&t.resourceTiming&&(e.resourceTiming=t.resourceTiming),t&&this.map._refreshExpiredTiles&&e.setExpiryData(t),e.loadVectorData(t,this.map.painter),e.reloadPromise){let t=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(t.resolve).catch(t.reject)}}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class H extends t.E{constructor(e,r,n,i){super(),this.id=e,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},r),t.e(this,t.Q(r,["url","scheme","tileSize"]))}load(){return t._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let r=yield N(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,r&&(t.e(this,r),r.bounds&&(this.tileBounds=new U(r.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(e){this._tileJSONRequest=null,this.fire(new t.k(e))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return t.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return t._(this,void 0,void 0,function*(){let r=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{let n=yield u.getImage(this.map._requestManager.transformRequest(r,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(n&&n.data){this.map._refreshExpiredTiles&&(n.cacheControl||n.expires)&&e.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});let r=this.map.painter.context,i=r.gl,o=n.data;e.texture=this.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.T(r,o,i.RGBA,{useMipmap:!0}),e.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}})}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class q extends H{constructor(e,r,n,i){super(e,r,n,i),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox",this.redFactor=r.redFactor,this.greenFactor=r.greenFactor,this.blueFactor=r.blueFactor,this.baseShift=r.baseShift}loadTile(e){return t._(this,void 0,void 0,function*(){let r=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),n=this.map._requestManager.transformRequest(r,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{let r=yield u.getImage(n,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(r&&r.data){let n=r.data;this.map._refreshExpiredTiles&&(r.cacheControl||r.expires)&&e.setExpiryData({cacheControl:r.cacheControl,expires:r.expires});let i=t.b(n)&&t.W()?n:yield this.readImageNow(n),o={type:this.type,uid:e.uid,source:this.id,rawImageData:i,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||"expired"===e.state){e.actor=this.dispatcher.getActor();let t=yield e.actor.sendAsync({type:"LDT",data:o});e.dem=t,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}})}readImageNow(e){return t._(this,void 0,void 0,function*(){if("undefined"!=typeof VideoFrame&&t.X()){let r=e.width+2,n=e.height+2;try{return new t.R({width:r,height:n},(yield t.Y(e,-1,-1,r,n)))}catch(e){}}return d.getImageData(e,1)})}_getNeighboringTiles(e){let r=e.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?e.wrap-1:e.wrap,a=(r.x+1+n)%n,s=r.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.Z(e.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},l[new t.Z(e.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new t.Z(e.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,e.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new t.Z(e.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,e.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l}unloadTile(e){return t._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}class $ extends t.E{constructor(e,r,n,i){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=n.getActor(),this.setEventedParent(i),this._data=r.data,this._options=t.e({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId,void 0!==r.clusterMaxZoom&&this.maxzoom<=r.clusterMaxZoom&&t.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${r.clusterMaxZoom}".`),this.workerOptions=t.e({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(void 0!==r.buffer?r.buffer:128),tolerance:this._pixelsToTileUnits(void 0!==r.tolerance?r.tolerance:.375),extent:t.$,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(r.clusterMaxZoom),minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.$,radius:this._pixelsToTileUnits(r.clusterRadius||50),log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e){return e*(t.$/this.tileSize)}_getClusterMaxZoom(e){let r=e?Math.round(e):this.maxzoom-1;return Number.isInteger(e)||void 0===e||t.w(`Integer expected for option 'clusterMaxZoom': provided value "${e}" rounded to "${r}"`),r}load(){return t._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return t._(this,void 0,void 0,function*(){let e=t.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getCoordinatesFromGeometry(e){return"GeometryCollection"===e.type?e.geometries.map(e=>e.coordinates).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return t._(this,void 0,void 0,function*(){let e;let t=new V,r=yield this.getData();switch(r.type){case"FeatureCollection":e=r.features.map(e=>this.getCoordinatesFromGeometry(e.geometry)).flat(1/0);break;case"Feature":e=this.getCoordinatesFromGeometry(r.geometry);break;default:e=this.getCoordinatesFromGeometry(r)}if(0==e.length)return t;for(let r=0;r<e.length-1;r+=2)t.extend([e[r],e[r+1]]);return t})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(e.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,t,r){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:t,offset:r}})}_updateWorkerData(e){return t._(this,void 0,void 0,function*(){let r=t.e({type:this.type},this.workerOptions);e?r.dataDiff=e:"string"==typeof this._data?(r.request=this.map._requestManager.transformRequest(d.resolveURL(this._data),"Source"),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new t.l("dataloading",{dataType:"source"}));try{let e=yield this.actor.sendAsync({type:"LD",data:r});if(this._pendingLoads--,this._removed||e.abandoned)return void this.fire(new t.l("dataabort",{dataType:"source"}));let n=null;e.resourceTiming&&e.resourceTiming[this.id]&&(n=e.resourceTiming[this.id].slice(0));let i={dataType:"source"};this._collectResourceTiming&&n&&n.length>0&&t.e(i,{resourceTiming:n}),this.fire(new t.l("data",Object.assign(Object.assign({},i),{sourceDataType:"metadata"}))),this.fire(new t.l("data",Object.assign(Object.assign({},i),{sourceDataType:"content"})))}catch(e){if(this._pendingLoads--,this._removed)return void this.fire(new t.l("dataabort",{dataType:"source"}));this.fire(new t.k(e))}})}loaded(){return 0===this._pendingLoads}loadTile(e){return t._(this,void 0,void 0,function*(){let t=e.actor?"RT":"LT";e.actor=this.actor;let r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};e.abortController=new AbortController;let n=yield this.actor.sendAsync({type:t,data:r},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(n,this.map.painter,"RT"===t)})}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return t.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class W extends t.E{constructor(e,t,r,n){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=r,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t}load(e){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let t=yield u.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,t&&t.data&&(this.image=t.data,e&&(this.coordinates=e),this._finishLoading())}catch(e){this._request=null,this._loaded=!0,this.fire(new t.k(e))}})}loaded(){return this._loaded}updateImage(e){return e.url&&(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null})),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){var r;this.coordinates=e;let n=e.map(t.a0.fromLngLat);return this.tileID=function(e){let r=t.a1.fromPoints(e),n=Math.max(0,Math.floor(-Math.log(Math.max(r.width(),r.height()))/Math.LN2)),i=Math.pow(2,n);return new t.a3(n,Math.floor((r.minX+r.maxX)/2*i),Math.floor((r.minY+r.maxY)/2*i))}(n),this.terrainTileRanges=this._getOverlappingTileRanges(n),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=n.map(e=>this.tileID.getTilePoint(e)._round()),this.flippedWindingOrder=((r=this.tileCoords)[1].x-r[0].x)*(r[2].y-r[0].y)-(r[1].y-r[0].y)*(r[2].x-r[0].x)<0,this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;let e=this.map.painter.context,r=e.gl;this.texture||(this.texture=new t.T(e,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));let n=!1;for(let e in this.tiles){let t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,n=!0)}n&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return t._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){let{minX:r,minY:n,maxX:i,maxY:o}=t.a1.fromPoints(e),a={};for(let e=0;e<=t.a2;e++){let t=Math.pow(2,e),s=Math.floor(r*t),l=Math.floor(n*t),u=Math.floor(i*t),c=Math.floor(o*t);a[e]={minTileX:s,minTileY:l,maxTileX:u,maxTileY:c}}return a}}class X extends W{constructor(e,t,r,n){super(e,t,r,n),this.roundZoom=!0,this.type="video",this.options=t}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1;let e=this.options;for(let t of(this.urls=[],e.urls))this.urls.push(this.map._requestManager.transformRequest(t,"Source").url);try{let e=yield t.a4(this.urls);if(this._loaded=!0,!e)return;this.video=e,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(e){this.fire(new t.k(e))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){let r=this.video.seekable;e<r.start(0)||e>r.end(0)?this.fire(new t.k(new t.a5(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;let e=this.map.painter.context,r=e.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new t.T(e,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));let n=!1;for(let e in this.tiles){let t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,n=!0)}n&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Z extends W{constructor(e,r,n,i){super(e,r,n,i),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new t.k(new t.a5(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.k(new t.a5(`sources.${e}`,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.k(new t.a5(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof HTMLCanvasElement||this.fire(new t.k(new t.a5(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.k(new t.a5(`sources.${e}`,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}load(){return t._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.k(Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;let r=this.map.painter.context,n=r.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.T(r,this.canvas,n.RGBA,{premultiply:!0});let i=!1;for(let e in this.tiles){let t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,i=!0)}i&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}let K={},Y=e=>{switch(e){case"geojson":return $;case"image":return W;case"raster":return H;case"raster-dem":return q;case"vector":return G;case"video":return X;case"canvas":return Z}return K[e]},Q="RTLPluginLoaded";class J extends t.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=z()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(e=>{throw this.status="error",e})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return t._(this,arguments,void 0,function*(e,t=!1){if(this.url)throw Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=d.resolveURL(e),!this.url)throw Error(`requested url ${e} is invalid`);if("unavailable"===this.status){if(!t)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if("requested"===this.status)return this._requestImport()})}_requestImport(){return t._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new t.l(Q))})}lazyLoad(){"unavailable"===this.status?this.status="requested":"deferred"===this.status&&this._requestImport()}}let ee=null;function et(){return ee||(ee=new J),ee}class er{constructor(e,r){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=t.a6(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){let t=e+this.timeAdded;t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,r,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(let i in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){let r={};if(!t)return r;for(let n of e){let e=n.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length)for(let t of(n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0])),e))r[t.id]=n}return r}(e.buckets,null==r?void 0:r.style),this.hasSymbolBuckets=!1,this.buckets){let e=this.buckets[i];if(e instanceof t.a8){if(this.hasSymbolBuckets=!0,!n)break;e.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let e in this.buckets){let r=this.buckets[e];if(r instanceof t.a8&&r.hasRTLText){this.hasRTLText=!0,et().lazyLoad();break}}for(let e in this.queryPadding=0,this.buckets){let t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(e).queryRadius(t))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.a7}unloadVectorData(){for(let e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(let t in this.buckets){let r=this.buckets[t];r.uploadPending()&&r.upload(e)}let r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new t.T(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new t.T(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,r,n,i,o,a,s,l,u,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l,getElevation:c},e,t,r):{}}querySourceFeatures(e,r){let n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;let i=n.loadVTLayers(),o=r&&r.sourceLayer?r.sourceLayer:"",a=i._geojsonTileLayer||i[o];if(!a)return;let s=t.a9(r&&r.filter),{z:l,x:u,y:c}=this.tileID.canonical,h={z:l,x:u,y:c};for(let r=0;r<a.length;r++){let i=a.feature(r);if(s.needGeometry){let e=t.aa(i,!0);if(!s.filter(new t.F(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new t.F(this.tileID.overscaledZ),i))continue;let d=n.getId(i,o),f=new t.ab(i,l,u,c,d);f.tile=h,e.push(f)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){let r=this.expirationTime;if(e.cacheControl){let r=t.ac(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){let e=Date.now(),t=!1;if(this.expirationTime>e)t=!1;else if(r){if(this.expirationTime<r)t=!0;else{let n=this.expirationTime-r;n?this.expirationTime=e+Math.max(n,3e4):t=!0}}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),0x7fffffff)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;let r=this.latestFeatureIndex.loadVTLayers();for(let n in this.buckets){if(!t.style.hasLayer(n))continue;let i=this.buckets[n],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=r[o],s=e[o];if(!a||!s||0===Object.keys(s).length)continue;i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});let l=t&&t.style&&t.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<d.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=d.now()+e}setDependencies(e,t){let r={};for(let e of t)r[e]=!0;this.dependencies[e]=r}hasDependency(e,t){for(let r of e){let e=this.dependencies[r];if(e){for(let r of t)if(e[r])return!0}}return!1}}class en{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(let e in this.data)for(let t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,r){let n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);let i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(()=>{this.remove(e,i)},r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){let e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){let t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){let t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;let r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){let e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){let t=[];for(let r in this.data)for(let n of this.data[r])e(n.value)||t.push(n);for(let e of t)this.remove(e.value.tileID,e)}}class ei{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,r,n){let i=String(r);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},t.e(this.stateChanges[e][i],n),null===this.deletedStates[e])for(let t in this.deletedStates[e]={},this.state[e])t!==i&&(this.deletedStates[e][t]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][i])for(let t in this.deletedStates[e][i]={},this.state[e][i])n[t]||(this.deletedStates[e][i][t]=null);else for(let t in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][t]&&delete this.deletedStates[e][i][t]}removeFeatureState(e,t,r){if(null===this.deletedStates[e])return;let n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t){if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null}else this.deletedStates[e]=null}getState(e,r){let n=String(r),i=t.e({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){let t=this.deletedStates[e][r];if(null===t)return{};for(let e in t)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,r){let n={};for(let e in this.stateChanges){this.state[e]=this.state[e]||{};let r={};for(let n in this.stateChanges[e])this.state[e][n]||(this.state[e][n]={}),t.e(this.state[e][n],this.stateChanges[e][n]),r[n]=this.state[e][n];n[e]=r}for(let e in this.deletedStates){this.state[e]=this.state[e]||{};let r={};if(null===this.deletedStates[e])for(let t in this.state[e])r[t]={},this.state[e][t]={};else for(let t in this.deletedStates[e]){if(null===this.deletedStates[e][t])this.state[e][t]={};else for(let r of Object.keys(this.deletedStates[e][t]))delete this.state[e][t][r];r[t]=this.state[e][t]}n[e]=n[e]||{},t.e(n[e],r)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(let t in e)e[t].setFeatureState(n,r)}}function eo(e,r){let n=t.ag(r.lat,-t.ah,t.ah);return new t.P(t.V(r.lng)*e,t.U(n)*e)}function ea(e,r){return new t.a0(r.x/e,r.y/e).toLngLat()}function es(e){return e.cameraToCenterDistance*Math.min(.85*Math.tan(t.ad(90-e.pitch)),Math.tan(t.ad(89.25-e.pitch)))}function el(e,r){let n=e.canonical,i=r/t.ae(n.z),o=n.x+Math.pow(2,n.z)*e.wrap,a=t.af(new Float64Array(16));return t.M(a,a,[o*i,n.y*i,0]),t.N(a,a,[i/t.$,i/t.$,1]),a}function eu(e,r,n,i,o){let a=t.a0.fromLngLat(e,r),s=o*t.ai(1,e.lat),l=s*Math.cos(t.ad(n)),u=Math.sqrt(s*s-l*l),c=u*Math.sin(t.ad(-i)),h=u*Math.cos(t.ad(-i));return new t.a0(a.x+c,a.y+h,a.z+l)}function ec(e,t,r){let n=0,i=(r-t)/10;for(let o=0;o<10;o++)n+=i*Math.pow(Math.cos(t+(o+.5)/10*(r-t)),e);return n}function eh(e,r){return function(n,i,o,a,s){let l=2*((e-1)/t.aj(Math.cos(t.ad(89.25-s))/Math.cos(t.ad(89.25)))-1),u=Math.acos(o/a),c=2*ec(l-1,0,t.ad(s/2)),h=Math.min(t.ad(89.25),u+t.ad(s/2)),d=ec(l-1,Math.min(h,u-t.ad(s/2)),h),f=Math.atan(i/o),p=Math.hypot(i,o),m=n;return m+=t.aj(a/p/Math.max(.5,Math.cos(t.ad(s/2)))),m+=l*t.aj(Math.cos(f))/2,m-=t.aj(Math.max(1,d/c/r))/2}}let ed=eh(9.314,3);function ef(e,r){return Math.max(0,(r.roundZoom?Math.round:Math.floor)(e.zoom+t.aj(e.tileSize/r.tileSize)))}function ep(e,r){let n=e.getCameraFrustum(),i=e.getClippingPlane(),o=e.screenPointToMercatorCoordinate(e.getCameraPoint()),a=t.a0.fromLngLat(e.center,e.elevation);o.z=a.z+Math.cos(e.pitchInRadians)*e.cameraToCenterDistance/e.worldSize;let s=e.getCoveringTilesDetailsProvider(),l=s.allowVariableZoom(e,r),u=ef(e,r),c=r.minzoom||0,h=void 0!==r.maxzoom?r.maxzoom:e.maxZoom,d=Math.min(Math.max(0,u),h),f=Math.pow(2,d),p=[f*o.x,f*o.y,0],m=[f*a.x,f*a.y,0],g=Math.hypot(a.x-o.x,a.y-o.y),y=Math.abs(a.z-o.z),v=Math.hypot(g,y),b=e=>({zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),_=[],x=[];if(e.renderWorldCopies&&s.allowWorldCopies())for(let e=1;e<=3;e++)_.push(b(-e)),_.push(b(e));for(_.push(b(0));_.length>0;){let f=_.pop(),g=f.x,b=f.y,w=f.fullyVisible,S={x:g,y:b,z:f.zoom},T=s.getTileBoundingVolume(S,f.wrap,e.elevation,r);if(!w){let e=function(e,t,r){let n=t.intersectsFrustum(e);if(!r||0===n)return n;let i=t.intersectsPlane(r);return 0===i?0:2===n&&2===i?2:1}(n,T,i);if(0===e)continue;w=2===e}let E=s.distanceToTile2d(o.x,o.y,S,T),P=u;l&&(P=(r.calculateTileZoom||ed)(e.zoom+t.aj(e.tileSize/r.tileSize),E,y,v,e.fov));let C=Math.min(P=Math.max(0,P=(r.roundZoom?Math.round:Math.floor)(P)),h);if(f.wrap=s.getWrap(a,S,f.wrap),f.zoom>=C){if(f.zoom<c)continue;let e=d-f.zoom,n=p[0]-.5-(g<<e),i=p[1]-.5-(b<<e),o=r.reparseOverscaled?Math.max(f.zoom,P):f.zoom;x.push({tileID:new t.Z(f.zoom===h?o:f.zoom,f.wrap,f.zoom,g,b),distanceSq:t.ak([m[0]-.5-g,m[1]-.5-b]),tileDistanceToCamera:Math.sqrt(n*n+i*i)})}else for(let e=0;e<4;e++)_.push({zoom:f.zoom+1,x:(g<<1)+e%2,y:(b<<1)+(e>>1),wrap:f.wrap,fullyVisible:w})}return x.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}let em=t.a1.fromPoints([new t.P(0,0),new t.P(t.$,t.$)]);class eg extends t.E{constructor(e,t,r){super(),this.id=e,this.dispatcher=r,this.on("data",e=>this._dataHandler(e)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((e,t,r,n)=>{let i=new(Y(t.type))(e,t,r,n);if(i.id!==e)throw Error(`Expected Source id to be ${e} instead of ${i.id}`);return i})(e,t,r,this),this._tiles={},this._cache=new en(0,e=>this._unloadTile(e)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ei,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let e in this._tiles){let t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,r,n){return t._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,r,n)}catch(r){e.state="errored",404!==r.status?this._source.fire(new t.k(r,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new t.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){for(let t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){let r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e=>e.tileID).sort(ey).map(e=>e.key)}getRenderableIds(e){let r=[];for(let t in this._tiles)this._isIdRenderable(t,e)&&r.push(this._tiles[t]);return e?r.sort((e,r)=>{let n=e.tileID,i=r.tileID,o=new t.P(n.canonical.x,n.canonical.y)._rotate(-this.transform.bearingInRadians),a=new t.P(i.canonical.x,i.canonical.y)._rotate(-this.transform.bearingInRadians);return n.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x}).map(e=>e.tileID.key):r.map(e=>e.tileID).sort(ey).map(e=>e.key)}hasRenderableParent(e){let t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else for(let t in this._cache.reset(),this._tiles)e?this._reloadTile(t,"expired"):"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")}_reloadTile(e,r){return t._(this,void 0,void 0,function*(){let t=this._tiles[e];t&&("loading"!==t.state&&(t.state=r),yield this._loadTile(t,e,r))})}_tileLoaded(e,r,n){e.timeAdded=d.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(r,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new t.l("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){let t=this.getRenderableIds();for(let n=0;n<t.length;n++){let i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){let t=this.getTileByID(i);r(e,t),r(t,e)}}function r(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,r,n){for(let i in this._tiles){let o=this._tiles[i];if(n[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>r)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){let e=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[e.key])&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(e[(s=s.scaledTo(s.overscaledZ-1)).key]||e[s.canonical.key]){n[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){let r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(let r=e.overscaledZ-1;r>=t;r--){let t=e.scaledTo(r),n=this._getLoadedTile(t);if(n)return n}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){let t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){let r=Math.floor((Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1)*(null===this._maxTileCacheZoomLevels?t.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)}handleWrapJump(e){let t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){let e={};for(let r in this._tiles){let n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}for(let t in this._tiles=e,this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(let e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}_updateCoveredAndRetainedTiles(e,t,r,n,i,o){let a={},s={},l=Object.keys(e),u=d.now();for(let r of l){let n=e[r],i=this._tiles[r];if(!i||0!==i.fadeEndTime&&i.fadeEndTime<=u)continue;let o=this.findLoadedParent(n,t),l=this.findLoadedSibling(n),c=o||l||null;c&&(this._addTile(c.tileID),a[c.tileID.key]=c.tileID),s[r]=n}for(let t in this._retainLoadedChildren(s,n,r,e),a)e[t]||(this._coveredTiles[t]=!0,e[t]=a[t]);if(o){let t={},r={};for(let e of i)this._tiles[e.key].hasData()?t[e.key]=e:r[e.key]=e;for(let n in r){let i=r[n].children(this._source.maxzoom);this._tiles[i[0].key]&&this._tiles[i[1].key]&&this._tiles[i[2].key]&&this._tiles[i[3].key]&&(t[i[0].key]=e[i[0].key]=i[0],t[i[1].key]=e[i[1].key]=i[1],t[i[2].key]=e[i[2].key]=i[2],t[i[3].key]=e[i[3].key]=i[3],delete r[n])}for(let n in r){let i=r[n],o=this.findLoadedParent(i,this._source.minzoom),a=this.findLoadedSibling(i),s=o||a||null;if(s)for(let r in t[s.tileID.key]=e[s.tileID.key]=s.tileID,t)t[r].isChildOf(s.tileID)&&delete t[r]}for(let e in this._tiles)t[e]||(this._coveredTiles[e]=!0)}}update(e,r){let n;if(!this._sourceLoaded||this._paused)return;this.transform=e,this.terrain=r,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new t.Z(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(n=ep(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:r,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(n=n.filter(e=>this._source.hasTile(e)))):n=[];let i=ef(e,this._source),o=Math.max(i-eg.maxOverzooming,this._source.minzoom),a=Math.max(i+eg.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let e={};for(let t of n)if(t.canonical.z>this._source.minzoom){let r=t.scaledTo(t.canonical.z-1);e[r.key]=r;let n=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[n.key]=n}n=n.concat(Object.values(e))}let s=0===n.length&&!this._updated&&this._didEmitContent;this._updated=!0,s&&this.fire(new t.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let l=this._updateRetainedTiles(n,i);for(let e in ev(this._source.type)&&this._updateCoveredAndRetainedTiles(l,o,a,i,n,r),l)this._tiles[e].clearFadeHold();for(let e of t.al(this._tiles,l)){let t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){var r;let n={},i={},o=Math.max(t-eg.maxOverzooming,this._source.minzoom),a=Math.max(t+eg.maxUnderzooming,this._source.minzoom),s={};for(let r of e){let e=this._addTile(r);n[r.key]=r,e.hasData()||t<this._source.maxzoom&&(s[r.key]=r)}for(let l of(this._retainLoadedChildren(s,t,a,n),e)){let e=this._tiles[l.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){let e=l.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){n[e.key]=e;continue}}else{let e=l.children(this._source.maxzoom);if(n[e[0].key]&&n[e[1].key]&&n[e[2].key]&&n[e[3].key])continue}let a=e.wasRequested();for(let t=l.overscaledZ-1;t>=o;--t){let o=l.scaledTo(t);if(i[o.key])break;if(i[o.key]=!0,(e=this.getTile(o))||!a||(e=this._addTile(o)),e){let t=e.hasData();if((t||!(null===(r=this.map)||void 0===r?void 0:r.cancelPendingTileRequestsWhileZooming)||a)&&(n[o.key]=o),a=e.wasRequested(),t)break}}}return n}_updateLoadedParentTileCache(){for(let e in this._loadedParentTiles={},this._tiles){let t=[],r,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);let e=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(e))break;n=e}for(let e of t)this._loadedParentTiles[e]=r}}_updateLoadedSiblingTileCache(){for(let e in this._loadedSiblingTiles={},this._tiles){let t=this._tiles[e].tileID,r=this._getLoadedTile(t);this._loadedSiblingTiles[t.key]=r}}_addTile(e){let r=this._tiles[e.key];if(r)return r;(r=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,r),r.tileID=e,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,r)));let n=r;return r||(r=new er(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(r,e.key,r.state)),r.uses++,this._tiles[e.key]=r,n||this._source.fire(new t.l("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);let r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},r))}refreshTiles(e){for(let t in this._tiles)(this._isIdRenderable(t)||"errored"==this._tiles[t].state)&&e.some(e=>e.equals(this._tiles[t].tileID.canonical))&&this._reloadTile(t,"expired")}_removeTile(e){let t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}_dataHandler(e){let t=e.sourceDataType;"source"===e.dataType&&"metadata"===t&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===t&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){for(let e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,r,n){let i=[],o=this.transform;if(!o)return i;let a=o.getCoveringTilesDetailsProvider().allowWorldCopies(),s=n?o.getCameraQueryGeometry(e):e,l=e=>o.screenPointToMercatorCoordinate(e,this.terrain),u=this.transformBbox(e,l,!a),c=this.transformBbox(s,l,!a),h=this.getIds(),d=t.a1.fromPoints(c);for(let e=0;e<h.length;e++){let n=this._tiles[h[e]];if(n.holdingForFade())continue;let s=a?[n.tileID]:[n.tileID.unwrapTo(-1),n.tileID.unwrapTo(0)],l=Math.pow(2,o.zoom-n.tileID.overscaledZ),f=r*n.queryPadding*t.$/n.tileSize/l;for(let e of s){let r=d.map(r=>e.getTilePoint(new t.a0(r.x,r.y)));if(r.expandBy(f),r.intersects(em)){let t=u.map(t=>e.getTilePoint(t)),r=c.map(t=>e.getTilePoint(t));i.push({tile:n,tileID:a?e:e.unwrapTo(0),queryGeometry:t,cameraQueryGeometry:r,scale:l})}}}return i}transformBbox(e,r,n){let i=e.map(r);if(n){let n=t.a1.fromPoints(e);n.shrinkBy(.001*Math.min(n.width(),n.height()));let o=n.map(r);t.a1.fromPoints(i).covers(o)||(i=i.map(e=>e.x>.5?new t.a0(e.x-1,e.y,e.z):e))}return i}getVisibleCoordinates(e){let t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);return this.transform&&this.transform.populateCache(t),t}hasTransition(){if(this._source.hasTransition())return!0;if(ev(this._source.type)){let e=d.now();for(let t in this._tiles)if(this._tiles[t].fadeEndTime>=e)return!0}return!1}setFeatureState(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}removeFeatureState(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,r){let n=this._tiles[e];n&&n.setDependencies(t,r)}reloadTilesForDependencies(e,t){for(let r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter(r=>!r.hasDependency(e,t))}}function ey(e,t){let r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function ev(e){return"raster"===e||"image"===e||"video"===e}eg.maxOverzooming=10,eg.maxUnderzooming=3;class eb{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.ag(e,0,1);let r=1,n=this._distances[r],i=e*this.paddedLength+this.padding;for(;n<i&&r<this._distances.length;)n=this._distances[++r];let o=r-1,a=this._distances[o],s=n-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[r].mult(l))}}function e_(e,t){let r=!0;return"always"===e||"never"!==e&&"never"!==t||(r=!1),r}class ex{constructor(e,t,r){let n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}_insertBoxCell(e,t,r,n,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,r,n,i,o){this.circleCells[i].push(o)}_query(e,t,r,n,i,o,a){if(r<0||e>this.width||n<0||t>this.height)return[];let s=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return[{key:null,x1:e,y1:t,x2:r,y2:n}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){let t=this.circles[3*e],r=this.circles[3*e+1],n=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-n,y1:r-n,x2:t+n,y2:r+n})}}else this._forEachCell(e,t,r,n,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(e,t,r,n){return this._query(e,t,r,n,!1,null)}hitTest(e,t,r,n,i,o){return this._query(e,t,r,n,!0,i,o).length>0}hitTestCircle(e,t,r,n,i){let o=e-r,a=e+r,s=t-r,l=t+r;if(a<0||o>this.width||l<0||s>this.height)return!1;let u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:!0,overlapMode:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),u.length>0}_queryCell(e,t,r,n,i,o,a,s){let{seenUids:l,hitTest:u,overlapMode:c}=a,h=this.boxCells[i];if(null!==h){let i=this.bboxes;for(let a of h)if(!l.box[a]){l.box[a]=!0;let h=4*a,d=this.boxKeys[a];if(e<=i[h+2]&&t<=i[h+3]&&r>=i[h+0]&&n>=i[h+1]&&(!s||s(d))&&(!u||!e_(c,d.overlapMode))&&(o.push({key:d,x1:i[h],y1:i[h+1],x2:i[h+2],y2:i[h+3]}),u))return!0}}let d=this.circleCells[i];if(null!==d){let i=this.circles;for(let a of d)if(!l.circle[a]){l.circle[a]=!0;let h=3*a,d=this.circleKeys[a];if(this._circleAndRectCollide(i[h],i[h+1],i[h+2],e,t,r,n)&&(!s||s(d))&&(!u||!e_(c,d.overlapMode))){let e=i[h],t=i[h+1],r=i[h+2];if(o.push({key:d,x1:e-r,y1:t-r,x2:e+r,y2:t+r}),u)return!0}}}return!1}_queryCellCircle(e,t,r,n,i,o,a,s){let{circle:l,seenUids:u,overlapMode:c}=a,h=this.boxCells[i];if(null!==h){let e=this.bboxes;for(let t of h)if(!u.box[t]){u.box[t]=!0;let r=4*t,n=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[r+0],e[r+1],e[r+2],e[r+3])&&(!s||s(n))&&!e_(c,n.overlapMode))return o.push(!0),!0}}let d=this.circleCells[i];if(null!==d){let e=this.circles;for(let t of d)if(!u.circle[t]){u.circle[t]=!0;let r=3*t,n=this.circleKeys[t];if(this._circlesCollide(e[r],e[r+1],e[r+2],l.x,l.y,l.radius)&&(!s||s(n))&&!e_(c,n.overlapMode))return o.push(!0),!0}}}_forEachCell(e,t,r,n,i,o,a,s){let l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),h=this._convertToYCellCoord(n);for(let d=l;d<=c;d++)for(let l=u;l<=h;l++)if(i.call(this,e,t,r,n,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,r,n,i,o){let a=n-e,s=i-t,l=r+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,r,n,i,o,a){let s=(o-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;let u=(a-i)/2,c=Math.abs(t-(i+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;let h=l-s,d=c-u;return h*h+d*d<=r*r}}function ew(e,r,n){var i,o,a,s,l;let u=t.L();if(!e){let{vecSouth:e,vecEast:t}=eS(r),n=h();n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],(l=(i=n[0])*(s=n[3])-(a=n[2])*(o=n[1]))&&(n[0]=s*(l=1/l),n[1]=-o*l,n[2]=-a*l,n[3]=i*l),u[0]=n[0],u[1]=n[1],u[4]=n[2],u[5]=n[3]}return t.N(u,u,[1/n,1/n,1]),u}function eS(e){let r=Math.cos(e.rollInRadians),n=Math.sin(e.rollInRadians),i=Math.cos(e.pitchInRadians),o=Math.cos(e.bearingInRadians),a=Math.sin(e.bearingInRadians),s=t.aq();s[0]=-o*i*n-a*r,s[1]=-a*i*n+o*r;let l=t.ar(s);l<1e-9?t.as(s):t.at(s,s,1/l);let u=t.aq();u[0]=o*i*r-a*n,u[1]=a*i*r+o*n;let c=t.ar(u);return c<1e-9?t.as(u):t.at(u,u,1/c),{vecEast:u,vecSouth:s}}function eT(e,r,n,i){let o;i?(o=[e,r,i(e,r),1],t.av(o,o,n)):ez(o=[e,r,0,1],o,n);let a=o[3];return{point:new t.P(o[0]/a,o[1]/a),signedDistanceFromCamera:a,isOccluded:!1}}function eE(e,t,r,n,i,o,a,s){let l=o.glyphStartIndex+o.numGlyphs,u=o.lineStartIndex,c=o.lineStartIndex+o.lineLength,h=t.getoffsetX(o.glyphStartIndex),d=t.getoffsetX(l-1),f=eD(e*h,r,n,i,o.segment,u,c,s,a);if(!f)return null;let p=eD(e*d,r,n,i,o.segment,u,c,s,a);return p?s.projectionCache.anyProjectionOccluded?null:{first:f,last:p}:null}function eP(e,r,n,i){return e===t.an.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(e===t.an.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function eC(e){let r;let{projectionContext:n,pitchedLabelPlaneMatrixInverse:i,symbol:o,fontSize:a,flip:s,keepUpright:l,glyphOffsetArray:u,dynamicLayoutVertexArray:c,aspectRatio:h,rotateToLine:d}=e,f=a/24,p=o.lineOffsetX*f,m=o.lineOffsetY*f;if(o.numGlyphs>1){let e=o.glyphStartIndex+o.numGlyphs,t=o.lineStartIndex,a=o.lineStartIndex+o.lineLength,c=eE(f,u,p,m,s,o,d,n);if(!c)return{notEnoughRoom:!0};let g=eO(c.first.point.x,c.first.point.y,n,i),y=eO(c.last.point.x,c.last.point.y,n,i);if(l&&!s){let e=eP(o.writingMode,g,y,h);if(e)return e}r=[c.first];for(let i=o.glyphStartIndex+1;i<e-1;i++){let e=eD(f*u.getoffsetX(i),p,m,s,o.segment,t,a,n,d);if(!e)return{notEnoughRoom:!0};r.push(e)}r.push(c.last)}else{if(l&&!s){let e=ek(n.tileAnchorPoint.x,n.tileAnchorPoint.y,n).point,r=o.lineStartIndex+o.segment+1,a=new t.P(n.lineVertexArray.getx(r),n.lineVertexArray.gety(r)),s=ek(a.x,a.y,n),l=s.signedDistanceFromCamera>0?s.point:eA(n.tileAnchorPoint,a,e,1,n),u=eO(e.x,e.y,n,i),c=eO(l.x,l.y,n,i),d=eP(o.writingMode,u,c,h);if(d)return d}let e=eD(f*u.getoffsetX(o.glyphStartIndex),p,m,s,o.segment,o.lineStartIndex,o.lineStartIndex+o.lineLength,n,d);if(!e||n.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};r=[e]}for(let e of r)t.au(c,e.point,e.angle);return{}}function eA(e,t,r,n,i){let o=e.add(e.sub(t)._unit()),a=ek(o.x,o.y,i).point,s=r.sub(a);return r.add(s._mult(n/s.mag()))}function eM(e,r,n){let i=r.projectionCache;if(i.projections[e])return i.projections[e];let o=new t.P(r.lineVertexArray.getx(e),r.lineVertexArray.gety(e)),a=ek(o.x,o.y,r);if(a.signedDistanceFromCamera>0)return i.projections[e]=a.point,i.anyProjectionOccluded=i.anyProjectionOccluded||a.isOccluded,a.point;let s=e-n.direction;return eA(0===n.distanceFromAnchor?r.tileAnchorPoint:new t.P(r.lineVertexArray.getx(s),r.lineVertexArray.gety(s)),o,n.previousVertex,n.absOffsetX-n.distanceFromAnchor+1,r)}function ek(e,t,r){let n;let i=e+r.translation[0],o=t+r.translation[1];return r.pitchWithMap?(n=eT(i,o,r.pitchedLabelPlaneMatrix,r.getElevation)).isOccluded=!1:((n=r.transform.projectTileCoordinates(i,o,r.unwrappedTileID,r.getElevation)).point.x=(.5*n.point.x+.5)*r.width,n.point.y=(-(.5*n.point.y)+.5)*r.height),n}function eO(e,r,n,i){if(n.pitchWithMap){let o=[e,r,0,1];return t.av(o,o,i),n.transform.projectTileCoordinates(o[0]/o[3],o[1]/o[3],n.unwrappedTileID,n.getElevation).point}return{x:e/n.width*2-1,y:1-r/n.height*2}}function eI(e,t,r){return r.transform.projectTileCoordinates(e,t,r.unwrappedTileID,r.getElevation)}function eR(e,t,r){return e._unit()._perp()._mult(t*r)}function eD(e,r,n,i,o,a,s,l,u){let c;let h=i?e-r:e+r,d=h>0?1:-1,f=0;i&&(d*=-1,f=Math.PI),d<0&&(f+=Math.PI);let p,m=d>0?a+o:a+o+1;l.projectionCache.cachedAnchorPoint?p=l.projectionCache.cachedAnchorPoint:(p=ek(l.tileAnchorPoint.x,l.tileAnchorPoint.y,l).point,l.projectionCache.cachedAnchorPoint=p);let g,y,v=p,b=p,_=0,x=0,w=Math.abs(h),S=[];for(;_+x<=w;){if((m+=d)<a||m>=s)return null;_+=x,b=v,y=g;let e={absOffsetX:w,direction:d,distanceFromAnchor:_,previousVertex:b};if(v=eM(m,l,e),0===n)S.push(b),c=v.sub(b);else{let r;let i=v.sub(b);r=0===i.mag()?eR(eM(m+d,l,e).sub(v),n,d):eR(i,n,d),y||(y=b.add(r)),g=function(e,r,n,i,o,a,s,l,u){if(l.projectionCache.offsets[e])return l.projectionCache.offsets[e];let c=n.add(r);if(e+u.direction<i||e+u.direction>=o)return l.projectionCache.offsets[e]=c,c;let h=eM(e+u.direction,l,u),d=eR(h.sub(n),s,u.direction),f=n.add(d),p=h.add(d);return l.projectionCache.offsets[e]=t.aw(a,c,f,p)||c,l.projectionCache.offsets[e]}(m,r,v,a,s,y,n,l,e),S.push(y),c=g.sub(y)}x=c.mag()}let T=c._mult((w-_)/x)._add(y||b),E=f+Math.atan2(v.y-b.y,v.x-b.x);return S.push(T),{point:T,angle:u?E:0,path:S}}let eL=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ej(e,t){for(let r=0;r<e;r++){let e=t.length;t.resize(e+4),t.float32.set(eL,3*e)}}function ez(e,t,r){let n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}class eB{constructor(e,t=new ex(e.width+200,e.height+200,25),r=new ex(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,r,n,i,o,a,s,l,u,c,h){let d;let f=this.projectAndGetPerspectiveRatio(e.anchorPointX+s[0],e.anchorPointY+s[1],i,u,h),p=r*f.perspectiveRatio;if(o||a)d=this._projectCollisionBox(e,p,n,i,o,a,s,f,u,c,h);else{let t=f.x+(c?c.x*p:0),r=f.y+(c?c.y*p:0);d={allPointsOccluded:!1,box:[t+e.x1*p,r+e.y1*p,t+e.x2*p,r+e.y2*p]}}let[m,g,y,v]=d.box,b=o?d.allPointsOccluded:f.isOccluded,_=b;return _||(_=f.perspectiveRatio<this.perspectiveRatioCutoff),_||(_=!this.isInsideGrid(m,g,y,v)),_||"always"!==t&&this.grid.hitTest(m,g,y,v,t,l)?{box:[m,g,y,v],placeable:!1,offscreen:!1,occluded:b}:{box:[m,g,y,v],placeable:!0,offscreen:this.isOffscreen(m,g,y,v),occluded:b}}placeCollisionCircles(e,r,n,i,o,a,s,l,u,c,h,d,f,p){let m=[],g=new t.P(r.anchorX,r.anchorY),y=this.getPerspectiveRatio(g.x,g.y,a,p),v=(u?o*this.transform.getPitchedTextCorrection(r.anchorX,r.anchorY,a)/y:o*y)/t.aA,b={getElevation:p,pitchedLabelPlaneMatrix:s,lineVertexArray:n,pitchWithMap:u,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:g,unwrappedTileID:a,width:this.transform.width,height:this.transform.height,translation:f},_=eE(v,i,r.lineOffsetX*v,r.lineOffsetY*v,!1,r,!1,b),x=!1,w=!1,S=!0;if(_){let r=.5*h*y+d,n=new t.P(-100,-100),i=new t.P(this.screenRightBoundary,this.screenBottomBoundary),o=new eb,a=_.first,s=_.last,f=[];for(let e=a.path.length-1;e>=1;e--)f.push(a.path[e]);for(let e=1;e<s.path.length;e++)f.push(s.path[e]);let p=2.5*r;if(u){let e=this.projectPathToScreenSpace(f,b);f=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let g=[];if(f.length>0){let e=f[0].clone(),r=f[0].clone();for(let t=1;t<f.length;t++)e.x=Math.min(e.x,f[t].x),e.y=Math.min(e.y,f[t].y),r.x=Math.max(r.x,f[t].x),r.y=Math.max(r.y,f[t].y);g=e.x>=n.x&&r.x<=i.x&&e.y>=n.y&&r.y<=i.y?[f]:r.x<n.x||e.x>i.x||r.y<n.y||e.y>i.y?[]:t.ax([f],n.x,n.y,i.x,i.y)}for(let t of g){o.reset(t,.25*r);let n=0;n=o.length<=.5*r?1:Math.ceil(o.paddedLength/p)+1;for(let t=0;t<n;t++){let i=t/Math.max(n-1,1),a=o.lerp(i),s=a.x+100,u=a.y+100;m.push(s,u,r,0);let h=s-r,d=u-r,f=s+r,p=u+r;if(S=S&&this.isOffscreen(h,d,f,p),w=w||this.isInsideGrid(h,d,f,p),"always"!==e&&this.grid.hitTestCircle(s,u,r,e,c)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!w||y<this.perspectiveRatioCutoff?[]:m,offscreen:S,collisionDetected:x}}projectPathToScreenSpace(e,r){return function(e){let t=0,r=0,n=0,i=0;for(let o=0;o<e.length;o++)e[o].isOccluded?(n=o+1,i=0):++i>r&&(r=i,t=n);return e.slice(t,t+r)}(function(e,r){let n=t.L();return t.ap(n,r.pitchedLabelPlaneMatrix),e.map(e=>{let t=eT(e.x,e.y,n,r.getElevation),i=r.transform.projectTileCoordinates(t.point.x,t.point.y,r.unwrappedTileID,r.getElevation);return i.point.x=(.5*i.point.x+.5)*r.width,i.point.y=(-(.5*i.point.y)+.5)*r.height,i})}(e,r))}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};let r=[],n=new t.a1;for(let i of e){let e=new t.P(i.x+100,i.y+100);n.extend(e),r.push(e)}let{minX:i,minY:o,maxX:a,maxY:s}=n,l=this.grid.query(i,o,a,s).concat(this.ignoredGrid.query(i,o,a,s)),u={},c={};for(let e of l){let n=e.key;if(void 0===u[n.bucketInstanceId]&&(u[n.bucketInstanceId]={}),u[n.bucketInstanceId][n.featureIndex])continue;let i=[new t.P(e.x1,e.y1),new t.P(e.x2,e.y1),new t.P(e.x2,e.y2),new t.P(e.x1,e.y2)];t.ay(r,i)&&(u[n.bucketInstanceId][n.featureIndex]=!0,void 0===c[n.bucketInstanceId]&&(c[n.bucketInstanceId]=[]),c[n.bucketInstanceId].push(n.featureIndex))}return c}insertCollisionBox(e,t,r,n,i,o){(r?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:o,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,r,n,i,o){let a=r?this.ignoredGrid:this.grid,s={bucketInstanceId:n,featureIndex:i,collisionGroupID:o,overlapMode:t};for(let t=0;t<e.length;t+=4)a.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(e,r,n,i,o){if(o){let n;i?(n=[e,r,i(e,r),1],t.av(n,n,o)):ez(n=[e,r,0,1],n,o);let a=n[3];return{x:(n[0]/a+1)/2*this.transform.width+100,y:(-n[1]/a+1)/2*this.transform.height+100,perspectiveRatio:.5+this.transform.cameraToCenterDistance/a*.5,isOccluded:!1,signedDistanceFromCamera:a}}{let t=this.transform.projectTileCoordinates(e,r,n,i);return{x:(t.point.x+1)/2*this.transform.width+100,y:(1-t.point.y)/2*this.transform.height+100,perspectiveRatio:.5+this.transform.cameraToCenterDistance/t.signedDistanceFromCamera*.5,isOccluded:t.isOccluded,signedDistanceFromCamera:t.signedDistanceFromCamera}}}getPerspectiveRatio(e,t,r,n){let i=this.transform.projectTileCoordinates(e,t,r,n);return .5+this.transform.cameraToCenterDistance/i.signedDistanceFromCamera*.5}isOffscreen(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary}isInsideGrid(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){let e=t.af([]);return t.M(e,e,[-100,-100,0]),e}_projectCollisionBox(e,r,n,i,o,a,s,l,u,c,h){let d=1,f=0,p=0,m=1,g=e.anchorPointX+s[0],y=e.anchorPointY+s[1];if(a&&!o){let e=this.projectAndGetPerspectiveRatio(g+1,y,i,u,h),t=e.x-l.x,r=Math.atan((e.y-l.y)/t)+(t<0?Math.PI:0),n=Math.sin(r),o=Math.cos(r);d=o,f=n,p=-n,m=o}else if(!a&&o){let e=eS(this.transform);d=e.vecEast[0],f=e.vecEast[1],p=e.vecSouth[0],m=e.vecSouth[1]}let v=l.x,b=l.y,_=r;o&&(v=g,b=y,_=Math.pow(2,-(this.transform.zoom-n.overscaledZ))*this.transform.getPitchedTextCorrection(g,y,i),c||(_*=t.ag(.5+l.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),c&&(v+=d*c.x*_+p*c.y*_,b+=f*c.x*_+m*c.y*_);let x=e.x1*_,w=e.x2*_,S=(x+w)/2,T=e.y1*_,E=e.y2*_,P=(T+E)/2,C=[];for(let{offsetX:e,offsetY:r}of[{offsetX:x,offsetY:T},{offsetX:S,offsetY:T},{offsetX:w,offsetY:T},{offsetX:w,offsetY:P},{offsetX:w,offsetY:E},{offsetX:S,offsetY:E},{offsetX:x,offsetY:E},{offsetX:x,offsetY:P}])C.push(new t.P(v+d*e+p*r,b+f*e+m*r));let A=!1;if(o){let e=C.map(e=>this.projectAndGetPerspectiveRatio(e.x,e.y,i,u,h));A=e.some(e=>!e.isOccluded),C=e.map(e=>new t.P(e.x,e.y))}else A=!0;return{box:t.az(C),allPointsOccluded:!A}}}class eF{constructor(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r}isHidden(){return 0===this.opacity&&!this.placed}}class eN{constructor(e,t,r,n,i){this.text=new eF(e?e.text:null,t,r,i),this.icon=new eF(e?e.icon:null,t,n,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class eV{constructor(e,t,r){this.text=e,this.icon=t,this.skipFade=r}}class eU{constructor(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i}}class eG{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){let t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function eH(e,r,n,i,o){let{horizontalAlign:a,verticalAlign:s}=t.aG(e);return new t.P(-(a-.5)*r+i[0]*o,-(s-.5)*n+i[1]*o)}class eq{constructor(e,t,r,n,i){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new eB(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new eG(n),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){let t=this.terrain;return t?(r,n)=>t.getElevation(e,r,n):null}getBucketParts(e,r,n,i){let o=n.getBucket(r),a=n.latestFeatureIndex;if(!o||!a||r.id!==o.layerIds[0])return;let s=n.collisionBoxArray,l=o.layers[0].layout,u=o.layers[0].paint,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),h=n.tileSize/t.$,d=n.tileID.toUnwrapped(),f="map"===l.get("text-rotation-alignment"),p=t.aB(n,1,this.transform.zoom),m=t.aC(this.collisionIndex.transform,n,u.get("text-translate"),u.get("text-translate-anchor")),g=t.aC(this.collisionIndex.transform,n,u.get("icon-translate"),u.get("icon-translate-anchor")),y=ew(f,this.transform,p);this.retainedQueryData[o.bucketInstanceId]=new eU(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);let v={bucket:o,layout:l,translationText:m,translationIcon:g,unwrappedTileID:d,pitchedLabelPlaneMatrix:y,scale:c,textPixelRatio:h,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.am(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(let t of o.sortKeyRanges){let{sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i}=t;e.push({sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}attemptAnchorPlacement(e,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v,b,_){let x=t.aD[e.textAnchor],w=[e.textOffset0,e.textOffset1],S=eH(x,n,i,w,o),T=this.collisionIndex.placeCollisionBox(r,d,l,u,c,s,a,g,h.predicate,b,S,_);if((!v||this.collisionIndex.placeCollisionBox(v,d,l,u,c,s,a,y,h.predicate,b,S,_).placeable)&&T.placeable){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(e=this.prevPlacement.variableOffsets[f.crossTileID].anchor),0===f.crossTileID)throw Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[f.crossTileID]={textOffset:w,width:n,height:i,anchor:x,textBoxScale:o,prevAnchor:e},this.markUsedJustification(p,x,f,m),p.allowVerticalPlacement&&(this.markUsedOrientation(p,m,f),this.placedOrientations[f.crossTileID]=m),{shift:S,placedGlyphBoxes:T}}}placeLayerBucketPart(e,r,n){let{bucket:i,layout:o,translationText:a,translationIcon:s,unwrappedTileID:l,pitchedLabelPlaneMatrix:u,textPixelRatio:c,holdingForFade:h,collisionBoxArray:d,partiallyEvaluatedTextSize:f,collisionGroup:p}=e.parameters,m=o.get("text-optional"),g=o.get("icon-optional"),y=t.aE(o,"text-overlap","text-allow-overlap"),v="always"===y,b=t.aE(o,"icon-overlap","icon-allow-overlap"),_="always"===b,x="map"===o.get("text-rotation-alignment"),w="map"===o.get("text-pitch-alignment"),S="none"!==o.get("icon-text-fit"),T="viewport-y"===o.get("symbol-z-order"),E=v&&(_||!i.hasIconData()||g),P=_&&(v||!i.hasTextData()||m);!i.collisionArrays&&d&&i.deserializeCollisionBoxes(d);let C=this.retainedQueryData[i.bucketInstanceId].tileID,A=this._getTerrainElevationFunc(C),M=this.transform.getFastPathSimpleProjectionMatrix(C),k=(e,d,_)=>{var T,k;if(r[e.crossTileID])return;if(h)return void(this.placements[e.crossTileID]=new eV(!1,!1,!1));let O=!1,I=!1,R=!0,D=null,L={box:null,placeable:!1,offscreen:null,occluded:!1},j={placeable:!1},z=null,B=null,F=null,N=0,V=0,U=0;d.textFeatureIndex?N=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(N=e.featureIndex),d.verticalTextFeatureIndex&&(V=d.verticalTextFeatureIndex);let G=d.textBox;if(G){let r=r=>{let n=t.an.horizontal;if(i.allowVerticalPlacement&&!r&&this.prevPlacement){let t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,n=t,this.markUsedOrientation(i,n,e))}return n},o=(r,n)=>{if(i.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&d.verticalTextBox){for(let e of i.writingModes)if(e===t.an.vertical?j=L=n():L=r(),L&&L.placeable)break}else L=r()},u=e.textAnchorOffsetStartIndex,h=e.textAnchorOffsetEndIndex;if(h===u){let n=(t,r)=>{let n=this.collisionIndex.placeCollisionBox(t,y,c,C,l,w,x,a,p.predicate,A,void 0,M);return n&&n.placeable&&(this.markUsedOrientation(i,r,e),this.placedOrientations[e.crossTileID]=r),n};o(()=>n(G,t.an.horizontal),()=>{let r=d.verticalTextBox;return i.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&r?n(r,t.an.vertical):{box:null,offscreen:null}}),r(L&&L.placeable)}else{let f=t.aD[null===(k=null===(T=this.prevPlacement)||void 0===T?void 0:T.variableOffsets[e.crossTileID])||void 0===k?void 0:k.anchor],m=(t,r,o)=>{let d=t.x2-t.x1,m=t.y2-t.y1,g=e.textBoxScale,v=S&&"never"===b?r:null,_=null,T="never"===y?1:2,E="never";f&&T++;for(let r=0;r<T;r++){for(let r=u;r<h;r++){let n=i.textAnchorOffsets.get(r);if(f&&n.textAnchor!==f)continue;let u=this.attemptAnchorPlacement(n,t,d,m,g,x,w,c,C,l,p,E,e,i,o,a,s,v,A);if(u&&(_=u.placedGlyphBoxes)&&_.placeable)return O=!0,D=u.shift,_}f?f=null:E=y}return n&&!_&&(_={box:this.collisionIndex.placeCollisionBox(G,"always",c,C,l,w,x,a,p.predicate,A,void 0,M).box,offscreen:!1,placeable:!1,occluded:!1}),_};o(()=>m(G,d.iconBox,t.an.horizontal),()=>{let r=d.verticalTextBox;return i.allowVerticalPlacement&&(!L||!L.placeable)&&e.numVerticalGlyphVertices>0&&r?m(r,d.verticalIconBox,t.an.vertical):{box:null,occluded:!0,offscreen:null}}),L&&(O=L.placeable,R=L.offscreen);let g=r(L&&L.placeable);if(!O&&this.prevPlacement){let t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(i,t.anchor,e,g))}}}if(O=(z=L)&&z.placeable,R=z&&z.offscreen,e.useRuntimeCollisionCircles){let r=i.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),s=t.ao(i.textSizeData,f,r),c=o.get("text-padding");(B=this.collisionIndex.placeCollisionCircles(y,r,i.lineVertexArray,i.glyphOffsetArray,s,l,u,n,w,p.predicate,e.collisionCircleDiameter,c,a,A)).circles.length&&B.collisionDetected&&!n&&t.w("Collisions detected, but collision boxes are not shown"),O=v||B.circles.length>0&&!B.collisionDetected,R=R&&B.offscreen}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){let e=e=>this.collisionIndex.placeCollisionBox(e,b,c,C,l,w,x,s,p.predicate,A,S&&D?D:void 0,M);I=j&&j.placeable&&d.verticalIconBox?(F=e(d.verticalIconBox)).placeable:(F=e(d.iconBox)).placeable,R=R&&F.offscreen}let H=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,q=g||0===e.numIconVertices;H||q?q?H||(I=I&&O):O=I&&O:I=O=I&&O;let $=I&&F.placeable;if(O&&z.placeable&&this.collisionIndex.insertCollisionBox(z.box,y,o.get("text-ignore-placement"),i.bucketInstanceId,j&&j.placeable&&V?V:N,p.ID),$&&this.collisionIndex.insertCollisionBox(F.box,b,o.get("icon-ignore-placement"),i.bucketInstanceId,U,p.ID),B&&O&&this.collisionIndex.insertCollisionCircles(B.circles,y,o.get("text-ignore-placement"),i.bucketInstanceId,N,p.ID),n&&this.storeCollisionData(i.bucketInstanceId,_,d,z,F,B),0===e.crossTileID)throw Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw Error("bucket.bucketInstanceId can't be 0");this.placements[e.crossTileID]=new eV((O||E)&&!(null==z?void 0:z.occluded),(I||P)&&!(null==F?void 0:F.occluded),R||i.justReloaded),r[e.crossTileID]=!0};if(T){if(0!==e.symbolInstanceStart)throw Error("bucket.bucketInstanceId should be 0");let t=i.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let e=t.length-1;e>=0;--e){let r=t[e];k(i.symbolInstances.get(r),i.collisionArrays[r],r)}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)k(i.symbolInstances.get(t),i.collisionArrays[t],t);i.justReloaded=!1}storeCollisionData(e,t,r,n,i,o){if(r.textBox||r.iconBox){let o,a;this.collisionBoxArrays.has(e)?o=this.collisionBoxArrays.get(e):(o=new Map,this.collisionBoxArrays.set(e,o)),o.has(t)?a=o.get(t):(a={text:null,icon:null},o.set(t,a)),r.textBox&&(a.text=n.box),r.iconBox&&(a.icon=i.box)}if(o){let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=[]);for(let e=0;e<o.circles.length;e+=4)t.push(o.circles[e+0]-100),t.push(o.circles[e+1]-100),t.push(o.circles[e+2]),t.push(+!!o.collisionDetected)}}markUsedJustification(e,r,n,i){let o;for(let a of(o=i===t.an.vertical?n.verticalPlacedTextSymbolIndex:({left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex})[t.aF(r)],[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex]))a>=0&&(e.text.placedSymbolArray.get(a).crossTileID=o>=0&&a!==o?0:n.crossTileID)}markUsedOrientation(e,r,n){let i=r===t.an.horizontal||r===t.an.horizontalOnly?r:0,o=r===t.an.vertical?r:0;for(let t of[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex])e.text.placedSymbolArray.get(t).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;let t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;let n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(let e in this.placements){let t=this.placements[e],o=i[e];o?(this.opacities[e]=new eN(o,n,t.text,t.icon),r=r||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new eN(null,n,t.text,t.icon,t.skipFade),r=r||t.text||t.icon)}for(let e in i){let t=i[e];if(!this.opacities[e]){let i=new eN(t,n,!1,!1);i.isHidden()||(this.opacities[e]=i,r=r||t.text.placed||t.icon.placed)}}for(let e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(let e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);if(t&&void 0===t.lastPlacementChangeTime)throw Error("Last placement time for previous placement is not defined");r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){let r={};for(let n of t){let t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n.tileID,r,n.collisionBoxArray)}}updateBucketOpacities(e,r,n,i){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();let o=e.layers[0],a=o.layout,s=new eN(null,0,!1,!1,!0),l=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),c=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),h="map"===a.get("text-rotation-alignment"),d="map"===a.get("text-pitch-alignment"),f="none"!==a.get("icon-text-fit"),p=new eN(null,0,l&&(u||!e.hasIconData()||a.get("icon-optional")),u&&(l||!e.hasTextData()||a.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);let m=(e,t,r)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r);e.hasVisibleVertices=e.hasVisibleVertices||r!==eX},g=this.collisionBoxArrays.get(e.bucketInstanceId);for(let r=0;r<e.symbolInstances.length;r++){let i=e.symbolInstances.get(r),{numHorizontalGlyphVertices:o,numVerticalGlyphVertices:a,crossTileID:l}=i,u=this.opacities[l];n[l]?u=s:u||(u=p,this.opacities[l]=u),n[l]=!0;let y=i.numIconVertices>0,v=this.placedOrientations[i.crossTileID],b=v===t.an.vertical,_=v===t.an.horizontal||v===t.an.horizontalOnly;if(o>0||a>0){let t=eW(u.text);m(e.text,o,b?eX:t),m(e.text,a,_?eX:t);let r=u.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach(t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=r||b?1:0)}),i.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=r||_?1:0);let n=this.variableOffsets[i.crossTileID];n&&this.markUsedJustification(e,n.anchor,i,v);let s=this.placedOrientations[i.crossTileID];s&&(this.markUsedJustification(e,"left",i,s),this.markUsedOrientation(e,s,i))}if(y){let t=eW(u.icon),r=!(f&&i.verticalPlacedIconSymbolIndex&&b);i.placedIconSymbolIndex>=0&&(m(e.icon,i.numIconVertices,r?t:eX),e.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=u.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(m(e.icon,i.numVerticalIconVertices,r?eX:t),e.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=u.icon.isHidden())}let x=g&&g.has(r)?g.get(r):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){let n=e.collisionArrays[r];if(n){let r=new t.P(0,0);if(n.textBox||n.verticalTextBox){let t=!0;if(c){let e=this.variableOffsets[l];e?(r=eH(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),h&&r._rotate(d?-this.transform.bearingInRadians:this.transform.bearingInRadians)):t=!1}if(n.textBox||n.verticalTextBox){let i;n.textBox&&(i=b),n.verticalTextBox&&(i=_),e$(e.textCollisionBox.collisionVertexArray,u.text.placed,!t||i,x.text,r.x,r.y)}}if(n.iconBox||n.verticalIconBox){let t;let i=!!(!_&&n.verticalIconBox);n.iconBox&&(t=i),n.verticalIconBox&&(t=!i),e$(e.iconCollisionBox.collisionVertexArray,u.icon.placed,t,x.icon,f?r.x:0,f?r.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){let r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}setStale(){this.stale=!0}}function e$(e,t,r,n,i,o){n&&0!==n.length||(n=[0,0,0,0]);let a=n[0]-100,s=n[1]-100,l=n[2]-100,u=n[3]-100;e.emplaceBack(+!!t,+!!r,i||0,o||0,a,s),e.emplaceBack(+!!t,+!!r,i||0,o||0,l,s),e.emplaceBack(+!!t,+!!r,i||0,o||0,l,u),e.emplaceBack(+!!t,+!!r,i||0,o||0,a,u)}function eW(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 0xffffffff;let t=+!!e.placed,r=Math.floor(127*e.opacity);return 0x2000000*r+0x1000000*t+131072*r+65536*t+512*r+256*t+2*r+t}let eX=0;class eZ{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,r,n,i){let o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0;return!1}}class eK{constructor(e,t,r,n,i,o,a,s){this.placement=new eq(e,t,o,a,s),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(e,t,r){let n=d.now(),i=()=>!this._forceFullPlacement&&d.now()-n>2;for(;this._currentPlacementIndex>=0;){let n=t[e[this._currentPlacementIndex]],o=this.placement.collisionIndex.transform.zoom;if("symbol"===n.type&&(!n.minzoom||n.minzoom<=o)&&(!n.maxzoom||n.maxzoom>o)){if(this._inProgressLayer||(this._inProgressLayer=new eZ(n)),this._inProgressLayer.continuePlacement(r[n.source],this.placement,this._showCollisionBoxes,n,i))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}let eY=512/t.$/2;class eQ{constructor(e,r,n){this.tileID=e,this.bucketInstanceId=n,this._symbolsByKey={};let i=new Map;for(let e=0;e<r.length;e++){let t=r.get(e),n=t.key,o=i.get(n);o?o.push(t):i.set(n,[t])}for(let[e,r]of i){let n={positions:r.map(e=>({x:Math.floor(e.anchorX*eY),y:Math.floor(e.anchorY*eY)})),crossTileIDs:r.map(e=>e.crossTileID)};if(n.positions.length>128){let e=new t.aH(n.positions.length,16,Uint16Array);for(let{x:t,y:r}of n.positions)e.add(t,r);e.finish(),delete n.positions,n.index=e}this._symbolsByKey[e]=n}}getScaledCoordinates(e,r){let{x:n,y:i,z:o}=this.tileID.canonical,{x:a,y:s,z:l}=r.canonical,u=eY/Math.pow(2,l-o),c=(s*t.$+e.anchorY)*u,h=i*t.$*eY;return{x:Math.floor((a*t.$+e.anchorX)*u-n*t.$*eY),y:Math.floor(c-h)}}findMatches(e,t,r){let n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){let o=e.get(i);if(o.crossTileID)continue;let a=this._symbolsByKey[o.key];if(!a)continue;let s=this.getScaledCoordinates(o,t);if(a.index)for(let e of a.index.range(s.x-n,s.y-n,s.x+n,s.y+n).sort()){let t=a.crossTileIDs[e];if(!r[t]){r[t]=!0,o.crossTileID=t;break}}else if(a.positions)for(let e=0;e<a.positions.length;e++){let t=a.positions[e],i=a.crossTileIDs[e];if(Math.abs(t.x-s.x)<=n&&Math.abs(t.y-s.y)<=n&&!r[i]){r[i]=!0,o.crossTileID=i;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class eJ{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class e0{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){let t=Math.round((e-this.lng)/360);if(0!==t)for(let e in this.indexes){let r=this.indexes[e],n={};for(let e in r){let i=r[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});let n=this.usedCrossTileIDs[e.overscaledZ];for(let r in this.indexes){let i=this.indexes[r];if(Number(r)>e.overscaledZ)for(let r in i){let o=i[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,n)}else{let o=i[e.scaledTo(Number(r)).key];o&&o.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){let i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=r.generate(),n[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new eQ(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(let r of t.getCrossTileIDsLists())for(let t of r)delete this.usedCrossTileIDs[e][t]}removeStaleBuckets(e){let t=!1;for(let r in this.indexes){let n=this.indexes[r];for(let i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t}}class e1{constructor(){this.layerIndexes={},this.crossTileIDs=new eJ,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,r){let n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new e0);let i=!1,o={};for(let a of(n.handleWrapJump(r),t)){let t=a.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(a.tileID,t,this.crossTileIDs)&&(i=!0),o[t.bucketInstanceId]=!0)}return n.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(e){let t={};for(let r in e.forEach(e=>{t[e]=!0}),this.layerIndexes)t[r]||delete this.layerIndexes[r]}}var e2="void main() {fragColor=vec4(1.0);}";let e3={prelude:e5("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nout highp vec4 fragColor;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c\n);}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\n#ifdef GLOBE\nif ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}\n#endif\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;"),projectionMercator:e5("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:e5("","#define GLOBE_RADIUS 6371008.8\nuniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos\n);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); \nif (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len\n);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}"),background:e5("uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:e5("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:e5("in vec3 v_data;in float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {\n#ifdef GLOBE\nvec3 center_vector=projectToSphere(circle_center);\n#endif\nfloat angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {\n#ifdef GLOBE\nvec4 projected_center=interpolateProjection(circle_center,center_vector,ele);\n#else\nvec4 projected_center=projectTileWithElevation(circle_center,ele);\n#endif\ncorner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}\n#ifdef GLOBE\nvec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);\n#else\ngl_Position=projectTileWithElevation(corner_position,ele);\n#endif\n} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:e5(e2,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:e5("uniform highp float u_intensity;in vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);\n#ifdef GLOBE\nvec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);\n#else\ngl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));\n#endif\n}"),heatmapTexture:e5("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:e5("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:e5("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:e5("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else\n{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:e5("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:e5(e2,"in vec2 a_pos;void main() {\n#ifdef GLOBE\ngl_Position=projectTileFor3D(a_pos,0.0);\n#else\ngl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);\n#endif\n}"),fill:e5("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nfragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_fill_translate;in vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);}"),fillOutline:e5("in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillOutlinePattern:e5("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillPattern:e5("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:e5("in vec4 v_color;void main() {fragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\nout vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);\n#ifdef GLOBE\nmat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);\n#endif\ndirectional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:e5("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\n#ifdef GLOBE\nout vec3 v_sphere_pos;\n#endif\nout vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nvec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:e5("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:e5("uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];\n#define PI 3.141592653589793\n#define STANDARD 0\n#define COMBINED 1\n#define IGOR 2\n#define MULTIDIRECTIONAL 3\n#define BASIC 4\nfloat get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else\n{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else\n{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:e5("uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:e5("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:e5("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:e5("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:e5("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;\n#ifdef GLOBE\nif (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}\n#endif\nv_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:e5("uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:e5("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:e5("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:e5("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:e5("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:e5("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:e5("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:e5("in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758\n);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}","in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:e5("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function e5(e,t){let r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/in ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(r,(e,t,r,n,i)=>(s[i]=!0,"define"===t?`
#ifndef HAS_UNIFORM_u_${i}
in ${r} ${n} ${i};
#else
uniform ${r} ${n} u_${i};
#endif
`:`
#ifdef HAS_UNIFORM_u_${i}
    ${r} ${n} ${i} = u_${i};
#endif
`)),vertexSource:t=t.replace(r,(e,t,r,n,i)=>{let o="float"===n?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?`
#ifndef HAS_UNIFORM_u_${i}
uniform lowp float u_${i}_t;
in ${r} ${o} a_${i};
out ${r} ${n} ${i};
#else
uniform ${r} ${n} u_${i};
#endif
`:"vec4"===a?`
#ifndef HAS_UNIFORM_u_${i}
    ${i} = a_${i};
#else
    ${r} ${n} ${i} = u_${i};
#endif
`:`
#ifndef HAS_UNIFORM_u_${i}
    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);
#else
    ${r} ${n} ${i} = u_${i};
#endif
`:"define"===t?`
#ifndef HAS_UNIFORM_u_${i}
uniform lowp float u_${i}_t;
in ${r} ${o} a_${i};
#else
uniform ${r} ${n} u_${i};
#endif
`:"vec4"===a?`
#ifndef HAS_UNIFORM_u_${i}
    ${r} ${n} ${i} = a_${i};
#else
    ${r} ${n} ${i} = u_${i};
#endif
`:`
#ifndef HAS_UNIFORM_u_${i}
    ${r} ${n} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);
#else
    ${r} ${n} ${i} = u_${i};
#endif
`}),staticAttributes:n,staticUniforms:a}}class e6{constructor(e,t,r){this.vertexBuffer=e,this.indexBuffer=t,this.segments=r}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var e4=t.aI([{name:"a_pos",type:"Int16",components:2}]);let e8="#define PROJECTION_MERCATOR",e7="mercator";class e9{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return e7}get shaderDefine(){return e8}get shaderPreludeCode(){return e3.projectionMercator}get vertexShaderPreludeCode(){return e3.projectionMercator.vertexSource}get subdivisionGranularity(){return t.aJ.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,r,n,i,o){if(this._cachedMesh)return this._cachedMesh;let a=new t.aK;a.emplaceBack(0,0),a.emplaceBack(t.$,0),a.emplaceBack(0,t.$),a.emplaceBack(t.$,t.$);let s=e.createVertexBuffer(a,e4.members),l=t.aL.simpleSegment(0,0,4,2),u=new t.aM;u.emplaceBack(1,0,2),u.emplaceBack(1,2,3);let c=e.createIndexBuffer(u);return this._cachedMesh=new e6(s,c,l),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}class te{constructor(e=0,t=0,r=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n}interpolate(e,r,n){return null!=r.top&&null!=e.top&&(this.top=t.C.number(e.top,r.top,n)),null!=r.bottom&&null!=e.bottom&&(this.bottom=t.C.number(e.bottom,r.bottom,n)),null!=r.left&&null!=e.left&&(this.left=t.C.number(e.left,r.left,n)),null!=r.right&&null!=e.right&&(this.right=t.C.number(e.right,r.right,n)),this}getCenter(e,r){let n=t.ag((this.left+e-this.right)/2,0,e),i=t.ag((this.top+r-this.bottom)/2,0,r);return new t.P(n,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new te(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function tt(e,t){if(!e.renderWorldCopies||e.lngRange)return;let r=t.lng-e.center.lng;t.lng+=r>180?-360:360*(r<-180)}function tr(e){return Math.max(0,Math.floor(e))}class tn{constructor(e,r,n,i,o,a){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=void 0===a||!!a,this._minZoom=r||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==o?60:o,this.setMaxBounds(),this._width=0,this._height=0,this._center=new t.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=tr(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new te,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,r,n){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=tr(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new te(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!n&&e.autoCalculateNearFarZ,r&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){var r,n,i,o,a,s,l,u,c;let d=t.aN(e,-180,180)*Math.PI/180;this._bearingInRadians!==d&&(this._unmodified=!1,this._bearingInRadians=d,this._calcMatrices(),this._rotationMatrix=h(),r=this._rotationMatrix,i=-this._bearingInRadians,o=(n=this._rotationMatrix)[0],a=n[1],s=n[2],l=n[3],u=Math.sin(i),c=Math.cos(i),r[0]=o*c+s*u,r[1]=a*c+l*u,r[2]=-(o*u)+s*c,r[3]=-(a*u)+l*c)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){let r=t.ag(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==r&&(this._unmodified=!1,this._pitchInRadians=r,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){let t=e/180*Math.PI;this._rollInRadians!==t&&(this._unmodified=!1,this._rollInRadians=t,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return t.aO(this._fovInRadians)}setFov(e){e=t.ag(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=t.ad(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){let r=this.getConstrained(this._center,e).zoom;this._zoom!==r&&(this._unmodified=!1,this._zoom=r,this._tileZoom=Math.max(0,Math.floor(r)),this._scale=t.ae(r),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,t){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=t,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}resize(e,t,r=!0){this._width=e,this._height=t,r&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&2===this._latRange.length&&this._lngRange&&2===this._lngRange.length?new V([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-t.ah,t.ah])}getConstrained(e,t){return this._callbacks.getConstrained(e,t)}getCameraQueryGeometry(e,r){if(1===r.length)return[r[0],e];{let{minX:n,minY:i,maxX:o,maxY:a}=t.a1.fromPoints(r).extend(e);return[new t.P(n,i),new t.P(o,i),new t.P(o,a),new t.P(n,a),new t.P(n,i)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let e=this._unmodified,{center:t,zoom:r}=this.getConstrained(this.center,this.zoom);this.setCenter(t),this.setZoom(r),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=t.af(new Float64Array(16));t.N(e,e,[this._width/2,-this._height/2,1]),t.M(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=t.af(new Float64Array(16)),t.N(e,e,[1,-1,1]),t.M(e,e,[-1,-1,0]),t.N(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,r,n,i){let o;let a=void 0!==n?n:this.bearing,s=i=void 0!==i?i:this.pitch,l=t.a0.fromLngLat(e,r),u=-Math.cos(t.ad(s)),c=Math.sin(t.ad(s)),h=c*Math.sin(t.ad(a)),d=-c*Math.cos(t.ad(a)),f=this.elevation,p=r-f;u*p>=0||.1>Math.abs(u)?f=r+(o=1e4)*u:o=-p/u;let m,g,y=t.aP(1,l.y),v=0;do{if((v+=1)>10)break;g=o/y,y=1/(m=new t.a0(l.x+h*g,l.y+d*g)).meterInMercatorCoordinateUnits()}while(Math.abs(o-g*y)>1e-12)return{center:m.toLngLat(),elevation:f,zoom:t.aj(this.height/2/Math.tan(this.fovInRadians/2)/g/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;let r=t.ai(1,this.center.lat)*this.worldSize,n=this.cameraToCenterDistance/r,i=t.a0.fromLngLat(this.center,this.elevation),o=eu(this.center,this.elevation,this.pitch,this.bearing,n);this._elevation=e;let a=this.calculateCenterFromCameraLngLatAlt(o.toLngLat(),t.aP(o.z,i.y),this.bearing,this.pitch);this._elevation=a.elevation,this._center=a.center,this.setZoom(a.zoom)}getCameraPoint(){let e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let e=t.ai(1,this.center.lat)*this.worldSize;return eu(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];let r=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/r,e.canonical.y/r,1/r/t.$,1/r/t.$]}}class ti{constructor(e,r){this.min=e,this.max=r,this.center=t.aQ([],t.aR([],this.min,this.max),.5)}quadrant(e){let r=[e%2==0,e<2],n=t.aS(this.min),i=t.aS(this.max);for(let e=0;e<r.length;e++)n[e]=r[e]?this.min[e]:this.center[e],i[e]=r[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new ti(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let t=!0;for(let r=0;r<e.planes.length;r++){let n=this.intersectsPlane(e.planes[r]);if(0===n)return 0;1===n&&(t=!1)}return t?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let t=e[3],r=e[3];for(let n=0;n<3;n++)e[n]>0?(t+=e[n]*this.min[n],r+=e[n]*this.max[n]):(r+=e[n]*this.min[n],t+=e[n]*this.max[n]);return t>=0?2:r<0?0:1}}class to{distanceToTile2d(e,t,r,n){return Math.hypot(n.distanceX([e,t]),n.distanceY([e,t]))}getWrap(e,t,r){return r}getTileBoundingVolume(e,r,n,i){var o,a;let s=n,l=n;if(null==i?void 0:i.terrain){let u=new t.Z(e.z,r,e.z,e.x,e.y),c=i.terrain.getMinMaxElevation(u);s=null!==(o=c.minElevation)&&void 0!==o?o:n,l=null!==(a=c.maxElevation)&&void 0!==a?a:n}let u=1<<e.z;return new ti([r+e.x/u,e.y/u,s],[r+(e.x+1)/u,(e.y+1)/u,l])}allowVariableZoom(e,r){let n=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,i=t.ag(78.5-n/2,0,60);return!!r.terrain||e.pitch>i}allowWorldCopies(){return!0}prepareNextFrame(){}}class ta{constructor(e,t,r){this.points=e,this.planes=t,this.aabb=r}static fromInvProjectionMatrix(e,r=1,n=0,i,o){let a=o?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],s=Math.pow(2,n),l=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>(function(e,r,n,i){let o=t.av([],e,r),a=1/o[3]/n*i;return t.aX(o,o,[a,a,1/o[3],a])})(n,e,r,s));i&&function(e,r,n,i){let o=4*!!i,a=4*!i,s=0,l=[],u=[];for(let r=0;r<4;r++){let n=t.aT([],e[r+a],e[r+o]),i=t.aY(n);t.aQ(n,n,1/i),l.push(i),u.push(n)}for(let r=0;r<4;r++){let i=t.aZ(e[r+o],u[r],n);s=null!==i&&i>=0?Math.max(s,i):Math.max(s,l[r])}let c=function(e,r){let n=t.aT([],e[r[0]],e[r[1]]),i=t.aT([],e[r[2]],e[r[1]]),o=[0,0,0,0];return t.aU(o,t.aV([],n,i)),o[3]=-t.aW(o,e[r[0]]),o}(e,r),h=function(e,r){let n=t.a_(e),i=t.a$([],e,1/n),o=t.aT([],r,t.aQ([],i,t.aW(r,i))),a=t.a_(o);if(a>0){let e=Math.sqrt(1-i[3]*i[3]),n=t.aQ([],i,-i[3]),s=t.aR([],n,t.aQ([],o,e/a));return t.b0(r,s)}return null}(n,c);null!==h&&(s=Math.min(s,h/t.aW(u[0],c)));for(let t=0;t<4;t++){let r=Math.min(s,l[t]);e[t+a]=[e[t+o][0]+u[t][0]*r,e[t+o][1]+u[t][1]*r,e[t+o][2]+u[t][2]*r,1]}}(l,a[0],i,o);let u=a.map(e=>{let r=t.aT([],l[e[0]],l[e[1]]),n=t.aT([],l[e[2]],l[e[1]]),i=t.aU([],t.aV([],r,n)),o=-t.aW(i,l[e[1]]);return i.concat(o)}),c=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],h=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let e of l)for(let t=0;t<3;t++)c[t]=Math.min(c[t],e[t]),h[t]=Math.max(h[t],e[t]);return new ta(l,u,new ti(c,h))}}class ts{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,r){return this._helper.interpolatePadding(e,t,r)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,r=!0){this._helper.resize(e,t,r)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,t){}constructor(e,t,r,n,i){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new tn({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,t)=>this.getConstrained(e,t)},e,t,r,n,i),this._coveringTilesDetailsProvider=new to}clone(){let e=new ts;return e.apply(this),e}apply(e,t,r){this._helper.apply(e,t,r)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){let r=[new t.b1(0,e)];if(this._helper._renderWorldCopies){let n=this.screenPointToMercatorCoordinate(new t.P(0,0)),i=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,0)),o=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,this._helper._height)),a=this.screenPointToMercatorCoordinate(new t.P(0,this._helper._height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),l=Math.floor(Math.max(n.x,i.x,o.x,a.x));for(let n=s-1;n<=l+1;n++)0!==n&&r.push(new t.b1(n,e))}return r}getCameraFrustum(){return ta.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){let t=this.screenPointToLocation(this.centerPoint,e),r=e?e.getElevationForLngLatZoom(t,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(r)}setLocationAtPoint(e,r){let n=t.ai(this.elevation,this.center.lat),i=this.screenPointToMercatorCoordinateAtZ(r,n),o=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,n),a=t.a0.fromLngLat(e),s=new t.a0(a.x-(i.x-o.x),a.y-(i.y-o.y));this.setCenter(null==s?void 0:s.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,r){return r?this.coordinatePoint(t.a0.fromLngLat(e),r.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(t.a0.fromLngLat(e))}screenPointToLocation(e,t){var r;return null===(r=this.screenPointToMercatorCoordinate(e,t))||void 0===r?void 0:r.toLngLat()}screenPointToMercatorCoordinate(e,t){if(t){let r=t.pointCoordinate(e);if(null!=r)return r}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,r){let n=r||0,i=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.av(i,i,this._pixelMatrixInverse),t.av(o,o,this._pixelMatrixInverse);let a=i[3],s=o[3],l=i[1]/a,u=o[1]/s,c=i[2]/a,h=o[2]/s,d=c===h?0:(n-c)/(h-c);return new t.a0(t.C.number(i[0]/a,o[0]/s,d)/this.worldSize,t.C.number(l,u,d)/this.worldSize,n)}coordinatePoint(e,r=0,n=this._pixelMatrix){let i=[e.x*this.worldSize,e.y*this.worldSize,r,1];return t.av(i,i,n),new t.P(i[0]/i[3],i[1]/i[3])}getBounds(){let e=Math.max(0,this._helper._height/2-es(this));return(new V).extend(this.screenPointToLocation(new t.P(0,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new t.P(0,this._helper._height)))}isPointOnMapSurface(e,t){return t?null!=t.pointCoordinate(e):e.y>this.height/2-es(this)}calculatePosMatrix(e,r=!1,n){var i;let o=null!==(i=e.key)&&void 0!==i?i:t.b2(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),a=r?this._alignedPosMatrixCache:this._posMatrixCache;if(a.has(o)){let e=a.get(o);return n?e.f32:e.f64}let s=el(e,this.worldSize);t.O(s,r?this._alignedProjMatrix:this._viewProjMatrix,s);let l={f64:s,f32:new Float32Array(s)};return a.set(o,l),n?l.f32:l.f64}calculateFogMatrix(e){let r=e.key,n=this._fogMatrixCacheF32;if(n.has(r))return n.get(r);let i=el(e,this.worldSize);return t.O(i,this._fogMatrix,i),n.set(r,new Float32Array(i)),n.get(r)}getConstrained(e,r){let n,i;r=t.ag(+r,this.minZoom,this.maxZoom);let o={center:new t.S(e.lng,e.lat),zoom:r},a=this._helper._lngRange;this._helper._renderWorldCopies||null!==a||(a=[-(180-1e-10),180-1e-10]);let s=this.tileSize*t.ae(o.zoom),l=0,u=s,c=0,h=s,d=0,f=0,{x:p,y:m}=this.size;if(this._helper._latRange){let e=this._helper._latRange;l=t.U(e[1])*s,(u=t.U(e[0])*s)-l<m&&(d=m/(u-l))}a&&(c=t.aN(t.V(a[0])*s,0,s),(h=t.aN(t.V(a[1])*s,0,s))<c&&(h+=s),h-c<p&&(f=p/(h-c)));let{x:g,y:y}=eo(s,e),v=Math.max(f||0,d||0);if(v){let e=new t.P(f?(h+c)/2:g,d?(u+l)/2:y);return o.center=ea(s,e).wrap(),o.zoom+=t.aj(v),o}if(this._helper._latRange){let e=m/2;y-e<l&&(i=l+e),y+e>u&&(i=u-e)}if(a){let e=(c+h)/2,r=g;this._helper._renderWorldCopies&&(r=t.aN(g,e-s/2,e+s/2));let i=p/2;r-i<c&&(n=c+i),r+i>h&&(n=h-i)}if(void 0!==n||void 0!==i){let e=new t.P(null!=n?n:g,null!=i?i:y);o.center=ea(s,e).wrap()}return o}calculateCenterFromCameraLngLatAlt(e,t,r,n){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,r,n)}_calculateNearFarZIfNeeded(e,r,n){if(!this._helper.autoCalculateNearFarZ)return;let i=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),o=e-i*this._helper._pixelPerMeter/Math.cos(r),a=i<0?o:e,s=Math.PI/2+this.pitchInRadians,l=t.ad(this.fov)*(Math.abs(Math.cos(t.ad(this.roll)))*this.height+Math.abs(Math.sin(t.ad(this.roll)))*this.width)/this.height*(.5+n.y/this.height),u=Math.sin(l)*a/Math.sin(t.ag(Math.PI-s-l,.01,Math.PI-.01)),c=es(this),h=Math.atan(c/this._helper.cameraToCenterDistance),d=t.ad(.75),f=h>d?2*h*(.5+n.y/(2*c)):d,p=Math.min(u,Math.sin(f)*a/Math.sin(t.ag(Math.PI-s-f,.01,Math.PI-.01)));this._helper._farZ=1.01*(Math.cos(Math.PI/2-r)*p+a),this._helper._nearZ=this._helper._height/50}_calcMatrices(){let e;if(!this._helper._height)return;let r=this.centerOffset,n=eo(this.worldSize,this.center),i=n.x,o=n.y;this._helper._pixelPerMeter=t.ai(1,this.center.lat)*this.worldSize;let a=t.ad(Math.min(this.pitch,89.25)),s=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(a));this._calculateNearFarZIfNeeded(s,a,r),e=new Float64Array(16),t.b3(e,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),t.ap(this._invProjMatrix,e),e[8]=-(2*r.x)/this._helper._width,e[9]=2*r.y/this._helper._height,this._projectionMatrix=t.b4(e),t.N(e,e,[1,-1,1]),t.M(e,e,[0,0,-this._helper.cameraToCenterDistance]),t.b5(e,e,-this.rollInRadians),t.b6(e,e,this.pitchInRadians),t.b5(e,e,-this.bearingInRadians),t.M(e,e,[-i,-o,0]),this._mercatorMatrix=t.N([],e,[this.worldSize,this.worldSize,this.worldSize]),t.N(e,e,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,e),t.M(e,e,[0,0,-this.elevation]),this._viewProjMatrix=e,this._invViewProjMatrix=t.ap([],e);let l=[0,0,-1,1];t.av(l,l,this._invViewProjMatrix),this._cameraPosition=[l[0]/l[3],l[1]/l[3],l[2]/l[3]],this._fogMatrix=new Float64Array(16),t.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,s,this._helper._farZ),this._fogMatrix[8]=-(2*r.x)/this.width,this._fogMatrix[9]=2*r.y/this.height,t.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),t.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),t.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),t.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),t.M(this._fogMatrix,this._fogMatrix,[-i,-o,0]),t.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,e);let u=this._helper._width%2/2,c=this._helper._height%2/2,h=Math.cos(this.bearingInRadians),d=Math.sin(-this.bearingInRadians),f=i-Math.round(i)+h*u+d*c,p=o-Math.round(o)+h*c+d*u,m=new Float64Array(e);if(t.M(m,m,[f>.5?f-1:f,p>.5?p-1:p,0]),this._alignedProjMatrix=m,!(e=t.ap(new Float64Array(16),this._pixelMatrix)))throw Error("failed to invert matrix");this._pixelMatrixInverse=e,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let e=this.screenPointToMercatorCoordinate(new t.P(0,0)),r=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.av(r,r,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let e=t.ai(1,this.center.lat)*this.worldSize;return eu(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,r){let n=t.a0.fromLngLat(e),i=[n.x*this.worldSize,n.y*this.worldSize,r,1];return t.av(i,i,this._viewProjMatrix),i[2]/i[3]}getProjectionData(e){let r;let{overscaledTileID:n,aligned:i,applyTerrainMatrix:o}=e,a=this._helper.getMercatorTileCoordinates(n),s=n?this.calculatePosMatrix(n,i,!0):null;return{mainMatrix:r=n&&n.terrainRttPosMatrix32f&&o?n.terrainRttPosMatrix32f:s||t.b7(),tileMercatorCoords:a,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:r}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,t,r){return 1}transformLightDirection(e){return t.aS(e)}getRayDirectionFromPixel(e){throw Error("Not implemented.")}projectTileCoordinates(e,r,n,i){let o;let a=this.calculatePosMatrix(n);i?(o=[e,r,i(e,r),1],t.av(o,o,a)):ez(o=[e,r,0,1],o,a);let s=o[3];return{point:new t.P(o[0]/s,o[1]/s),signedDistanceFromCamera:s,isOccluded:!1}}populateCache(e){for(let t of e)this.calculatePosMatrix(t)}getMatrixForModel(e,r){let n=t.a0.fromLngLat(e,r),i=n.meterInMercatorCoordinateUnits(),o=t.b8();return t.M(o,o,[n.x,n.y,n.z]),t.b5(o,o,Math.PI),t.b6(o,o,Math.PI/2),t.N(o,o,[-i,i,i]),o}getProjectionDataForCustomLayer(e=!0){let r=new t.Z(0,0,0,0,0),n=this.getProjectionData({overscaledTileID:r,applyGlobeMatrix:e}),i=el(r,this.worldSize);t.O(i,this._viewProjMatrix,i),n.tileMercatorCoords=[0,0,1,1];let o=[t.$,t.$,this.worldSize/this._helper.pixelsPerMeter],a=t.b9();return t.N(a,i,o),n.fallbackMatrix=a,n.mainMatrix=a,n}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function tl(){t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function tu(e){if(e.useSlerp){if(e.k<1){let r=t.ba(e.startEulerAngles.roll,e.startEulerAngles.pitch,e.startEulerAngles.bearing),n=t.ba(e.endEulerAngles.roll,e.endEulerAngles.pitch,e.endEulerAngles.bearing),i=new Float64Array(4);t.bb(i,r,n,e.k);let o=t.bc(i);e.tr.setRoll(o.roll),e.tr.setPitch(o.pitch),e.tr.setBearing(o.bearing)}else e.tr.setRoll(e.endEulerAngles.roll),e.tr.setPitch(e.endEulerAngles.pitch),e.tr.setBearing(e.endEulerAngles.bearing)}else e.tr.setRoll(t.C.number(e.startEulerAngles.roll,e.endEulerAngles.roll,e.k)),e.tr.setPitch(t.C.number(e.startEulerAngles.pitch,e.endEulerAngles.pitch,e.k)),e.tr.setBearing(t.C.number(e.startEulerAngles.bearing,e.endEulerAngles.bearing,e.k))}function tc(e,r,n,i,o){let a=o.padding,s=eo(o.worldSize,n.getNorthWest()),l=eo(o.worldSize,n.getNorthEast()),u=eo(o.worldSize,n.getSouthEast()),c=eo(o.worldSize,n.getSouthWest()),h=t.ad(-i),d=s.rotate(h),f=l.rotate(h),p=u.rotate(h),m=c.rotate(h),g=new t.P(Math.max(d.x,f.x,m.x,p.x),Math.max(d.y,f.y,m.y,p.y)),y=new t.P(Math.min(d.x,f.x,m.x,p.x),Math.min(d.y,f.y,m.y,p.y)),v=g.sub(y),b=(o.width-(a.left+a.right+r.left+r.right))/v.x,_=(o.height-(a.top+a.bottom+r.top+r.bottom))/v.y;if(_<0||b<0)return void tl();let x=Math.min(t.aj(o.scale*Math.min(b,_)),e.maxZoom),w=t.P.convert(e.offset),S=new t.P((r.left-r.right)/2,(r.top-r.bottom)/2).rotate(t.ad(i)),T=w.add(S).mult(o.scale/t.ae(x));return{center:ea(o.worldSize,s.add(u).div(2).sub(T)),zoom:x,bearing:i}}class th{get useGlobeControls(){return!1}handlePanInertia(e,t){return{easingOffset:e,easingCenter:t.center}}handleMapControlsRollPitchBearingZoom(e,t){e.bearingDelta&&t.setBearing(t.bearing+e.bearingDelta),e.pitchDelta&&t.setPitch(t.pitch+e.pitchDelta),e.rollDelta&&t.setRoll(t.roll+e.rollDelta),e.zoomDelta&&t.setZoom(t.zoom+e.zoomDelta)}handleMapControlsPan(e,t,r){.01>e.around.distSqr(t.centerPoint)||t.setLocationAtPoint(r,e.around)}cameraForBoxAndBearing(e,t,r,n,i){return tc(e,t,r,n,i)}handleJumpToCenterZoom(e,r){e.zoom!==(void 0!==r.zoom?+r.zoom:e.zoom)&&e.setZoom(+r.zoom),void 0!==r.center&&e.setCenter(t.S.convert(r.center))}handleEaseTo(e,r){let n=e.zoom,i=e.padding,o={roll:e.roll,pitch:e.pitch,bearing:e.bearing},a={roll:void 0===r.roll?e.roll:r.roll,pitch:void 0===r.pitch?e.pitch:r.pitch,bearing:void 0===r.bearing?e.bearing:r.bearing},s=void 0!==r.zoom,l=!e.isPaddingEqual(r.padding),u=!1,c=s?+r.zoom:e.zoom,h=e.centerPoint.add(r.offsetAsPoint),d=e.screenPointToLocation(h),{center:f,zoom:p}=e.getConstrained(t.S.convert(r.center||d),null!=c?c:n);tt(e,f);let m=eo(e.worldSize,d),g=eo(e.worldSize,f).sub(m),y=t.ae(p-n);return{easeFunc:s=>{if(u&&e.setZoom(t.C.number(n,p,s)),t.bd(o,a)||tu({startEulerAngles:o,endEulerAngles:a,tr:e,k:s,useSlerp:o.roll!=a.roll}),l&&(e.interpolatePadding(i,r.padding,s),h=e.centerPoint.add(r.offsetAsPoint)),r.around)e.setLocationAtPoint(r.around,r.aroundPoint);else{let r=t.ae(e.zoom-n),i=Math.pow(p>n?Math.min(2,y):Math.max(.5,y),1-s),o=ea(e.worldSize,m.add(g.mult(s*i)).mult(r));e.setLocationAtPoint(e.renderWorldCopies?o.wrap():o,h)}},isZooming:u=p!==n,elevationCenter:f}}handleFlyTo(e,r){let n;let i=void 0!==r.zoom,o=e.zoom,a=e.getConstrained(t.S.convert(r.center||r.locationAtOffset),i?+r.zoom:o),s=a.center,l=a.zoom;tt(e,s);let u=eo(e.worldSize,r.locationAtOffset),c=eo(e.worldSize,s).sub(u),h=c.mag(),d=t.ae(l-o);if(void 0!==r.minZoom){let i=Math.min(+r.minZoom,o,l),a=e.getConstrained(s,i).zoom;n=t.ae(a-o)}return{easeFunc:(r,n,i,a)=>{e.setZoom(1===r?l:o+t.aj(n));let h=1===r?s:ea(e.worldSize,u.add(c.mult(i)).mult(n));e.setLocationAtPoint(e.renderWorldCopies?h.wrap():h,a)},scaleOfZoom:d,targetCenter:s,scaleOfMinZoom:n,pixelPathLength:h}}}class td{constructor(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r}}td.Replace=[1,0],td.disabled=new td(td.Replace,t.be.transparent,[!1,!1,!1,!1]),td.unblended=new td(td.Replace,t.be.transparent,[!0,!0,!0,!0]),td.alphaBlended=new td([1,771],t.be.transparent,[!0,!0,!0,!0]);class tf{constructor(e,t,r){this.enable=e,this.mode=t,this.frontFace=r}}tf.disabled=new tf(!1,1029,2305),tf.backCCW=new tf(!0,1029,2305),tf.frontCCW=new tf(!0,1028,2305);class tp{constructor(e,t,r){this.func=e,this.mask=t,this.range=r}}tp.ReadOnly=!1,tp.ReadWrite=!0,tp.disabled=new tp(519,tp.ReadOnly,[0,1]);class tm{constructor(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o}}tm.disabled=new tm({func:519,mask:0},0,0,7680,7680,7680);let tg=new WeakMap;function ty(e){var t;if(tg.has(e))return tg.get(e);{let r=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return tg.set(e,r),r}}class tv{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;let r=e.context,n=r.gl;this._texFormat=n.RGBA,this._texType=n.UNSIGNED_BYTE;let i=new t.aK;i.emplaceBack(-1,-1),i.emplaceBack(2,-1),i.emplaceBack(-1,2);let o=new t.aM;o.emplaceBack(0,1,2),this._fullscreenTriangle=new e6(r.createVertexBuffer(i,e4.members),r.createIndexBuffer(o),t.aL.simpleSegment(0,0,i.length,o.length)),this._resultBuffer=new Uint8Array(4),r.activeTexture.set(n.TEXTURE1);let a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=r.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(a),ty(n)&&(this._pbo=n.createBuffer(),n.bindBuffer(n.PIXEL_PACK_BUFFER,this._pbo),n.bufferData(n.PIXEL_PACK_BUFFER,4,n.STREAM_READ),n.bindBuffer(n.PIXEL_PACK_BUFFER,null))}destroy(){let e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,t){let r=this._updateCount;return this._readbackQueue?r>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():r>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,t),this._updateCount++,this._measuredError}_bindFramebuffer(){let e=this._cachedRenderContext.context,t=e.gl;e.activeTexture.set(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,r){let n=this._cachedRenderContext.context,i=n.gl;if(this._bindFramebuffer(),n.viewport.set([0,0,this._texWidth,this._texHeight]),n.clear({color:t.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(n,i.TRIANGLES,tp.disabled,tm.disabled,td.unblended,tf.disabled,{u_input:e,u_output_expected:r},null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&ty(i)){i.bindBuffer(i.PIXEL_PACK_BUFFER,this._pbo),i.readBuffer(i.COLOR_ATTACHMENT0),i.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),i.bindBuffer(i.PIXEL_PACK_BUFFER,null);let e=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);i.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:e}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&ty(e)){let r=e.clientWaitSync(this._readbackQueue.sync,0,0);if(r===e.WAIT_FAILED)return t.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(r===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=tv._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let t;return t=0+(e[0]/256+e[1]/65536+e[2]/0x1000000),e[3]<127&&(t=-t),t/128}}let tb=t.$/128;function t_(e,r){let n=void 0!==e.granularity?Math.max(e.granularity,1):1,i=n+2*!!e.generateBorders,o=n+(e.extendToNorthPole||e.generateBorders?1:0)+(e.extendToSouthPole||e.generateBorders?1:0),a=i+1,s=o+1,l=e.generateBorders?-1:0,u=e.generateBorders||e.extendToNorthPole?-1:0,c=n+ +!!e.generateBorders,h=n+(e.generateBorders||e.extendToSouthPole?1:0),d=i*o*6,f=a*s>65536;if(f&&"16bit"===r)throw Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let p=f||"32bit"===r,m=new Int16Array(a*s*2),g=0;for(let r=u;r<=h;r++)for(let i=l;i<=c;i++){let o=i/n*t.$;-1===i&&(o=-tb),i===n+1&&(o=t.$+tb);let a=r/n*t.$;-1===r&&(a=e.extendToNorthPole?t.bg:-tb),r===n+1&&(a=e.extendToSouthPole?t.bh:t.$+tb),m[g++]=o,m[g++]=a}let y=p?new Uint32Array(d):new Uint16Array(d),v=0;for(let e=0;e<o;e++)for(let t=0;t<i;t++){let r=t+1+e*a,n=t+(e+1)*a,i=t+1+(e+1)*a;y[v++]=t+e*a,y[v++]=n,y[v++]=r,y[v++]=r,y[v++]=n,y[v++]=i}return{vertices:m.buffer.slice(0),indices:y.buffer.slice(0),uses32bitIndices:p}}let tx=new t.aJ({fill:new t.bi(128,2),line:new t.bi(512,0),tile:new t.bi(128,32),stencil:new t.bi(128,1),circle:3});class tw{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return e3.projectionGlobe}get vertexShaderPreludeCode(){return e3.projectionMercator.vertexSource}get subdivisionGranularity(){return tx}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new tv(e));let r=t.U(this._errorQueryLatitudeDegrees),n=2*Math.atan(Math.exp(Math.PI-r*Math.PI*2))-.5*Math.PI,i=this._errorMeasurement.updateErrorLoop(r,n),o=d.now();i!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=i,this._errorMeasurementLastChangeTime=o);let a=Math.min(Math.max((o-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=t.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,t.bk(a))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,t,r,n,i){let o=("stencil"===i?tx.stencil:tx.tile).getGranularityForZoomLevel(t.z);return this._getMesh(e,{granularity:o,generateBorders:r,extendToNorthPole:0===t.y&&n,extendToSouthPole:t.y===(1<<t.z)-1&&n})}_getMesh(e,r){let n=this._getMeshKey(r);if(n in this._tileMeshCache)return this._tileMeshCache[n];let i=function(e,r){let n=t_(r,"16bit"),i=t.aK.deserialize({arrayBuffer:n.vertices,length:n.vertices.byteLength/2/2}),o=t.aM.deserialize({arrayBuffer:n.indices,length:n.indices.byteLength/2/3});return new e6(e.createVertexBuffer(i,e4.members),e.createIndexBuffer(o),t.aL.simpleSegment(0,0,i.length,o.length))}(e,r);return this._tileMeshCache[n]=i,i}recalculate(e){}hasTransition(){let e=d.now();return(e-this._errorMeasurementLastChangeTime)/1e3<.7||this._errorMeasurement&&this._errorMeasurement.awaitingQuery}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}let tS=new t.r({type:new t.D(t.v.projection.type)});class tT extends t.E{constructor(e){super(),this._transitionable=new t.t(tS),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0)),this._mercatorProjection=new e9,this._verticalPerspectiveProjection=new tw}get transitionState(){let e=this.properties.get("type");if("string"==typeof e&&"mercator"===e)return 0;if("string"==typeof e&&"vertical-perspective"===e)return 1;if(e instanceof t.bl){if("vertical-perspective"===e.from&&"mercator"===e.to)return 1-e.transition;if("mercator"===e.from&&"vertical-perspective"===e.to)return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,t,r,n,i){return this.currentProjection.getMeshFromTileID(e,t,r,n,i)}setProjection(e){this._transitionable.setValue("type",(null==e?void 0:e.type)||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function tE(e){return 2*Math.PI*tA(e.worldSize,e.center.lat)}function tP(e,r,n,i,o){let a=1/(1<<o),s=r/t.$*a+i*a,l=t.bn((e/t.$*a+n*a)*Math.PI*2+Math.PI,2*Math.PI),u=2*Math.atan(Math.exp(Math.PI-s*Math.PI*2))-.5*Math.PI,c=Math.cos(u),h=new Float64Array(3);return h[0]=Math.sin(l)*c,h[1]=Math.sin(u),h[2]=Math.cos(l)*c,h}function tC(e){return function(e,t){let r=Math.cos(t),n=new Float64Array(3);return n[0]=Math.sin(e)*r,n[1]=Math.sin(t),n[2]=Math.cos(e)*r,n}(e.lng*Math.PI/180,e.lat*Math.PI/180)}function tA(e,t){return e/(2*Math.PI)/Math.cos(t*Math.PI/180)}function tM(e){let r=Math.asin(e[1])/Math.PI*180,n=Math.sqrt(e[0]*e[0]+e[2]*e[2]);if(n>1e-6){let i=e[0]/n,o=Math.acos(e[2]/n),a=(i>0?o:-o)/Math.PI*180;return new t.S(t.aN(a,-180,180),r)}return new t.S(0,r)}function tk(e){return Math.cos(e*Math.PI/180)}function tO(e,r){let n=tk(e),i=tk(r);return t.aj(i/n)}function tI(e,r){let n=e.rotate(r.bearingInRadians),i=r.zoom+tO(r.center.lat,0),o=t.bj(1/tk(r.center.lat),1/tk(Math.min(Math.abs(r.center.lat),60)),t.bm(i,7,3,0,1)),a=360/tE({worldSize:r.worldSize,center:{lat:r.center.lat}});return new t.S(r.center.lng-n.x*a*o,t.ag(r.center.lat+n.y*a,-t.ah,t.ah))}function tR(e){let t=.5*e,r=Math.sin(t),n=Math.cos(t);return Math.log(r+n)-Math.log(n-r)}function tD(e,r,n,i){let o=e.lat+n*i;if(Math.abs(n)>1){let a=(Math.sign(e.lat+n)!==Math.sign(e.lat)?-Math.abs(e.lat):Math.abs(e.lat))*Math.PI/180,s=Math.abs(e.lat+n)*Math.PI/180,l=tR(a+i*(s-a)),u=tR(a),c=tR(s);return new t.S(e.lng+(l-u)/(c-u)*r,o)}return new t.S(e.lng+r*i,o)}class tL{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=e}swapBuffers(){if(!this._hadAnyChanges)return;let e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(e,t,r,n){let i=`${e.z}_${e.x}_${e.y}_${(null==n?void 0:n.terrain)?"t":""}`,o=this._cache.get(i);if(o)return o;let a=this._cachePrevious.get(i);if(a)return this._cache.set(i,a),a;let s=this._boundingVolumeFactory(e,t,r,n);return this._cache.set(i,s),this._hadAnyChanges=!0,s}}class tj{constructor(e,t,r,n){this.min=r,this.max=n,this.points=e,this.planes=t}static fromAabb(e,t){let r=[];for(let n=0;n<8;n++)r.push([1&~n?e[0]:t[0],1==(n>>1&1)?t[1]:e[1],1==(n>>2&1)?t[2]:e[2]]);return new tj(r,[[-1,0,0,t[0]],[1,0,0,-e[0]],[0,-1,0,t[1]],[0,1,0,-e[1]],[0,0,-1,t[2]],[0,0,1,-e[2]]],e,t)}static fromCenterSizeAngles(e,r,n){let i=t.bq([],n[0],n[1],n[2]),o=t.br([],[r[0],0,0],i),a=t.br([],[0,r[1],0],i),s=t.br([],[0,0,r[2]],i),l=[...e],u=[...e];for(let t=0;t<8;t++)for(let r=0;r<3;r++){let n=e[r]+o[r]*(1&~t?-1:1)+a[r]*(1==(t>>1&1)?1:-1)+s[r]*(1==(t>>2&1)?1:-1);l[r]=Math.min(l[r],n),u[r]=Math.max(u[r],n)}let c=[];for(let r=0;r<8;r++){let n=[...e];t.aR(n,n,t.aQ([],o,1&~r?-1:1)),t.aR(n,n,t.aQ([],a,1==(r>>1&1)?1:-1)),t.aR(n,n,t.aQ([],s,1==(r>>2&1)?1:-1)),c.push(n)}return new tj(c,[[...o,-t.aW(o,c[0])],[...a,-t.aW(a,c[0])],[...s,-t.aW(s,c[0])],[-o[0],-o[1],-o[2],-t.aW(o,c[7])],[-a[0],-a[1],-a[2],-t.aW(a,c[7])],[-s[0],-s[1],-s[2],-t.aW(s,c[7])]],l,u)}intersectsFrustum(e){let t=!0,r=this.points.length,n=this.planes.length,i=e.planes.length,o=e.points.length;for(let n=0;n<i;n++){let i=e.planes[n],o=0;for(let e=0;e<r;e++){let t=this.points[e];i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]>=0&&o++}if(0===o)return 0;o<r&&(t=!1)}if(t)return 2;for(let t=0;t<n;t++){let r=this.planes[t],n=0;for(let t=0;t<o;t++){let i=e.points[t];r[0]*i[0]+r[1]*i[1]+r[2]*i[2]+r[3]>=0&&n++}if(0===n)return 0}return 1}intersectsPlane(e){let t=this.points.length,r=0;for(let n=0;n<t;n++){let t=this.points[n];e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]>=0&&r++}return r===t?2:+(0!==r)}}function tz(e,t,r){let n=e-t;return n<0?-n:Math.max(0,n-r)}function tB(e,t,r,n,i){let o=e-r;return Math.max(o<0?Math.min(-o,1+o-i):o>1?Math.min(Math.max(o-i,0),1-o):0,tz(t,n,i))}class tF{constructor(){this._boundingVolumeCache=new tL(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(e,t,r,n){let i=1<<r.z,o=1/i,a=r.x/i,s=r.y/i;return Math.min(Math.min(Math.min(2,tB(e,t,a,s,o)),tB(e,t,a+.5,-s-o,o)),tB(e,t,a+.5,2-s-o,o))}getWrap(e,t,r){let n=1<<t.z,i=1/n,o=t.x/n,a=tz(e.x,o,i),s=tz(e.x,o-1,i),l=tz(e.x,o+1,i),u=Math.min(a,s,l);return u===l?1:u===s?-1:0}allowVariableZoom(e,t){return ef(e,t)>4}allowWorldCopies(){return!1}getTileBoundingVolume(e,t,r,n){return this._boundingVolumeCache.getTileBoundingVolume(e,t,r,n)}_computeTileBoundingVolume(e,r,n,i){var o,a;let s=n,l=n;if(null==i?void 0:i.terrain){let u=new t.Z(e.z,r,e.z,e.x,e.y),c=i.terrain.getMinMaxElevation(u);s=null!==(o=c.minElevation)&&void 0!==o?o:n,l=null!==(a=c.maxElevation)&&void 0!==a?a:n}if(s/=t.bt,l/=t.bt,s+=1,l+=1,e.z<=0)return tj.fromAabb([-l,-l,-l],[l,l,l]);if(1===e.z)return tj.fromAabb([0===e.x?-l:0,0===e.y?0:-l,-l],[0===e.x?0:l,0===e.y?l:0,l]);{let r=[tP(0,0,e.x,e.y,e.z),tP(t.$,0,e.x,e.y,e.z),tP(t.$,t.$,e.x,e.y,e.z),tP(0,t.$,e.x,e.y,e.z)],n=[];for(let e of r)n.push(t.aQ([],e,l));if(l!==s)for(let e of r)n.push(t.aQ([],e,s));0===e.y&&n.push([0,1,0]),e.y===(1<<e.z)-1&&n.push([0,-1,0]);let i=[1,1,1],o=[-1,-1,-1];for(let e of n)for(let t=0;t<3;t++)i[t]=Math.min(i[t],e[t]),o[t]=Math.max(o[t],e[t]);let a=tP(t.$/2,t.$/2,e.x,e.y,e.z),u=t.aV([],[0,1,0],a);t.aU(u,u);let c=t.aV([],a,u);t.aU(c,c);let h=t.aV([],r[2],r[1]);t.aU(h,h);let d=t.aV([],r[0],r[3]);t.aU(d,d),n.push(t.aQ([],a,l)),e.y>=(1<<e.z)/2&&n.push(t.aQ([],tP(t.$/2,0,e.x,e.y,e.z),l)),e.y<(1<<e.z)/2&&n.push(t.aQ([],tP(t.$/2,t.$,e.x,e.y,e.z),l));let f=tN(a,n),p=tN(c,n),m=[-a[0],-a[1],-a[2],f.max],g=[a[0],a[1],a[2],-f.min],y=[-c[0],-c[1],-c[2],p.max],v=[c[0],c[1],c[2],-p.min],b=[...h,0],_=[...d,0],x=[];return 0===e.y?x.push(t.bs(_,b,m),t.bs(_,b,g)):x.push(t.bs(y,b,m),t.bs(y,b,g),t.bs(y,_,m),t.bs(y,_,g)),e.y===(1<<e.z)-1?x.push(t.bs(_,b,m),t.bs(_,b,g)):x.push(t.bs(v,b,m),t.bs(v,b,g),t.bs(v,_,m),t.bs(v,_,g)),new tj(x,[m,g,y,v,b,_],i,o)}}}function tN(e,r){let n=1/0,i=-1/0;for(let o of r){let r=t.aW(e,o);n=Math.min(n,r),i=Math.max(i,r)}return{min:n,max:i}}class tV{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,r){return this._helper.interpolatePadding(e,t,r)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t){this._helper.resize(e,t)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=t.bu(),this._projectionMatrix=t.b8(),this._globeViewProjMatrix32f=t.b7(),this._globeViewProjMatrixNoCorrection=t.b8(),this._globeViewProjMatrixNoCorrectionInverted=t.b8(),this._globeProjMatrixInverted=t.b8(),this._cameraPosition=t.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new tn({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,t)=>this.getConstrained(e,t)}),this._coveringTilesDetailsProvider=new tF}clone(){let e=new tV;return e.apply(this),e}apply(e,t){this._globeLatitudeErrorCorrectionRadians=t||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let e=t.bo();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){let{overscaledTileID:t,applyGlobeMatrix:r}=e,n=this._helper.getMercatorTileCoordinates(t);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:n,clippingPlane:this._cachedClippingPlane,projectionTransition:+!!r,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){let r=this.pitchInRadians,n=this.cameraToCenterDistance/e,i=Math.sin(r)*n,o=Math.cos(r)*n+1,a=1/Math.sqrt(i*i+o*o)*1,s=-i,l=o,u=Math.sqrt(s*s+l*l),c=[0,s/=u,l/=u];t.bv(c,c,[0,0,0],-this.bearingInRadians),t.bw(c,c,[0,0,0],-1*this.center.lat*Math.PI/180),t.bx(c,c,[0,0,0],this.center.lng*Math.PI/180);let h=1/t.aY(c);return t.aQ(c,c,h),[...c,-a*h]}isLocationOccluded(e){return!this.isSurfacePointVisible(tC(e))}transformLightDirection(e){let r=this._helper._center.lng*Math.PI/180,n=this._helper._center.lat*Math.PI/180,i=Math.cos(n),o=[Math.sin(r)*i,Math.sin(n),Math.cos(r)*i],a=[o[2],0,-o[0]],s=[0,0,0];t.aV(s,a,o),t.aU(a,a),t.aU(s,s);let l=[0,0,0];return t.aU(l,[a[0]*e[0]+s[0]*e[1]+o[0]*e[2],a[1]*e[0]+s[1]*e[1]+o[1]*e[2],a[2]*e[0]+s[2]*e[1]+o[2]*e[2]]),l}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,r,n){var i;let o=function(e,r,n){let i=1/(1<<n.z);return new t.a0(e/t.$*i+n.x*i,r/t.$*i+n.y*i)}(e,r,n.canonical),a=(i=o.y,[t.bn(o.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-i*Math.PI*2))-.5*Math.PI]);return this.getCircleRadiusCorrection()/Math.cos(a[1])}projectTileCoordinates(e,r,n,i){let o=n.canonical,a=tP(e,r,o.x,o.y,o.z),s=1+(i?i(e,r):0)/t.bt,l=[a[0]*s,a[1]*s,a[2]*s,1];t.av(l,l,this._globeViewProjMatrixNoCorrection);let u=this._cachedClippingPlane,c=u[0]*a[0]+u[1]*a[1]+u[2]*a[2]+u[3]<0;return{point:new t.P(l[0]/l[3],l[1]/l[3]),signedDistanceFromCamera:l[3],isOccluded:c}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let e=tA(this.worldSize,this.center.lat),r=t.b9(),n=t.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),t.b3(r,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let i=this.centerOffset;r[8]=-(2*i.x)/this._helper._width,r[9]=2*i.y/this._helper._height,this._projectionMatrix=t.b4(r),this._globeProjMatrixInverted=t.b9(),t.ap(this._globeProjMatrixInverted,r),t.M(r,r,[0,0,-this.cameraToCenterDistance]),t.b5(r,r,this.rollInRadians),t.b6(r,r,-this.pitchInRadians),t.b5(r,r,this.bearingInRadians),t.M(r,r,[0,0,-e]);let o=t.bo();o[0]=e,o[1]=e,o[2]=e,t.b6(n,r,this.center.lat*Math.PI/180),t.by(n,n,-this.center.lng*Math.PI/180),t.N(n,n,o),this._globeViewProjMatrixNoCorrection=n,t.b6(r,r,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),t.by(r,r,-this.center.lng*Math.PI/180),t.N(r,r,o),this._globeViewProjMatrix32f=new Float32Array(r),this._globeViewProjMatrixNoCorrectionInverted=t.b9(),t.ap(this._globeViewProjMatrixNoCorrectionInverted,n);let a=t.bo();this._cameraPosition=t.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/e,t.bv(this._cameraPosition,this._cameraPosition,a,-this.rollInRadians),t.bw(this._cameraPosition,this._cameraPosition,a,this.pitchInRadians),t.bv(this._cameraPosition,this._cameraPosition,a,-this.bearingInRadians),t.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),t.bw(this._cameraPosition,this._cameraPosition,a,-this.center.lat*Math.PI/180),t.bx(this._cameraPosition,this._cameraPosition,a,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);let s=t.b4(this._globeViewProjMatrixNoCorrectionInverted);t.N(s,s,[1,1,-1]),this._cachedFrustum=ta.fromInvProjectionMatrix(s,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(e){t.w("calculateFogMatrix is not supported on globe projection.");let r=t.b9();return t.af(r),r}getVisibleUnwrappedCoordinates(e){return[new t.b1(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&t.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,r){if(!this._globeViewProjMatrixNoCorrection)return 1;let n=tC(e);t.aQ(n,n,1+r/t.bt);let i=t.bu();return t.av(i,[n[0],n[1],n[2],1],this._globeViewProjMatrixNoCorrection),i[2]/i[3]}populateCache(e){}getBounds(){let e=.5*this.width,r=.5*this.height,n=[new t.P(0,0),new t.P(e,0),new t.P(this.width,0),new t.P(this.width,r),new t.P(this.width,this.height),new t.P(e,this.height),new t.P(0,this.height),new t.P(0,r)],i=[];for(let e of n)i.push(this.unprojectScreenPoint(e));let o=0,a=0,s=0,l=0,u=this.center;for(let e of i){let r=t.bz(u.lng,e.lng),n=t.bz(u.lat,e.lat);r<a&&(a=r),r>o&&(o=r),n<l&&(l=n),n>s&&(s=n)}let c=[u.lng+a,u.lat+l,u.lng+o,u.lat+s];return this.isSurfacePointOnScreen([0,1,0])&&(c[3]=90,c[0]=-180,c[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(c[1]=-90,c[0]=-180,c[2]=180),new V(c)}getConstrained(e,r){let n=t.ag(e.lat,-t.ah,t.ah),i=t.ag(+r,this.minZoom+tO(0,n),this.maxZoom);return{center:new t.S(e.lng,n),zoom:i}}calculateCenterFromCameraLngLatAlt(e,t,r,n){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,r,n)}setLocationAtPoint(e,r){let n,i;let o=tC(this.unprojectScreenPoint(r)),a=tC(e),s=t.bo();t.bA(s);let l=t.bo();t.bx(l,o,s,-this.center.lng*Math.PI/180),t.bw(l,l,s,this.center.lat*Math.PI/180);let u=a[0]*a[0]+a[2]*a[2],c=l[0]*l[0];if(u<c)return;let h=Math.sqrt(u-c),d=t.bB(a[0],a[2],l[0],h),f=t.bB(a[0],a[2],l[0],-h),p=t.bo();t.bx(p,a,s,-d);let m=t.bB(p[1],p[2],l[1],l[2]),g=t.bo();t.bx(g,a,s,-f);let y=t.bB(g[1],g[2],l[1],l[2]),v=.5*Math.PI,b=m>=-v&&m<=v,_=y>=-v&&y<=v;if(b&&_){let e=this.center.lng*Math.PI/180,r=this.center.lat*Math.PI/180;t.bC(d,e)+t.bC(m,r)<t.bC(f,e)+t.bC(y,r)?(n=d,i=m):(n=f,i=y)}else if(b)n=d,i=m;else{if(!_)return;n=f,i=y}let x=n/Math.PI*180,w=i/Math.PI*180,S=this.center.lat;this.setCenter(new t.S(x,t.ag(w,-90,90))),this.setZoom(this.zoom+tO(S,this.center.lat))}locationToScreenPoint(e,r){let n=tC(e);if(r){let i=r.getElevationForLngLatZoom(e,this._helper._tileZoom);t.aQ(n,n,1+i/t.bt)}return this._projectSurfacePointToScreen(n)}_projectSurfacePointToScreen(e){let r=t.bu();return t.av(r,[...e,1],this._globeViewProjMatrixNoCorrection),r[0]/=r[3],r[1]/=r[3],new t.P((.5*r[0]+.5)*this.width,(-(.5*r[1])+.5)*this.height)}screenPointToMercatorCoordinate(e,r){if(r){let t=r.pointCoordinate(e);if(t)return t}return t.a0.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,t){var r;return null===(r=this.screenPointToMercatorCoordinate(e,t))||void 0===r?void 0:r.toLngLat()}isPointOnMapSurface(e,t){let r=this._cameraPosition,n=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(r,n)}getRayDirectionFromPixel(e){let r=t.bu();r[0]=e.x/this.width*2-1,r[1]=-1*(e.y/this.height*2-1),r[2]=1,r[3]=1,t.av(r,r,this._globeViewProjMatrixNoCorrectionInverted),r[0]/=r[3],r[1]/=r[3],r[2]/=r[3];let n=t.bo();n[0]=r[0]-this._cameraPosition[0],n[1]=r[1]-this._cameraPosition[1],n[2]=r[2]-this._cameraPosition[2];let i=t.bo();return t.aU(i,n),i}isSurfacePointVisible(e){let t=this._cachedClippingPlane;return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;let r=t.bu();return t.av(r,[...e,1],this._globeViewProjMatrixNoCorrection),r[0]/=r[3],r[1]/=r[3],r[2]/=r[3],r[0]>-1&&r[0]<1&&r[1]>-1&&r[1]<1&&r[2]>-1&&r[2]<1}rayPlanetIntersection(e,r){let n=t.aW(e,r),i=t.bo(),o=t.bo();t.aQ(o,r,n),t.aT(i,e,o);let a=1-t.aW(i,i);if(a<0)return null;let s=t.aW(e,e)-1,l=-n+(n<0?1:-1)*Math.sqrt(a),u=s/l;return{tMin:Math.min(u,l),tMax:Math.max(u,l)}}unprojectScreenPoint(e){let r=this._cameraPosition,n=this.getRayDirectionFromPixel(e),i=this.rayPlanetIntersection(r,n);if(i){let e=t.bo();t.aR(e,r,[n[0]*i.tMin,n[1]*i.tMin,n[2]*i.tMin]);let o=t.bo();return t.aU(o,e),tM(o)}let o=this._cachedClippingPlane,a=o[0]*n[0]+o[1]*n[1]+o[2]*n[2],s=-t.b0(o,r)/a,l=t.bo();if(s>0)t.aR(l,r,[n[0]*s,n[1]*s,n[2]*s]);else{let e=t.bo();t.aR(e,r,[2*n[0],2*n[1],2*n[2]]);let i=t.b0(this._cachedClippingPlane,e);t.aT(l,e,[this._cachedClippingPlane[0]*i,this._cachedClippingPlane[1]*i,this._cachedClippingPlane[2]*i])}let u=function(e){let r=t.bo();return r[0]=-(e[0]*e[3]),r[1]=-(e[1]*e[3]),r[2]=-(e[2]*e[3]),{center:r,radius:Math.sqrt(1-e[3]*e[3])}}(o);return tM(function(e,r,n){let i=t.bo();t.aT(i,n,e);let o=t.bo();return t.bp(o,e,i,r/t.a_(i)),o}(u.center,u.radius,l))}getMatrixForModel(e,r){let n=t.S.convert(e),i=1/t.bt,o=t.b8();return t.by(o,o,n.lng/180*Math.PI),t.b6(o,o,-n.lat/180*Math.PI),t.M(o,o,[0,0,1+r/t.bt]),t.b6(o,o,.5*Math.PI),t.N(o,o,[i,i,i]),o}getProjectionDataForCustomLayer(e=!0){let r=this.getProjectionData({overscaledTileID:new t.Z(0,0,0,0,0),applyGlobeMatrix:e});return r.tileMercatorCoords=[0,0,1,1],r}getFastPathSimpleProjectionMatrix(e){}}class tU{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,r){return this._helper.interpolatePadding(e,t,r)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,r=!0){this._helper.resize(e,t,r)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,t){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=t,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new tn({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,t)=>this.getConstrained(e,t)}),this._globeness=1,this._mercatorTransform=new ts,this._verticalPerspectiveTransform=new tV}clone(){let e=new tU;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){let t=this._mercatorTransform.getProjectionData(e),r=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?r.mainMatrix:t.mainMatrix,clippingPlane:r.clippingPlane,tileMercatorCoords:r.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:t.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return t.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return t.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,r,n){let i=this._mercatorTransform.getPitchedTextCorrection(e,r,n),o=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,r,n);return t.bj(i,o,this._globeness)}projectTileCoordinates(e,t,r,n){return this.currentTransform.projectTileCoordinates(e,t,r,n)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,t){return this.currentTransform.lngLatToCameraDepth(e,t)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,t){return this.currentTransform.getConstrained(e,t)}calculateCenterFromCameraLngLatAlt(e,t,r,n){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,r,n)}setLocationAtPoint(e,t){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,t),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,t),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,t){return this.currentTransform.locationToScreenPoint(e,t)}screenPointToMercatorCoordinate(e,t){return this.currentTransform.screenPointToMercatorCoordinate(e,t)}screenPointToLocation(e,t){return this.currentTransform.screenPointToLocation(e,t)}isPointOnMapSurface(e,t){return this.currentTransform.isPointOnMapSurface(e,t)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,t){return this.currentTransform.getMatrixForModel(e,t)}getProjectionDataForCustomLayer(e=!0){let t=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return t;let r=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return r.fallbackMatrix=t.mainMatrix,r}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class tG{get useGlobeControls(){return!0}handlePanInertia(e,r){let n=tI(e,r);return Math.abs(n.lng-r.center.lng)>180&&(n.lng=r.center.lng+179.5*Math.sign(n.lng-r.center.lng)),{easingCenter:n,easingOffset:new t.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,r){let n=e.around,i=r.screenPointToLocation(n);e.bearingDelta&&r.setBearing(r.bearing+e.bearingDelta),e.pitchDelta&&r.setPitch(r.pitch+e.pitchDelta),e.rollDelta&&r.setRoll(r.roll+e.rollDelta);let o=r.zoom;e.zoomDelta&&r.setZoom(r.zoom+e.zoomDelta);let a=r.zoom-o;if(0===a)return;let s=t.bz(r.center.lng,i.lng),l=s/(Math.abs(s/180)+1),u=t.bz(r.center.lat,i.lat),c=r.getRayDirectionFromPixel(n),h=r.cameraPosition,d=-1*t.aW(h,c),f=t.bo();t.aR(f,h,[c[0]*d,c[1]*d,c[2]*d]);let p=Math.exp(-(.5*Math.max(t.aY(f)-1-.3,0))),m=tA(r.worldSize,r.center.lat)/Math.min(r.width,r.height),g=t.bm(m,.9,.5,1,.25),y=(1-t.ae(-a))*Math.min(p,g),v=r.center.lat,b=r.zoom,_=new t.S(r.center.lng+l*y,t.ag(r.center.lat+u*y,-t.ah,t.ah));r.setLocationAtPoint(i,n);let x=r.center,w=Math.pow(Math.max(t.bm(Math.abs(s),45,85,0,1),t.bm(m,.75,.35,0,1)),.25),S=t.bz(x.lng,_.lng),T=t.bz(x.lat,_.lat);r.setCenter(new t.S(x.lng+S*w,x.lat+T*w).wrap()),r.setZoom(b+tO(v,r.center.lat))}handleMapControlsPan(e,t,r){if(!e.panDelta)return;let n=t.center.lat,i=t.zoom;t.setCenter(tI(e.panDelta,t).wrap()),t.setZoom(i+tO(n,t.center.lat))}cameraForBoxAndBearing(e,r,n,i,o){let a=tc(e,r,n,i,o),s=r.left/o.width*2-1,l=(o.width-r.right)/o.width*2-1,u=-(r.top/o.height*2)+1,c=-((o.height-r.bottom)/o.height*2)+1,h=0>t.bz(n.getWest(),n.getEast()),d=h?n.getEast():n.getWest(),f=h?n.getWest():n.getEast(),p=Math.max(n.getNorth(),n.getSouth()),m=Math.min(n.getNorth(),n.getSouth()),g=d+.5*t.bz(d,f),y=p+.5*t.bz(p,m),v=o.clone();v.setCenter(a.center),v.setBearing(a.bearing),v.setPitch(0),v.setRoll(0),v.setZoom(a.zoom);let b=v.modelViewProjectionMatrix,_=[tC(n.getNorthWest()),tC(n.getNorthEast()),tC(n.getSouthWest()),tC(n.getSouthEast()),tC(new t.S(f,y)),tC(new t.S(d,y)),tC(new t.S(g,p)),tC(new t.S(g,m))],x=tC(a.center),w=Number.POSITIVE_INFINITY;for(let e of _)s<0&&(w=tG.getLesserNonNegativeNonNull(w,tG.solveVectorScale(e,x,b,"x",s))),l>0&&(w=tG.getLesserNonNegativeNonNull(w,tG.solveVectorScale(e,x,b,"x",l))),u>0&&(w=tG.getLesserNonNegativeNonNull(w,tG.solveVectorScale(e,x,b,"y",u))),c<0&&(w=tG.getLesserNonNegativeNonNull(w,tG.solveVectorScale(e,x,b,"y",c)));if(Number.isFinite(w)&&0!==w)return a.zoom=v.zoom+t.aj(w),a;tl()}handleJumpToCenterZoom(e,r){let n=e.center.lat,i=e.getConstrained(r.center?t.S.convert(r.center):e.center,e.zoom).center;e.setCenter(i.wrap());let o=void 0!==r.zoom?+r.zoom:e.zoom+tO(n,i.lat);e.zoom!==o&&e.setZoom(o)}handleEaseTo(e,r){let n=e.zoom,i=e.center,o=e.padding,a={roll:e.roll,pitch:e.pitch,bearing:e.bearing},s={roll:void 0===r.roll?e.roll:r.roll,pitch:void 0===r.pitch?e.pitch:r.pitch,bearing:void 0===r.bearing?e.bearing:r.bearing},l=void 0!==r.zoom,u=!e.isPaddingEqual(r.padding),c=!1,h=r.center?t.S.convert(r.center):i,d=e.getConstrained(h,n).center;tt(e,d);let f=e.clone();f.setCenter(d),f.setZoom(l?+r.zoom:n+tO(i.lat,h.lat)),f.setBearing(r.bearing);let p=new t.P(t.ag(e.centerPoint.x+r.offsetAsPoint.x,0,e.width),t.ag(e.centerPoint.y+r.offsetAsPoint.y,0,e.height));f.setLocationAtPoint(d,p);let m=(r.offset&&r.offsetAsPoint.mag())>0?f.center:d,g=l?+r.zoom:n+tO(i.lat,m.lat),y=n+tO(i.lat,0),v=g+tO(m.lat,0),b=t.bz(i.lng,m.lng),_=t.bz(i.lat,m.lat),x=t.ae(v-y);return{easeFunc:n=>{if(t.bd(a,s)||tu({startEulerAngles:a,endEulerAngles:s,tr:e,k:n,useSlerp:a.roll!=s.roll}),u&&e.interpolatePadding(o,r.padding,n),r.around)t.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(r.around,r.aroundPoint);else{let t=Math.pow(v>y?Math.min(2,x):Math.max(.5,x),1-n),r=tD(i,b,_,n*t);e.setCenter(r.wrap())}if(c){let r=t.C.number(y,v,n)+tO(0,e.center.lat);e.setZoom(r)}},isZooming:c=g!==n,elevationCenter:m}}handleFlyTo(e,r){let n;let i=void 0!==r.zoom,o=e.center,a=e.zoom,s=e.padding,l=!e.isPaddingEqual(r.padding),u=e.getConstrained(t.S.convert(r.center||r.locationAtOffset),a).center,c=i?+r.zoom:e.zoom+tO(e.center.lat,u.lat),h=e.clone();h.setCenter(u),h.setZoom(c),h.setBearing(r.bearing);let d=new t.P(t.ag(e.centerPoint.x+r.offsetAsPoint.x,0,e.width),t.ag(e.centerPoint.y+r.offsetAsPoint.y,0,e.height));h.setLocationAtPoint(u,d);let f=h.center;tt(e,f);let p=function(e,r,n){let i=tC(r),o=tC(n);return Math.acos(t.aW(i,o))/(2*Math.PI)*tE(e)}(e,o,f),m=a+tO(o.lat,0),g=c+tO(f.lat,0),y=t.ae(g-m);if("number"==typeof r.minZoom){let i=Math.min(+r.minZoom+tO(f.lat,0),m,g)+tO(0,f.lat),o=e.getConstrained(f,i).zoom+tO(f.lat,0);n=t.ae(o-m)}let v=t.bz(o.lng,f.lng),b=t.bz(o.lat,f.lat);return{easeFunc:(n,i,a,u)=>{let h=tD(o,v,b,a);l&&e.interpolatePadding(s,r.padding,n);let d=1===n?f:h;e.setCenter(d.wrap());let p=m+t.aj(i);e.setZoom(1===n?c:p+tO(0,d.lat))},scaleOfZoom:y,targetCenter:f,scaleOfMinZoom:n,pixelPathLength:p}}static solveVectorScale(e,t,r,n,i){let o="x"===n?[r[0],r[4],r[8],r[12]]:[r[1],r[5],r[9],r[13]],a=[r[3],r[7],r[11],r[15]],s=e[0]*o[0]+e[1]*o[1]+e[2]*o[2],l=e[0]*a[0]+e[1]*a[1]+e[2]*a[2],u=t[0]*o[0]+t[1]*o[1]+t[2]*o[2],c=t[0]*a[0]+t[1]*a[1]+t[2]*a[2];return u+i*l===s+i*c||a[3]*(s-u)+o[3]*(c-l)+s*c==u*l?null:(u+o[3]-i*c-i*a[3])/(u-s-i*c+i*l)}static getLesserNonNegativeNonNull(e,t){return null!==t&&t>=0&&t<e?t:e}}class tH{constructor(e){this._globe=e,this._mercatorCameraHelper=new th,this._verticalPerspectiveCameraHelper=new tG}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,t){return this.currentHelper.handlePanInertia(e,t)}handleMapControlsRollPitchBearingZoom(e,t){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,t)}handleMapControlsPan(e,t,r){this.currentHelper.handleMapControlsPan(e,t,r)}cameraForBoxAndBearing(e,t,r,n,i){return this.currentHelper.cameraForBoxAndBearing(e,t,r,n,i)}handleJumpToCenterZoom(e,t){this.currentHelper.handleJumpToCenterZoom(e,t)}handleEaseTo(e,t){return this.currentHelper.handleEaseTo(e,t)}handleFlyTo(e,t){return this.currentHelper.handleFlyTo(e,t)}}let tq=(e,r)=>t.y(e,r&&r.filter(e=>"source.canvas"!==e.identifier)),t$=t.bD();class tW extends t.E{constructor(e,r={}){super(),this._rtlPluginLoaded=()=>{for(let e in this.sourceCaches){let t=this.sourceCaches[e].getSource().type;"vector"!==t&&"geojson"!==t||this.sourceCaches[e].reload()}},this.map=e,this.dispatcher=new j(L(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(e,t)=>this.getGlyphs(e,t)),this.dispatcher.registerMessageHandler("GI",(e,t)=>this.getImages(e,t)),this.imageManager=new S,this.imageManager.setEventedParent(this),this.glyphManager=new P(e._requestManager,r.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new e1,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",t.bF()),et().on(Q,this._rtlPluginLoaded),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;let t=this.sourceCaches[e.sourceId];if(!t)return;let r=t.getSource();if(r&&r.vectorLayerIds)for(let e in this._layers){let t=this._layers[e];t.source===r.id&&this._validateLayer(t)}})}setGlobalStateProperty(e,r){var n,i,o;this._checkLoaded();let a=null===r?null!==(o=null===(i=null===(n=this.stylesheet.state)||void 0===n?void 0:n[e])||void 0===i?void 0:i.default)&&void 0!==o?o:null:r;if(t.bG(a,this._globalState[e]))return this;this._globalState[e]=a;let s=this._findGlobalStateAffectedSources([e]);for(let e in this.sourceCaches)s.has(e)&&(this._reloadSource(e),this._changed=!0)}getGlobalState(){return this._globalState}setGlobalState(e){this._checkLoaded();let r=[];for(let n in e)t.bG(this._globalState[n],e[n].default)||(r.push(n),this._globalState[n]=e[n].default);let n=this._findGlobalStateAffectedSources(r);for(let e in this.sourceCaches)n.has(e)&&(this._reloadSource(e),this._changed=!0)}_findGlobalStateAffectedSources(e){if(0===e.length)return new Set;let t=new Set;for(let r in this._layers){let n=this._layers[r],i=n.getLayoutAffectingGlobalStateRefs();for(let r of e)i.has(r)&&t.add(n.source)}return t}loadURL(e,r={},n){this.fire(new t.l("dataloading",{dataType:"style"})),r.validate="boolean"!=typeof r.validate||r.validate;let i=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;let o=this._loadStyleRequest;t.j(i,this._loadStyleRequest).then(e=>{this._loadStyleRequest=null,this._load(e.data,r,n)}).catch(e=>{this._loadStyleRequest=null,e&&!o.signal.aborted&&this.fire(new t.k(e))})}loadJSON(e,r={},n){this.fire(new t.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,d.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,r.validate=!1!==r.validate,this._load(e,r,n)}).catch(()=>{})}loadEmpty(){this.fire(new t.l("dataloading",{dataType:"style"})),this._load(t$,{validate:!1})}_load(e,r,n){var i,o,a;let s=r.transformStyle?r.transformStyle(n,e):e;if(!r.validate||!tq(this,t.z(s))){for(let e in this._loaded=!0,this.stylesheet=s,s.sources)this.addSource(e,s.sources[e],{validate:!1});s.sprite?this._loadSprite(s.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(s.glyphs),this._createLayers(),this.light=new A(this.stylesheet.light),this._setProjectionInternal((null===(i=this.stylesheet.projection)||void 0===i?void 0:i.type)||"mercator"),this.sky=new k(this.stylesheet.sky),this.map.setTerrain(null!==(o=this.stylesheet.terrain)&&void 0!==o?o:null),this.setGlobalState(null!==(a=this.stylesheet.state)&&void 0!==a?a:null),this.fire(new t.l("data",{dataType:"style"})),this.fire(new t.l("style.load"))}}_createLayers(){let e=t.bH(this.stylesheet.layers);for(let r of(this.dispatcher.broadcast("SL",e),this._order=e.map(e=>e.id),this._layers={},this._serializedLayers=null,e)){let e=t.bI(r);e.setEventedParent(this,{layer:{id:r.id}}),this._layers[r.id]=e}}_loadSprite(e,r=!1,n){let i;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(e,r,n,i){return t._(this,void 0,void 0,function*(){let o=x(e),a=n>1?"@2x":"",s={},l={};for(let{id:e,url:n}of o){let o=r.transformRequest(w(n,a,".json"),"SpriteJSON");s[e]=t.j(o,i);let c=r.transformRequest(w(n,a,".png"),"SpriteImage");l[e]=u.getImage(c,i)}return yield Promise.all([...Object.values(s),...Object.values(l)]),function(e,r){return t._(this,void 0,void 0,function*(){let t={};for(let n in e){t[n]={};let i=d.getImageCanvasContext((yield r[n]).data),o=(yield e[n]).data;for(let e in o){let{width:r,height:a,x:s,y:l,sdf:u,pixelRatio:c,stretchX:h,stretchY:d,content:f,textFitWidth:p,textFitHeight:m}=o[e];t[n][e]={data:null,pixelRatio:c,sdf:u,stretchX:h,stretchY:d,content:f,textFitWidth:p,textFitHeight:m,spriteData:{width:r,height:a,x:s,y:l,context:i}}}}return t})}(s,l)})})(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(e=>{if(this._spriteRequest=null,e)for(let t in e){for(let r of(this._spritesImagesIds[t]=[],this._spritesImagesIds[t]?this._spritesImagesIds[t].filter(t=>!(t in e)):[]))this.imageManager.removeImage(r),this._changedImages[r]=!0;for(let n in e[t]){let i="default"===t?n:`${t}:${n}`;this._spritesImagesIds[t].push(i),i in this.imageManager.images?this.imageManager.updateImage(i,e[t][n],!1):this.imageManager.addImage(i,e[t][n]),r&&(this._changedImages[i]=!0)}}}).catch(e=>{this._spriteRequest=null,i=e,this.fire(new t.k(i))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),r&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"})),n&&n(i)})}_unloadSprite(){for(let e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}_validateLayer(e){let r=this.sourceCaches[e.source];if(!r)return;let n=e.sourceLayer;if(!n)return;let i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new t.k(Error(`Source layer "${n}" does not exist on source "${i.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,r=!1){let n=this._serializedAllLayers();if(!e||0===e.length)return Object.values(r?t.bJ(n):n);let i=[];for(let o of e)if(n[o]){let e=r?t.bJ(n[o]):n[o];i.push(e)}return i}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;for(let t of(e=this._serializedLayers={},Object.keys(this._layers))){let r=this._layers[t];"custom"!==r.type&&(e[t]=r.serialize())}return e}hasTransitions(){var e,t,r;if((null===(e=this.light)||void 0===e?void 0:e.hasTransition())||(null===(t=this.sky)||void 0===t?void 0:t.hasTransition())||(null===(r=this.projection)||void 0===r?void 0:r.hasTransition()))return!0;for(let e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(let e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw Error("Style is not done loading.")}update(e){if(!this._loaded)return;let r=this._changed;if(r){let t=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(let e in(t.length||r.length)&&this._updateWorkerLayers(t,r),this._updatedSources){let t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw Error(`Invalid action ${t}`);this._clearSource(e)}}for(let t in this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs(),this._updatedPaintProps)this._layers[t].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}let n={};for(let e in this.sourceCaches){let t=this.sourceCaches[e];n[e]=t.used,t.used=!1}for(let t of this._order){let r=this._layers[t];r.recalculate(e,this._availableImages),!r.isHidden(e.zoom)&&r.source&&(this.sourceCaches[r.source].used=!0)}for(let e in n){let r=this.sourceCaches[e];!!n[e]!=!!r.used&&r.fire(new t.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:e}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,r&&this.fire(new t.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let e=Object.keys(this._changedImages);if(e.length){for(let t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,r={}){var n;this._checkLoaded();let i=this.serialize();if(e=r.transformStyle?r.transformStyle(i,e):e,(null===(n=r.validate)||void 0===n||n)&&tq(this,t.z(e)))return!1;(e=t.bJ(e)).layers=t.bH(e.layers);let o=t.bK(i,e),a=this._getOperationsToPerform(o);if(a.unimplemented.length>0)throw Error(`Unimplemented: ${a.unimplemented.join(", ")}.`);if(0===a.operations.length)return!1;for(let e of a.operations)e();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){let t=[],r=[];for(let n of e)switch(n.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":t.push(()=>this.addLayer.apply(this,n.args));break;case"removeLayer":t.push(()=>this.removeLayer.apply(this,n.args));break;case"setPaintProperty":t.push(()=>this.setPaintProperty.apply(this,n.args));break;case"setLayoutProperty":t.push(()=>this.setLayoutProperty.apply(this,n.args));break;case"setFilter":t.push(()=>this.setFilter.apply(this,n.args));break;case"addSource":t.push(()=>this.addSource.apply(this,n.args));break;case"removeSource":t.push(()=>this.removeSource.apply(this,n.args));break;case"setLayerZoomRange":t.push(()=>this.setLayerZoomRange.apply(this,n.args));break;case"setLight":t.push(()=>this.setLight.apply(this,n.args));break;case"setGeoJSONSourceData":t.push(()=>this.setGeoJSONSourceData.apply(this,n.args));break;case"setGlyphs":t.push(()=>this.setGlyphs.apply(this,n.args));break;case"setSprite":t.push(()=>this.setSprite.apply(this,n.args));break;case"setTerrain":t.push(()=>this.map.setTerrain.apply(this,n.args));break;case"setSky":t.push(()=>this.setSky.apply(this,n.args));break;case"setProjection":this.setProjection.apply(this,n.args);break;case"setGlobalState":t.push(()=>this.setGlobalState.apply(this,n.args));break;case"setTransition":t.push(()=>{});break;default:r.push(n.command)}return{operations:t,unimplemented:r}}addImage(e,r){if(this.getImage(e))return this.fire(new t.k(Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,r),this._afterImageUpdated(e)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new t.k(Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,r,n={}){if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw Error(`Source "${e}" already exists.`);if(!r.type)throw Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(t.z.source,`sources.${e}`,r,null,n))return;this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);let i=this.sourceCaches[e]=new eg(e,r,this.dispatcher);i.style=this,i.setEventedParent(this,()=>({isSourceLoaded:i.loaded(),source:i.serialize(),sourceId:e})),i.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw Error("There is no source with this ID");for(let r in this._layers)if(this._layers[r].source===e)return this.fire(new t.k(Error(`Source "${e}" cannot be removed while layer "${r}" is using it.`)));let r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw Error(`There is no source with this ID=${e}`);let r=this.sourceCaches[e].getSource();if("geojson"!==r.type)throw Error(`geojsonSource.type is ${r.type}, which is !== 'geojson`);r.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,r,n={}){let i;this._checkLoaded();let o=e.id;if(this.getLayer(o))return void this.fire(new t.k(Error(`Layer "${o}" already exists on this map.`)));if("custom"===e.type){if(tq(this,t.bL(e)))return;i=t.bI(e)}else{if("source"in e&&"object"==typeof e.source&&(this.addSource(o,e.source),e=t.bJ(e),e=t.e(e,{source:o})),this._validate(t.z.layer,`layers.${o}`,e,{arrayIndex:-1},n))return;i=t.bI(e),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}})}let a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new t.k(Error(`Cannot add layer "${o}" before non-existing layer "${r}".`)));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source&&"custom"!==i.type){let e=this._removedLayers[o];delete this._removedLayers[o],e.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}moveLayer(e,r){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.k(Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===r)return;let n=this._order.indexOf(e);this._order.splice(n,1);let i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new t.k(Error(`Cannot move layer "${e}" before non-existing layer "${r}".`))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();let r=this._layers[e];if(!r)return void this.fire(new t.k(Error(`Cannot remove non-existing layer "${e}".`)));r.setEventedParent(null);let n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=r,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],r.onRemove&&r.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,r,n){this._checkLoaded();let i=this.getLayer(e);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new t.k(Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,r,n={}){this._checkLoaded();let i=this.getLayer(e);if(i){if(!t.bG(i.filter,r))return null==r?(i.setFilter(void 0),void this._updateLayer(i)):void(this._validate(t.z.filter,`layers.${i.id}.filter`,r,null,n)||(i.setFilter(t.bJ(r)),this._updateLayer(i)))}else this.fire(new t.k(Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return t.bJ(this.getLayer(e).filter)}setLayoutProperty(e,r,n,i={}){this._checkLoaded();let o=this.getLayer(e);o?t.bG(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n,i),this._updateLayer(o)):this.fire(new t.k(Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,r){let n=this.getLayer(e);if(n)return n.getLayoutProperty(r);this.fire(new t.k(Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,r,n,i={}){this._checkLoaded();let o=this.getLayer(e);o?t.bG(o.getPaintProperty(r),n)||(o.setPaintProperty(r,n,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new t.k(Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(e,r){this._checkLoaded();let n=e.source,i=e.sourceLayer,o=this.sourceCaches[n];if(void 0===o)return void this.fire(new t.k(Error(`The source '${n}' does not exist in the map's style.`)));let a=o.getSource().type;"geojson"===a&&i?this.fire(new t.k(Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.k(Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,r)):this.fire(new t.k(Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,r){this._checkLoaded();let n=e.source,i=this.sourceCaches[n];if(void 0===i)return void this.fire(new t.k(Error(`The source '${n}' does not exist in the map's style.`)));let o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?r&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.k(Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,r):this.fire(new t.k(Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();let r=e.source,n=e.sourceLayer,i=this.sourceCaches[r];if(void 0!==i)return"vector"!==i.getSource().type||n?(void 0===e.id&&this.fire(new t.k(Error("The feature id parameter must be provided."))),i.getFeatureState(n,e.id)):void this.fire(new t.k(Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.k(Error(`The source '${r}' does not exist in the map's style.`)))}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let e=t.bM(this.sourceCaches,e=>e.serialize()),r=this._serializeByIds(this._order,!0),n=this.map.getTerrain()||void 0,i=this.stylesheet;return t.bN({version:i.version,name:i.name,metadata:i.metadata,light:i.light,sky:i.sky,center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,sprite:i.sprite,glyphs:i.glyphs,transition:i.transition,projection:i.projection,sources:e,layers:r,terrain:n},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){let t=e=>"fill-extrusion"===this._layers[e].type,r={},n=[];for(let i=this._order.length-1;i>=0;i--){let o=this._order[i];if(t(o))for(let t of(r[o]=i,e)){let e=t[o];if(e)for(let t of e)n.push(t)}}n.sort((e,t)=>t.intersectionZ-e.intersectionZ);let i=[];for(let o=this._order.length-1;o>=0;o--){let a=this._order[o];if(t(a))for(let e=n.length-1;e>=0;e--){let t=n[e].feature;if(r[t.layer.id]<o)break;i.push(t),n.pop()}else for(let t of e){let e=t[a];if(e)for(let t of e)i.push(t.feature)}}return i}queryRenderedFeatures(e,r,n){r&&r.filter&&this._validate(t.z.filter,"queryRenderedFeatures.filter",r.filter,null,r);let i={};if(r&&r.layers){if(!(Array.isArray(r.layers)||r.layers instanceof Set))return this.fire(new t.k(Error("parameters.layers must be an Array or a Set of strings"))),[];for(let e of r.layers){let r=this._layers[e];if(!r)return this.fire(new t.k(Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];i[r.source]=!0}}let o=[];r.availableImages=this._availableImages;let a=this._serializedAllLayers(),s=r.layers instanceof Set?r.layers:Array.isArray(r.layers)?new Set(r.layers):null,l=Object.assign(Object.assign({},r),{layers:s});for(let s in this.sourceCaches)r.layers&&!i[s]||o.push(function(e,r,n,i,o,a,s){var l;let u=function(e,t,r){if(e)for(let n of e){let e=t[n];if(e&&e.source===r&&"fill-extrusion"===e.type)return!0}else for(let e in t){let n=t[e];if(n.source===r&&"fill-extrusion"===n.type)return!0}return!1}(null!==(l=null==o?void 0:o.layers)&&void 0!==l?l:null,r,e.id),c=a.maxPitchScaleFactor(),h=e.tilesIn(i,c,u);h.sort(B);let d=[];for(let i of h)d.push({wrappedTileID:i.tileID.wrapped().key,queryResults:i.tile.queryRenderedFeatures(r,n,e._state,i.queryGeometry,i.cameraQueryGeometry,i.scale,o,a,c,function(e,r){let n=t.L();return t.M(n,n,[1,1,0]),t.N(n,n,[.5*e.width,.5*e.height,1]),e.calculatePosMatrix?t.O(n,n,e.calculatePosMatrix(r.toUnwrapped())):n}(e.transform,i.tileID),s?(e,t)=>s(i.tileID,e,t):void 0)});return function(e,t){for(let r in e)for(let n of e[r])F(n,t);return e}(function(e){let t={},r={};for(let n of e){let e=n.queryResults,i=n.wrappedTileID,o=r[i]=r[i]||{};for(let r in e){let n=e[r],i=o[r]=o[r]||{},a=t[r]=t[r]||[];for(let e of n)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(d),e)}(this.sourceCaches[s],this._layers,a,e,l,n,this.map.terrain?(e,t,r)=>this.map.terrain.getElevation(e,t,r):void 0));return this.placement&&o.push(function(e,t,r,n,i,o,a){let s={},l=o.queryRenderedSymbols(n),u=[];for(let e of Object.keys(l).map(Number))u.push(a[e]);for(let r of(u.sort(B),u)){let n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(let e in n){let t=s[e]=s[e]||[],i=n[e];for(let e of(i.sort((e,t)=>{let n=r.featureSortOrder;if(n){let r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex}),i))t.push(e)}}return function(e,t,r){for(let n in e)for(let i of e[n])F(i,r[t[n].source]);return e}(s,e,r)}(this._layers,a,this.sourceCaches,e,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(e,r){r&&r.filter&&this._validate(t.z.filter,"querySourceFeatures.filter",r.filter,null,r);let n=this.sourceCaches[e];return n?function(e,t){let r=e.getRenderableIds().map(t=>e.getTileByID(t)),n=[],i={};for(let e=0;e<r.length;e++){let o=r[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(n,t))}return n}(n,r):[]}getLight(){return this.light.getLight()}setLight(e,r={}){this._checkLoaded();let n=this.light.getLight(),i=!1;for(let r in e)if(!t.bG(e[r],n[r])){i=!0;break}if(!i)return;let o={now:d.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,r),this.light.updateTransitions(o)}getProjection(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.sky}setSky(e,r={}){this._checkLoaded();let n=this.getSky(),i=!1;if(!e&&!n)return;if(e&&!n)i=!0;else if(!e&&n)i=!0;else for(let r in e)if(!t.bG(e[r],n[r])){i=!0;break}if(!i)return;let o={now:d.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,r),this.sky.updateTransitions(o)}_setProjectionInternal(e){let r=function(e){if(Array.isArray(e)){let t=new tT({type:e});return{projection:t,transform:new tU,cameraHelper:new tH(t)}}switch(e){case"mercator":return{projection:new e9,transform:new ts,cameraHelper:new th};case"globe":{let e=new tT({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:e,transform:new tU,cameraHelper:new tH(e)}}case"vertical-perspective":return{projection:new tw,transform:new tV,cameraHelper:new tG};default:return t.w(`Unknown projection name: ${e}. Falling back to mercator projection.`),{projection:new e9,transform:new ts,cameraHelper:new th}}}(e);for(let e in this.projection=r.projection,this.map.migrateProjection(r.transform,r.cameraHelper),this.sourceCaches)this.sourceCaches[e].reload()}_validate(e,r,n,i,o={}){return(!o||!1!==o.validate)&&tq(this,e.call(t.z,t.e({key:r,style:this.serialize(),value:n,styleSpec:t.v},i)))}_remove(e=!0){for(let e in this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),et().off(Q,this._rtlPluginLoaded),this._layers)this._layers[e].setEventedParent(null);for(let e in this.sourceCaches){let t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(let t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain)}_generateCollisionBoxes(){for(let e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,t,r,n,i=!1){let o=!1,a=!1,s={};for(let t of this._order){let r=this._layers[t];if("symbol"!==r.type)continue;if(!s[r.source]){let e=this.sourceCaches[r.source];s[r.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}let n=this.crossTileSymbolIndex.addLayer(r,s[r.source],e.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((i=i||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.now(),e.zoom))&&(this.pauseablePlacement=new eK(e,this.map.terrain,this._order,i,t,r,n,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(d.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(let e of this._order){let t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,s[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.now())}_releaseSymbolFadeTiles(){for(let e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,r){return t._(this,void 0,void 0,function*(){let e=yield this.imageManager.getImages(r.icons);this._updateTilesForChangedImages();let t=this.sourceCaches[r.source];return t&&t.setDependencies(r.tileID.key,r.type,r.icons),e})}getGlyphs(e,r){return t._(this,void 0,void 0,function*(){let e=yield this.glyphManager.getGlyphs(r.stacks),t=this.sourceCaches[r.source];return t&&t.setDependencies(r.tileID.key,r.type,[""]),e})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,r={}){this._checkLoaded(),e&&this._validate(t.z.glyphs,"glyphs",e,null,r)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,r,n={},i){this._checkLoaded();let o=[{id:e,url:r}],a=[...x(this.stylesheet.sprite),...o];this._validate(t.z.sprite,"sprite",a,null,n)||(this.stylesheet.sprite=a,this._loadSprite(o,!0,i))}removeSprite(e){this._checkLoaded();let r=x(this.stylesheet.sprite);if(r.find(t=>t.id===e)){if(this._spritesImagesIds[e])for(let t of this._spritesImagesIds[e])this.imageManager.removeImage(t),this._changedImages[t]=!0;r.splice(r.findIndex(t=>t.id===e),1),this.stylesheet.sprite=r.length>0?r:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}else this.fire(new t.k(Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return x(this.stylesheet.sprite)}setSprite(e,r={},n){this._checkLoaded(),e&&this._validate(t.z.sprite,"sprite",e,null,r)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,n):(this._unloadSprite(),n&&n(null)))}}var tX=t.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class tZ{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,r,n,i,o,a,s,l){this.context=e;let u=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!u&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(u=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,r,n,i,o,a,s,l):(e.bindVertexArray.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind())}freshBind(e,t,r,n,i,o,a,s){let l=e.numAttributes,u=this.context,c=u.gl;for(let l of(this.vao&&this.destroy(),this.vao=u.createVertexArray(),u.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=s,t.enableAttributes(c,e),r))l.enableAttributes(c,e);for(let n of(o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),s&&s.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i),r))n.bind(),n.setVertexAttribPointers(c,e,i);o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),s&&(s.bind(),s.setVertexAttribPointers(c,e,i)),u.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let tK=(e,r,n,i,o)=>({u_texture:0,u_ele_delta:e,u_fog_matrix:r,u_fog_color:n?n.properties.get("fog-color"):t.be.white,u_fog_ground_blend:n?n.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:o?0:n?n.calculateFogBlendOpacity(i):0,u_horizon_color:n?n.properties.get("horizon-color"):t.be.white,u_horizon_fog_blend:n?n.properties.get("horizon-fog-blend"):1,u_is_globe_mode:+!!o}),tY={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function tQ(e){let t=[];for(let r=0;r<e.length;r++){if(null===e[r])continue;let n=e[r].split(" ");t.push(n.pop())}return t}class tJ{constructor(e,r,n,i,o,a,s,l,u=[]){let c=e.gl;this.program=c.createProgram();let h=tQ(r.staticAttributes),d=n?n.getBinderAttributes():[],f=h.concat(d),p=e3.prelude.staticUniforms?tQ(e3.prelude.staticUniforms):[],m=s.staticUniforms?tQ(s.staticUniforms):[],g=r.staticUniforms?tQ(r.staticUniforms):[],y=n?n.getBinderUniforms():[],v=p.concat(m).concat(g).concat(y),b=[];for(let e of v)0>b.indexOf(e)&&b.push(e);let _=n?n.defines():[];ty(c)&&_.unshift("#version 300 es"),o&&_.push("#define OVERDRAW_INSPECTOR;"),a&&_.push("#define TERRAIN3D;"),l&&_.push(l),u&&_.push(...u);let x=_.concat(e3.prelude.fragmentSource,s.fragmentSource,r.fragmentSource).join("\n"),w=_.concat(e3.prelude.vertexSource,s.vertexSource,r.vertexSource).join("\n");ty(c)||(x=x.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D("),w=w.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D("));let S=c.createShader(c.FRAGMENT_SHADER);if(c.isContextLost())return void(this.failedToCreate=!0);if(c.shaderSource(S,x),c.compileShader(S),!c.getShaderParameter(S,c.COMPILE_STATUS))throw Error(`Could not compile fragment shader: ${c.getShaderInfoLog(S)}`);c.attachShader(this.program,S);let T=c.createShader(c.VERTEX_SHADER);if(c.isContextLost())return void(this.failedToCreate=!0);if(c.shaderSource(T,w),c.compileShader(T),!c.getShaderParameter(T,c.COMPILE_STATUS))throw Error(`Could not compile vertex shader: ${c.getShaderInfoLog(T)}`);c.attachShader(this.program,T),this.attributes={};let E={};this.numAttributes=f.length;for(let e=0;e<this.numAttributes;e++)f[e]&&(c.bindAttribLocation(this.program,e,f[e]),this.attributes[f[e]]=e);if(c.linkProgram(this.program),!c.getProgramParameter(this.program,c.LINK_STATUS))throw Error(`Program failed to link: ${c.getProgramInfoLog(this.program)}`);c.deleteShader(T),c.deleteShader(S);for(let e=0;e<b.length;e++){let t=b[e];if(t&&!E[t]){let e=c.getUniformLocation(this.program,t);e&&(E[t]=e)}}this.fixedUniforms=i(e,E),this.terrainUniforms={u_depth:new t.bO(e,E.u_depth),u_terrain:new t.bO(e,E.u_terrain),u_terrain_dim:new t.bf(e,E.u_terrain_dim),u_terrain_matrix:new t.bQ(e,E.u_terrain_matrix),u_terrain_unpack:new t.bR(e,E.u_terrain_unpack),u_terrain_exaggeration:new t.bf(e,E.u_terrain_exaggeration)},this.projectionUniforms={u_projection_matrix:new t.bQ(e,E.u_projection_matrix),u_projection_tile_mercator_coords:new t.bR(e,E.u_projection_tile_mercator_coords),u_projection_clipping_plane:new t.bR(e,E.u_projection_clipping_plane),u_projection_transition:new t.bf(e,E.u_projection_transition),u_projection_fallback_matrix:new t.bQ(e,E.u_projection_fallback_matrix)},this.binderUniforms=n?n.getUniforms(e,E):[]}draw(e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,m,g,y,v){let b=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o),s)for(let t in e.activeTexture.set(b.TEXTURE2),b.bindTexture(b.TEXTURE_2D,s.depthTexture),e.activeTexture.set(b.TEXTURE3),b.bindTexture(b.TEXTURE_2D,s.texture),this.terrainUniforms)this.terrainUniforms[t].set(s[t]);if(l)for(let e in l)this.projectionUniforms[tY[e]].set(l[e]);if(a)for(let e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);m&&m.setUniforms(e,this.binderUniforms,f,{zoom:p});let _=0;switch(t){case b.LINES:_=2;break;case b.TRIANGLES:_=3;break;case b.LINE_STRIP:_=1}for(let r of d.get()){let n=r.vaos||(r.vaos={});(n[u]||(n[u]=new tZ)).bind(e,this,c,m?m.getPaintVertexBuffers():[],h,r.vertexOffset,g,y,v),b.drawElements(t,r.primitiveLength*_,b.UNSIGNED_SHORT,r.primitiveOffset*_*2)}}}function t0(e,r,n){let i=1/t.aB(n,1,r.transform.tileZoom),o=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,r.transform.tileZoom)/o,s=a*(n.tileID.canonical.x+n.tileID.wrap*o),l=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}let t1=(e,r,n,i)=>{let o=e.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.bU();"viewport"===o.properties.get("anchor")&&t.bV(l,e.transform.bearingInRadians),t.bW(s,s,l);let u=e.transform.transformLightDirection(s),c=o.properties.get("color");return{u_lightpos:s,u_lightpos_globe:u,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:n,u_fill_translate:i}},t2=(e,r,n,i,o,a,s)=>t.e(t1(e,r,n,i),t0(a,e,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),t3=(e,r,n,i)=>t.e(t0(r,e,n),{u_fill_translate:i}),t5=(e,t)=>({u_world:e,u_fill_translate:t}),t6=(e,r,n,i,o)=>t.e(t3(e,r,n,o),{u_world:i}),t4=(e,r,n,i,o)=>{let a=e.transform,s,l,u=0;if("map"===n.paint.get("circle-pitch-alignment")){let e=t.aB(r,1,a.zoom);s=!0,l=[e,e],u=e/(t.$*Math.pow(2,r.tileID.overscaledZ))*2*Math.PI*o}else s=!1,l=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_pitch_with_map:+s,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:l,u_globe_extrude_scale:u,u_translate:i}},t8=e=>({u_pixel_extrude_scale:[1/e.width,1/e.height]}),t7=e=>({u_viewport_size:[e.width,e.height]}),t9=(e,t=1)=>({u_color:e,u_overlay:0,u_overlay_scale:t}),re=(e,r,n,i)=>{let o=t.aB(e,1,r)/(t.$*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*i;return{u_extrude_scale:t.aB(e,1,r),u_intensity:n,u_globe_extrude_scale:o}},rt=(e,r,n,i)=>{let o=t.L();t.bX(o,0,e.width,e.height,0,0,1);let a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:i,u_opacity:r.paint.get("heatmap-opacity")}},rr=(e,r,n)=>{let i;let o=n.paint.get("hillshade-accent-color");switch(n.paint.get("hillshade-method")){case"basic":i=4;break;case"combined":i=1;break;case"igor":i=2;break;case"multidirectional":i=3;break;default:i=0}let a=n.getIlluminationProperties();for(let t=0;t<a.directionRadians.length;t++)"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a.directionRadians[t]+=e.transform.bearingInRadians);return{u_image:0,u_latrange:function(e,r){let n=Math.pow(2,r.canonical.z),i=r.canonical.y;return[new t.a0(0,i/n).toLngLat().lat,new t.a0(0,(i+1)/n).toLngLat().lat]}(0,r.tileID),u_exaggeration:n.paint.get("hillshade-exaggeration"),u_altitudes:a.altitudeRadians,u_azimuths:a.directionRadians,u_accent:o,u_method:i,u_highlights:a.highlightColor,u_shadows:a.shadowColor}},rn=(e,r)=>{let n=r.stride,i=t.L();return t.bX(i,0,t.$,-t.$,0,0,1),t.M(i,i,[0,-t.$,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_unpack:r.getUnpackVector()}},ri=(e,t,r=0)=>({u_image:0,u_unpack:t.getUnpackVector(),u_dimension:[t.stride,t.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:r,u_opacity:e.paint.get("color-relief-opacity")}),ro=(e,r,n,i)=>{let o=e.transform;return{u_translation:rc(e,r,n),u_ratio:i/t.aB(r,1,o.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},ra=(e,r,n,i,o)=>t.e(ro(e,r,n,i),{u_image:0,u_image_height:o}),rs=(e,r,n,i,o)=>{let a=e.transform,s=ru(r,a);return{u_translation:rc(e,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:i/t.aB(r,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[s,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},rl=(e,r,n,i,o,a)=>{let s=e.lineAtlas,l=ru(r,e.transform),u="round"===n.layout.get("line-cap"),c=s.getDash(o.from,u),h=s.getDash(o.to,u),d=c.width*a.fromScale,f=h.width*a.toScale;return t.e(ro(e,r,n,i),{u_patternscale_a:[l/d,-c.height/2],u_patternscale_b:[l/f,-h.height/2],u_sdfgamma:s.width/(256*Math.min(d,f)*e.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:h.y,u_mix:a.t})};function ru(e,r){return 1/t.aB(e,1,r.tileZoom)}function rc(e,r,n){return t.aC(e.transform,r,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}let rh=(e,t,r,n,i)=>{var o,a;return{u_tl_parent:e,u_scale_parent:t,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*n.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:n.paint.get("raster-brightness-min"),u_brightness_high:n.paint.get("raster-brightness-max"),u_saturation_factor:(a=n.paint.get("raster-saturation"))>0?1-1/(1.001-a):-a,u_contrast_factor:(o=n.paint.get("raster-contrast"))>0?1/(1-o):1+o,u_spin_weights:function(e){let t=Math.sin(e*=Math.PI/180),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}(n.paint.get("raster-hue-rotate")),u_coords_top:[i[0].x,i[0].y,i[1].x,i[1].y],u_coords_bottom:[i[3].x,i[3].y,i[2].x,i[2].y]}},rd=(e,t,r,n,i,o,a,s,l,u,c,h,d)=>{let f=a.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:f.cameraToCenterDistance,u_pitch:f.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:f.width/f.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+n,u_is_along_line:i,u_is_variable_anchor:o,u_texsize:h,u_texture:0,u_translation:u,u_pitched_scale:d}},rf=(e,r,n,i,o,a,s,l,u,c,h,d,f,p)=>{let m=s.transform;return t.e(rd(e,r,n,i,o,a,s,l,u,c,h,d,p),{u_gamma_scale:i?Math.cos(m.pitch*Math.PI/180)*m.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:1})},rp=(e,r,n,i,o,a,s,l,u,c,h,d,f)=>t.e(rf(e,r,n,i,o,a,s,l,u,c,!0,h,0,f),{u_texsize_icon:d,u_texture_icon:1}),rm=(e,t)=>({u_opacity:e,u_color:t}),rg=(e,r,n,i,o)=>t.e(function(e,r,n,i){let o=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),{width:s,height:l}=n.imageManager.getPixelSize(),u=Math.pow(2,i.tileID.overscaledZ),c=i.tileSize*Math.pow(2,n.transform.tileZoom)/u,h=c*(i.tileID.canonical.x+i.tileID.wrap*u),d=c*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:r.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:r.fromScale,u_scale_b:r.toScale,u_tile_units_to_pixels:1/t.aB(i,1,n.transform.tileZoom),u_pixel_coord_upper:[h>>16,d>>16],u_pixel_coord_lower:[65535&h,65535&d]}}(n,o,r,i),{u_opacity:e}),ry=(e,t)=>{},rv={fillExtrusion:(e,r)=>({u_lightpos:new t.bS(e,r.u_lightpos),u_lightpos_globe:new t.bS(e,r.u_lightpos_globe),u_lightintensity:new t.bf(e,r.u_lightintensity),u_lightcolor:new t.bS(e,r.u_lightcolor),u_vertical_gradient:new t.bf(e,r.u_vertical_gradient),u_opacity:new t.bf(e,r.u_opacity),u_fill_translate:new t.bT(e,r.u_fill_translate)}),fillExtrusionPattern:(e,r)=>({u_lightpos:new t.bS(e,r.u_lightpos),u_lightpos_globe:new t.bS(e,r.u_lightpos_globe),u_lightintensity:new t.bf(e,r.u_lightintensity),u_lightcolor:new t.bS(e,r.u_lightcolor),u_vertical_gradient:new t.bf(e,r.u_vertical_gradient),u_height_factor:new t.bf(e,r.u_height_factor),u_opacity:new t.bf(e,r.u_opacity),u_fill_translate:new t.bT(e,r.u_fill_translate),u_image:new t.bO(e,r.u_image),u_texsize:new t.bT(e,r.u_texsize),u_pixel_coord_upper:new t.bT(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,r.u_pixel_coord_lower),u_scale:new t.bS(e,r.u_scale),u_fade:new t.bf(e,r.u_fade)}),fill:(e,r)=>({u_fill_translate:new t.bT(e,r.u_fill_translate)}),fillPattern:(e,r)=>({u_image:new t.bO(e,r.u_image),u_texsize:new t.bT(e,r.u_texsize),u_pixel_coord_upper:new t.bT(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,r.u_pixel_coord_lower),u_scale:new t.bS(e,r.u_scale),u_fade:new t.bf(e,r.u_fade),u_fill_translate:new t.bT(e,r.u_fill_translate)}),fillOutline:(e,r)=>({u_world:new t.bT(e,r.u_world),u_fill_translate:new t.bT(e,r.u_fill_translate)}),fillOutlinePattern:(e,r)=>({u_world:new t.bT(e,r.u_world),u_image:new t.bO(e,r.u_image),u_texsize:new t.bT(e,r.u_texsize),u_pixel_coord_upper:new t.bT(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,r.u_pixel_coord_lower),u_scale:new t.bS(e,r.u_scale),u_fade:new t.bf(e,r.u_fade),u_fill_translate:new t.bT(e,r.u_fill_translate)}),circle:(e,r)=>({u_camera_to_center_distance:new t.bf(e,r.u_camera_to_center_distance),u_scale_with_map:new t.bO(e,r.u_scale_with_map),u_pitch_with_map:new t.bO(e,r.u_pitch_with_map),u_extrude_scale:new t.bT(e,r.u_extrude_scale),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_globe_extrude_scale:new t.bf(e,r.u_globe_extrude_scale),u_translate:new t.bT(e,r.u_translate)}),collisionBox:(e,r)=>({u_pixel_extrude_scale:new t.bT(e,r.u_pixel_extrude_scale)}),collisionCircle:(e,r)=>({u_viewport_size:new t.bT(e,r.u_viewport_size)}),debug:(e,r)=>({u_color:new t.bP(e,r.u_color),u_overlay:new t.bO(e,r.u_overlay),u_overlay_scale:new t.bf(e,r.u_overlay_scale)}),depth:ry,clippingMask:ry,heatmap:(e,r)=>({u_extrude_scale:new t.bf(e,r.u_extrude_scale),u_intensity:new t.bf(e,r.u_intensity),u_globe_extrude_scale:new t.bf(e,r.u_globe_extrude_scale)}),heatmapTexture:(e,r)=>({u_matrix:new t.bQ(e,r.u_matrix),u_world:new t.bT(e,r.u_world),u_image:new t.bO(e,r.u_image),u_color_ramp:new t.bO(e,r.u_color_ramp),u_opacity:new t.bf(e,r.u_opacity)}),hillshade:(e,r)=>({u_image:new t.bO(e,r.u_image),u_latrange:new t.bT(e,r.u_latrange),u_exaggeration:new t.bf(e,r.u_exaggeration),u_altitudes:new t.bZ(e,r.u_altitudes),u_azimuths:new t.bZ(e,r.u_azimuths),u_accent:new t.bP(e,r.u_accent),u_method:new t.bO(e,r.u_method),u_shadows:new t.bY(e,r.u_shadows),u_highlights:new t.bY(e,r.u_highlights)}),hillshadePrepare:(e,r)=>({u_matrix:new t.bQ(e,r.u_matrix),u_image:new t.bO(e,r.u_image),u_dimension:new t.bT(e,r.u_dimension),u_zoom:new t.bf(e,r.u_zoom),u_unpack:new t.bR(e,r.u_unpack)}),colorRelief:(e,r)=>({u_image:new t.bO(e,r.u_image),u_unpack:new t.bR(e,r.u_unpack),u_dimension:new t.bT(e,r.u_dimension),u_elevation_stops:new t.bO(e,r.u_elevation_stops),u_color_stops:new t.bO(e,r.u_color_stops),u_color_ramp_size:new t.bO(e,r.u_color_ramp_size),u_opacity:new t.bf(e,r.u_opacity)}),line:(e,r)=>({u_translation:new t.bT(e,r.u_translation),u_ratio:new t.bf(e,r.u_ratio),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,r.u_units_to_pixels)}),lineGradient:(e,r)=>({u_translation:new t.bT(e,r.u_translation),u_ratio:new t.bf(e,r.u_ratio),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,r.u_units_to_pixels),u_image:new t.bO(e,r.u_image),u_image_height:new t.bf(e,r.u_image_height)}),linePattern:(e,r)=>({u_translation:new t.bT(e,r.u_translation),u_texsize:new t.bT(e,r.u_texsize),u_ratio:new t.bf(e,r.u_ratio),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_image:new t.bO(e,r.u_image),u_units_to_pixels:new t.bT(e,r.u_units_to_pixels),u_scale:new t.bS(e,r.u_scale),u_fade:new t.bf(e,r.u_fade)}),lineSDF:(e,r)=>({u_translation:new t.bT(e,r.u_translation),u_ratio:new t.bf(e,r.u_ratio),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,r.u_units_to_pixels),u_patternscale_a:new t.bT(e,r.u_patternscale_a),u_patternscale_b:new t.bT(e,r.u_patternscale_b),u_sdfgamma:new t.bf(e,r.u_sdfgamma),u_image:new t.bO(e,r.u_image),u_tex_y_a:new t.bf(e,r.u_tex_y_a),u_tex_y_b:new t.bf(e,r.u_tex_y_b),u_mix:new t.bf(e,r.u_mix)}),raster:(e,r)=>({u_tl_parent:new t.bT(e,r.u_tl_parent),u_scale_parent:new t.bf(e,r.u_scale_parent),u_buffer_scale:new t.bf(e,r.u_buffer_scale),u_fade_t:new t.bf(e,r.u_fade_t),u_opacity:new t.bf(e,r.u_opacity),u_image0:new t.bO(e,r.u_image0),u_image1:new t.bO(e,r.u_image1),u_brightness_low:new t.bf(e,r.u_brightness_low),u_brightness_high:new t.bf(e,r.u_brightness_high),u_saturation_factor:new t.bf(e,r.u_saturation_factor),u_contrast_factor:new t.bf(e,r.u_contrast_factor),u_spin_weights:new t.bS(e,r.u_spin_weights),u_coords_top:new t.bR(e,r.u_coords_top),u_coords_bottom:new t.bR(e,r.u_coords_bottom)}),symbolIcon:(e,r)=>({u_is_size_zoom_constant:new t.bO(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,r.u_is_size_feature_constant),u_size_t:new t.bf(e,r.u_size_t),u_size:new t.bf(e,r.u_size),u_camera_to_center_distance:new t.bf(e,r.u_camera_to_center_distance),u_pitch:new t.bf(e,r.u_pitch),u_rotate_symbol:new t.bO(e,r.u_rotate_symbol),u_aspect_ratio:new t.bf(e,r.u_aspect_ratio),u_fade_change:new t.bf(e,r.u_fade_change),u_label_plane_matrix:new t.bQ(e,r.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,r.u_coord_matrix),u_is_text:new t.bO(e,r.u_is_text),u_pitch_with_map:new t.bO(e,r.u_pitch_with_map),u_is_along_line:new t.bO(e,r.u_is_along_line),u_is_variable_anchor:new t.bO(e,r.u_is_variable_anchor),u_texsize:new t.bT(e,r.u_texsize),u_texture:new t.bO(e,r.u_texture),u_translation:new t.bT(e,r.u_translation),u_pitched_scale:new t.bf(e,r.u_pitched_scale)}),symbolSDF:(e,r)=>({u_is_size_zoom_constant:new t.bO(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,r.u_is_size_feature_constant),u_size_t:new t.bf(e,r.u_size_t),u_size:new t.bf(e,r.u_size),u_camera_to_center_distance:new t.bf(e,r.u_camera_to_center_distance),u_pitch:new t.bf(e,r.u_pitch),u_rotate_symbol:new t.bO(e,r.u_rotate_symbol),u_aspect_ratio:new t.bf(e,r.u_aspect_ratio),u_fade_change:new t.bf(e,r.u_fade_change),u_label_plane_matrix:new t.bQ(e,r.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,r.u_coord_matrix),u_is_text:new t.bO(e,r.u_is_text),u_pitch_with_map:new t.bO(e,r.u_pitch_with_map),u_is_along_line:new t.bO(e,r.u_is_along_line),u_is_variable_anchor:new t.bO(e,r.u_is_variable_anchor),u_texsize:new t.bT(e,r.u_texsize),u_texture:new t.bO(e,r.u_texture),u_gamma_scale:new t.bf(e,r.u_gamma_scale),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_is_halo:new t.bO(e,r.u_is_halo),u_translation:new t.bT(e,r.u_translation),u_pitched_scale:new t.bf(e,r.u_pitched_scale)}),symbolTextAndIcon:(e,r)=>({u_is_size_zoom_constant:new t.bO(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,r.u_is_size_feature_constant),u_size_t:new t.bf(e,r.u_size_t),u_size:new t.bf(e,r.u_size),u_camera_to_center_distance:new t.bf(e,r.u_camera_to_center_distance),u_pitch:new t.bf(e,r.u_pitch),u_rotate_symbol:new t.bO(e,r.u_rotate_symbol),u_aspect_ratio:new t.bf(e,r.u_aspect_ratio),u_fade_change:new t.bf(e,r.u_fade_change),u_label_plane_matrix:new t.bQ(e,r.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,r.u_coord_matrix),u_is_text:new t.bO(e,r.u_is_text),u_pitch_with_map:new t.bO(e,r.u_pitch_with_map),u_is_along_line:new t.bO(e,r.u_is_along_line),u_is_variable_anchor:new t.bO(e,r.u_is_variable_anchor),u_texsize:new t.bT(e,r.u_texsize),u_texsize_icon:new t.bT(e,r.u_texsize_icon),u_texture:new t.bO(e,r.u_texture),u_texture_icon:new t.bO(e,r.u_texture_icon),u_gamma_scale:new t.bf(e,r.u_gamma_scale),u_device_pixel_ratio:new t.bf(e,r.u_device_pixel_ratio),u_is_halo:new t.bO(e,r.u_is_halo),u_translation:new t.bT(e,r.u_translation),u_pitched_scale:new t.bf(e,r.u_pitched_scale)}),background:(e,r)=>({u_opacity:new t.bf(e,r.u_opacity),u_color:new t.bP(e,r.u_color)}),backgroundPattern:(e,r)=>({u_opacity:new t.bf(e,r.u_opacity),u_image:new t.bO(e,r.u_image),u_pattern_tl_a:new t.bT(e,r.u_pattern_tl_a),u_pattern_br_a:new t.bT(e,r.u_pattern_br_a),u_pattern_tl_b:new t.bT(e,r.u_pattern_tl_b),u_pattern_br_b:new t.bT(e,r.u_pattern_br_b),u_texsize:new t.bT(e,r.u_texsize),u_mix:new t.bf(e,r.u_mix),u_pattern_size_a:new t.bT(e,r.u_pattern_size_a),u_pattern_size_b:new t.bT(e,r.u_pattern_size_b),u_scale_a:new t.bf(e,r.u_scale_a),u_scale_b:new t.bf(e,r.u_scale_b),u_pixel_coord_upper:new t.bT(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,r.u_pixel_coord_lower),u_tile_units_to_pixels:new t.bf(e,r.u_tile_units_to_pixels)}),terrain:(e,r)=>({u_texture:new t.bO(e,r.u_texture),u_ele_delta:new t.bf(e,r.u_ele_delta),u_fog_matrix:new t.bQ(e,r.u_fog_matrix),u_fog_color:new t.bP(e,r.u_fog_color),u_fog_ground_blend:new t.bf(e,r.u_fog_ground_blend),u_fog_ground_blend_opacity:new t.bf(e,r.u_fog_ground_blend_opacity),u_horizon_color:new t.bP(e,r.u_horizon_color),u_horizon_fog_blend:new t.bf(e,r.u_horizon_fog_blend),u_is_globe_mode:new t.bf(e,r.u_is_globe_mode)}),terrainDepth:(e,r)=>({u_ele_delta:new t.bf(e,r.u_ele_delta)}),terrainCoords:(e,r)=>({u_texture:new t.bO(e,r.u_texture),u_terrain_coords_id:new t.bf(e,r.u_terrain_coords_id),u_ele_delta:new t.bf(e,r.u_ele_delta)}),projectionErrorMeasurement:(e,r)=>({u_input:new t.bf(e,r.u_input),u_output_expected:new t.bf(e,r.u_output_expected)}),atmosphere:(e,r)=>({u_sun_pos:new t.bS(e,r.u_sun_pos),u_atmosphere_blend:new t.bf(e,r.u_atmosphere_blend),u_globe_position:new t.bS(e,r.u_globe_position),u_globe_radius:new t.bf(e,r.u_globe_radius),u_inv_proj_matrix:new t.bQ(e,r.u_inv_proj_matrix)}),sky:(e,r)=>({u_sky_color:new t.bP(e,r.u_sky_color),u_horizon_color:new t.bP(e,r.u_horizon_color),u_horizon:new t.bT(e,r.u_horizon),u_horizon_normal:new t.bT(e,r.u_horizon_normal),u_sky_horizon_blend:new t.bf(e,r.u_sky_horizon_blend),u_sky_blend:new t.bf(e,r.u_sky_blend)})};class rb{constructor(e,t,r){this.context=e;let n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=!!r,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){let t=this.context.gl;if(!this.dynamicDraw)throw Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let r_={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class rx{constructor(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;let i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);let t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let r=0;r<this.attributes.length;r++){let n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,r){for(let n=0;n<this.attributes.length;n++){let i=this.attributes[n],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[r_[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class rw{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class rS extends rw{getDefault(){return t.be.transparent}set(e){let t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class rT extends rw{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class rE extends rw{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class rP extends rw{getDefault(){return[!0,!0,!0,!0]}set(e){let t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class rC extends rw{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class rA extends rw{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class rM extends rw{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){let t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class rk extends rw{getDefault(){let e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){let t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class rO extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class rI extends rw{getDefault(){return[0,1]}set(e){let t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class rR extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class rD extends rw{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class rL extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class rj extends rw{getDefault(){let e=this.gl;return[e.ONE,e.ZERO]}set(e){let t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class rz extends rw{getDefault(){return t.be.transparent}set(e){let t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class rB extends rw{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class rF extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class rN extends rw{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class rV extends rw{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class rU extends rw{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class rG extends rw{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class rH extends rw{getDefault(){let e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){let t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class rq extends rw{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class r$ extends rw{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class rW extends rw{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class rX extends rw{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class rZ extends rw{getDefault(){return null}set(e){let t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class rK extends rw{getDefault(){return null}set(e){var t;if(e===this.current&&!this.dirty)return;let r=this.gl;ty(r)?r.bindVertexArray(e):null===(t=r.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class rY extends rw{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class rQ extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class rJ extends rw{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;let t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class r0 extends rw{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class r1 extends r0{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class r2 extends r0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class r3 extends r0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}let r5="Framebuffer is not complete";class r6{constructor(e,t,r,n,i){this.context=e,this.width=t,this.height=r;let o=e.gl,a=this.framebuffer=o.createFramebuffer();if(this.colorAttachment=new r1(e,a),n)this.depthAttachment=i?new r3(e,a):new r2(e,a);else if(i)throw Error("Stencil cannot be set without depth");if(o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE)throw Error(r5)}destroy(){let e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){let t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class r4{constructor(e){var t,r;if(this.gl=e,this.clearColor=new rS(this),this.clearDepth=new rT(this),this.clearStencil=new rE(this),this.colorMask=new rP(this),this.depthMask=new rC(this),this.stencilMask=new rA(this),this.stencilFunc=new rM(this),this.stencilOp=new rk(this),this.stencilTest=new rO(this),this.depthRange=new rI(this),this.depthTest=new rR(this),this.depthFunc=new rD(this),this.blend=new rL(this),this.blendFunc=new rj(this),this.blendColor=new rz(this),this.blendEquation=new rB(this),this.cullFace=new rF(this),this.cullFaceSide=new rN(this),this.frontFace=new rV(this),this.program=new rU(this),this.activeTexture=new rG(this),this.viewport=new rH(this),this.bindFramebuffer=new rq(this),this.bindRenderbuffer=new r$(this),this.bindTexture=new rW(this),this.bindVertexBuffer=new rX(this),this.bindElementBuffer=new rZ(this),this.bindVertexArray=new rK(this),this.pixelStoreUnpack=new rY(this),this.pixelStoreUnpackPremultiplyAlpha=new rQ(this),this.pixelStoreUnpackFlipY=new rJ(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),ty(e)){this.HALF_FLOAT=e.HALF_FLOAT;let n=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(t=e.RGBA16F)&&void 0!==t?t:null==n?void 0:n.RGBA16F_EXT,this.RGB16F=null!==(r=e.RGB16F)&&void 0!==r?r:null==n?void 0:n.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");let t=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==t?void 0:t.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new rb(this,e,t)}createVertexBuffer(e,t,r){return new rx(this,e,t,r)}createRenderbuffer(e,t,r){let n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,r,n){return new r6(this,e,t,r,n)}clear({color:e,depth:t,stencil:r}){let n=this.gl,i=0;e&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==r&&(i|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),n.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){t.bG(e.blendFunction,td.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return ty(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return ty(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}function r8(e,r,n,i,o){let a=e.context,l=e.transform,u=a.gl,c=e.useProgram("collisionBox"),h=[],d=0,f=0;for(let t=0;t<i.length;t++){let s=i[t],p=r.getTile(s).getBucket(n);if(!p)continue;let m=o?p.textCollisionBox:p.iconCollisionBox,g=p.collisionCircleArray;g.length>0&&(h.push({circleArray:g,circleOffset:f,coord:s}),d+=g.length/4,f=d),m&&c.draw(a,u.LINES,tp.disabled,tm.disabled,e.colorModeForRenderPass(),tf.disabled,t8(e.transform),e.style.map.terrain&&e.style.map.terrain.getTerrainData(s),l.getProjectionData({overscaledTileID:s,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,e.transform.zoom,null,null,m.collisionVertexBuffer)}if(!o||!h.length)return;let p=e.useProgram("collisionCircle"),m=new t.b_;m.resize(4*d),m._trim();let g=0;for(let e of h)for(let t=0;t<e.circleArray.length/4;t++){let r=4*t,n=e.circleArray[r+0],i=e.circleArray[r+1],o=e.circleArray[r+2],a=e.circleArray[r+3];m.emplace(g++,n,i,o,a,0),m.emplace(g++,n,i,o,a,1),m.emplace(g++,n,i,o,a,2),m.emplace(g++,n,i,o,a,3)}(!s||s.length<2*d)&&(s=function(e){let r=2*e,n=new t.c0;n.resize(r),n._trim();for(let e=0;e<r;e++){let t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(d));let y=a.createIndexBuffer(s,!0),v=a.createVertexBuffer(m,t.b$.members,!0);for(let r of h){let i=t7(e.transform);p.draw(a,u.TRIANGLES,tp.disabled,tm.disabled,e.colorModeForRenderPass(),tf.disabled,i,e.style.map.terrain&&e.style.map.terrain.getTerrainData(r.coord),null,n.id,v,y,t.aL.simpleSegment(0,2*r.circleOffset,r.circleArray.length,r.circleArray.length/2),null,e.transform.zoom,null,null,null)}v.destroy(),y.destroy()}let r7=t.af(new Float32Array(16));function r9(e,r,n,i,o,a,s,l,u,c,h,d,f){let p=e.context,m=p.gl,g=e.transform,y="map"===l,v="map"===u,b="viewport"!==l&&"point"!==n.layout.get("symbol-placement"),_=y&&!v&&!b,x=!n.layout.get("symbol-sort-key").isConstant(),w=!1,S=e.getDepthModeForSublayer(0,tp.ReadOnly),T=n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"),E=[],P=g.getCircleRadiusCorrection();for(let l of i){let i=r.getTile(l),u=i.getBucket(n);if(!u)continue;let h=o?u.text:u.icon;if(!h||!h.segments.get().length||!h.hasVisibleVertices)continue;let d=h.programConfigurations.get(n.id),p=o||u.sdfIcons,S=o?u.textSizeData:u.iconSizeData,C=v||0!==g.pitch,A=e.useProgram(u.iconsInText&&o?"symbolTextAndIcon":p?"symbolSDF":"symbolIcon",d),M=t.am(S,g.zoom),k=e.style.map.terrain&&e.style.map.terrain.getTerrainData(l),O,I,R,D,L=[0,0],j=null;if(o)I=i.glyphAtlasTexture,R=m.LINEAR,O=i.glyphAtlasTexture.size,u.iconsInText&&(L=i.imageAtlasTexture.size,j=i.imageAtlasTexture,D=C||e.options.rotating||e.options.zooming||"composite"===S.kind||"camera"===S.kind?m.LINEAR:m.NEAREST);else{let t=1!==n.layout.get("icon-size").constantOr(0)||u.iconsNeedLinear;I=i.imageAtlasTexture,R=p||e.options.rotating||e.options.zooming||t||C?m.LINEAR:m.NEAREST,O=i.imageAtlasTexture.size}let z=t.aB(i,1,e.transform.zoom),B=ew(y,e.transform,z),F=t.L();t.ap(F,B);let N=function(e,r,n,i){if(e){let e=t.L();if(!r){let{vecSouth:t,vecEast:r}=eS(n);e[0]=r[0],e[1]=r[1],e[4]=t[0],e[5]=t[1]}return t.N(e,e,[i,i,1]),e}return n.pixelsToClipSpaceMatrix}(v,y,e.transform,z),V=t.aC(g,i,a,s),U=g.getProjectionData({overscaledTileID:l,applyGlobeMatrix:!f,applyTerrainMatrix:!0}),G=T&&u.hasTextData(),H="none"!==n.layout.get("icon-text-fit")&&G&&u.hasIconData();if(b){let r=e.style.map.terrain?(t,r)=>e.style.map.terrain.getElevation(l,t,r):null;!function(e,r,n,i,o,a,s,l,u,c,h,d,f){let p=n?e.textSizeData:e.iconSizeData,m=t.am(p,r.transform.zoom),g=[256/r.width*2+1,256/r.height*2+1],y=n?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;y.clear();let v=e.lineVertexArray,b=n?e.text.placedSymbolArray:e.icon.placedSymbolArray,_=r.transform.width/r.transform.height,x=!1;for(let n=0;n<b.length;n++){var w;let S=b.get(n);if(S.hidden||S.writingMode===t.an.vertical&&!x){ej(S.numGlyphs,y);continue}x=!1;let T=new t.P(S.anchorX,S.anchorY),E={getElevation:f,pitchedLabelPlaneMatrix:i,lineVertexArray:v,pitchWithMap:a,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:r.transform,tileAnchorPoint:T,unwrappedTileID:u,width:c,height:h,translation:d},P=eI(S.anchorX,S.anchorY,E);if(!((w=P.point).x>=-g[0]&&w.x<=g[0]&&w.y>=-g[1])||!(w.y<=g[1])){ej(S.numGlyphs,y);continue}let C=.5+r.transform.cameraToCenterDistance/P.signedDistanceFromCamera*.5,A=t.ao(p,m,S),M=a?A*r.transform.getPitchedTextCorrection(S.anchorX,S.anchorY,u)/C:A*C,k=eC({projectionContext:E,pitchedLabelPlaneMatrixInverse:o,symbol:S,fontSize:M,flip:!1,keepUpright:s,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:y,aspectRatio:_,rotateToLine:l});x=k.useVertical,(k.notEnoughRoom||x||k.needsFlipping&&eC({projectionContext:E,pitchedLabelPlaneMatrixInverse:o,symbol:S,fontSize:M,flip:!0,keepUpright:s,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:y,aspectRatio:_,rotateToLine:l}).notEnoughRoom)&&ej(S.numGlyphs,y)}n?e.text.dynamicLayoutVertexBuffer.updateData(y):e.icon.dynamicLayoutVertexBuffer.updateData(y)}(u,e,o,B,F,v,c,"map"===n.layout.get("text-rotation-alignment"),l.toUnwrapped(),g.width,g.height,V,r)}let q=o&&T||H,$=b||q?r7:v?B:e.transform.clipSpaceToPixelsMatrix,W=p&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),X={program:A,buffers:h,uniformValues:p?u.iconsInText?rp(S.kind,M,_,v,b,q,e,$,N,V,O,L,P):rf(S.kind,M,_,v,b,q,e,$,N,V,o,O,0,P):rd(S.kind,M,_,v,b,q,e,$,N,V,o,O,P),projectionData:U,atlasTexture:I,atlasTextureIcon:j,atlasInterpolation:R,atlasInterpolationIcon:D,isSDF:p,hasHalo:W};if(x&&u.canOverlap)for(let e of(w=!0,h.segments.get()))E.push({segments:new t.aL([e]),sortKey:e.sortKey,state:X,terrainData:k});else E.push({segments:h.segments,sortKey:0,state:X,terrainData:k})}for(let t of(w&&E.sort((e,t)=>e.sortKey-t.sortKey),E)){let r=t.state;if(p.activeTexture.set(m.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,m.CLAMP_TO_EDGE),r.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),r.isSDF){let i=r.uniformValues;r.hasHalo&&(i.u_is_halo=1,ne(r.buffers,t.segments,n,e,r.program,S,h,d,i,r.projectionData,t.terrainData)),i.u_is_halo=0}ne(r.buffers,t.segments,n,e,r.program,S,h,d,r.uniformValues,r.projectionData,t.terrainData)}}function ne(e,t,r,n,i,o,a,s,l,u,c){let h=n.context;i.draw(h,h.gl.TRIANGLES,o,a,s,tf.backCCW,l,c,u,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function nt(e,t,r){var n,i;let o=e.gl,a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR);let s=null!==(n=e.HALF_FLOAT)&&void 0!==n?n:o.UNSIGNED_BYTE,l=null!==(i=e.RGBA16F)&&void 0!==i?i:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,t,r,0,o.RGBA,s,null);let u=e.createFramebuffer(t,r,!1,!1);return u.colorAttachment.set(a),u}function nr(e,r){return r.colorRampTexture||(r.colorRampTexture=new t.T(e,r.colorRamp,e.gl.RGBA)),r.colorRampTexture}function nn(e,t,r,n,i){if(!r||!n||!n.imageAtlas)return;let o=n.imageAtlas.patternPositions,a=o[r.to.toString()],s=o[r.from.toString()];if(!a&&s&&(a=s),!s&&a&&(s=a),!a||!s){let e=i.getPaintProperty(t);a=o[e],s=o[e]}a&&s&&e.setConstantPatternPositions(a,s)}function ni(e,r,n,i,o,a,s,l){let u,c,h,d,f;let p=e.context.gl,m="fill-pattern",g=n.paint.get(m),y=g&&g.constantOr(1),v=n.getCrossfadeParameters(),b=e.transform,_=n.paint.get("fill-translate"),x=n.paint.get("fill-translate-anchor");s?(c=y&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",u=p.LINES):(c=y?"fillPattern":"fill",u=p.TRIANGLES);let w=g.constantOr(null);for(let g of i){let i=r.getTile(g);if(y&&!i.patternsLoaded())continue;let S=i.getBucket(n);if(!S)continue;let T=S.programConfigurations.get(n.id),E=e.useProgram(c,T),P=e.style.map.terrain&&e.style.map.terrain.getTerrainData(g);y&&(e.context.activeTexture.set(p.TEXTURE0),i.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),T.updatePaintBuffers(v)),nn(T,m,w,i,n);let C=b.getProjectionData({overscaledTileID:g,applyGlobeMatrix:!l,applyTerrainMatrix:!0}),A=t.aC(b,i,_,x);if(s){d=S.indexBuffer2,f=S.segments2;let t=[p.drawingBufferWidth,p.drawingBufferHeight];h="fillOutlinePattern"===c&&y?t6(e,v,i,t,A):t5(t,A)}else d=S.indexBuffer,f=S.segments,h=y?t3(e,v,i,A):{u_fill_translate:A};let M=e.stencilModeForClipping(g);E.draw(e.context,u,o,M,a,tf.backCCW,h,P,C,n.id,S.layoutVertexBuffer,d,f,n.paint,e.transform.zoom,T)}}function no(e,r,n,i,o,a,s,l){let u=e.context,c=u.gl,h="fill-extrusion-pattern",d=n.paint.get(h),f=d.constantOr(1),p=n.getCrossfadeParameters(),m=n.paint.get("fill-extrusion-opacity"),g=d.constantOr(null),y=e.transform;for(let d of i){let i=r.getTile(d),v=i.getBucket(n);if(!v)continue;let b=e.style.map.terrain&&e.style.map.terrain.getTerrainData(d),_=v.programConfigurations.get(n.id),x=e.useProgram(f?"fillExtrusionPattern":"fillExtrusion",_);f&&(e.context.activeTexture.set(c.TEXTURE0),i.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),_.updatePaintBuffers(p));let w=y.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!l,applyTerrainMatrix:!0});nn(_,h,g,i,n);let S=t.aC(y,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),T=n.paint.get("fill-extrusion-vertical-gradient"),E=f?t2(e,T,m,S,d,p,i):t1(e,T,m,S);x.draw(u,u.gl.TRIANGLES,o,a,s,tf.backCCW,E,b,w,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,e.transform.zoom,_,e.style.map.terrain&&v.centroidVertexBuffer)}}function na(e,t,r,n,i,o,a,s,l){var u;let c=e.style.projection,h=e.context,d=e.transform,f=h.gl,p=[`#define NUM_ILLUMINATION_SOURCES ${r.paint.get("hillshade-highlight-color").values.length}`],m=e.useProgram("hillshade",null,!1,p),g=!e.options.moving;for(let p of n){let n=t.getTile(p),y=n.fbo;if(!y)continue;let v=c.getMeshFromTileID(h,p.canonical,s,!0,"raster"),b=null===(u=e.style.map.terrain)||void 0===u?void 0:u.getTerrainData(p);h.activeTexture.set(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,y.colorAttachment.get());let _=d.getProjectionData({overscaledTileID:p,aligned:g,applyGlobeMatrix:!l,applyTerrainMatrix:!0});m.draw(h,f.TRIANGLES,o,i[p.overscaledZ],a,tf.backCCW,rr(e,n,r),b,_,r.id,v.vertexBuffer,v.indexBuffer,v.segments)}}function ns(e,r,n,i,o,a,s,l,u){var c;let h=e.style.projection,d=e.context,f=e.transform,p=d.gl,m=e.useProgram("colorRelief"),g=!e.options.moving,y=!0,v=0;for(let b of i){let i=r.getTile(b),_=i.dem;if(y){let e=p.getParameter(p.MAX_TEXTURE_SIZE),{elevationTexture:t,colorTexture:r}=n.getColorRampTextures(d,e,_.getUnpackVector());d.activeTexture.set(p.TEXTURE1),t.bind(p.NEAREST,p.CLAMP_TO_EDGE),d.activeTexture.set(p.TEXTURE4),r.bind(p.LINEAR,p.CLAMP_TO_EDGE),y=!1,v=t.size[0]}if(!_||!_.data)continue;let x=_.stride,w=_.getPixels();if(d.activeTexture.set(p.TEXTURE0),d.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(x),i.demTexture){let e=i.demTexture;e.update(w,{premultiply:!1}),e.bind(p.LINEAR,p.CLAMP_TO_EDGE)}else i.demTexture=new t.T(d,w,p.RGBA,{premultiply:!1}),i.demTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE);let S=h.getMeshFromTileID(d,b.canonical,l,!0,"raster"),T=null===(c=e.style.map.terrain)||void 0===c?void 0:c.getTerrainData(b),E=f.getProjectionData({overscaledTileID:b,aligned:g,applyGlobeMatrix:!u,applyTerrainMatrix:!0});m.draw(d,p.TRIANGLES,a,o[b.overscaledZ],s,tf.backCCW,ri(n,i.dem,v),T,E,n.id,S.vertexBuffer,S.indexBuffer,S.segments)}}let nl=[new t.P(0,0),new t.P(t.$,0),new t.P(t.$,t.$),new t.P(0,t.$)];function nu(e,r,n,i,o,a,s,l,u=!1,c=!1){let h=i[i.length-1].overscaledZ,f=e.context,p=f.gl,m=e.useProgram("raster"),g=e.transform,y=e.style.projection,v=e.colorModeForRenderPass(),b=!e.options.moving;for(let _ of i){let i,x;let w=e.getDepthModeForSublayer(_.overscaledZ-h,1===n.paint.get("raster-opacity")?tp.ReadWrite:tp.ReadOnly,p.LESS),S=r.getTile(_);S.registerFadeDuration(n.paint.get("raster-fade-duration"));let T=r.findLoadedParent(_,0),E=r.findLoadedSibling(_),P=function(e,r,n,i,o,a){let s=i.paint.get("raster-fade-duration");if(!a&&s>0){let i=d.now(),a=(i-e.timeAdded)/s,l=r?(i-r.timeAdded)/s:-1,u=n.getSource(),c=ef(o,{tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-c)>Math.abs(e.tileID.overscaledZ-c),f=h&&e.refreshedUponExpiration?1:t.ag(h?a:1-l,0,1);return e.refreshedUponExpiration&&a>=1&&(e.refreshedUponExpiration=!1),r?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}(S,T||E||null,r,n,e.transform,e.style.map.terrain),C="nearest"===n.paint.get("raster-resampling")?p.NEAREST:p.LINEAR;f.activeTexture.set(p.TEXTURE0),S.texture.bind(C,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),f.activeTexture.set(p.TEXTURE1),T?(T.texture.bind(C,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),i=Math.pow(2,T.tileID.overscaledZ-S.tileID.overscaledZ),x=[S.tileID.canonical.x*i%1,S.tileID.canonical.y*i%1]):S.texture.bind(C,p.CLAMP_TO_EDGE,p.LINEAR_MIPMAP_NEAREST),S.texture.useMipmap&&f.extTextureFilterAnisotropic&&e.transform.pitch>20&&p.texParameterf(p.TEXTURE_2D,f.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,f.extTextureFilterAnisotropicMax);let A=e.style.map.terrain&&e.style.map.terrain.getTerrainData(_),M=g.getProjectionData({overscaledTileID:_,aligned:b,applyGlobeMatrix:!c,applyTerrainMatrix:!0}),k=rh(x||[0,0],i||1,P,n,l),O=y.getMeshFromTileID(f,_.canonical,a,s,"raster");m.draw(f,p.TRIANGLES,w,o?o[_.overscaledZ]:tm.disabled,v,u?tf.frontCCW:tf.backCCW,k,A,M,n.id,O.vertexBuffer,O.indexBuffer,O.segments)}}let nc=new t.be(1,0,0,1),nh=new t.be(0,1,0,1),nd=new t.be(0,0,1,1),nf=new t.be(1,0,1,1),np=new t.be(0,1,1,1);function nm(e,t,r,n){ny(e,0,t+r/2,e.transform.width,r,n)}function ng(e,t,r,n){ny(e,t-r/2,0,r,e.transform.height,n)}function ny(e,t,r,n,i,o){let a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,r*e.pixelRatio,n*e.pixelRatio,i*e.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function nv(e,t,r,n){let{isRenderingGlobe:i}=n,o=e.context,a=o.gl,s=e.transform,l=e.colorModeForRenderPass(),u=e.getDepthModeFor3D(),c=e.useProgram("terrain");for(let n of(o.bindFramebuffer.set(null),o.viewport.set([0,0,e.width,e.height]),r)){let r=t.getTerrainMesh(n.tileID),h=e.renderToTexture.getTexture(n),d=t.getTerrainData(n.tileID);o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,h.texture);let f=tK(t.getMeshFrameDelta(s.zoom),s.calculateFogMatrix(n.tileID.toUnwrapped()),e.style.sky,s.pitch,i),p=s.getProjectionData({overscaledTileID:n.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});c.draw(o,a.TRIANGLES,u,tm.disabled,l,tf.backCCW,f,d,p,"terrain",r.vertexBuffer,r.indexBuffer,r.segments)}}function nb(e,r){if(!r.mesh){let n=new t.aK;n.emplaceBack(-1,-1),n.emplaceBack(1,-1),n.emplaceBack(1,1),n.emplaceBack(-1,1);let i=new t.aM;i.emplaceBack(0,1,2),i.emplaceBack(0,2,3),r.mesh=new e6(e.createVertexBuffer(n,e4.members),e.createIndexBuffer(i),t.aL.simpleSegment(0,0,n.length,i.length))}return r.mesh}class n_{constructor(e,r){this.context=new r4(e),this.transform=r,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=eg.maxUnderzooming+eg.maxOverzooming+1,this.depthEpsilon=1/65536,this.crossTileSymbolIndex=new e1}resize(e,t,r){if(this.width=Math.floor(e*r),this.height=Math.floor(t*r),this.pixelRatio=r,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let e of this.style._order)this.style._layers[e].resize()}setup(){let e=this.context,r=new t.aK;r.emplaceBack(0,0),r.emplaceBack(t.$,0),r.emplaceBack(0,t.$),r.emplaceBack(t.$,t.$),this.tileExtentBuffer=e.createVertexBuffer(r,e4.members),this.tileExtentSegments=t.aL.simpleSegment(0,0,4,2);let n=new t.aK;n.emplaceBack(0,0),n.emplaceBack(t.$,0),n.emplaceBack(0,t.$),n.emplaceBack(t.$,t.$),this.debugBuffer=e.createVertexBuffer(n,e4.members),this.debugSegments=t.aL.simpleSegment(0,0,4,5);let i=new t.c5;i.emplaceBack(0,0,0,0),i.emplaceBack(t.$,0,t.$,0),i.emplaceBack(0,t.$,0,t.$),i.emplaceBack(t.$,t.$,t.$,t.$),this.rasterBoundsBuffer=e.createVertexBuffer(i,tX.members),this.rasterBoundsSegments=t.aL.simpleSegment(0,0,4,2);let o=new t.aK;o.emplaceBack(0,0),o.emplaceBack(t.$,0),o.emplaceBack(0,t.$),o.emplaceBack(t.$,t.$),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(o,e4.members),this.rasterBoundsSegmentsPosOnly=t.aL.simpleSegment(0,0,4,5);let a=new t.aK;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,e4.members),this.viewportSegments=t.aL.simpleSegment(0,0,4,2);let s=new t.c6;s.emplaceBack(0),s.emplaceBack(1),s.emplaceBack(3),s.emplaceBack(2),s.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(s);let l=new t.aM;l.emplaceBack(1,0,2),l.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(l);let u=this.context.gl;this.stencilClearMode=new tm({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO),this.tileExtentMesh=new e6(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let e=this.context,r=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let n=t.L();t.bX(n,0,this.width,this.height,0,0,1),t.N(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask",null,!0).draw(e,r.TRIANGLES,tp.disabled,this.stencilClearMode,td.disabled,tf.disabled,null,null,{mainMatrix:n,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:n},"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t,r){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source,this.nextStencilID+t.length>256&&this.clearStencil();let n=this.context;n.setColorMode(td.disabled),n.setDepthMode(tp.disabled);let i={};for(let e of t)i[e.key]=this.nextStencilID++;this._renderTileMasks(i,t,r,!0),this._renderTileMasks(i,t,r,!1),this._tileClippingMaskIDs=i}_renderTileMasks(e,t,r,n){let i=this.context,o=i.gl,a=this.style.projection,s=this.transform,l=this.useProgram("clippingMask");for(let u of t){let t=e[u.key],c=this.style.map.terrain&&this.style.map.terrain.getTerrainData(u),h=a.getMeshFromTileID(this.context,u.canonical,n,!0,"stencil"),d=s.getProjectionData({overscaledTileID:u,applyGlobeMatrix:!r,applyTerrainMatrix:!0});l.draw(i,o.TRIANGLES,tp.disabled,new tm({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),td.disabled,r?tf.disabled:tf.backCCW,null,c,d,"$clipping",h.vertexBuffer,h.indexBuffer,h.segments)}}_renderTilesDepthBuffer(){let e=this.context,t=e.gl,r=this.style.projection,n=this.transform,i=this.useProgram("depth"),o=this.getDepthModeFor3D();for(let a of ep(n,{tileSize:n.tileSize})){let s=this.style.map.terrain&&this.style.map.terrain.getTerrainData(a),l=r.getMeshFromTileID(this.context,a.canonical,!0,!0,"raster"),u=n.getProjectionData({overscaledTileID:a,applyGlobeMatrix:!0,applyTerrainMatrix:!0});i.draw(e,t.TRIANGLES,o,tm.disabled,td.disabled,tf.backCCW,null,s,u,"$clipping",l.vertexBuffer,l.indexBuffer,l.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let e=this.nextStencilID++,t=this.context.gl;return new tm({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){let t=this.context.gl;return new tm({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){let t=this.context.gl,r=e.sort((e,t)=>t.overscaledZ-e.overscaledZ),n=r[r.length-1].overscaledZ,i=r[0].overscaledZ-n+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();let e={};for(let r=0;r<i;r++)e[r+n]=new tm({func:t.GEQUAL,mask:255},r+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,r]}return[{[n]:tm.disabled},r]}stencilConfigForOverlapTwoPass(e){let t=this.context.gl,r=e.sort((e,t)=>t.overscaledZ-e.overscaledZ),n=r[r.length-1].overscaledZ,i=r[0].overscaledZ-n+1;if(this.clearStencil(),i>1){let e={},o={};for(let r=0;r<i;r++)e[r+n]=new tm({func:t.GREATER,mask:255},i+1+r,255,t.KEEP,t.KEEP,t.REPLACE),o[r+n]=new tm({func:t.GREATER,mask:255},1+r,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID=2*i+1,[e,o,r]}return this.nextStencilID=3,[{[n]:new tm({func:t.GREATER,mask:255},2,255,t.KEEP,t.KEEP,t.REPLACE)},{[n]:new tm({func:t.GREATER,mask:255},1,255,t.KEEP,t.KEEP,t.REPLACE)},r]}colorModeForRenderPass(){let e=this.context.gl;if(this._showOverdrawInspector){let r=1/8;return new td([e.CONSTANT_COLOR,e.ONE],new t.be(r,r,r,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?td.unblended:td.alphaBlended}getDepthModeForSublayer(e,t,r){if(!this.opaquePassEnabledForLayer())return tp.disabled;let n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new tp(r||this.context.gl.LEQUAL,t,[n,n])}getDepthModeFor3D(){return new tp(this.context.gl.LEQUAL,tp.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,r){var n,i;this.style=e,this.options=r,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(d.now()),this.imageManager.beginFrame();let o=this.style._order,a=this.style.sourceCaches,s={},l={},u={},c={isRenderingToTexture:!1,isRenderingGlobe:(null===(n=e.projection)||void 0===n?void 0:n.transitionState)>0};for(let e in a){let t=a[e];t.used&&t.prepare(this.context),s[e]=t.getVisibleCoordinates(!1),l[e]=s[e].slice().reverse(),u[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(this.style._layers[o[e]].is3D()){this.opaquePassCutoff=e;break}for(let e of(this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen",o)){let t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;let r=l[t.source];("custom"===t.type||r.length)&&this.renderLayer(this,a[t.source],t,r,c)}if(null===(i=this.style.projection)||void 0===i||i.updateGPUdependent({context:this.context,useProgram:e=>this.useProgram(e)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?t.be.black:t.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(e,t){let r=e.context,n=r.gl,i=((e,t,r)=>{let n=Math.cos(t.rollInRadians),i=Math.sin(t.rollInRadians),o=es(t),a=t.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:e.properties.get("sky-color"),u_horizon_color:e.properties.get("horizon-color"),u_horizon:[(t.width/2-o*i)*r,(t.height/2+o*n)*r],u_horizon_normal:[-i,n],u_sky_horizon_blend:e.properties.get("sky-horizon-blend")*t.height/2*r,u_sky_blend:a}})(t,e.style.map.transform,e.pixelRatio),o=new tp(n.LEQUAL,tp.ReadWrite,[0,1]),a=tm.disabled,s=e.colorModeForRenderPass(),l=e.useProgram("sky"),u=nb(r,t);l.draw(r,n.TRIANGLES,o,a,s,tf.disabled,i,null,void 0,"sky",u.vertexBuffer,u.indexBuffer,u.segments)}(this,this.style.sky),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){let e=this.style._layers[o[this.currentLayer]],t=a[e.source],r=s[e.source];this._renderTileClippingMasks(e,r,!1),this.renderLayer(this,t,e,r,c)}this.renderPass="translucent";let h=!1;for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){let e=this.style._layers[o[this.currentLayer]],t=a[e.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e,c))continue;this.opaquePassEnabledForLayer()||h||(h=!0,c.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let r=("symbol"===e.type?u:l)[e.source];this._renderTileClippingMasks(e,s[e.source],!!this.renderToTexture),this.renderLayer(this,t,e,r,c)}if(c.isRenderingGlobe&&function(e,r,n){let i=e.context,o=i.gl,a=e.useProgram("atmosphere"),s=new tp(o.LEQUAL,tp.ReadOnly,[0,1]),l=e.transform,u=function(e,r){let n=e.properties.get("position"),i=[-n.x,-n.y,-n.z],o=t.af(new Float64Array(16));return"map"===e.properties.get("anchor")&&(t.b5(o,o,r.rollInRadians),t.b6(o,o,-r.pitchInRadians),t.b5(o,o,r.bearingInRadians),t.b6(o,o,r.center.lat*Math.PI/180),t.by(o,o,-r.center.lng*Math.PI/180)),t.c4(i,i,o),i}(n,e.transform),c=l.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),h=r.properties.get("atmosphere-blend")*c.projectionTransition;if(0===h)return;let d=tA(l.worldSize,l.center.lat),f=l.inverseProjectionMatrix,p=new Float64Array(4);p[3]=1,t.av(p,p,l.modelViewProjectionMatrix),p[0]/=p[3],p[1]/=p[3],p[2]/=p[3],p[3]=1,t.av(p,p,f),p[0]/=p[3],p[1]/=p[3],p[2]/=p[3],p[3]=1;let m={u_sun_pos:u,u_atmosphere_blend:h,u_globe_position:[p[0],p[1],p[2]],u_globe_radius:d,u_inv_proj_matrix:f},g=nb(i,r);a.draw(i,o.TRIANGLES,s,tm.disabled,td.alphaBlended,tf.disabled,m,null,null,"atmosphere",g.vertexBuffer,g.indexBuffer,g.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let e=function(e,t){let r=null,n=Object.values(e._layers).flatMap(r=>r.source&&!r.isHidden(t)?[e.sourceCaches[r.source]]:[]),i=n.filter(e=>"vector"===e.getSource().type),o=n.filter(e=>"vector"!==e.getSource().type),a=e=>{(!r||r.getSource().maxzoom<e.getSource().maxzoom)&&(r=e)};return i.forEach(e=>a(e)),r||o.forEach(e=>a(e)),r}(this.style,this.transform.zoom);e&&function(e,r,n){for(let i=0;i<n.length;i++)!function(e,r,n){let i=e.context,o=i.gl,a=e.useProgram("debug"),s=tp.disabled,l=tm.disabled,u=e.colorModeForRenderPass(),c="$debug",h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(n);i.activeTexture.set(o.TEXTURE0);let d=r.getTileByID(n.key).latestRawTileData,f=Math.floor((d&&d.byteLength||0)/1024),p=512/Math.min(r.getTile(n).tileSize,512)*(n.overscaledZ/e.transform.zoom)*.5,m=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(m+=` => ${n.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();let r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(e,`${m} ${f}kB`);let g=e.transform.getProjectionData({overscaledTileID:n,applyGlobeMatrix:!0,applyTerrainMatrix:!0});a.draw(i,o.TRIANGLES,s,l,td.alphaBlended,tf.disabled,t9(t.be.transparent,p),null,g,c,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments),a.draw(i,o.LINE_STRIP,s,l,u,tf.disabled,t9(t.be.red),h,g,c,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments)}(e,r,n[i])}(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){var t,r;let n=e.transform.padding;nm(e,e.transform.height-(n.top||0),3,nc),nm(e,n.bottom||0,3,nh),ng(e,n.left||0,3,nd),ng(e,e.transform.width-(n.right||0),3,nf);let i=e.transform.centerPoint;t=i.x,r=e.transform.height-i.y,ny(e,t-1,r-10,2,20,np),ny(e,t-10,r-1,20,2,np)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;let r=this.terrainFacilitator.matrix,n=this.transform.modelViewProjectionMatrix,i=this.terrainFacilitator.dirty;i||(i=e?!t.c7(r,n):!t.c8(r,n)),i||(i=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),i&&(t.c9(r,n),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e,r){let n=e.context,i=n.gl,o=e.transform,a=td.unblended,s=new tp(i.LEQUAL,tp.ReadWrite,[0,1]),l=r.sourceCache.getRenderableTiles(),u=e.useProgram("terrainDepth");for(let c of(n.bindFramebuffer.set(r.getFramebuffer("depth").framebuffer),n.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),n.clear({color:t.be.transparent,depth:1}),l)){let e=r.getTerrainMesh(c.tileID),t=r.getTerrainData(c.tileID),l=o.getProjectionData({overscaledTileID:c.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),h={u_ele_delta:r.getMeshFrameDelta(o.zoom)};u.draw(n,i.TRIANGLES,s,tm.disabled,a,tf.backCCW,h,t,l,"terrain",e.vertexBuffer,e.indexBuffer,e.segments)}n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain),function(e,r){let n=e.context,i=n.gl,o=e.transform,a=td.unblended,s=new tp(i.LEQUAL,tp.ReadWrite,[0,1]),l=r.getCoordsTexture(),u=r.sourceCache.getRenderableTiles(),c=e.useProgram("terrainCoords");for(let h of(n.bindFramebuffer.set(r.getFramebuffer("coords").framebuffer),n.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),n.clear({color:t.be.transparent,depth:1}),r.coordsIndex=[],u)){let e=r.getTerrainMesh(h.tileID),t=r.getTerrainData(h.tileID);n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture);let u={u_terrain_coords_id:(255-r.coordsIndex.length)/255,u_texture:0,u_ele_delta:r.getMeshFrameDelta(o.zoom)},d=o.getProjectionData({overscaledTileID:h.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});c.draw(n,i.TRIANGLES,s,tm.disabled,a,tf.backCCW,u,t,d,"terrain",e.vertexBuffer,e.indexBuffer,e.segments),r.coordsIndex.push(h.tileID.key)}n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain))}renderLayer(e,r,n,i,o){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||(i||[]).length)&&(this.id=n.id,t.ca(n)?function(e,r,n,i,o,a){if("translucent"!==e.renderPass)return;let{isRenderingToTexture:s}=a,l=tm.disabled,u=e.colorModeForRenderPass();(n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e,r,n,i,o,a,s,l,u){let c=r.transform,h=r.style.map.terrain,d="map"===o,f="map"===a;for(let o of e){let e=i.getTile(o),a=e.getBucket(n);if(!a||!a.text||!a.text.segments.get().length)continue;let p=t.am(a.textSizeData,c.zoom),m=t.aB(e,1,r.transform.zoom),g=ew(d,r.transform,m),y="none"!==n.layout.get("icon-text-fit")&&a.hasIconData();if(p){let r=Math.pow(2,c.zoom-e.tileID.overscaledZ),n=h?(e,t)=>h.getElevation(o,e,t):null;(function(e,r,n,i,o,a,s,l,u,c,h,d){let f=e.text.placedSymbolArray,p=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,g={};p.clear();for(let m=0;m<f.length;m++){let y=f.get(m),v=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(v){let i=new t.P(y.anchorX,y.anchorY),f={getElevation:d,width:o.width,height:o.height,pitchedLabelPlaneMatrix:a,pitchWithMap:n,transform:o,tileAnchorPoint:i,translation:c,unwrappedTileID:h},m=n?eI(i.x,i.y,f):ek(i.x,i.y,f),b=.5+o.cameraToCenterDistance/m.signedDistanceFromCamera*.5,_=t.ao(e.textSizeData,l,y)*b/t.aA;n&&(_*=e.tilePixelRatio/s);let{width:x,height:w,anchor:S,textOffset:T,textBoxScale:E}=v,P=function(e,r,n,i,o,a){let{horizontalAlign:s,verticalAlign:l}=t.aG(e);return new t.P((-(s-.5)*r/o+i[0])*a,(-(l-.5)*n/o+i[1])*a)}(S,x,w,T,E,_),C=o.getPitchedTextCorrection(i.x+c[0],i.y+c[1],h),A=function(e,r,n,i,o,a){let s=r.tileAnchorPoint.add(new t.P(r.translation[0],r.translation[1]));if(r.pitchWithMap){let e=i.mult(a);n||(e=e.rotate(-o));let t=s.add(e);return eT(t.x,t.y,r.pitchedLabelPlaneMatrix,r.getElevation).point}if(n){let t=ek(r.tileAnchorPoint.x+1,r.tileAnchorPoint.y,r).point.sub(e),n=Math.atan(t.y/t.x)+(t.x<0?Math.PI:0);return e.add(i.rotate(n))}return e.add(i)}(m.point,f,r,P,-o.bearingInRadians,C),M=e.allowVerticalPlacement&&y.placedOrientation===t.an.vertical?Math.PI/2:0;for(let e=0;e<y.numGlyphs;e++)t.au(p,A,M);u&&y.associatedIconIndex>=0&&(g[y.associatedIconIndex]={shiftedAnchor:A,angle:M})}else ej(y.numGlyphs,p)}if(u){m.clear();let r=e.icon.placedSymbolArray;for(let e=0;e<r.length;e++){let n=r.get(e);if(n.hidden)ej(n.numGlyphs,m);else{let r=g[e];if(r)for(let e=0;e<n.numGlyphs;e++)t.au(m,r.shiftedAnchor,r.angle);else ej(n.numGlyphs,m)}}e.icon.dynamicLayoutVertexBuffer.updateData(m)}e.text.dynamicLayoutVertexBuffer.updateData(p)})(a,d,f,u,c,g,r,p,y,t.aC(c,e,s,l),o.toUnwrapped(),n)}}}(i,e,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&r9(e,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),l,u,s),0!==n.paint.get("text-opacity").constantOr(1)&&r9(e,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),l,u,s),r.map.showCollisionBoxes&&(r8(e,r,n,i,!0),r8(e,r,n,i,!1))}(e,r,n,i,this.style.placement.variableOffsets,o):t.cb(n)?function(e,r,n,i,o){if("translucent"!==e.renderPass)return;let{isRenderingToTexture:a}=o,s=n.paint.get("circle-opacity"),l=n.paint.get("circle-stroke-width"),u=n.paint.get("circle-stroke-opacity"),c=!n.layout.get("circle-sort-key").isConstant();if(0===s.constantOr(1)&&(0===l.constantOr(1)||0===u.constantOr(1)))return;let h=e.context,d=h.gl,f=e.transform,p=e.getDepthModeForSublayer(0,tp.ReadOnly),m=tm.disabled,g=e.colorModeForRenderPass(),y=[],v=f.getCircleRadiusCorrection();for(let o=0;o<i.length;o++){let s=i[o],l=r.getTile(s),u=l.getBucket(n);if(!u)continue;let h=n.paint.get("circle-translate"),d=n.paint.get("circle-translate-anchor"),p=t.aC(f,l,h,d),m=u.programConfigurations.get(n.id),g=e.useProgram("circle",m),b=u.layoutVertexBuffer,_=u.indexBuffer,x=e.style.map.terrain&&e.style.map.terrain.getTerrainData(s),w={programConfiguration:m,program:g,layoutVertexBuffer:b,indexBuffer:_,uniformValues:t4(e,l,n,p,v),terrainData:x,projectionData:f.getProjectionData({overscaledTileID:s,applyGlobeMatrix:!a,applyTerrainMatrix:!0})};if(c)for(let e of u.segments.get())y.push({segments:new t.aL([e]),sortKey:e.sortKey,state:w});else y.push({segments:u.segments,sortKey:0,state:w})}for(let t of(c&&y.sort((e,t)=>e.sortKey-t.sortKey),y)){let{programConfiguration:r,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s,terrainData:l,projectionData:u}=t.state;i.draw(h,d.TRIANGLES,p,m,g,tf.backCCW,s,l,u,n.id,o,a,t.segments,n.paint,e.transform.zoom,r)}}(e,r,n,i,o):t.cc(n)?function(e,r,n,i,o){if(0===n.paint.get("heatmap-opacity"))return;let a=e.context,{isRenderingToTexture:s,isRenderingGlobe:l}=o;if(e.style.map.terrain){for(let o of i){let i=r.getTile(o);r.hasRenderableParent(o)||("offscreen"===e.renderPass?function(e,r,n,i,o){let a=e.context,s=a.gl,l=tm.disabled,u=new td([s.ONE,s.ONE],t.be.transparent,[!0,!0,!0,!0]),c=r.getBucket(n);if(!c)return;let h=i.key,d=n.heatmapFbos.get(h);d||(d=nt(a,r.tileSize,r.tileSize),n.heatmapFbos.set(h,d)),a.bindFramebuffer.set(d.framebuffer),a.viewport.set([0,0,r.tileSize,r.tileSize]),a.clear({color:t.be.transparent});let f=c.programConfigurations.get(n.id),p=e.useProgram("heatmap",f,!o),m=e.transform.getProjectionData({overscaledTileID:r.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),g=e.style.map.terrain.getTerrainData(i);p.draw(a,s.TRIANGLES,tp.disabled,l,u,tf.disabled,re(r,e.transform.zoom,n.paint.get("heatmap-intensity"),1),g,m,n.id,c.layoutVertexBuffer,c.indexBuffer,c.segments,n.paint,e.transform.zoom,f)}(e,i,n,o,l):"translucent"===e.renderPass&&function(e,t,r,n,i){let o=e.context,a=o.gl,s=e.transform;o.setColorMode(e.colorModeForRenderPass());let l=nr(o,t),u=r.key,c=t.heatmapFbos.get(u);if(!c)return;o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c.colorAttachment.get()),o.activeTexture.set(a.TEXTURE1),l.bind(a.LINEAR,a.CLAMP_TO_EDGE);let h=s.getProjectionData({overscaledTileID:r,applyTerrainMatrix:i,applyGlobeMatrix:!n});e.useProgram("heatmapTexture").draw(o,a.TRIANGLES,tp.disabled,tm.disabled,e.colorModeForRenderPass(),tf.disabled,rt(e,t,0,1),null,h,t.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments,t.paint,s.zoom),c.destroy(),t.heatmapFbos.delete(u)}(e,n,o,s,l))}a.viewport.set([0,0,e.width,e.height])}else"offscreen"===e.renderPass?function(e,r,n,i){let o=e.context,a=o.gl,s=e.transform,l=tm.disabled,u=new td([a.ONE,a.ONE],t.be.transparent,[!0,!0,!0,!0]);(function(e,r,n){let i=e.gl;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,r.width/4,r.height/4]);let o=n.heatmapFbos.get(t.c1);o?(i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer)):(o=nt(e,r.width/4,r.height/4),n.heatmapFbos.set(t.c1,o))})(o,e,n),o.clear({color:t.be.transparent});for(let t=0;t<i.length;t++){let c=i[t];if(r.hasRenderableParent(c))continue;let h=r.getTile(c),d=h.getBucket(n);if(!d)continue;let f=d.programConfigurations.get(n.id),p=e.useProgram("heatmap",f),m=s.getProjectionData({overscaledTileID:c,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),g=s.getCircleRadiusCorrection();p.draw(o,a.TRIANGLES,tp.disabled,l,u,tf.backCCW,re(h,s.zoom,n.paint.get("heatmap-intensity"),g),null,m,n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,s.zoom,f)}o.viewport.set([0,0,e.width,e.height])}(e,r,n,i):"translucent"===e.renderPass&&function(e,r){let n=e.context,i=n.gl;n.setColorMode(e.colorModeForRenderPass());let o=r.heatmapFbos.get(t.c1);o&&(n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1),nr(n,r).bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,i.TRIANGLES,tp.disabled,tm.disabled,e.colorModeForRenderPass(),tf.disabled,rt(e,r,0,1),null,null,r.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,r.paint,e.transform.zoom))}(e,n)}(e,r,n,i,o):t.cd(n)?function(e,r,n,i,o){if("translucent"!==e.renderPass)return;let{isRenderingToTexture:a}=o,s=n.paint.get("line-opacity"),l=n.paint.get("line-width");if(0===s.constantOr(1)||0===l.constantOr(1))return;let u=e.getDepthModeForSublayer(0,tp.ReadOnly),c=e.colorModeForRenderPass(),h=n.paint.get("line-dasharray"),d=n.paint.get("line-pattern"),f=d.constantOr(1),p=n.paint.get("line-gradient"),m=n.getCrossfadeParameters(),g=f?"linePattern":h?"lineSDF":p?"lineGradient":"line",y=e.context,v=y.gl,b=e.transform,_=!0;for(let o of i){let i=r.getTile(o);if(f&&!i.patternsLoaded())continue;let s=i.getBucket(n);if(!s)continue;let l=s.programConfigurations.get(n.id),x=e.context.program.get(),w=e.useProgram(g,l),S=_||w.program!==x,T=e.style.map.terrain&&e.style.map.terrain.getTerrainData(o),E=d.constantOr(null);if(E&&i.imageAtlas){let e=i.imageAtlas,t=e.patternPositions[E.to.toString()],r=e.patternPositions[E.from.toString()];t&&r&&l.setConstantPatternPositions(t,r)}let P=b.getProjectionData({overscaledTileID:o,applyGlobeMatrix:!a,applyTerrainMatrix:!0}),C=b.getPixelScale(),A=f?rs(e,i,n,C,m):h?rl(e,i,n,C,h,m):p?ra(e,i,n,C,s.lineClipsArray.length):ro(e,i,n,C);if(f)y.activeTexture.set(v.TEXTURE0),i.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),l.updatePaintBuffers(m);else if(h&&(S||e.lineAtlas.dirty))y.activeTexture.set(v.TEXTURE0),e.lineAtlas.bind(y);else if(p){let i=s.gradients[n.id],a=i.texture;if(n.gradientVersion!==i.version){let l=256;if(n.stepInterpolant){let n=r.getSource().maxzoom,i=o.canonical.z===n?Math.ceil(1<<e.transform.maxZoom-o.canonical.z):1;l=t.ag(t.c2(s.maxLineLength/t.$*1024*i),256,y.maxTextureSize)}i.gradient=t.c3({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:i.gradient||void 0,clips:s.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new t.T(y,i.gradient,v.RGBA),i.version=n.gradientVersion,a=i.texture}y.activeTexture.set(v.TEXTURE0),a.bind(n.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}let M=e.stencilModeForClipping(o);w.draw(y,v.TRIANGLES,u,M,c,tf.disabled,A,T,P,n.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,n.paint,e.transform.zoom,l,s.layoutVertexBuffer2),_=!1}}(e,r,n,i,o):t.ce(n)?function(e,r,n,i,o){let a=n.paint.get("fill-color"),s=n.paint.get("fill-opacity");if(0===s.constantOr(1))return;let{isRenderingToTexture:l}=o,u=e.colorModeForRenderPass(),c=n.paint.get("fill-pattern"),h=e.opaquePassEnabledForLayer()&&!c.constantOr(1)&&1===a.constantOr(t.be.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(e.renderPass===h){let t=e.getDepthModeForSublayer(1,"opaque"===e.renderPass?tp.ReadWrite:tp.ReadOnly);ni(e,r,n,i,t,u,!1,l)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){let t=e.getDepthModeForSublayer(2*!!n.getPaintProperty("fill-outline-color"),tp.ReadOnly);ni(e,r,n,i,t,u,!0,l)}}(e,r,n,i,o):t.cf(n)?function(e,t,r,n,i){let o=r.paint.get("fill-extrusion-opacity");if(0===o)return;let{isRenderingToTexture:a}=i;if("translucent"===e.renderPass){let i=new tp(e.context.gl.LEQUAL,tp.ReadWrite,e.depthRangeFor3D);if(1!==o||r.paint.get("fill-extrusion-pattern").constantOr(1))no(e,t,r,n,i,tm.disabled,td.disabled,a),no(e,t,r,n,i,e.stencilModeFor3D(),e.colorModeForRenderPass(),a);else{let o=e.colorModeForRenderPass();no(e,t,r,n,i,tm.disabled,o,a)}}}(e,r,n,i,o):t.cg(n)?function(e,r,n,i,o){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;let{isRenderingToTexture:a}=o,s=e.context,l=e.style.projection.useSubdivision,u=e.getDepthModeForSublayer(0,tp.ReadOnly),c=e.colorModeForRenderPass();if("offscreen"===e.renderPass)(function(e,r,n,i,o,a,s){let l=e.context,u=l.gl;for(let c of n){let n=r.getTile(c),h=n.dem;if(!h||!h.data||!n.needsHillshadePrepare)continue;let d=h.dim,f=h.stride,p=h.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(f),n.demTexture){let e=n.demTexture;e.update(p,{premultiply:!1}),e.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.T(l,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);let m=n.fbo;if(!m){let e=new t.T(l,{width:d,height:d,data:null},u.RGBA);e.bind(u.LINEAR,u.CLAMP_TO_EDGE),(m=n.fbo=l.createFramebuffer(d,d,!0,!1)).colorAttachment.set(e.texture)}l.bindFramebuffer.set(m.framebuffer),l.viewport.set([0,0,d,d]),e.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,o,a,s,tf.disabled,rn(n.tileID,h),null,null,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}})(e,r,i,n,u,tm.disabled,c),s.viewport.set([0,0,e.width,e.height]);else if("translucent"===e.renderPass){if(l){let[t,o,s]=e.stencilConfigForOverlapTwoPass(i);na(e,r,n,s,t,u,c,!1,a),na(e,r,n,s,o,u,c,!0,a)}else{let[t,o]=e.getStencilConfigForOverlapAndUpdateStencilID(i);na(e,r,n,o,t,u,c,!1,a)}}}(e,r,n,i,o):t.ch(n)?function(e,t,r,n,i){if("translucent"!==e.renderPass||!n.length)return;let{isRenderingToTexture:o}=i,a=e.style.projection.useSubdivision,s=e.getDepthModeForSublayer(0,tp.ReadOnly),l=e.colorModeForRenderPass();if(a){let[i,a,u]=e.stencilConfigForOverlapTwoPass(n);ns(e,t,r,u,i,s,l,!1,o),ns(e,t,r,u,a,s,l,!0,o)}else{let[i,a]=e.getStencilConfigForOverlapAndUpdateStencilID(n);ns(e,t,r,a,i,s,l,!1,o)}}(e,r,n,i,o):t.ci(n)?function(e,t,r,n,i){if("translucent"!==e.renderPass||0===r.paint.get("raster-opacity")||!n.length)return;let{isRenderingToTexture:o}=i,a=t.getSource(),s=e.style.projection.useSubdivision;if(a instanceof W)nu(e,t,r,n,null,!1,!1,a.tileCoords,a.flippedWindingOrder,o);else if(s){let[i,a,s]=e.stencilConfigForOverlapTwoPass(n);nu(e,t,r,s,i,!1,!0,nl,!1,o),nu(e,t,r,s,a,!0,!0,nl,!1,o)}else{let[i,a]=e.getStencilConfigForOverlapAndUpdateStencilID(n);nu(e,t,r,a,i,!1,!0,nl,!1,o)}}(e,r,n,i,o):t.cj(n)?function(e,t,r,n,i){let o=r.paint.get("background-color"),a=r.paint.get("background-opacity");if(0===a)return;let{isRenderingToTexture:s}=i,l=e.context,u=l.gl,c=e.style.projection,h=e.transform,d=h.tileSize,f=r.paint.get("background-pattern");if(e.isPatternMissing(f))return;let p=!f&&1===o.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==p)return;let m=tm.disabled,g=e.getDepthModeForSublayer(0,"opaque"===p?tp.ReadWrite:tp.ReadOnly),y=e.colorModeForRenderPass(),v=e.useProgram(f?"backgroundPattern":"background"),b=n||ep(h,{tileSize:d,terrain:e.style.map.terrain});f&&(l.activeTexture.set(u.TEXTURE0),e.imageManager.bind(e.context));let _=r.getCrossfadeParameters();for(let t of b){let n=h.getProjectionData({overscaledTileID:t,applyGlobeMatrix:!s,applyTerrainMatrix:!0}),i=f?rg(a,e,f,{tileID:t,tileSize:d},_):rm(a,o),p=e.style.map.terrain&&e.style.map.terrain.getTerrainData(t),b=c.getMeshFromTileID(l,t.canonical,!1,!0,"raster");v.draw(l,u.TRIANGLES,g,m,y,tf.backCCW,i,p,n,r.id,b.vertexBuffer,b.indexBuffer,b.segments)}}(e,0,n,i,o):t.ck(n)&&function(e,t,r,n){let{isRenderingGlobe:i}=n,o=e.context,a=r.implementation,s=e.style.projection,l=e.transform,u=l.getProjectionDataForCustomLayer(i),c={farZ:l.farZ,nearZ:l.nearZ,fov:l.fov*Math.PI/180,modelViewProjectionMatrix:l.modelViewProjectionMatrix,projectionMatrix:l.projectionMatrix,shaderData:{variantName:s.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${s.shaderPreludeCode.vertexSource}`,define:s.shaderDefine},defaultProjectionData:u},h=a.renderingMode?a.renderingMode:"2d";if("offscreen"===e.renderPass){let t=a.prerender;t&&(e.setCustomLayerDefaults(),o.setColorMode(e.colorModeForRenderPass()),t.call(a,o.gl,c),o.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),o.setColorMode(e.colorModeForRenderPass()),o.setStencilMode(tm.disabled);let t="3d"===h?e.getDepthModeFor3D():e.getDepthModeForSublayer(0,tp.ReadOnly);o.setDepthMode(t),a.render(o.gl,c),o.setDirty(),e.setBaseState(),o.bindFramebuffer.set(null)}}(e,0,n,o))}saveTileTexture(e){let t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){let t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;let t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r}useProgram(e,t,r=!1,n=[]){this.cache=this.cache||{};let i=!!this.style.map.terrain,o=this.style.projection,a=r?e3.projectionMercator:o.shaderPreludeCode,s=r?e8:o.shaderDefine,l=e+(t?t.cacheKey:"")+`/${r?e7:o.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(i?"/terrain":"")+(n?`/${n.join("/")}`:"");return this.cache[l]||(this.cache[l]=new tJ(this.context,e3[e],t,rv[e],this._showOverdrawInspector,i,a,s,n)),this.cache[l]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}function nx(e,t){let r,n=!1,i=null,o=null,a=()=>{i=null,n&&(e.apply(o,r),i=setTimeout(a,t),n=!1)};return(...e)=>(n=!0,o=this,r=e,i||a(),i)}class nw{constructor(e){this._getCurrentHash=()=>{let e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map(e=>e.split("=")).forEach(e=>{e[0]===this._hashName&&(t=e)}),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{let e=this._getCurrentHash();if(!this._isValidHash(e))return!1;let t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0},this._updateHashUnthrottled=()=>{let e=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,e)},this._removeHash=()=>{let e=this._getCurrentHash();if(0===e.length)return;let t=e.join("/"),r=t;r.split("&").length>0&&(r=r.split("&")[0]),this._hashName&&(r=`${this._hashName}=${t}`);let n=window.location.hash.replace(r,"");n.startsWith("#&")?n=n.slice(0,1)+n.slice(2):"#"===n&&(n="");let i=window.location.href.replace(/(#.+)?$/,n);i=i.replace("&&","&"),window.history.replaceState(window.history.state,null,i)},this._updateHash=nx(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){let t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.pow(10,Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10)),i=Math.round(t.lng*n)/n,o=Math.round(t.lat*n)/n,a=this._map.getBearing(),s=this._map.getPitch(),l="";if(l+=e?`/${i}/${o}/${r}`:`${r}/${o}/${i}`,(a||s)&&(l+="/"+Math.round(10*a)/10),s&&(l+=`/${Math.round(s)}`),this._hashName){let e=this._hashName,t=!1,r=window.location.hash.slice(1).split("&").map(r=>{let n=r.split("=")[0];return n===e?(t=!0,`${n}=${l}`):r}).filter(e=>e);return t||r.push(`${e}=${l}`),`#${r.join("&")}`}return`#${l}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new t.S(+e[2],+e[1])}catch(e){return!1}let r=+e[0],n=+(e[3]||0),i=+(e[4]||0);return r>=this._map.getMinZoom()&&r<=this._map.getMaxZoom()&&n>=-180&&n<=180&&i>=this._map.getMinPitch()&&i<=this._map.getMaxPitch()}}let nS={linearity:.3,easing:t.cl(0,0,.3,1)},nT=t.e({deceleration:2500,maxSpeed:1400},nS),nE=t.e({deceleration:20,maxSpeed:1400},nS),nP=t.e({deceleration:1e3,maxSpeed:360},nS),nC=t.e({deceleration:1e3,maxSpeed:90},nS),nA=t.e({deceleration:1e3,maxSpeed:360},nS);class nM{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:d.now(),settings:e})}_drainInertiaBuffer(){let e=this._inertiaBuffer,t=d.now();for(;e.length>0&&t-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let r={zoom:0,bearing:0,pitch:0,roll:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:e}of this._inertiaBuffer)r.zoom+=e.zoomDelta||0,r.bearing+=e.bearingDelta||0,r.pitch+=e.pitchDelta||0,r.roll+=e.rollDelta||0,e.panDelta&&r.pan._add(e.panDelta),e.around&&(r.around=e.around),e.pinchAround&&(r.pinchAround=e.pinchAround);let n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(r.pan.mag()){let o=nO(r.pan.mag(),n,t.e({},nT,e||{})),a=r.pan.mult(o.amount/r.pan.mag()),s=this._map.cameraHelper.handlePanInertia(a,this._map.transform);i.center=s.easingCenter,i.offset=s.easingOffset,nk(i,o)}if(r.zoom){let e=nO(r.zoom,n,nE);i.zoom=this._map.transform.zoom+e.amount,nk(i,e)}if(r.bearing){let e=nO(r.bearing,n,nP);i.bearing=this._map.transform.bearing+t.ag(e.amount,-179,179),nk(i,e)}if(r.pitch){let e=nO(r.pitch,n,nC);i.pitch=this._map.transform.pitch+e.amount,nk(i,e)}if(r.roll){let e=nO(r.roll,n,nA);i.roll=this._map.transform.roll+t.ag(e.amount,-179,179),nk(i,e)}if(i.zoom||i.bearing){let e=void 0===r.pinchAround?r.around:r.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),t.e(i,{noMoveStart:!0})}}function nk(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function nO(e,r,n){let{maxSpeed:i,linearity:o,deceleration:a}=n,s=t.ag(e*o/(r/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*l,amount:l/2*s}}class nI extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,r,n,i={}){n=n instanceof MouseEvent?n:new MouseEvent(e,n);let o=f.mousePos(r.getCanvas(),n);super(e,t.e({point:o,lngLat:r.unproject(o),originalEvent:n},i)),this._defaultPrevented=!1,this.target=r}}class nR extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,r,n){let i="touchend"===e?n.changedTouches:n.touches,o=f.touchPos(r.getCanvasContainer(),i),a=o.map(e=>r.unproject(e)),s=o.reduce((e,t,r,n)=>e.add(t.div(n.length)),new t.P(0,0));super(e,{points:o,point:s,lngLats:a,lngLat:r.unproject(s),originalEvent:n}),this._defaultPrevented=!1}}class nD extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,r){super(e,{originalEvent:r}),this._defaultPrevented=!1}}class nL{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new nD(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new nI(e.type,this._map,e))}mouseup(e){this._map.fire(new nI(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new nI(e.type,this._map,e))}dblclick(e){return this._firePreventable(new nI(e.type,this._map,e))}mouseover(e){this._map.fire(new nI(e.type,this._map,e))}mouseout(e){this._map.fire(new nI(e.type,this._map,e))}touchstart(e){return this._firePreventable(new nR(e.type,this._map,e))}touchmove(e){this._map.fire(new nR(e.type,this._map,e))}touchend(e){this._map.fire(new nR(e.type,this._map,e))}touchcancel(e){this._map.fire(new nR(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class nj{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new nI(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new nI("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new nI(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class nz{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this._map.terrain)}}class nB{constructor(e,t){this._map=e,this._tr=new nz(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(f.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active||this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)return;let r=this._startPos;this._lastPos=t,this._box||(this._box=f.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));let n=Math.min(r.x,t.x),i=Math.max(r.x,t.x),o=Math.min(r.y,t.y),a=Math.max(r.y,t.y);f.setTransform(this._box,`translate(${n}px,${o}px)`),this._box.style.width=i-n+"px",this._box.style.height=a-o+"px"}mouseupWindow(e,r){if(!this._active||0!==e.button)return;let n=this._startPos;if(this.reset(),f.suppressClick(),n.x!==r.x||n.y!==r.y)return this._map.fire(new t.l("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(n,r,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(f.remove(this._box),this._box=null),f.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,r){return this._map.fire(new t.l(e,{originalEvent:r}))}}function nF(e,t){if(e.length!==t.length)throw Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);let r={};for(let n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}class nN{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){let r=new t.P(0,0);for(let t of e)r._add(t);return r.div(e.length)}(r),this.touches=nF(n,r)))}touchmove(e,t,r){if(this.aborted||!this.centroid)return;let n=nF(r,t);for(let e in this.touches){let t=n[e];(!t||t.dist(this.touches[e])>30)&&(this.aborted=!0)}}touchend(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){let e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class nV{constructor(e){this.singleTap=new nN(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,r){this.singleTap.touchstart(e,t,r)}touchmove(e,t,r){this.singleTap.touchmove(e,t,r)}touchend(e,t,r){let n=this.singleTap.touchend(e,t,r);if(n){let t=e.timeStamp-this.lastTime<500,r=!this.lastTap||30>this.lastTap.dist(n);if(t&&r||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class nU{constructor(e){this._tr=new nz(e),this._zoomIn=new nV({numTouches:1,numTaps:2}),this._zoomOut=new nV({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}touchmove(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}touchend(e,t,r){let n=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r),o=this._tr;return n?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class nG{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){let t=this._moveFunction(...e);if(t.bearingDelta||t.pitchDelta||t.rollDelta||t.around||t.panDelta)return this._active=!0,t}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(t)?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,t){if(!this.isEnabled())return;let r=this._lastPoint;if(!r)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);let n=Array.isArray(t)?t[0]:t;return!this._moved&&n.dist(r)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=n,this._move(r,n))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&f.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let nH={0:1,2:2};class nq{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){let t=f.mouseButton(e);this._eventButton=t}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){let r=nH[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton)}isValidEndEvent(e){return f.mouseButton(e)===this._eventButton}}class n${constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class nW{constructor(e=new nq({checkCorrectEvent:()=>!0}),t=new n$){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=t}_executeRelevantHandler(e,t,r){return e instanceof MouseEvent?t(e):"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?r(e):void 0}startMove(e){this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.startMove(e),e=>this.oneFingerTouchMoveStateManager.startMove(e))}endMove(e){this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.endMove(e),e=>this.oneFingerTouchMoveStateManager.endMove(e))}isValidStartEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidStartEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidStartEvent(e))}isValidMoveEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidMoveEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(e))}isValidEndEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidEndEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidEndEvent(e))}}let nX=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=e=>{e.preventDefault()}};class nZ{constructor(e,t){this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,t,r){return this._calculateTransform(e,t,r)}touchmove(e,t,r){if(this._active){if(!this._shouldBePrevented(r.length))return e.preventDefault(),this._calculateTransform(e,t,r);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,t,r){this._calculateTransform(e,t,r),this._active&&this._shouldBePrevented(r.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,r,n){n.length>0&&(this._active=!0);let i=nF(n,r),o=new t.P(0,0),a=new t.P(0,0),s=0;for(let e in i){let t=i[e],r=this._touches[e];r&&(o._add(t),a._add(t.sub(r)),s++,i[e]=t)}if(this._touches=i,this._shouldBePrevented(s)||!a.mag())return;let l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class nK{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,r){if(!this._firstTwoTouches)return;e.preventDefault();let[n,i]=this._firstTwoTouches,o=nY(r,t,n),a=nY(r,t,i);if(!o||!a)return;let s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,r){if(!this._firstTwoTouches)return;let[n,i]=this._firstTwoTouches,o=nY(r,t,n),a=nY(r,t,i);o&&a||(this._active&&f.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function nY(e,t,r){for(let n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function nQ(e,t){return Math.log(e/t)/Math.LN2}class nJ extends nK{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){let r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(.1>Math.abs(nQ(this._distance,this._startDistance))))return this._active=!0,{zoomDelta:nQ(this._distance,r),pinchAround:t}}}function n0(e,t){return 180*e.angleWith(t)/Math.PI}class n1 extends nK{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t,r){let n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:n0(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());let t=25/(Math.PI*this._minDiameter)*360;return Math.abs(n0(e,this._startVector))<t}}function n2(e){return Math.abs(e.y)>Math.abs(e.x)}class n3 extends nK{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,r){super.touchstart(e,t,r),this._currentTouchCount=r.length}_start(e){this._lastPoints=e,n2(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,r){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:-((n.y+i.y)/2*.5)}):void 0}gestureBeginsVertically(e,t,r){if(void 0!==this._valid)return this._valid;let n=e.mag()>=2,i=t.mag()>=2;if(!n&&!i)return;if(!n||!i)return void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;let o=e.y>0==t.y>0;return n2(e)&&n2(t)&&o}}class n5{constructor(e){this._tr=new nz(e),this._panStep=100,this._bearingStep=15,this._pitchStep=10,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,r=0,n=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,n=0),{cameraAnimation:a=>{let s=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:n6,zoom:t?Math.round(s.zoom)+t*(e.shiftKey?2:1):s.zoom,bearing:s.bearing+r*this._bearingStep,pitch:s.pitch+n*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:s.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function n6(e){return e*(2-e)}let n4=1/450;class n8{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},this._map=e,this._tr=new nz(e),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=n4}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let t=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=d.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==t&&t%4.000244140625==0?this._type="wheel":0!==t&&4>Math.abs(t)?this._type="trackpad":n>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=200>Math.abs(n*t)?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let r=f.mousePos(this._map.getCanvas(),e),n=this._tr;this._aroundPoint=this._aroundCenter?n.transform.locationToScreenPoint(t.S.convert(n.center)):r,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let e=this._tr.transform;if("number"==typeof this._lastExpectedZoom){let t=e.zoom-this._lastExpectedZoom;"number"==typeof this._startZoom&&(this._startZoom+=t),"number"==typeof this._targetZoom&&(this._targetZoom+=t)}if(0!==this._delta){let r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,n=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==n&&(n=1/n);let i="number"!=typeof this._targetZoom?e.scale:t.ae(this._targetZoom);this._targetZoom=e.getConstrained(e.getCameraLngLat(),t.aj(i*n)).zoom,"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let r="number"!=typeof this._targetZoom?e.zoom:this._targetZoom,n=this._startZoom,i=this._easing,o,a=!1;if("wheel"===this._type&&n&&i){let e=Math.min((d.now()-this._lastWheelEventTime+5)/200,1),s=i(e);o=t.C.number(n,r,s),e<1?this._frameId||(this._frameId=!0):a=!0}else o=r,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=o,{noInertia:!0,needsRenderFrame:!a,zoomDelta:o-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let r=t.cn;if(this._prevEase){let e=this._prevEase,n=(d.now()-e.start)/e.duration,i=e.easing(n+.01)-e.easing(n),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);r=t.cl(o,a,.25,1)}return this._prevEase={start:d.now(),duration:e,easing:r},r}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class n7{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class n9{constructor(e){this._tr=new nz(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:r=>{r.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ie{constructor(){this._tap=new nV({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,r){if(!this._swipePoint){if(this._tapTime){let n=t[0],i=e.timeStamp-this._tapTime<500,o=30>this._tapPoint.dist(n);i&&o?r.length>0&&(this._swipePoint=n,this._swipeTouch=r[0].identifier):this.reset()}else this._tap.touchstart(e,t,r)}}touchmove(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;let n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)}touchend(e,t,r){if(this._tapTime)this._swipePoint&&0===r.length&&this.reset();else{let n=this._tap.touchend(e,t,r);n&&(this._tapTime=e.timeStamp,this._tapPoint=n)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class it{constructor(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ir{constructor(e,t,r,n){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=t,this._mousePitch=r,this._mouseRoll=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class ii{constructor(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class io{constructor(e,t){this._bypassKey=-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey",this._map=e,this._options=t,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=f.create("div","maplibregl-cooperative-gesture-screen",e);let t=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");"metaKey"===this._bypassKey&&(t=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let r=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),n=document.createElement("div");n.className="maplibregl-desktop-message",n.textContent=t,this._container.appendChild(n);let i=document.createElement("div");i.className="maplibregl-mobile-message",i.textContent=r,this._container.appendChild(i),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(f.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,r){this._enabled&&(this._map.fire(new t.l("cooperativegestureprevented",{gestureType:e,originalEvent:r})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ia=e=>e.zoom||e.drag||e.roll||e.pitch||e.rotate;class is extends t.l{}function il(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta||e.rollDelta}class iu{constructor(e,r){this.handleWindowEvent=e=>{this.handleEvent(e,`${e.type}Window`)},this.handleEvent=(e,r)=>{if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;let n="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={};for(let{handlerName:s,handler:l,allowed:u}of this._handlers){let c;if(l.isEnabled()){if(this._blockedByActive(a,u,s))l.reset();else if(l[r||e.type]){if(t.co(e,r||e.type)){let t=f.mousePos(this._map.getCanvas(),e);c=l[r||e.type](e,t)}else if(t.cp(e,r||e.type)){let t=this._getMapTouches(e.touches),n=f.touchPos(this._map.getCanvas(),t);c=l[r||e.type](e,n,t)}else t.cq(r||e.type)||(c=l[r||e.type](e));this.mergeHandlerResult(i,o,c,s,n),c&&c.needsRenderFrame&&this._triggerRenderFrame()}(c||l.isActive())&&(a[s]=l)}}let s={};for(let e in this._previousActiveHandlers)a[e]||(s[e]=n);this._previousActiveHandlers=a,(Object.keys(s).length||il(i))&&(this._changes.push([i,o,s]),this._triggerRenderFrame()),(Object.keys(a).length||il(i))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:l}=i;l&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],l(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new nM(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r);let n=this._el;for(let[e,t,r]of(this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]],this._listeners))f.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}destroy(){for(let[e,t,r]of this._listeners)f.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}_addDefaultHandlers(e){let r=this._map,n=r.getCanvasContainer();this._add("mapEvent",new nL(r,e));let i=r.boxZoom=new nB(r,e);this._add("boxZoom",i),e.interactive&&e.boxZoom&&i.enable();let o=r.cooperativeGestures=new io(r,e.cooperativeGestures);this._add("cooperativeGestures",o),e.cooperativeGestures&&o.enable();let a=new nU(r),s=new n9(r);r.doubleClickZoom=new n7(s,a),this._add("tapZoom",a),this._add("clickZoom",s),e.interactive&&e.doubleClickZoom&&r.doubleClickZoom.enable();let l=new ie;this._add("tapDragZoom",l);let u=r.touchPitch=new n3(r);this._add("touchPitch",u),e.interactive&&e.touchPitch&&r.touchPitch.enable(e.touchPitch);let c=()=>r.project(r.getCenter()),h=function({enable:e,clickTolerance:r,aroundCenter:n=!0,minPixelCenterThreshold:i=100,rotateDegreesPerPixelMoved:o=.8},a){return new nG({clickTolerance:r,move:(e,r)=>{let s=a();if(n&&Math.abs(s.y-e.y)>i)return{bearingDelta:t.cm(new t.P(e.x,r.y),r,s)};let l=(r.x-e.x)*o;return n&&r.y<s.y&&(l=-l),{bearingDelta:l}},moveStateManager:new nq({checkCorrectEvent:e=>0===f.mouseButton(e)&&e.ctrlKey||2===f.mouseButton(e)&&!e.ctrlKey}),enable:e,assignEvents:nX})}(e,c),d=function({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:r=-.5}){return new nG({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*r}),moveStateManager:new nq({checkCorrectEvent:e=>0===f.mouseButton(e)&&e.ctrlKey||2===f.mouseButton(e)}),enable:e,assignEvents:nX})}(e),p=function({enable:e,clickTolerance:t,rollDegreesPerPixelMoved:r=.3},n){return new nG({clickTolerance:t,move:(e,t)=>{let i=n(),o=(t.x-e.x)*r;return t.y<i.y&&(o=-o),{rollDelta:o}},moveStateManager:new nq({checkCorrectEvent:e=>2===f.mouseButton(e)&&e.ctrlKey}),enable:e,assignEvents:nX})}(e,c);r.dragRotate=new ir(e,h,d,p),this._add("mouseRotate",h,["mousePitch"]),this._add("mousePitch",d,["mouseRotate","mouseRoll"]),this._add("mouseRoll",p,["mousePitch"]),e.interactive&&e.dragRotate&&r.dragRotate.enable();let m=function({enable:e,clickTolerance:t}){return new nG({clickTolerance:t,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:new nq({checkCorrectEvent:e=>0===f.mouseButton(e)&&!e.ctrlKey}),enable:e,assignEvents:nX})}(e),g=new nZ(e,r);r.dragPan=new it(n,m,g),this._add("mousePan",m),this._add("touchPan",g,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&r.dragPan.enable(e.dragPan);let y=new n1,v=new nJ;r.touchZoomRotate=new ii(n,v,y,l),this._add("touchRotate",y,["touchPan","touchZoom"]),this._add("touchZoom",v,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&r.touchZoomRotate.enable(e.touchZoomRotate);let b=r.scrollZoom=new n8(r,()=>this._triggerRenderFrame());this._add("scrollZoom",b,["mousePan"]),e.interactive&&e.scrollZoom&&r.scrollZoom.enable(e.scrollZoom);let _=r.keyboard=new n5(r);this._add("keyboard",_),e.interactive&&e.keyboard&&r.keyboard.enable(),this._add("blockableMapEvent",new nj(r))}_add(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(let{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(let{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ia(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,r){for(let n in e)if(n!==r&&(!t||0>t.indexOf(n)))return!0;return!1}_getMapTouches(e){let t=[];for(let r of e)this._el.contains(r.target)&&t.push(r);return t}mergeHandlerResult(e,r,n,i,o){if(!n)return;t.e(e,n);let a={handlerName:i,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.rollDelta&&(r.roll=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}_applyChanges(){let e={},r={},n={};for(let[i,o,a]of this._changes)i.panDelta&&(e.panDelta=(e.panDelta||new t.P(0,0))._add(i.panDelta)),i.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+i.pitchDelta),i.rollDelta&&(e.rollDelta=(e.rollDelta||0)+i.rollDelta),void 0!==i.around&&(e.around=i.around),void 0!==i.pinchAround&&(e.pinchAround=i.pinchAround),i.noInertia&&(e.noInertia=i.noInertia),t.e(r,o),t.e(n,a);this._updateMapTransform(e,r,n),this._changes=[]}_updateMapTransform(e,t,r){let n=this._map,i=n._getTransformForUpdate(),o=n.terrain;if(!(il(e)||o&&this._terrainMovement))return this._fireEvents(t,r,!0);n._stop(!0);let{panDelta:a,zoomDelta:s,bearingDelta:l,pitchDelta:u,rollDelta:c,around:h,pinchAround:d}=e;void 0!==d&&(h=d),h=h||n.transform.centerPoint,o&&!i.isPointOnMapSurface(h)&&(h=i.centerPoint);let f={panDelta:a,zoomDelta:s,rollDelta:c,pitchDelta:u,bearingDelta:l,around:h};this._map.cameraHelper.useGlobeControls&&!i.isPointOnMapSurface(h)&&(h=i.centerPoint);let p=.01>h.distSqr(i.centerPoint)?i.center:i.screenPointToLocation(a?h.sub(a):h);o?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(f,i),!this._terrainMovement&&(t.drag||t.zoom)?(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(f,i,p)):t.drag&&this._terrainMovement?i.setCenter(i.screenPointToLocation(i.centerPoint.sub(a))):this._map.cameraHelper.handleMapControlsPan(f,i,p)):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(f,i),this._map.cameraHelper.handleMapControlsPan(f,i,p)),n._applyUpdatedTransform(i),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,r,!0)}_fireEvents(e,r,n){let i;let o=ia(this._eventsInProgress),a=ia(e),s={};for(let t in e){let{originalEvent:r}=e[t];this._eventsInProgress[t]||(s[`${t}start`]=r),this._eventsInProgress[t]=e[t]}for(let e in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(e,s[e]);for(let t in a&&this._fireEvent("move",a.originalEvent),e){let{originalEvent:r}=e[t];this._fireEvent(t,r)}let l={};for(let e in this._eventsInProgress){let{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],i=r[t]||n,l[`${e}end`]=i)}for(let e in l)this._fireEvent(e,l[e]);let u=ia(this._eventsInProgress),c=(o||a)&&!u;if(c&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let e=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&e.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(e)}if(n&&c){let e,r;this._updatingCamera=!0;let n=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions);n&&(n.essential||!d.prefersReducedMotion)?(0!==(e=n.bearing||this._map.getBearing())&&-this._bearingSnap<e&&e<this._bearingSnap&&(n.bearing=0),n.freezeElevation=!0,this._map.easeTo(n,{originalEvent:i})):(this._map.fire(new t.l("moveend",{originalEvent:i})),0!==(r=this._map.getBearing())&&-this._bearingSnap<r&&r<this._bearingSnap&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,r){this._map.fire(new t.l(e,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new is("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class ic extends t.E{constructor(e,t,r){super(),this._renderFrameCallback=()=>{let e=Math.min((d.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=r.bearingSnap,this.cameraHelper=t,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,t){e.apply(this.transform),this.transform=e,this.cameraHelper=t}getCenter(){return new t.S(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,t){return this.jumpTo({elevation:e},t),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,r,n){return e=t.P.convert(e).mult(-1),this.panTo(this.transform.center,t.e({offset:e},r),n)}panTo(e,r,n){return this.easeTo(t.e({center:e},r),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,r,n){return this.easeTo(t.e({zoom:e},r),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,r){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new t.l("movestart",r)).fire(new t.l("move",r)).fire(new t.l("moveend",r))),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,r,n){return this.easeTo(t.e({bearing:e},r),n)}resetNorth(e,r){return this.rotateTo(0,t.e({duration:1e3},e),r),this}resetNorthPitch(e,r){return this.easeTo(t.e({bearing:0,pitch:0,roll:0,duration:1e3},e),r),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}getRoll(){return this.transform.roll}setRoll(e,t){return this.jumpTo({roll:e},t),this}cameraForBounds(e,t){e=V.convert(e).adjustAntiMeridian();let r=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,t)}_cameraForBoxAndBearing(e,r,n,i){let o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.e({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){let e=i.padding;i.padding={top:e,bottom:e,right:e,left:e}}let a=t.e(o,i.padding);i.padding=a;let s=this.transform,l=new V(e,r);return this.cameraHelper.cameraForBoxAndBearing(i,a,l,n,s)}fitBounds(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)}fitScreenCoordinates(e,r,n,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(t.P.convert(e)),this.transform.screenPointToLocation(t.P.convert(r)),n,i),i,o)}_fitInternal(e,r,n){return e?(delete(r=t.e(e,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}jumpTo(e,r){this.stop();let n=this._getTransformForUpdate(),i=!1,o=!1,a=!1,s=n.zoom;this.cameraHelper.handleJumpToCenterZoom(n,e);let l=n.zoom!==s;return"elevation"in e&&n.elevation!==+e.elevation&&n.setElevation(+e.elevation),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.setBearing(+e.bearing)),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.setPitch(+e.pitch)),"roll"in e&&n.roll!==+e.roll&&(a=!0,n.setRoll(+e.roll)),null==e.padding||n.isPaddingEqual(e.padding)||n.setPadding(e.padding),this._applyUpdatedTransform(n),this.fire(new t.l("movestart",r)).fire(new t.l("move",r)),l&&this.fire(new t.l("zoomstart",r)).fire(new t.l("zoom",r)).fire(new t.l("zoomend",r)),i&&this.fire(new t.l("rotatestart",r)).fire(new t.l("rotate",r)).fire(new t.l("rotateend",r)),o&&this.fire(new t.l("pitchstart",r)).fire(new t.l("pitch",r)).fire(new t.l("pitchend",r)),a&&this.fire(new t.l("rollstart",r)).fire(new t.l("roll",r)).fire(new t.l("rollend",r)),this.fire(new t.l("moveend",r))}calculateCameraOptionsFromTo(e,r,n,i=0){let o=t.a0.fromLngLat(e,r),a=t.a0.fromLngLat(n,i),s=a.x-o.x,l=a.y-o.y,u=a.z-o.z,c=Math.hypot(s,l,u);if(0===c)throw Error("Can't calculate camera options with same From and To");let h=Math.hypot(s,l),d=t.aj(this.transform.cameraToCenterDistance/c/this.transform.tileSize),f=180*Math.atan2(s,-l)/Math.PI,p=180*Math.acos(h/c)/Math.PI;return p=u<0?90-p:90+p,{center:a.toLngLat(),elevation:i,zoom:d,pitch:p,bearing:f}}calculateCameraOptionsFromCameraLngLatAltRotation(e,t,r,n,i){let o=this.transform.calculateCenterFromCameraLngLatAlt(e,t,r,n);return{center:o.center,elevation:o.elevation,zoom:o.zoom,bearing:r,pitch:n,roll:i}}easeTo(e,r){let n,i;this._stop(!1,e.easeId),(!1===(e=t.e({offset:[0,0],duration:500,easing:t.cn},e)).animate||!e.essential&&d.prefersReducedMotion)&&(e.duration=0);let o=this._getTransformForUpdate(),a=this.getBearing(),s=o.pitch,l=o.roll,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,h="roll"in e?this._normalizeBearing(e.roll,l):l,f="padding"in e?e.padding:o.padding,p=t.P.convert(e.offset);e.around&&(n=t.S.convert(e.around),i=o.locationToScreenPoint(n));let m={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},g=this.cameraHelper.handleEaseTo(o,{bearing:u,pitch:c,roll:h,padding:f,around:n,aroundPoint:i,offsetAsPoint:p,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||a!==u,this._pitching=this._pitching||c!==s,this._rolling=this._rolling||h!==l,this._padding=!o.isPaddingEqual(f),this._zooming=this._zooming||g.isZooming,this._easeId=e.easeId,this._prepareEase(r,e.noMoveStart,m),this.terrain&&this._prepareElevation(g.elevationCenter),this._ease(t=>{g.easeFunc(t),this.terrain&&!e.freezeElevation&&this._updateElevation(t),this._applyUpdatedTransform(o),this._fireMoveEvents(r)},t=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(r,t)},e),this}_prepareEase(e,r,n={}){this._moving=!0,r||n.moving||this.fire(new t.l("movestart",e)),this._zooming&&!n.zooming&&this.fire(new t.l("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new t.l("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new t.l("pitchstart",e)),this._rolling&&!n.rolling&&this.fire(new t.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let r=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&r!==this._elevationTarget){let t=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(t-(r-(t*e+this._elevationStart))/(1-e)),this._elevationTarget=r}this.transform.setElevation(t.C.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};let t=e.getCameraLngLat(),r=e.getCameraAltitude(),n=this.terrain?this.terrain.getElevationForLngLatZoom(t,e.zoom):0;if(r<n){let r=this.calculateCameraOptionsFromTo(t,n,e.center,e.elevation);return{pitch:r.pitch,zoom:r.zoom}}return{}}_applyUpdatedTransform(e){let t=[];if(t.push(e=>this._elevateCameraIfInsideTerrain(e)),this.transformCameraUpdate&&t.push(e=>this.transformCameraUpdate(e)),!t.length)return;let r=e.clone();for(let e of t){let t=r.clone(),{center:n,zoom:i,roll:o,pitch:a,bearing:s,elevation:l}=e(t);n&&t.setCenter(n),void 0!==l&&t.setElevation(l),void 0!==i&&t.setZoom(i),void 0!==o&&t.setRoll(o),void 0!==a&&t.setPitch(a),void 0!==s&&t.setBearing(s),r.apply(t)}this.transform.apply(r)}_fireMoveEvents(e){this.fire(new t.l("move",e)),this._zooming&&this.fire(new t.l("zoom",e)),this._rotating&&this.fire(new t.l("rotate",e)),this._pitching&&this.fire(new t.l("pitch",e)),this._rolling&&this.fire(new t.l("roll",e))}_afterEase(e,r){if(this._easeId&&r&&this._easeId===r)return;delete this._easeId;let n=this._zooming,i=this._rotating,o=this._pitching,a=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,n&&this.fire(new t.l("zoomend",e)),i&&this.fire(new t.l("rotateend",e)),o&&this.fire(new t.l("pitchend",e)),a&&this.fire(new t.l("rollend",e)),this.fire(new t.l("moveend",e))}flyTo(e,r){if(!e.essential&&d.prefersReducedMotion){let n=t.Q(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(n,r)}this.stop(),e=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.cn},e);let n=this._getTransformForUpdate(),i=n.bearing,o=n.pitch,a=n.roll,s=n.padding,l="bearing"in e?this._normalizeBearing(e.bearing,i):i,u="pitch"in e?+e.pitch:o,c="roll"in e?this._normalizeBearing(e.roll,a):a,h="padding"in e?e.padding:n.padding,f=t.P.convert(e.offset),p=n.centerPoint.add(f),m=n.screenPointToLocation(p),g=this.cameraHelper.handleFlyTo(n,{bearing:l,pitch:u,roll:c,padding:h,locationAtOffset:m,offsetAsPoint:f,center:e.center,minZoom:e.minZoom,zoom:e.zoom}),y=e.curve,v=Math.max(n.width,n.height),b=v/g.scaleOfZoom,_=g.pixelPathLength;"number"==typeof g.scaleOfMinZoom&&(y=Math.sqrt(v/g.scaleOfMinZoom/_*2));let x=y*y;function w(e){let t=(b*b-v*v+(e?-1:1)*x*x*_*_)/(2*(e?b:v)*x*_);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function T(e){return(Math.exp(e)+Math.exp(-e))/2}let E=w(!1),P=function(e){return T(E)/T(E+y*e)},C=function(e){var t;return v*((T(E)*(S(t=E+y*e)/T(t))-S(E))/x)/_},A=(w(!0)-E)/y;if(2e-6>Math.abs(_)||!isFinite(A)){if(1e-6>Math.abs(v-b))return this.easeTo(e,r);let t=b<v?-1:1;A=Math.abs(Math.log(b/v))/y,C=()=>0,P=e=>Math.exp(t*y*e)}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/y:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=i!==l,this._pitching=u!==o,this._rolling=c!==a,this._padding=!n.isPaddingEqual(h),this._prepareEase(r,!1),this.terrain&&this._prepareElevation(g.targetCenter),this._ease(d=>{let m=d*A,y=1/P(m),v=C(m);this._rotating&&n.setBearing(t.C.number(i,l,d)),this._pitching&&n.setPitch(t.C.number(o,u,d)),this._rolling&&n.setRoll(t.C.number(a,c,d)),this._padding&&(n.interpolatePadding(s,h,d),p=n.centerPoint.add(f)),g.easeFunc(d,y,v,p),this.terrain&&!e.freezeElevation&&this._updateElevation(d),this._applyUpdatedTransform(n),this._fireMoveEvents(r)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(r)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){var r;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}return e||null===(r=this.handlers)||void 0===r||r.stop(!1),this}_ease(e,t,r){!1===r.animate||0===r.duration?(e(1),t()):(this._easeStart=d.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,r){let n=Math.abs((e=t.aN(e,-180,180))-r);return Math.abs(e-360-r)<n&&(e-=360),Math.abs(e+360-r)<n&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(t.S.convert(e),this.transform.tileZoom):null}}let ih={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class id{constructor(e=ih){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e=>{e&&("metadata"===e.sourceDataType||"visibility"===e.sourceDataType||"style"===e.dataType||"terrain"===e.type)&&this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=f.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=f.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=f.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){f.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){let r=this._map._getUIString(`AttributionControl.${t}`);e.title=r,e.setAttribute("aria-label",r)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(e=>"string"!=typeof e?"":e)):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){let e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}let t=this._map.style.sourceCaches;for(let r in t){let n=t[r];if(n.used||n.usedForTerrain){let t=n.getSource();t.attribution&&0>e.indexOf(t.attribution)&&e.push(t.attribution)}}(e=e.filter(e=>String(e).trim())).sort((e,t)=>e.length-t.length);let r=(e=e.filter((t,r)=>{for(let n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0})).join(" | ");r!==this._attribHTML&&(this._attribHTML=r,e.length?(this._innerContainer.innerHTML=f.sanitize(r),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ip{constructor(e={}){this._updateCompact=()=>{let e=this._container.children;if(e.length){let t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact"):t.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=f.create("div","maplibregl-ctrl");let t=f.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){f.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class im{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){let t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){let t=this._currentlyRunning;for(let r of t?this._queue.concat(t):this._queue)if(r.id===e)return void(r.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw Error("Attempting to run(), but is already running.");let t=this._currentlyRunning=this._queue;for(let r of(this._queue=[],t))if(!r.cancelled&&(r.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var ig=t.aI([{name:"a_pos3d",type:"Int16",components:3}]);class iy extends t.E{constructor(e){super(),this._lastTilesetChange=d.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,r){this.sourceCache.update(e,r),this._renderableTilesKeys=[];let n={};for(let i of ep(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:r,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))n[i.key]=!0,this._renderableTilesKeys.push(i.key),this._tiles[i.key]||(i.terrainRttPosMatrix32f=new Float64Array(16),t.bX(i.terrainRttPosMatrix32f,0,t.$,t.$,0,0,1),this._tiles[i.key]=new er(i,this.tileSize),this._lastTilesetChange=d.now());for(let e in this._tiles)n[e]||delete this._tiles[e]}freeRtt(e){for(let t in this._tiles){let r=this._tiles[t];(!e||r.tileID.equals(e)||r.tileID.isChildOf(e)||e.isChildOf(r.tileID))&&(r.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,t){return t?this._getTerrainCoordsForTileRanges(e,t):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){let r={};for(let n of this._renderableTilesKeys){let i=this._tiles[n].tileID,o=e.clone(),a=t.b9();if(i.canonical.equals(e.canonical))t.bX(a,0,t.$,t.$,0,0,1);else if(i.canonical.isChildOf(e.canonical)){let r=i.canonical.z-e.canonical.z,n=i.canonical.x-(i.canonical.x>>r<<r),o=i.canonical.y-(i.canonical.y>>r<<r),s=t.$>>r;t.bX(a,0,s,s,0,0,1),t.M(a,a,[-n*s,-o*s,0])}else{if(!e.canonical.isChildOf(i.canonical))continue;{let r=e.canonical.z-i.canonical.z,n=e.canonical.x-(e.canonical.x>>r<<r),o=e.canonical.y-(e.canonical.y>>r<<r),s=t.$>>r;t.bX(a,0,t.$,t.$,0,0,1),t.M(a,a,[n*s,o*s,0]),t.N(a,a,[1/2**r,1/2**r,0])}}o.terrainRttPosMatrix32f=new Float32Array(a),r[n]=o}return r}_getTerrainCoordsForTileRanges(e,r){let n={};for(let i of this._renderableTilesKeys){let o=this._tiles[i].tileID;if(!this._isWithinTileRanges(o,r))continue;let a=e.clone(),s=t.b9();if(o.canonical.z===e.canonical.z){let r=e.canonical.x-o.canonical.x,n=e.canonical.y-o.canonical.y;t.bX(s,0,t.$,t.$,0,0,1),t.M(s,s,[r*t.$,n*t.$,0])}else if(o.canonical.z>e.canonical.z){let r=o.canonical.z-e.canonical.z,n=o.canonical.x-(o.canonical.x>>r<<r),i=o.canonical.y-(o.canonical.y>>r<<r),a=e.canonical.x-(o.canonical.x>>r),l=e.canonical.y-(o.canonical.y>>r),u=t.$>>r;t.bX(s,0,u,u,0,0,1),t.M(s,s,[-n*u+a*t.$,-i*u+l*t.$,0])}else{let r=e.canonical.z-o.canonical.z,n=e.canonical.x-(e.canonical.x>>r<<r),i=e.canonical.y-(e.canonical.y>>r<<r),a=(e.canonical.x>>r)-o.canonical.x,l=(e.canonical.y>>r)-o.canonical.y,u=t.$<<r;t.bX(s,0,u,u,0,0,1),t.M(s,s,[n*t.$+a*u,i*t.$+l*u,0])}a.terrainRttPosMatrix32f=new Float32Array(s),n[i]=a}return n}getSourceTile(e,t){let r=this.sourceCache._source,n=e.overscaledZ-this.deltaZoom;if(n>r.maxzoom&&(n=r.maxzoom),n<r.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(n).key);let i=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!i||!i.dem)&&t)for(;n>=r.minzoom&&(!i||!i.dem);)i=this.sourceCache.getTileByID(e.scaledTo(n--).key);return i}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,t){return t[e.canonical.z]&&e.canonical.x>=t[e.canonical.z].minTileX&&e.canonical.x<=t[e.canonical.z].maxTileX&&e.canonical.y>=t[e.canonical.z].minTileY&&e.canonical.y<=t[e.canonical.z].maxTileY}}class iv{constructor(e,t,r){this._meshCache={},this.painter=e,this.sourceCache=new iy(t),this.options=r,this.exaggeration="number"==typeof r.exaggeration?r.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,r,n,i=t.$){var o;if(!(r>=0&&r<i&&n>=0&&n<i))return 0;let a=this.getTerrainData(e),s=null===(o=a.tile)||void 0===o?void 0:o.dem;if(!s)return 0;let l=t.cr([],[r/i*t.$,n/i*t.$],a.u_terrain_matrix),u=[l[0]*s.dim,l[1]*s.dim],c=Math.floor(u[0]),h=Math.floor(u[1]),d=u[0]-c,f=u[1]-h;return s.get(c,h)*(1-d)*(1-f)+s.get(c+1,h)*d*(1-f)+s.get(c,h+1)*(1-d)*f+s.get(c+1,h+1)*d*f}getElevationForLngLatZoom(e,r){if(!t.cs(r,e.wrap()))return 0;let{tileID:n,mercatorX:i,mercatorY:o}=this._getOverscaledTileIDFromLngLatZoom(e,r);return this.getElevation(n,i%t.$,o%t.$,t.$)}getElevation(e,r,n,i=t.$){return this.getDEMElevation(e,r,n,i)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){let e=this.painter.context,r=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new t.T(e,r,e.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new t.T(e,new t.R({width:1,height:1}),e.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.af([])}let r=this.sourceCache.getSourceTile(e,!0);if(r&&r.dem&&(!r.demTexture||r.needsTerrainPrepare)){let e=this.painter.context;r.demTexture=this.painter.getTileTexture(r.dem.stride),r.demTexture?r.demTexture.update(r.dem.getPixels(),{premultiply:!1}):r.demTexture=new t.T(e,r.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),r.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),r.needsTerrainPrepare=!1}let n=r&&r+r.tileID.key+e.key;if(n&&!this._demMatrixCache[n]){let n=this.sourceCache.sourceCache._source.maxzoom,i=e.canonical.z-r.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=n?i=e.canonical.z-n:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let o=e.canonical.x-(e.canonical.x>>i<<i),a=e.canonical.y-(e.canonical.y>>i<<i),s=t.ct(new Float64Array(16),[1/(t.$<<i),1/(t.$<<i),0]);t.M(s,s,[o*t.$,a*t.$,0]),this._demMatrixCache[e.key]={matrix:s,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:r&&r.dem&&r.dem.dim||1,u_terrain_matrix:n?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:r&&r.dem&&r.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(r&&r.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:r}}getFramebuffer(e){let r=this.painter,n=r.width/devicePixelRatio,i=r.height/devicePixelRatio;return this._fbo&&(this._fbo.width!==n||this._fbo.height!==i)&&(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new t.T(r.context,{width:n,height:i,data:null},r.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(r.context.gl.NEAREST,r.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new t.T(r.context,{width:n,height:i,data:null},r.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(r.context.gl.NEAREST,r.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=r.context.createFramebuffer(n,i,!0,!1),this._fbo.depthAttachment.set(r.context.createRenderbuffer(r.context.gl.DEPTH_COMPONENT16,n,i))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let r=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,t=0;e<this._coordsTextureSize;e++)for(let n=0;n<this._coordsTextureSize;n++,t+=4)r[t+0]=255&n,r[t+1]=255&e,r[t+2]=n>>8<<4|e>>8,r[t+3]=0;let n=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(r.buffer)),i=new t.T(e,n,e.gl.RGBA,{premultiply:!1});return i.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=i,i}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);let r=new Uint8Array(4),n=this.painter.context,i=n.gl,o=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),a=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),s=Math.round(this.painter.height/devicePixelRatio);n.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),i.readPixels(o,s-a-1,1,1,i.RGBA,i.UNSIGNED_BYTE,r),n.bindFramebuffer.set(null);let l=r[0]+(r[2]>>4<<8),u=r[1]+((15&r[2])<<8),c=this.coordsIndex[255-r[3]],h=c&&this.sourceCache.getTileByID(c);if(!h)return null;let d=this._coordsTextureSize,f=(1<<h.tileID.canonical.z)*d;return new t.a0((h.tileID.canonical.x*d+l)/f+h.tileID.wrap,(h.tileID.canonical.y*d+u)/f,this.getElevation(h.tileID,l,u,d))}depthAtPoint(e){let t=new Uint8Array(4),r=this.painter.context,n=r.gl;return r.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),n.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,n.RGBA,n.UNSIGNED_BYTE,t),r.bindFramebuffer.set(null),(t[0]/0x1000000+t[1]/65536+t[2]/256+t[3])/256}getTerrainMesh(e){var r;let n=(null===(r=this.painter.style.projection)||void 0===r?void 0:r.transitionState)>0,i=n&&0===e.canonical.y,o=n&&e.canonical.y===(1<<e.canonical.z)-1,a=`m_${i?"n":""}_${o?"s":""}`;if(this._meshCache[a])return this._meshCache[a];let s=this.painter.context,l=new t.cu,u=new t.aM,c=this.meshSize,h=t.$/c,d=c*c;for(let e=0;e<=c;e++)for(let t=0;t<=c;t++)l.emplaceBack(t*h,e*h,0);for(let e=0;e<d;e+=c+1)for(let t=0;t<c;t++)u.emplaceBack(t+e,c+t+e+1,c+t+e+2),u.emplaceBack(t+e,c+t+e+2,t+e+1);let f=l.length,p=f+(c+1),m=(c+1)*c,g=i?t.bg:0,y=+!i,v=o?t.bh:t.$,b=+!o;for(let e=0;e<=c;e++)l.emplaceBack(e*h,g,y);for(let e=0;e<=c;e++)l.emplaceBack(e*h,v,b);for(let e=0;e<c;e++)u.emplaceBack(m+e,p+e,p+e+1),u.emplaceBack(m+e,p+e+1,m+e+1),u.emplaceBack(0+e,f+e+1,f+e),u.emplaceBack(0+e,0+e+1,f+e+1);let _=l.length,x=_+2*(c+1);for(let e of[0,1])for(let r=0;r<=c;r++)for(let n of[0,1])l.emplaceBack(e*t.$,r*h,n);for(let e=0;e<2*c;e+=2)u.emplaceBack(_+e,_+e+1,_+e+3),u.emplaceBack(_+e,_+e+3,_+e+2),u.emplaceBack(x+e,x+e+3,x+e+1),u.emplaceBack(x+e,x+e+2,x+e+3);let w=new e6(s.createVertexBuffer(l,ig.members),s.createIndexBuffer(u),t.aL.simpleSegment(0,0,l.length,u.length));return this._meshCache[a]=w,w}getMeshFrameDelta(e){return 2*Math.PI*t.bt/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,t){var r;let{tileID:n}=this._getOverscaledTileIDFromLngLatZoom(e,t);return null!==(r=this.getMinMaxElevation(n).minElevation)&&void 0!==r?r:0}getMinMaxElevation(e){let t=this.getTerrainData(e).tile,r={minElevation:null,maxElevation:null};return t&&t.dem&&(r.minElevation=t.dem.min*this.exaggeration,r.maxElevation=t.dem.max*this.exaggeration),r}_getOverscaledTileIDFromLngLatZoom(e,r){let n=t.a0.fromLngLat(e.wrap()),i=(1<<r)*t.$,o=n.x*i,a=n.y*i,s=Math.floor(o/t.$),l=Math.floor(a/t.$);return{tileID:new t.Z(r,0,r,s,l),mercatorX:o,mercatorY:a}}}class ib{constructor(e,t,r){this._context=e,this._size=t,this._tileSize=r,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){let r=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),n=new t.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return n.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),r.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),r.colorAttachment.set(n.texture),{id:e,fbo:r,texture:n,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(t=>e.id!==t),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(let e of this._recentlyUsed)if(!this._objects[e].inUse)return this._objects[e];if(this._objects.length>=this._size)throw Error("No free RenderPool available, call freeAllObjects() required!");let e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(let e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(e=>!e.inUse)}}let i_={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class ix{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new ib(e.context,30,t.sourceCache.tileSize*t.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){for(let r in this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter(r=>!e._layers[r].isHidden(t)),this._coordsAscending={},e.sourceCaches){this._coordsAscending[r]={};let t=e.sourceCaches[r].getVisibleCoordinates(),n=e.sourceCaches[r].getSource(),i=n instanceof W?n.terrainTileRanges:null;for(let e of t){let t=this.terrain.sourceCache.getTerrainCoords(e,i);for(let e in t)this._coordsAscending[r][e]||(this._coordsAscending[r][e]=[]),this._coordsAscending[r][e].push(t[e])}}for(let t of(this._coordsAscendingStr={},e._order)){let r=e._layers[t],n=r.source;if(i_[r.type]&&!this._coordsAscendingStr[n])for(let e in this._coordsAscendingStr[n]={},this._coordsAscending[n])this._coordsAscendingStr[n][e]=this._coordsAscending[n][e].map(e=>e.key).sort().join()}for(let e of this._renderableTiles)for(let t in this._coordsAscendingStr){let r=this._coordsAscendingStr[t][e.tileID.key];r&&r!==e.rttCoords[t]&&(e.rtt=[])}}renderLayer(e,r){if(e.isHidden(this.painter.transform.zoom))return!1;let n=Object.assign(Object.assign({},r),{isRenderingToTexture:!0}),i=e.type,o=this.painter,a=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(i_[i]&&(this._prevType&&i_[this._prevType]||this._stacks.push([]),this._prevType=i,this._stacks[this._stacks.length-1].push(e.id),!a))return!0;if(i_[this._prevType]||i_[i]&&a){this._prevType=i;let e=this._stacks.length-1,r=this._stacks[e]||[];for(let i of this._renderableTiles){if(this.pool.isFull()&&(nv(this.painter,this.terrain,this._rttTiles,n),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(i),i.rtt[e]){let t=this.pool.getObjectForId(i.rtt[e].id);if(t.stamp===i.rtt[e].stamp){this.pool.useObject(t);continue}}let a=this.pool.getOrCreateFreeObject();this.pool.useObject(a),this.pool.stampObject(a),i.rtt[e]={id:a.id,stamp:a.stamp},o.context.bindFramebuffer.set(a.fbo.framebuffer),o.context.clear({color:t.be.transparent,stencil:0}),o.currentStencilSource=void 0;for(let e=0;e<r.length;e++){let t=o.style._layers[r[e]],s=t.source?this._coordsAscending[t.source][i.tileID.key]:[i.tileID];o.context.viewport.set([0,0,a.fbo.width,a.fbo.height]),o._renderTileClippingMasks(t,s,!0),o.renderLayer(o,o.style.sourceCaches[t.source],t,s,n),t.source&&(i.rttCoords[t.source]=this._coordsAscendingStr[t.source][i.tileID.key])}}return nv(this.painter,this.terrain,this._rttTiles,n),this._rttTiles=[],this.pool.freeAllObjects(),i_[i]}return!1}}let iw={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},iS={hash:!1,interactive:!0,bearingSnap:7,attributionControl:ih,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},iT={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class iE{constructor(e,r,n=!1){this.mousedown=e=>{this.startMove(e,f.mousePos(this.element,e)),f.addEventListener(window,"mousemove",this.mousemove),f.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=e=>{this.move(e,f.mousePos(this.element,e))},this.mouseup=e=>{this._rotatePitchHanlder.dragEnd(e),this.offTemp()},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=f.touchPos(this.element,e.targetTouches)[0],this.startMove(e,this._startPos),f.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),f.addEventListener(window,"touchend",this.touchend))},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=f.touchPos(this.element,e.targetTouches)[0],this.move(e,this._lastPos))},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=r;let i=new nW;this._rotatePitchHanlder=new nG({clickTolerance:3,move:(e,i)=>{let o=r.getBoundingClientRect(),a=new t.P((o.bottom-o.top)/2,(o.right-o.left)/2);return{bearingDelta:t.cm(new t.P(e.x,i.y),i,a),pitchDelta:n?-.5*(i.y-e.y):void 0}},moveStateManager:i,enable:!0,assignEvents:()=>{}}),this.map=e,f.addEventListener(r,"mousedown",this.mousedown),f.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),f.addEventListener(r,"touchcancel",this.reset)}startMove(e,t){this._rotatePitchHanlder.dragStart(e,t),f.disableDrag()}move(e,t){let r=this.map,{bearingDelta:n,pitchDelta:i}=this._rotatePitchHanlder.dragMove(e,t)||{};n&&r.setBearing(r.getBearing()+n),i&&r.setPitch(r.getPitch()+i)}off(){let e=this.element;f.removeEventListener(e,"mousedown",this.mousedown),f.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),f.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),f.removeEventListener(window,"touchend",this.touchend),f.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){f.enableDrag(),f.removeEventListener(window,"mousemove",this.mousemove),f.removeEventListener(window,"mouseup",this.mouseup),f.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),f.removeEventListener(window,"touchend",this.touchend)}}function iP(e,r,n,i=!1){if(i||!n.getCoveringTilesDetailsProvider().allowWorldCopies())return null==e?void 0:e.wrap();let o=new t.S(e.lng,e.lat);if(e=new t.S(e.lng,e.lat),r){let i=new t.S(e.lng-360,e.lat),o=new t.S(e.lng+360,e.lat),a=n.locationToScreenPoint(e).distSqr(r);n.locationToScreenPoint(i).distSqr(r)<a?e=i:n.locationToScreenPoint(o).distSqr(r)<a&&(e=o)}for(;Math.abs(e.lng-n.center.lng)>180;){let t=n.locationToScreenPoint(e);if(t.x>=0&&t.y>=0&&t.x<=n.width&&t.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e.lng!==o.lng&&n.isPointOnMapSurface(n.locationToScreenPoint(e))?e:o}let iC={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function iA(e,t,r){let n=e.classList;for(let e in iC)n.remove(`maplibregl-${r}-anchor-${e}`);n.add(`maplibregl-${r}-anchor-${t}`)}class iM extends t.E{constructor(e){if(super(),this._onKeyPress=e=>{let t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},this._onMapClick=e=>{let t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},this._update=e=>{if(!this._map)return;let t=this._map.loaded()&&!this._map.isMoving();"terrain"!==(null==e?void 0:e.type)&&("render"!==(null==e?void 0:e.type)||t)||this._map.once("render",this._update),this._lngLat=iP(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let r="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?r=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(r=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||e&&"moveend"!==e.type||(this._pos=this._pos.round()),f.setTransform(this._element,`${iC[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} ${r}`),d.frameAsync(new AbortController).then(()=>{this._updateOpacity(e&&"moveend"===e.type)}).catch(()=>{})},this._onMove=e=>{if(!this._isDragging){let t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.l("dragstart"))),this.fire(new t.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.l("dragend")),this._state="inactive"},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,this.setOpacity(null==e?void 0:e.opacity,null==e?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=t.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=f.create("div");let r=f.createNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"display","block"),r.setAttributeNS(null,"height","41px"),r.setAttributeNS(null,"width","27px"),r.setAttributeNS(null,"viewBox","0 0 27 41");let n=f.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");let i=f.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"fill-rule","nonzero");let o=f.createNS("http://www.w3.org/2000/svg","g");for(let e of(o.setAttributeNS(null,"transform","translate(3.0, 29.0)"),o.setAttributeNS(null,"fill","#000000"),[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}])){let t=f.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),o.appendChild(t)}let a=f.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill",this._color);let s=f.createNS("http://www.w3.org/2000/svg","path");s.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),a.appendChild(s);let l=f.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"opacity","0.25"),l.setAttributeNS(null,"fill","#000000");let u=f.createNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),l.appendChild(u);let c=f.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(6.0, 7.0)"),c.setAttributeNS(null,"fill","#FFFFFF");let h=f.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"transform","translate(8.0, 8.0)");let d=f.createNS("http://www.w3.org/2000/svg","circle");d.setAttributeNS(null,"fill","#000000"),d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"cx","5.5"),d.setAttributeNS(null,"cy","5.5"),d.setAttributeNS(null,"r","5.4999962");let p=f.createNS("http://www.w3.org/2000/svg","circle");p.setAttributeNS(null,"fill","#FFFFFF"),p.setAttributeNS(null,"cx","5.5"),p.setAttributeNS(null,"cy","5.5"),p.setAttributeNS(null,"r","5.4999962"),h.appendChild(d),h.appendChild(p),i.appendChild(o),i.appendChild(a),i.appendChild(l),i.appendChild(c),i.appendChild(h),r.appendChild(i),r.setAttributeNS(null,"height",41*this._scale+"px"),r.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(r),this._offset=t.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()}),iA(this._element,this._anchor,"marker"),e&&e.className)for(let t of e.className.split(" "))this._element.classList.add(t);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),f.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.S.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){let t=Math.abs(13.5)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){let e=this._popup;return this._element.style.opacity===this._opacityWhenCovered||e&&(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map))),this}_updateOpacity(e=!1){var r,n;let i=null===(r=this._map)||void 0===r?void 0:r.terrain,o=this._map.transform.isLocationOccluded(this._lngLat);if(!i||o){let e=o?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==e&&(this._element.style.opacity=e))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let a=this._map,s=a.terrain.depthAtPoint(this._pos),l=a.terrain.getElevationForLngLatZoom(this._lngLat,a.transform.tileZoom);if(a.transform.lngLatToCameraDepth(this._lngLat,l)-s<.006)return void(this._element.style.opacity=this._opacity);let u=-this._offset.y/a.transform.pixelsPerMeter,c=Math.sin(a.getPitch()*Math.PI/180)*u,h=a.terrain.depthAtPoint(new t.P(this._pos.x,this._pos.y-this._offset.y)),d=a.transform.lngLatToCameraDepth(this._lngLat,l+c)-h>.006;(null===(n=this._popup)||void 0===n?void 0:n.isOpen())&&d&&this._popup.remove(),this._element.style.opacity=d?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=t.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,t){return(void 0===this._opacity||void 0===e&&void 0===t)&&(this._opacity="1",this._opacityWhenCovered="0.2"),void 0!==e&&(this._opacity=e),void 0!==t&&(this._opacityWhenCovered=t),this._map&&this._updateOpacity(!0),this}}let ik={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},iO=0,iI=!1,iR={maxWidth:100,unit:"metric"};function iD(e,t,r){let n=r&&r.maxWidth||100,i=e._container.clientHeight/2,o=e._container.clientWidth/2,a=e.unproject([o-n/2,i]),s=e.unproject([o+n/2,i]),l=Math.min(n,Math.round(e.project(s).x-e.project(a).x),e._container.clientWidth),u=a.distanceTo(s);if(r&&"imperial"===r.unit){let r=3.2808*u;r>5280?iL(t,l,r/5280,e._getUIString("ScaleControl.Miles")):iL(t,l,r,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?iL(t,l,u/1852,e._getUIString("ScaleControl.NauticalMiles")):u>=1e3?iL(t,l,u/1e3,e._getUIString("ScaleControl.Kilometers")):iL(t,l,u,e._getUIString("ScaleControl.Meters"))}function iL(e,t,r,n){let i=function(e){let t=Math.pow(10,`${Math.floor(e)}`.length-1),r=e/t;return t*(r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){let t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r))}(r);e.style.width=i/r*t+"px",e.innerHTML=`${i}&nbsp;${n}`}let ij={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0};e.AJAXError=t.cy,e.Event=t.l,e.Evented=t.E,e.LngLat=t.S,e.MercatorCoordinate=t.a0,e.Point=t.P,e.addProtocol=t.cz,e.config=t.a,e.removeProtocol=t.cA,e.AttributionControl=id,e.BoxZoomHandler=nB,e.CanvasSource=Z,e.CooperativeGesturesHandler=io,e.DoubleClickZoomHandler=n7,e.DragPanHandler=it,e.DragRotateHandler=ir,e.EdgeInsets=te,e.FullscreenControl=class extends t.E{constructor(e={}){super(),this._onFullscreenChange=()=>{var e;let t=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.fullscreenElement;)t=t.shadowRoot.fullscreenElement;t===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,e&&e.container&&(e.container instanceof HTMLElement?this._container=e.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=f.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){f.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let e=this._fullscreenButton=f.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);f.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new t.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},e.GeoJSONSource=$,e.GeolocateControl=class extends t.E{constructor(e){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{let r=new t.S(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,i=this._map.getBearing(),o=t.e({bearing:i},this.options.fitBoundsOptions),a=V.fromLngLat(r,n);this._map.fitBounds(a,o,{geolocateSource:!0})},this._updateMarker=e=>{if(e){let r=new t.S(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&iI)return;this.options.trackUserLocation&&this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=f.create("button","maplibregl-ctrl-geolocate",this._container),f.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(!1===e){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");let e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{let e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=f.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new iM({element:this._dotElement}),this._circleElement=f.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new iM({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.l("trackuserlocationend")),this.fire(new t.l("userlocationlostfocus")))})}},this.options=t.e({},ik,e)}onAdd(e){return this._map=e,this._container=f.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return t._(this,arguments,void 0,function*(e=!1){if(void 0!==l&&!e)return l;if(void 0===window.navigator.permissions)return l=!!window.navigator.geolocation;try{let e=yield window.navigator.permissions.query({name:"geolocation"});l="denied"!==e.state}catch(e){l=!!window.navigator.geolocation}return l})})().then(e=>this._finishSetupUI(e)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),f.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,iO=0,iI=!1}_isOutOfMapMaxBounds(e){let t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){let e=this._map.getBounds(),t=e.getSouthEast(),r=e.getNorthEast(),n=t.distanceTo(r),i=Math.ceil(this._accuracy/(n/this._map._container.clientHeight)*2);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":iO--,iI=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.l("trackuserlocationstart")),this.fire(new t.l("userlocationfocus"));break;default:throw Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++iO>1?(e={maximumAge:6e5,timeout:0},iI=!0):(e=this.options.positionOptions,iI=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},e.GlobeControl=class{constructor(){this._toggleProjection=()=>{var e;let t=null===(e=this._map.getProjection())||void 0===e?void 0:e.type;this._map.setProjection("mercator"!==t&&t?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var e;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),"globe"===(null===(e=this._map.getProjection())||void 0===e?void 0:e.type)?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(e){return this._map=e,this._container=f.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=f.create("button","maplibregl-ctrl-globe",this._container),f.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){f.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},e.Hash=nw,e.ImageSource=W,e.KeyboardHandler=n5,e.LngLatBounds=V,e.LogoControl=ip,e.Map=class extends ic{constructor(e){var r,n;t.cv.mark(t.cw.create);let i=Object.assign(Object.assign(Object.assign({},iS),e),{canvasContextAttributes:Object.assign(Object.assign({},iS.canvasContextAttributes),e.canvasContextAttributes)});if(null!=i.minZoom&&null!=i.maxZoom&&i.minZoom>i.maxZoom)throw Error("maxZoom must be greater than or equal to minZoom");if(null!=i.minPitch&&null!=i.maxPitch&&i.minPitch>i.maxPitch)throw Error("maxPitch must be greater than or equal to minPitch");if(null!=i.minPitch&&i.minPitch<0)throw Error("minPitch must be greater than or equal to 0");if(null!=i.maxPitch&&i.maxPitch>180)throw Error("maxPitch must be less than or equal to 180");let o=new ts,a=new th;if(void 0!==i.minZoom&&o.setMinZoom(i.minZoom),void 0!==i.maxZoom&&o.setMaxZoom(i.maxZoom),void 0!==i.minPitch&&o.setMinPitch(i.minPitch),void 0!==i.maxPitch&&o.setMaxPitch(i.maxPitch),void 0!==i.renderWorldCopies&&o.setRenderWorldCopies(i.renderWorldCopies),super(o,a,{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new im,this._controls=[],this._mapId=t.a6(),this._contextLost=e=>{e.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new t.l("webglcontextlost",{originalEvent:e}))},this._contextRestored=e=>{this._setupPainter(),this.resize(),this._update(),this.fire(new t.l("webglcontextrestored",{originalEvent:e}))},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},i.canvasContextAttributes),this._trackResize=!0===i.trackResize,this._bearingSnap=i.bearingSnap,this._centerClampedToGround=i.centerClampedToGround,this._refreshExpiredTiles=!0===i.refreshExpiredTiles,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=!0===i.crossSourceCollisions,this._collectResourceTiming=!0===i.collectResourceTiming,this._locale=Object.assign(Object.assign({},iw),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this.transformCameraUpdate=i.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=!0===i.cancelPendingTileRequestsWhileZooming,this._imageQueueHandle=u.addThrottleControl(()=>this.isMoving()),this._requestManager=new _(i.transformRequest),"string"==typeof i.container){if(this._container=document.getElementById(i.container),!this._container)throw Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let e=!1,t=nx(e=>{this._trackResize&&!this._removed&&(this.resize(e),this.redraw())},50);this._resizeObserver=new ResizeObserver(r=>{e?t(r):e=!0}),this._resizeObserver.observe(this._container)}this.handlers=new iu(this,i),this._hash=i.hash&&new nw("string"==typeof i.hash&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,elevation:i.elevation,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,roll:i.roll}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,t.e({},i.fitBoundsOptions,{duration:0}))));let s="string"==typeof i.style||"globe"!==(null===(n=null===(r=i.style)||void 0===r?void 0:r.projection)||void 0===n?void 0:n.type);this.resize(null,s),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new id("boolean"==typeof i.attributionControl?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new ip,i.logoPosition),this.on("style.load",()=>{if(s||this._resizeTransform(),this.transform.unmodified){let e=t.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(e)}}),this.on("data",e=>{this._update("style"===e.dataType),this.fire(new t.l(`${e.dataType}data`,e))}),this.on("dataloading",e=>{this.fire(new t.l(`${e.dataType}dataloading`,e))}),this.on("dataabort",e=>{this.fire(new t.l("sourcedataabort",e))})}_getMapId(){return this._mapId}setGlobalStateProperty(e,t){return this.style.setGlobalStateProperty(e,t),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(e,r){if(void 0===r&&(r=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.k(Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let n=e.onAdd(this);this._controls.push(e);let i=this._controlPositions[r];return -1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.k(Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let r=this._controls.indexOf(e);return r>-1&&this._controls.splice(r,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,r,n){return null==n&&this.terrain&&(n=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e,t,r,n)}resize(e,r=!0){let[n,i]=this._containerDimensions(),o=this._getClampedPixelRatio(n,i);if(this._resizeCanvas(n,i,o),this.painter.resize(n,i,o),this.painter.overLimit()){let e=this.painter.context.gl;this._maxCanvasSize=[e.drawingBufferWidth,e.drawingBufferHeight];let t=this._getClampedPixelRatio(n,i);this._resizeCanvas(n,i,t),this.painter.resize(n,i,t)}this._resizeTransform(r);let a=!this._moving;return a&&(this.stop(),this.fire(new t.l("movestart",e)).fire(new t.l("move",e))),this.fire(new t.l("resize",e)),a&&this.fire(new t.l("moveend",e)),this}_resizeTransform(e=!0){var t;let[r,n]=this._containerDimensions();this.transform.resize(r,n,e),null===(t=this._requestedCameraState)||void 0===t||t.resize(r,n,e)}_getClampedPixelRatio(e,t){let{0:r,1:n}=this._maxCanvasSize,i=this.getPixelRatio(),o=e*i,a=t*i;return Math.min(o>r?r/o:1,a>n?n/a:1)*i}getPixelRatio(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(V.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.setMinZoom(e),this._update(),this.getZoom()<e&&this.setZoom(e),this;throw Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.setMaxZoom(e),this._update(),this.getZoom()>e&&this.setZoom(e),this;throw Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.setMinPitch(e),this._update(),this.getPitch()<e&&this.setPitch(e),this;throw Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>180)throw Error("maxPitch must be less than or equal to 180");if(e>=this.transform.minPitch)return this.transform.setMaxPitch(e),this._update(),this.getPitch()>e&&this.setPitch(e),this;throw Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.setRenderWorldCopies(e),this._update()}project(e){return this.transform.locationToScreenPoint(t.S.convert(e),this.style&&this.terrain)}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this.terrain)}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}_createDelegatedListener(e,t,r){if("mouseenter"===e||"mouseover"===e){let n=!1;return{layers:t,listener:r,delegates:{mousemove:i=>{let o=t.filter(e=>this.getLayer(e)),a=0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[];a.length?n||(n=!0,r.call(this,new nI(e,this,i.originalEvent,{features:a}))):n=!1},mouseout:()=>{n=!1}}}}if("mouseleave"===e||"mouseout"===e){let n=!1;return{layers:t,listener:r,delegates:{mousemove:i=>{let o=t.filter(e=>this.getLayer(e));(0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[]).length?n=!0:n&&(n=!1,r.call(this,new nI(e,this,i.originalEvent)))},mouseout:t=>{n&&(n=!1,r.call(this,new nI(e,this,t.originalEvent)))}}}}return{layers:t,listener:r,delegates:{[e]:e=>{let n=t.filter(e=>this.getLayer(e)),i=0!==n.length?this.queryRenderedFeatures(e.point,{layers:n}):[];i.length&&(e.features=i,r.call(this,e),delete e.features)}}}}_saveDelegatedListener(e,t){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(t)}_removeDelegatedListener(e,t,r){if(!this._delegatedListeners||!this._delegatedListeners[e])return;let n=this._delegatedListeners[e];for(let e=0;e<n.length;e++){let i=n[e];if(i.listener===r&&i.layers.length===t.length&&i.layers.every(e=>t.includes(e))){for(let e in i.delegates)this.off(e,i.delegates[e]);return void n.splice(e,1)}}}on(e,t,r){if(void 0===r)return super.on(e,t);let n="string"==typeof t?[t]:t,i=this._createDelegatedListener(e,n,r);for(let t in this._saveDelegatedListener(e,i),i.delegates)this.on(t,i.delegates[t]);return{unsubscribe:()=>{this._removeDelegatedListener(e,n,r)}}}once(e,t,r){if(void 0===r)return super.once(e,t);let n="string"==typeof t?[t]:t,i=this._createDelegatedListener(e,n,r);for(let t in i.delegates){let o=i.delegates[t];i.delegates[t]=(...t)=>{this._removeDelegatedListener(e,n,r),o(...t)}}for(let t in this._saveDelegatedListener(e,i),i.delegates)this.once(t,i.delegates[t]);return this}off(e,t,r){return void 0===r?super.off(e,t):(this._removeDelegatedListener(e,"string"==typeof t?[t]:t,r),this)}queryRenderedFeatures(e,r){let n;if(!this.style)return[];let i=e instanceof t.P||Array.isArray(e),o=i?e:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(i?{}:e)||{},o instanceof t.P||"number"==typeof o[0])n=[t.P.convert(o)];else{let e=t.P.convert(o[0]),r=t.P.convert(o[1]);n=[e,new t.P(r.x,e.y),r,new t.P(e.x,r.y),e]}return this.style.queryRenderedFeatures(n,r,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(e,r){return!1!==(r=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(e,r))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){let t=this._locale[e];if(null==t)throw Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){var r,n;if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(e,t));let i=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new tW(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,i):this.style.loadJSON(e,t,i)):(null===(n=null===(r=this.style)||void 0===r?void 0:r.projection)||void 0===n||n.destroy(),delete this.style),this}_lazyInitEmptyStyle(){this.style||(this.style=new tW(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,r){if("string"==typeof e){let n=this._requestManager.transformRequest(e,"Style");t.j(n,new AbortController).then(e=>{this._updateDiff(e.data,r)}).catch(e=>{e&&this.fire(new t.k(e))})}else"object"==typeof e&&this._updateDiff(e,r)}_updateDiff(e,r){try{this.style.setState(e,r)&&this._update(!0)}catch(n){t.w(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(e,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){let r=this.style&&this.style.sourceCaches[e];if(void 0!==r)return r.loaded();this.fire(new t.k(Error(`There is no source with ID '${e}'`)))}setTerrain(e){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e){let r=this.style.sourceCaches[e.source];if(!r)throw Error(`cannot load terrain, because there exists no source with ID: ${e.source}`);for(let n in null===this.terrain&&r.reload(),this.style._layers){let r=this.style._layers[n];"hillshade"===r.type&&r.source===e.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),"color-relief"===r.type&&r.source===e.source&&t.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new iv(this.painter,r,e),this.painter.renderToTexture=new ix(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=t=>{var r;"style"===t.dataType?this.terrain.sourceCache.freeRtt():"source"===t.dataType&&t.tile&&(t.sourceId!==e.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),"image"===(null===(r=t.source)||void 0===r?void 0:r.type)?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(t.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new t.l("terrain",{terrain:e})),this}getTerrain(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}areTilesLoaded(){let e=this.style&&this.style.sourceCaches;for(let t in e){let r=e[t]._tiles;for(let e in r){let t=r[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}setSourceTileLodParams(e,t,r){if(r){let n=this.getSource(r);if(!n)throw Error(`There is no source with ID "${r}", cannot set LOD parameters`);n.calculateTileZoom=eh(Math.max(1,e),Math.max(1,t))}else for(let r in this.style.sourceCaches)this.style.sourceCaches[r].getSource().calculateTileZoom=eh(Math.max(1,e),Math.max(1,t));return this._update(!0),this}refreshTiles(e,r){let n=this.style.sourceCaches[e];if(!n)throw Error(`There is no source cache with ID "${e}", cannot refresh tile`);void 0===r?n.reload(!0):n.refreshTiles(r.map(e=>new t.a3(e.z,e.x,e.y)))}addImage(e,r,n={}){let{pixelRatio:i=1,sdf:o=!1,stretchX:a,stretchY:s,content:l,textFitWidth:u,textFitHeight:c}=n;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||t.b(r))){if(void 0===r.width||void 0===r.height)return this.fire(new t.k(Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:n,height:h,data:d}=r;return this.style.addImage(e,{data:new t.R({width:n,height:h},new Uint8Array(d)),pixelRatio:i,stretchX:a,stretchY:s,content:l,textFitWidth:u,textFitHeight:c,sdf:o,version:0,userImage:r}),r.onAdd&&r.onAdd(this,e),this}}{let{width:n,height:h,data:f}=d.getImageData(r);this.style.addImage(e,{data:new t.R({width:n,height:h},f),pixelRatio:i,stretchX:a,stretchY:s,content:l,textFitWidth:u,textFitHeight:c,sdf:o,version:0})}}updateImage(e,r){let n=this.style.getImage(e);if(!n)return this.fire(new t.k(Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let{width:i,height:o,data:a}=r instanceof HTMLImageElement||t.b(r)?d.getImageData(r):r;if(void 0===i||void 0===o)return this.fire(new t.k(Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==n.data.width||o!==n.data.height)return this.fire(new t.k(Error("The width and height of the updated image must be that same as the previous version of the image")));let s=!(r instanceof HTMLImageElement||t.b(r));return n.data.replace(a,s),this.style.updateImage(e,n),this}getImage(e){return this.style.getImage(e)}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.k(Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e){return u.getImage(this._requestManager.transformRequest(e,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}setFilter(e,t,r={}){return this.style.setFilter(e,t,r),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,r,n={}){return this.style.setPaintProperty(e,t,r,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,r,n={}){return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e,t={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t,r={}){return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,r,e=>{e||this._update(!0)}),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,e=>{e||this._update(!0)}),this}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setSky(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSky(e,t),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){let e=this._container;e.classList.add("maplibregl-map");let t=this._canvasContainer=f.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=f.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let r=this._containerDimensions(),n=this._getClampedPixelRatio(r[0],r[1]);this._resizeCanvas(r[0],r[1],n);let i=this._controlContainer=f.create("div","maplibregl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{o[e]=f.create("div",`maplibregl-ctrl-${e} `,i)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t,r){this._canvas.width=Math.floor(r*e),this._canvas.height=Math.floor(r*t),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){let e=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),t=null;this._canvas.addEventListener("webglcontextcreationerror",r=>{t={requestedAttributes:e},r&&(t.statusMessage=r.statusMessage,t.type=r.type)},{once:!0});let r=null;if(!(r=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,e):this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e))){let e="Failed to initialize WebGL";throw t?(t.message=e,Error(JSON.stringify(t))):Error(e)}this.painter=new n_(r,this.transform),p.testSupport(r)}migrateProjection(e,r){super.migrateProjection(e,r),this.painter.transform=e,this.fire(new t.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded&&(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint()),this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){var r,n,i,o,a;let s=this._idleTriggered?this._fadeDuration:0,l=(null===(r=this.style.projection)||void 0===r?void 0:r.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let e=this.transform.zoom,r=d.now();this.style.zoomHistory.update(e,r);let n=new t.F(e,{now:r,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),i=n.crossFadingFactor();1===i&&i===this._crossFadingFactor||(u=!0,this._crossFadingFactor=i),this.style.update(n)}let c=(null===(n=this.style.projection)||void 0===n?void 0:n.transitionState)>0!==l;null===(i=this.style.projection)||void 0===i||i.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState(null===(o=this.style.projection)||void 0===o?void 0:o.transitionState,null===(a=this.style.projection)||void 0===a?void 0:a.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||c)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,s,this._crossSourceCollisions,c),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new t.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.cv.mark(t.cw.load),this.fire(new t.l("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.l("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0,t.cv.mark(t.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var e;for(let e of(this._hash&&this._hash.remove(),this._controls))e.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),u.removeThrottleControl(this._imageQueueHandle),null===(e=this._resizeObserver)||void 0===e||e.disconnect();let r=this.painter.context.gl.getExtension("WEBGL_lose_context");(null==r?void 0:r.loseContext)&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),f.remove(this._canvasContainer),f.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),t.cv.clearMetrics(),this._removed=!0,this.fire(new t.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,d.frame(this._frameRequest,e=>{t.cv.frame(e),this._frameRequest=null;try{this._render(e)}catch(e){if(!t.cx(e)&&e.message!==r5)throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get version(){return c}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(e){return this._lazyInitEmptyStyle(),this.style.setProjection(e),this._update(!0)}},e.MapMouseEvent=nI,e.MapTouchEvent=nR,e.MapWheelEvent=nD,e.Marker=iM,e.NavigationControl=class{constructor(e){this._updateZoomButtons=()=>{let e=this._map.getZoom(),t=e===this._map.getMaxZoom(),r=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,t)=>{let r=this._map._getUIString(`NavigationControl.${t}`);e.title=r,e.setAttribute("aria-label",r)},this.options=t.e({},iT,e),this._container=f.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),f.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),f.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=f.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new iE(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){f.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){let r=f.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}},e.Popup=class extends t.E{constructor(e){super(),this._updateOpacity=()=>{void 0!==this.options.locationOccludedOpacity&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&f.remove(this._content),this._container&&(f.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new t.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=f.create("div","maplibregl-popup",this._map.getContainer()),this._tip=f.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let e of this.options.className.split(" "))this._container.classList.add(e);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=iP(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;let r=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let n=this.options.anchor,i=function e(r){if(r){if("number"==typeof r){let e=Math.round(Math.abs(r)/Math.SQRT2);return{center:new t.P(0,0),top:new t.P(0,r),"top-left":new t.P(e,e),"top-right":new t.P(-e,e),bottom:new t.P(0,-r),"bottom-left":new t.P(e,-e),"bottom-right":new t.P(-e,-e),left:new t.P(r,0),right:new t.P(-r,0)}}if(r instanceof t.P||Array.isArray(r)){let e=t.P.convert(r);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:t.P.convert(r.center||[0,0]),top:t.P.convert(r.top||[0,0]),"top-left":t.P.convert(r["top-left"]||[0,0]),"top-right":t.P.convert(r["top-right"]||[0,0]),bottom:t.P.convert(r.bottom||[0,0]),"bottom-left":t.P.convert(r["bottom-left"]||[0,0]),"bottom-right":t.P.convert(r["bottom-right"]||[0,0]),left:t.P.convert(r.left||[0,0]),right:t.P.convert(r.right||[0,0])}}return e(new t.P(0,0))}(this.options.offset);if(!n){let e;let t=this._container.offsetWidth,o=this._container.offsetHeight;e=r.y+i.bottom.y<o?["top"]:r.y>this._map.transform.height-o?["bottom"]:[],r.x<t/2?e.push("left"):r.x>this._map.transform.width-t/2&&e.push("right"),n=0===e.length?"bottom":e.join("-")}let o=r.add(i[n]);this.options.subpixelPositioning||(o=o.round()),f.setTransform(this._container,`${iC[n]} translate(${o.x}px,${o.y}px)`),iA(this._container,n,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=t.e(Object.create(ij),e)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.S.convert(e),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){let t;let r=document.createDocumentFragment(),n=document.createElement("body");for(n.innerHTML=e;t=n.firstChild;)r.appendChild(t);return this.setDOMContent(r)}getMaxWidth(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=f.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){return this._container&&this._container.classList.add(e),this}removeClassName(e){return this._container&&this._container.classList.remove(e),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}setSubpixelPositioning(e){this.options.subpixelPositioning=e}_createCloseButton(){this.options.closeButton&&(this._closeButton=f.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let e=this._container.querySelector("a[href], [tabindex]:not([tabindex='-1']), [contenteditable]:not([contenteditable='false']), button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled])");e&&e.focus()}},e.RasterDEMTileSource=q,e.RasterTileSource=H,e.ScaleControl=class{constructor(e){this._onMove=()=>{iD(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,iD(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},iR),e)}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._container=f.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){f.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},e.ScrollZoomHandler=n8,e.Style=tW,e.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=e}onAdd(e){return this._map=e,this._container=f.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=f.create("button","maplibregl-ctrl-terrain",this._container),f.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){f.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},e.TwoFingersTouchPitchHandler=n3,e.TwoFingersTouchRotateHandler=n1,e.TwoFingersTouchZoomHandler=nJ,e.TwoFingersTouchZoomRotateHandler=ii,e.VectorTileSource=G,e.VideoSource=X,e.addSourceType=(e,r)=>t._(void 0,void 0,void 0,function*(){if(Y(e))throw Error(`A source type called "${e}" already exists.`);K[e]=r}),e.clearPrewarmedResources=function(){let e=o;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(I),o=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},e.createTileMesh=t_,e.getMaxParallelImageRequests=function(){return t.a.MAX_PARALLEL_IMAGE_REQUESTS},e.getRTLTextPluginStatus=function(){return et().getRTLTextPluginStatus()},e.getVersion=function(){return c},e.getWorkerCount=function(){return R.workerCount},e.getWorkerUrl=function(){return t.a.WORKER_URL},e.importScriptInWorkers=function(e){return z().broadcast("IS",e)},e.prewarm=function(){L().acquire(I)},e.setMaxParallelImageRequests=function(e){t.a.MAX_PARALLEL_IMAGE_REQUESTS=e},e.setRTLTextPlugin=function(e,t){return et().setRTLTextPlugin(e,t)},e.setWorkerCount=function(e){R.workerCount=e},e.setWorkerUrl=function(e){t.a.WORKER_URL=e}}),e},e.exports=t()},58168:(e,t,r)=>{"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{A:()=>n})},25540:(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,{A:()=>i})},98587:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},32338:(e,t,r)=>{"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}r.d(t,{m:()=>n})},38603:(e,t,r)=>{"use strict";r.d(t,{UC:()=>ex,q7:()=>eb,bL:()=>ev,l9:()=>e_});var n=r(96540),i=r.t(n,2),o=r(74848);function a(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let a=n.createContext(i),s=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,u=r?.[e]?.[s]||a,c=n.useMemo(()=>l,Object.values(l));return(0,o.jsx)(u.Provider,{value:c,children:i})};return l.displayName=t+"Provider",[l,function(r,o){let l=o?.[e]?.[s]||a,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function u(...e){return n.useCallback(l(...e),e)}function c(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(s.ref=t?l(t,a):a),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...a}=e,s=n.Children.toArray(i),l=s.find(d);if(l){let e=l.props.children,i=s.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,o.jsx)(t,{...a,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var h=Symbol("radix.slottable");function d(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}"undefined"!=typeof window&&window.document&&window.document.createElement;var f=globalThis?.document?n.useLayoutEffect:()=>{},p=i[" useInsertionEffect ".trim().toString()]||f;function m({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return p(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}Symbol("RADIX:SYNC_STATE"),r(40961);var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=c(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i?r:t,{...a,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),y=("undefined"!=typeof window&&window.document&&window.document.createElement,globalThis?.document?n.useLayoutEffect:()=>{}),v=i[" useInsertionEffect ".trim().toString()]||y;function b(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function _(...e){return t=>{let r=!1,n=e.map(e=>{let n=b(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():b(e[t],null)}}}}function x(...e){return n.useCallback(_(...e),e)}Symbol("RADIX:SYNC_STATE");var w=Symbol("radix.slottable");function S(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===w}var T=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(s.ref=t?_(t,a):a),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...a}=e,s=n.Children.toArray(i),l=s.find(S);if(l){let e=l.props.children,i=s.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,o.jsx)(t,{...a,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i?r:t,{...a,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),E=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[i,o]=n.useState(),a=n.useRef(null),s=n.useRef(e),l=n.useRef("none"),[u,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=P(a.current);l.current="mounted"===u?e:"none"},[u]),y(()=>{let t=a.current,r=s.current;if(r!==e){let n=l.current,i=P(t);e?c("MOUNT"):"none"===i||t?.display==="none"?c("UNMOUNT"):r&&n!==i?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),y(()=>{if(i){let e;let t=i.ownerDocument.defaultView??window,r=r=>{let n=P(a.current).includes(CSS.escape(r.animationName));if(r.target===i&&n&&(c("ANIMATION_END"),!s.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(l.current=P(a.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}c("ANIMATION_END")},[i,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,o(e)},[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),a=x(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:a}):null};function P(e){return e?.animationName||"none"}E.displayName="Presence";var C=i[" useId ".trim().toString()]||(()=>void 0),A=0,M="Collapsible",[k,O]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let a=n.createContext(i),s=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,u=r?.[e]?.[s]||a,c=n.useMemo(()=>l,Object.values(l));return(0,o.jsx)(u.Provider,{value:c,children:i})};return l.displayName=t+"Provider",[l,function(r,o){let l=o?.[e]?.[s]||a,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}(M),[I,R]=k(M),D=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:i,defaultOpen:a,disabled:s,onOpenChange:l,...u}=e,[c,h]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return v(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}({prop:i,defaultProp:a??!1,onChange:l,caller:M});return(0,o.jsx)(I,{scope:r,disabled:s,contentId:function(e){let[t,r]=n.useState(C());return y(()=>{r(e=>e??String(A++))},[void 0]),t?`radix-${t}`:""}(),open:c,onOpenToggle:n.useCallback(()=>h(e=>!e),[h]),children:(0,o.jsx)(T.div,{"data-state":N(c),"data-disabled":s?"":void 0,...u,ref:t})})});D.displayName=M;var L="CollapsibleTrigger",j=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,...n}=e,i=R(L,r);return(0,o.jsx)(T.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":N(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}(e.onClick,i.onOpenToggle)})});j.displayName=L;var z="CollapsibleContent",B=n.forwardRef((e,t)=>{let{forceMount:r,...n}=e,i=R(z,e.__scopeCollapsible);return(0,o.jsx)(E,{present:r||i.open,children:({present:e})=>(0,o.jsx)(F,{...n,ref:t,present:e})})});B.displayName=z;var F=n.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:i,children:a,...s}=e,l=R(z,r),[u,c]=n.useState(i),h=n.useRef(null),d=x(t,h),f=n.useRef(0),p=f.current,m=n.useRef(0),g=m.current,v=l.open||u,b=n.useRef(v),_=n.useRef(void 0);return n.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),y(()=>{let e=h.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();f.current=t.height,m.current=t.width,b.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationName=_.current.animationName),c(i)}},[l.open,i]),(0,o.jsx)(T.div,{"data-state":N(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...s,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&a})});function N(e){return e?"open":"closed"}var V=i[" useId ".trim().toString()]||(()=>void 0),U=0,G=n.createContext(void 0),H="Accordion",q=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$,W,X]=function(e){let t=e+"CollectionProvider",[r,i]=a(t),[s,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),h=e=>{let{scope:t,children:r}=e,i=n.useRef(null),a=n.useRef(new Map).current;return(0,o.jsx)(s,{scope:t,itemMap:a,collectionRef:i,children:r})};h.displayName=t;let d=e+"CollectionSlot",f=c(d),p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=u(t,l(d,r).collectionRef);return(0,o.jsx)(f,{ref:i,children:n})});p.displayName=d;let m=e+"CollectionItemSlot",g="data-radix-collection-item",y=c(m),v=n.forwardRef((e,t)=>{let{scope:r,children:i,...a}=e,s=n.useRef(null),c=u(t,s),h=l(m,r);return n.useEffect(()=>(h.itemMap.set(s,{ref:s,...a}),()=>void h.itemMap.delete(s))),(0,o.jsx)(y,{[g]:"",ref:c,children:i})});return v.displayName=m,[{Provider:h,Slot:p,ItemSlot:v},function(t){let r=l(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${g}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}(H),[Z,K]=a(H,[X,O]),Y=O(),Q=n.forwardRef((e,t)=>{let{type:r,...n}=e;return(0,o.jsx)($.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,o.jsx)(ei,{...n,ref:t}):(0,o.jsx)(en,{...n,ref:t})})});Q.displayName=H;var[J,ee]=Z(H),[et,er]=Z(H,{collapsible:!1}),en=n.forwardRef((e,t)=>{let{value:r,defaultValue:i,onValueChange:a=()=>{},collapsible:s=!1,...l}=e,[u,c]=m({prop:r,defaultProp:i??"",onChange:a,caller:H});return(0,o.jsx)(J,{scope:e.__scopeAccordion,value:n.useMemo(()=>u?[u]:[],[u]),onItemOpen:c,onItemClose:n.useCallback(()=>s&&c(""),[s,c]),children:(0,o.jsx)(et,{scope:e.__scopeAccordion,collapsible:s,children:(0,o.jsx)(es,{...l,ref:t})})})}),ei=n.forwardRef((e,t)=>{let{value:r,defaultValue:i,onValueChange:a=()=>{},...s}=e,[l,u]=m({prop:r,defaultProp:i??[],onChange:a,caller:H}),c=n.useCallback(e=>u((t=[])=>[...t,e]),[u]),h=n.useCallback(e=>u((t=[])=>t.filter(t=>t!==e)),[u]);return(0,o.jsx)(J,{scope:e.__scopeAccordion,value:l,onItemOpen:c,onItemClose:h,children:(0,o.jsx)(et,{scope:e.__scopeAccordion,collapsible:!0,children:(0,o.jsx)(es,{...s,ref:t})})})}),[eo,ea]=Z(H),es=n.forwardRef((e,t)=>{let{__scopeAccordion:r,disabled:i,dir:a,orientation:s="vertical",...l}=e,c=u(n.useRef(null),t),h=W(r),d="ltr"===function(e){let t=n.useContext(G);return e||t||"ltr"}(a),f=function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}(e.onKeyDown,e=>{if(!q.includes(e.key))return;let t=e.target,r=h().filter(e=>!e.ref.current?.disabled),n=r.findIndex(e=>e.ref.current===t),i=r.length;if(-1===n)return;e.preventDefault();let o=n,a=i-1,l=()=>{(o=n+1)>a&&(o=0)},u=()=>{(o=n-1)<0&&(o=a)};switch(e.key){case"Home":o=0;break;case"End":o=a;break;case"ArrowRight":"horizontal"===s&&(d?l():u());break;case"ArrowDown":"vertical"===s&&l();break;case"ArrowLeft":"horizontal"===s&&(d?u():l());break;case"ArrowUp":"vertical"===s&&u()}let c=o%i;r[c].ref.current?.focus()});return(0,o.jsx)(eo,{scope:r,disabled:i,direction:a,orientation:s,children:(0,o.jsx)($.Slot,{scope:r,children:(0,o.jsx)(g.div,{...l,"data-orientation":s,ref:c,onKeyDown:i?void 0:f})})})}),el="AccordionItem",[eu,ec]=Z(el),eh=n.forwardRef((e,t)=>{let{__scopeAccordion:r,value:i,...a}=e,s=ea(el,r),l=ee(el,r),u=Y(r),c=function(e){let[t,r]=n.useState(V());return f(()=>{r(e=>e??String(U++))},[void 0]),t?`radix-${t}`:""}(),h=i&&l.value.includes(i)||!1,d=s.disabled||e.disabled;return(0,o.jsx)(eu,{scope:r,open:h,disabled:d,triggerId:c,children:(0,o.jsx)(D,{"data-orientation":s.orientation,"data-state":ey(h),...u,...a,ref:t,disabled:d,open:h,onOpenChange:e=>{e?l.onItemOpen(i):l.onItemClose(i)}})})});eh.displayName=el;var ed="AccordionHeader";n.forwardRef((e,t)=>{let{__scopeAccordion:r,...n}=e,i=ea(H,r),a=ec(ed,r);return(0,o.jsx)(g.h3,{"data-orientation":i.orientation,"data-state":ey(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})}).displayName=ed;var ef="AccordionTrigger",ep=n.forwardRef((e,t)=>{let{__scopeAccordion:r,...n}=e,i=ea(H,r),a=ec(ef,r),s=er(ef,r),l=Y(r);return(0,o.jsx)($.ItemSlot,{scope:r,children:(0,o.jsx)(j,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...n,ref:t})})});ep.displayName=ef;var em="AccordionContent",eg=n.forwardRef((e,t)=>{let{__scopeAccordion:r,...n}=e,i=ea(H,r),a=ec(em,r),s=Y(r);return(0,o.jsx)(B,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ey(e){return e?"open":"closed"}eg.displayName=em;var ev=Q,eb=eh,e_=ep,ex=eg},91071:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,t:()=>i});var n=r(96540);function i(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function o(...e){return(0,n.useCallback)(i(...e),e)}},62133:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);function i(e,t=[]){let r=[],o=()=>{let t=r.map(e=>(0,n.createContext)(e));return function(r){let i=(null==r?void 0:r[e])||t;return(0,n.useMemo)(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return o.scopeName=e,[function(t,i){let o=(0,n.createContext)(i),a=r.length;function s(t){let{scope:r,children:i,...s}=t,l=(null==r?void 0:r[e][a])||o,u=(0,n.useMemo)(()=>s,Object.values(s));return(0,n.createElement)(l.Provider,{value:u},i)}return r=[...r,i],s.displayName=t+"Provider",[s,function(r,s){let l=(null==s?void 0:s[e][a])||o,u=(0,n.useContext)(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return(0,n.useMemo)(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(o,...t)]}},1322:(e,t,r)=>{"use strict";r.d(t,{bm:()=>tx,UC:()=>tv,VY:()=>t_,hJ:()=>ty,ZL:()=>tg,bL:()=>tp,hE:()=>tb,l9:()=>tm});var n,i,o,a=r(96540),s=r.t(a,2);function l(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function c(...e){return t=>{let r=!1,n=e.map(e=>{let n=u(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():u(e[t],null)}}}}function h(...e){return a.useCallback(c(...e),e)}var d=r(74848),f=globalThis?.document?a.useLayoutEffect:()=>{},p=s[" useId ".trim().toString()]||(()=>void 0),m=0;function g(e){let[t,r]=a.useState(p());return f(()=>{e||r(e=>e??String(m++))},[e]),e||(t?`radix-${t}`:"")}function y(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}var v=r(40961);function b(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(s.ref=t?c(t,o):o),a.cloneElement(r,s)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,o=a.Children.toArray(n),s=o.find(x);if(s){let e=s.props.children,n=o.map(t=>t!==s?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,d.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,d.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var _=Symbol("radix.slottable");function x(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_}var w=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=b(`Primitive.${t}`),n=a.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(i?r:t,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),S="dismissableLayer.update",T=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),E=a.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:u,onDismiss:c,...f}=e,p=a.useContext(T),[m,g]=a.useState(null),v=m?.ownerDocument??globalThis?.document,[,b]=a.useState({}),_=h(t,e=>g(e)),x=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),A=x.indexOf(E),M=m?x.indexOf(m):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,O=M>=A,I=function(e,t=globalThis?.document){let r=y(e),n=a.useRef(!1),i=a.useRef(()=>{});return a.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){C("dismissableLayer.pointerDownOutside",r,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...p.branches].some(e=>e.contains(t));!O||r||(o?.(e),u?.(e),e.defaultPrevented||c?.())},v),R=function(e,t=globalThis?.document){let r=y(e),n=a.useRef(!1);return a.useEffect(()=>{let e=e=>{e.target&&!n.current&&C("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...p.branches].some(e=>e.contains(t))||(s?.(e),u?.(e),e.defaultPrevented||c?.())},v);return!function(e,t=globalThis?.document){let r=y(e);a.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{M===p.layers.size-1&&(n?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},v),a.useEffect(()=>{if(m)return r&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(i=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),P(),()=>{r&&1===p.layersWithOutsidePointerEventsDisabled.size&&(v.body.style.pointerEvents=i)}},[m,v,r,p]),a.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),P())},[m,p]),a.useEffect(()=>{let e=()=>b({});return document.addEventListener(S,e),()=>document.removeEventListener(S,e)},[]),(0,d.jsx)(w.div,{...f,ref:_,style:{pointerEvents:k?O?"auto":"none":void 0,...e.style},onFocusCapture:l(e.onFocusCapture,R.onFocusCapture),onBlurCapture:l(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:l(e.onPointerDownCapture,I.onPointerDownCapture)})});function P(){let e=new CustomEvent(S);document.dispatchEvent(e)}function C(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});(t&&i.addEventListener(e,t,{once:!0}),n)?i&&v.flushSync(()=>i.dispatchEvent(o)):i.dispatchEvent(o)}function A(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function M(...e){return t=>{let r=!1,n=e.map(e=>{let n=A(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():A(e[t],null)}}}}E.displayName="DismissableLayer",a.forwardRef((e,t)=>{let r=a.useContext(T),n=a.useRef(null),i=h(t,n);return a.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,d.jsx)(w.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var k=Symbol("radix.slottable");function O(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===k}var I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(s.ref=t?M(t,o):o),a.cloneElement(r,s)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,o=a.Children.toArray(n),s=o.find(O);if(s){let e=s.props.children,n=o.map(t=>t!==s?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,d.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,d.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),n=a.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(i?r:t,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function R(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}var D="focusScope.autoFocusOnMount",L="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0},z=a.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[l,u]=a.useState(null),c=R(i),h=R(o),f=a.useRef(null),p=function(...e){return a.useCallback(M(...e),e)}(t,e=>u(e)),m=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(n){let e=function(e){if(m.paused||!l)return;let t=e.target;l.contains(t)?f.current=t:N(f.current,{select:!0})},t=function(e){if(m.paused||!l)return;let t=e.relatedTarget;null===t||l.contains(t)||N(f.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&N(l)});return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,l,m.paused]),a.useEffect(()=>{if(l){V.add(m);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(D,j);l.addEventListener(D,c),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(N(n,{select:t}),document.activeElement!==r)return}(B(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&N(l))}return()=>{l.removeEventListener(D,c),setTimeout(()=>{let t=new CustomEvent(L,j);l.addEventListener(L,h),l.dispatchEvent(t),t.defaultPrevented||N(e??document.body,{select:!0}),l.removeEventListener(L,h),V.remove(m)},0)}}},[l,c,h,m]);let g=a.useCallback(e=>{if(!r&&!n||m.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[n,o]=function(e){let t=B(e);return[F(t,e),F(t.reverse(),e)]}(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&N(o,{select:!0})):(e.preventDefault(),r&&N(n,{select:!0})):i===t&&e.preventDefault()}},[r,n,m.paused]);return(0,d.jsx)(I.div,{tabIndex:-1,...s,ref:p,onKeyDown:g})});function B(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function F(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function N(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}z.displayName="FocusScope";var V=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=U(e,t)).unshift(t)},remove(t){e=U(e,t),e[0]?.resume()}}}();function U(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}function G(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var H=Symbol("radix.slottable");function q(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===H}var $=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(s.ref=t?function(...e){return t=>{let r=!1,n=e.map(e=>{let n=G(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():G(e[t],null)}}}}(t,o):o),a.cloneElement(r,s)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,o=a.Children.toArray(n),s=o.find(q);if(s){let e=s.props.children,n=o.map(t=>t!==s?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,d.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,d.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),n=a.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(i?r:t,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),W=globalThis?.document?a.useLayoutEffect:()=>{},X=a.forwardRef((e,t)=>{let{container:r,...n}=e,[i,o]=a.useState(!1);W(()=>o(!0),[]);let s=r||i&&globalThis?.document?.body;return s?v.createPortal((0,d.jsx)($.div,{...n,ref:t}),s):null});X.displayName="Portal";var Z=e=>{let{present:t,children:r}=e,n=function(e){var t,r;let[n,i]=a.useState(),o=a.useRef({}),s=a.useRef(e),l=a.useRef("none"),[u,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>r[e][t]??e,t));return a.useEffect(()=>{let e=K(o.current);l.current="mounted"===u?e:"none"},[u]),f(()=>{let t=o.current,r=s.current;if(r!==e){let n=l.current,i=K(t);e?c("MOUNT"):"none"===i||t?.display==="none"?c("UNMOUNT"):r&&n!==i?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),f(()=>{if(n){let e;let t=n.ownerDocument.defaultView??window,r=r=>{let i=K(o.current).includes(r.animationName);if(r.target===n&&i&&(c("ANIMATION_END"),!s.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},i=e=>{e.target===n&&(l.current=K(o.current))};return n.addEventListener("animationstart",i),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",i),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{e&&(o.current=getComputedStyle(e)),i(e)},[])}}(t),i="function"==typeof r?r({present:n.isPresent}):a.Children.only(r),o=h(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof r||n.isPresent?a.cloneElement(i,{ref:o}):null};function K(e){return e?.animationName||"none"}Z.displayName="Presence";var Y=0;function Q(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var J=r(31635),ee="right-scroll-bar-position",et="width-before-scroll-bar";function er(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var en="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,ei=new WeakMap;function eo(e){return e}var ea=function(e){void 0===e&&(e={});var t,r,n,i=(void 0===t&&(t=eo),r=[],n=!1,{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),r={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),r}}}});return i.options=(0,J.Cl)({async:!0,ssr:!1},e),i}(),es=function(){},el=a.forwardRef(function(e,t){var r,n,i,o,s=a.useRef(null),l=a.useState({onScrollCapture:es,onWheelCapture:es,onTouchMoveCapture:es}),u=l[0],c=l[1],h=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,v=e.noIsolation,b=e.inert,_=e.allowPinchZoom,x=e.as,w=e.gapMode,S=(0,J.Tt)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=(r=[s,t],n=function(e){return r.forEach(function(t){return er(t,e)})},(i=(0,a.useState)(function(){return{value:null,callback:n,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=n,o=i.facade,en(function(){var e=ei.get(o);if(e){var t=new Set(e),n=new Set(r),i=o.current;t.forEach(function(e){n.has(e)||er(e,null)}),n.forEach(function(e){t.has(e)||er(e,i)})}ei.set(o,r)},[r]),o),E=(0,J.Cl)((0,J.Cl)({},S),u);return a.createElement(a.Fragment,null,m&&a.createElement(y,{sideCar:ea,removeScrollBar:p,shards:g,noIsolation:v,inert:b,setCallbacks:c,allowPinchZoom:!!_,lockRef:s,gapMode:w}),h?a.cloneElement(a.Children.only(d),(0,J.Cl)((0,J.Cl)({},E),{ref:T})):a.createElement(void 0===x?"div":x,(0,J.Cl)({},E,{className:f,ref:T}),d))});el.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},el.classNames={fullWidth:et,zeroRight:ee};var eu=function(e){var t=e.sideCar,r=(0,J.Tt)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return a.createElement(n,(0,J.Cl)({},r))};eu.isSideCarExport=!0;var ec=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o||r.nc;return t&&e.setAttribute("nonce",t),e}())){var i,a;(i=t).styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eh=function(){var e=ec();return function(t,r){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ed=function(){var e=eh();return function(t){return e(t.styles,t.dynamic),null}},ef={left:0,top:0,right:0,gap:0},ep=function(e){return parseInt(e||"",10)||0},em=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[ep(r),ep(n),ep(i)]},eg=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ef;var t=em(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ey=ed(),ev="data-scroll-locked",eb=function(e,t,r,n){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(ev,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ee," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(et," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(ee," .").concat(ee," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(et," .").concat(et," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(ev,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},e_=function(){var e=parseInt(document.body.getAttribute(ev)||"0",10);return isFinite(e)?e:0},ex=function(){a.useEffect(function(){return document.body.setAttribute(ev,(e_()+1).toString()),function(){var e=e_()-1;e<=0?document.body.removeAttribute(ev):document.body.setAttribute(ev,e.toString())}},[])},ew=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;ex();var o=a.useMemo(function(){return eg(i)},[i]);return a.createElement(ey,{styles:eb(o,!t,i,r?"":"!important")})},eS=!1;if("undefined"!=typeof window)try{var eT=Object.defineProperty({},"passive",{get:function(){return eS=!0,!0}});window.addEventListener("test",eT,eT),window.removeEventListener("test",eT,eT)}catch(e){eS=!1}var eE=!!eS&&{passive:!1},eP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},eC=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),eA(e,n)){var i=eM(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},eA=function(e,t){return"v"===e?eP(t,"overflowY"):eP(t,"overflowX")},eM=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},ek=function(e,t,r,n,i){var o,a=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),s=a*n,l=r.target,u=t.contains(l),c=!1,h=s>0,d=0,f=0;do{var p=eM(e,l),m=p[0],g=p[1]-p[2]-a*m;(m||g)&&eA(e,l)&&(d+=g,f+=m),l=l instanceof ShadowRoot?l.host:l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return h&&(i&&1>Math.abs(d)||!i&&s>d)?c=!0:!h&&(i&&1>Math.abs(f)||!i&&-s>f)&&(c=!0),c},eO=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eI=function(e){return[e.deltaX,e.deltaY]},eR=function(e){return e&&"current"in e?e.current:e},eD=0,eL=[];let ej=(n=function(e){var t=a.useRef([]),r=a.useRef([0,0]),n=a.useRef(),i=a.useState(eD++)[0],o=a.useState(ed)[0],s=a.useRef(e);a.useEffect(function(){s.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,J.fX)([e.lockRef.current],(e.shards||[]).map(eR),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=eO(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,h=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===h&&"range"===c.type)return!1;var d=eC(h,c);if(!d)return!0;if(d?i=h:(i="v"===h?"h":"v",d=eC(h,c)),!d)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var f=n.current||i;return ek(f,t,e,"h"===f?l:u,!0)},[]),u=a.useCallback(function(e){if(eL.length&&eL[eL.length-1]===o){var r="deltaY"in e?eI(e):eO(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta)[0]===r[0]&&n[1]===r[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var i=(s.current.shards||[]).map(eR).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?l(e,i[0]):!s.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=a.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),h=a.useCallback(function(e){r.current=eO(e),n.current=void 0},[]),d=a.useCallback(function(t){c(t.type,eI(t),t.target,l(t,e.lockRef.current))},[]),f=a.useCallback(function(t){c(t.type,eO(t),t.target,l(t,e.lockRef.current))},[]);a.useEffect(function(){return eL.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,eE),document.addEventListener("touchmove",u,eE),document.addEventListener("touchstart",h,eE),function(){eL=eL.filter(function(e){return e!==o}),document.removeEventListener("wheel",u,eE),document.removeEventListener("touchmove",u,eE),document.removeEventListener("touchstart",h,eE)}},[]);var p=e.removeScrollBar,m=e.inert;return a.createElement(a.Fragment,null,m?a.createElement(o,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,p?a.createElement(ew,{gapMode:e.gapMode}):null)},ea.useMedium(n),eu);var ez=a.forwardRef(function(e,t){return a.createElement(el,(0,J.Cl)({},e,{ref:t,sideCar:ej}))});ez.classNames=el.classNames;var eB=new WeakMap,eF=new WeakMap,eN={},eV=0,eU=function(e){return e&&(e.host||eU(e.parentNode))},eG=function(e,t,r,n){var i=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=eU(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eN[r]||(eN[r]=new WeakMap);var o=eN[r],a=[],s=new Set,l=new Set(i),u=function(e){!e||s.has(e)||(s.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))c(e);else try{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(eB.get(e)||0)+1,u=(o.get(e)||0)+1;eB.set(e,l),o.set(e,u),a.push(e),1===l&&i&&eF.set(e,!0),1===u&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),s.clear(),eV++,function(){a.forEach(function(e){var t=eB.get(e)-1,i=o.get(e)-1;eB.set(e,t),o.set(e,i),t||(eF.has(e)||e.removeAttribute(n),eF.delete(e)),i||e.removeAttribute(r)}),--eV||(eB=new WeakMap,eB=new WeakMap,eF=new WeakMap,eN={})}},eH=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n,i=Array.from(Array.isArray(e)?e:[e]),o=t||(n=e,"undefined"==typeof document?null:(Array.isArray(n)?n[0]:n).ownerDocument.body);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),eG(i,o,r,"aria-hidden")):function(){return null}},eq="Dialog",[e$,eW]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let n=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let i=a.createContext(n),o=r.length;r=[...r,n];let s=t=>{let{scope:r,children:n,...s}=t,l=r?.[e]?.[o]||i,u=a.useMemo(()=>s,Object.values(s));return(0,d.jsx)(l.Provider,{value:u,children:n})};return s.displayName=t+"Provider",[s,function(r,s){let l=s?.[e]?.[o]||i,u=a.useContext(l);if(u)return u;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(eq),[eX,eZ]=e$(eq),eK=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=a.useRef(null),u=a.useRef(null),[c=!1,h]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[n,i]=function({defaultProp:e,onChange:t}){let r=a.useState(e),[n]=r,i=a.useRef(n),o=y(t);return a.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}({defaultProp:t,onChange:r}),o=void 0!==e,s=o?e:n,l=y(r);return[s,a.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else i(t)},[o,e,i,l])]}({prop:n,defaultProp:i,onChange:o});return(0,d.jsx)(eX,{scope:t,triggerRef:l,contentRef:u,contentId:g(),titleId:g(),descriptionId:g(),open:c,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(e=>!e),[h]),modal:s,children:r})};eK.displayName=eq;var eY="DialogTrigger",eQ=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=eZ(eY,r),o=h(t,i.triggerRef);return(0,d.jsx)(w.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tl(i.open),...n,ref:o,onClick:l(e.onClick,i.onOpenToggle)})});eQ.displayName=eY;var eJ="DialogPortal",[e0,e1]=e$(eJ,{forceMount:void 0}),e2=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=eZ(eJ,t);return(0,d.jsx)(e0,{scope:t,forceMount:r,children:a.Children.map(n,e=>(0,d.jsx)(Z,{present:r||o.open,children:(0,d.jsx)(X,{asChild:!0,container:i,children:e})}))})};e2.displayName=eJ;var e3="DialogOverlay",e5=a.forwardRef((e,t)=>{let r=e1(e3,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=eZ(e3,e.__scopeDialog);return o.modal?(0,d.jsx)(Z,{present:n||o.open,children:(0,d.jsx)(e4,{...i,ref:t})}):null});e5.displayName=e3;var e6=b("DialogOverlay.RemoveScroll"),e4=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=eZ(e3,r);return(0,d.jsx)(ez,{as:e6,allowPinchZoom:!0,shards:[i.contentRef],children:(0,d.jsx)(w.div,{"data-state":tl(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),e8="DialogContent",e7=a.forwardRef((e,t)=>{let r=e1(e8,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=eZ(e8,e.__scopeDialog);return(0,d.jsx)(Z,{present:n||o.open,children:o.modal?(0,d.jsx)(e9,{...i,ref:t}):(0,d.jsx)(te,{...i,ref:t})})});e7.displayName=e8;var e9=a.forwardRef((e,t)=>{let r=eZ(e8,e.__scopeDialog),n=a.useRef(null),i=h(t,r.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return eH(e)},[]),(0,d.jsx)(tt,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:l(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:l(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:l(e.onFocusOutside,e=>e.preventDefault())})}),te=a.forwardRef((e,t)=>{let r=eZ(e8,e.__scopeDialog),n=a.useRef(!1),i=a.useRef(!1);return(0,d.jsx)(tt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let o=t.target;r.triggerRef.current?.contains(o)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),tt=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,l=eZ(e8,r),u=a.useRef(null),c=h(t,u);return a.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Q()),document.body.insertAdjacentElement("beforeend",e[1]??Q()),Y++,()=>{1===Y&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Y--}},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,d.jsx)(E,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tl(l.open),...s,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(td,{titleId:l.titleId}),(0,d.jsx)(tf,{contentRef:u,descriptionId:l.descriptionId})]})]})}),tr="DialogTitle",tn=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=eZ(tr,r);return(0,d.jsx)(w.h2,{id:i.titleId,...n,ref:t})});tn.displayName=tr;var ti="DialogDescription",to=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=eZ(ti,r);return(0,d.jsx)(w.p,{id:i.descriptionId,...n,ref:t})});to.displayName=ti;var ta="DialogClose",ts=a.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=eZ(ta,r);return(0,d.jsx)(w.button,{type:"button",...n,ref:t,onClick:l(e.onClick,()=>i.onOpenChange(!1))})});function tl(e){return e?"open":"closed"}ts.displayName=ta;var tu="DialogTitleWarning",[tc,th]=function(e,t){let r=a.createContext(t),n=e=>{let{children:t,...n}=e,i=a.useMemo(()=>n,Object.values(n));return(0,d.jsx)(r.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(n){let i=a.useContext(r);if(i)return i;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}(tu,{contentName:e8,titleName:tr,docsSlug:"dialog"}),td=({titleId:e})=>{let t=th(tu),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},tf=({contentRef:e,descriptionId:t})=>{let r=th("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(n)},[n,e,t]),null},tp=eK,tm=eQ,tg=e2,ty=e5,tv=e7,tb=tn,t_=to,tx=ts},71427:(e,t,r)=>{"use strict";r.d(t,{jH:()=>o});var n=r(96540);let i=(0,n.createContext)(void 0);function o(e){let t=(0,n.useContext)(i);return e||t||"ltr"}},94093:(e,t,r)=>{"use strict";let n;r.d(t,{UC:()=>em,q7:()=>ef,B8:()=>ed,bL:()=>eh,l9:()=>ep,LM:()=>eg});var i=r(58168),o=r(96540),a=r.t(o,2),s=(r(40961),r(62133)),l=r(32338),u=r(12579),c=r(10263),h=r(91071),d=r(71427),f=r(7971),p=r(88200);let m=a["useId".toString()]||(()=>void 0),g=0;function y(e){let[t,r]=o.useState(m());return(0,p.N)(()=>{e||r(e=>null!=e?e:String(g++))},[e]),e||(t?`radix-${t}`:"")}var v=r(33362);function b(e){let t=e+"CollectionProvider",[r,n]=(0,s.A)(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=e+"CollectionSlot",u=o.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=a(l,r),s=(0,h.s)(t,i.collectionRef);return o.createElement(v.DX,{ref:s},n)}),c=e+"CollectionItemSlot",d="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:r}=e,n=o.useRef(null),a=o.useRef(new Map).current;return o.createElement(i,{scope:t,itemMap:a,collectionRef:n},r)},Slot:u,ItemSlot:o.forwardRef((e,t)=>{let{scope:r,children:n,...i}=e,s=o.useRef(null),l=(0,h.s)(t,s),u=a(c,r);return o.useEffect(()=>(u.itemMap.set(s,{ref:s,...i}),()=>void u.itemMap.delete(s))),o.createElement(v.DX,{[d]:"",ref:l},n)})},function(t){let r=a(e+"CollectionConsumer",t);return o.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},n]}let _="dismissableLayer.update",x=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w=(0,o.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,...g}=e,y=(0,o.useContext)(x),[v,b]=(0,o.useState)(null),w=null!==(r=null==v?void 0:v.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,E]=(0,o.useState)({}),P=(0,h.s)(t,e=>b(e)),C=Array.from(y.layers),[A]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(A),k=v?C.indexOf(v):-1,O=y.layersWithOutsidePointerEventsDisabled.size>0,I=k>=M,R=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,c.c)(e),n=(0,o.useRef)(!1),i=(0,o.useRef)(()=>{});return(0,o.useEffect)(()=>{let e=e=>{if(e.target&&!n.current){let n={originalEvent:e};function o(){T("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=o,t.addEventListener("click",i.current,{once:!0})):o()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...y.branches].some(e=>e.contains(t));!I||r||(null==d||d(e),null==p||p(e),e.defaultPrevented||null==m||m())},w),D=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,c.c)(e),n=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{e.target&&!n.current&&T("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...y.branches].some(e=>e.contains(t))||(null==f||f(e),null==p||p(e),e.defaultPrevented||null==m||m())},w);return!function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,c.c)(e);(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[r,t])}(e=>{k===y.layers.size-1&&(null==s||s(e),!e.defaultPrevented&&m&&(e.preventDefault(),m()))},w),(0,o.useEffect)(()=>{if(v)return a&&(0===y.layersWithOutsidePointerEventsDisabled.size&&(n=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(v)),y.layers.add(v),S(),()=>{a&&1===y.layersWithOutsidePointerEventsDisabled.size&&(w.body.style.pointerEvents=n)}},[v,w,a,y]),(0,o.useEffect)(()=>()=>{v&&(y.layers.delete(v),y.layersWithOutsidePointerEventsDisabled.delete(v),S())},[v,y]),(0,o.useEffect)(()=>{let e=()=>E({});return document.addEventListener(_,e),()=>document.removeEventListener(_,e)},[]),(0,o.createElement)(u.sG.div,(0,i.A)({},g,{ref:P,style:{pointerEvents:O?I?"auto":"none":void 0,...e.style},onFocusCapture:(0,l.m)(e.onFocusCapture,D.onFocusCapture),onBlurCapture:(0,l.m)(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:(0,l.m)(e.onPointerDownCapture,R.onPointerDownCapture)}))});function S(){let e=new CustomEvent(_);document.dispatchEvent(e)}function T(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,u.hO)(i,o):i.dispatchEvent(o)}let E=(0,o.forwardRef)((e,t)=>(0,o.createElement)(u.sG.span,(0,i.A)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),P="NavigationMenu",[C,A,M]=b(P),[k,O,I]=b(P),[R,D]=(0,s.A)(P,[M,I]),[L,j]=R(P),[z,B]=R(P),F=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,value:n,onValueChange:a,defaultValue:s,delayDuration:l=200,skipDelayDuration:f=300,orientation:p="horizontal",dir:m,...g}=e,[y,v]=(0,o.useState)(null),b=(0,h.s)(t,e=>v(e)),_=(0,d.jH)(m),x=(0,o.useRef)(0),w=(0,o.useRef)(0),S=(0,o.useRef)(0),[T,E]=(0,o.useState)(!0),[P="",C]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[n,i]=function({defaultProp:e,onChange:t}){let r=(0,o.useState)(e),[n]=r,i=(0,o.useRef)(n),a=(0,c.c)(t);return(0,o.useEffect)(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:n,l=(0,c.c)(r);return[s,(0,o.useCallback)(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else i(t)},[a,e,i,l])]}({prop:n,onChange:e=>{let t=f>0;""!==e?(window.clearTimeout(S.current),t&&E(!1)):(window.clearTimeout(S.current),S.current=window.setTimeout(()=>E(!0),f)),null==a||a(e)},defaultProp:s}),A=(0,o.useCallback)(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>C(""),150)},[C]),M=(0,o.useCallback)(e=>{window.clearTimeout(w.current),C(e)},[C]),k=(0,o.useCallback)(e=>{P===e?window.clearTimeout(w.current):x.current=window.setTimeout(()=>{window.clearTimeout(w.current),C(e)},l)},[P,C,l]);return(0,o.useEffect)(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(w.current),window.clearTimeout(S.current)},[]),(0,o.createElement)(N,{scope:r,isRootMenu:!0,value:P,dir:_,orientation:p,rootNavigationMenu:y,onTriggerEnter:e=>{window.clearTimeout(x.current),T?k(e):M(e)},onTriggerLeave:()=>{window.clearTimeout(x.current),A()},onContentEnter:()=>window.clearTimeout(w.current),onContentLeave:A,onItemSelect:e=>{C(t=>t===e?"":e)},onItemDismiss:()=>C("")},(0,o.createElement)(u.sG.nav,(0,i.A)({"aria-label":"Main","data-orientation":p,dir:_},g,{ref:b})))}),N=e=>{let{scope:t,isRootMenu:r,rootNavigationMenu:n,dir:i,orientation:a,children:s,value:l,onItemSelect:u,onItemDismiss:h,onTriggerEnter:d,onTriggerLeave:f,onContentEnter:p,onContentLeave:m}=e,[g,v]=(0,o.useState)(null),[b,_]=(0,o.useState)(new Map),[x,w]=(0,o.useState)(null);return(0,o.createElement)(L,{scope:t,isRootMenu:r,rootNavigationMenu:n,value:l,previousValue:function(e){let t=(0,o.useRef)({value:e,previous:e});return(0,o.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(l),baseId:y(),dir:i,orientation:a,viewport:g,onViewportChange:v,indicatorTrack:x,onIndicatorTrackChange:w,onTriggerEnter:(0,c.c)(d),onTriggerLeave:(0,c.c)(f),onContentEnter:(0,c.c)(p),onContentLeave:(0,c.c)(m),onItemSelect:(0,c.c)(u),onItemDismiss:(0,c.c)(h),onViewportContentChange:(0,o.useCallback)((e,t)=>{_(r=>(r.set(e,t),new Map(r)))},[]),onViewportContentRemove:(0,o.useCallback)(e=>{_(t=>t.has(e)?(t.delete(e),new Map(t)):t)},[])},(0,o.createElement)(C.Provider,{scope:t},(0,o.createElement)(z,{scope:t,items:b},s)))},V=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,...n}=e,a=j("NavigationMenuList",r),s=(0,o.createElement)(u.sG.ul,(0,i.A)({"data-orientation":a.orientation},n,{ref:t}));return(0,o.createElement)(u.sG.div,{style:{position:"relative"},ref:a.onIndicatorTrackChange},(0,o.createElement)(C.Slot,{scope:r},a.isRootMenu?(0,o.createElement)(et,{asChild:!0},s):s))}),[U,G]=R("NavigationMenuItem"),H=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,value:n,...a}=e,s=y(),l=(0,o.useRef)(null),c=(0,o.useRef)(null),h=(0,o.useRef)(null),d=(0,o.useRef)(()=>{}),f=(0,o.useRef)(!1),p=(0,o.useCallback)((e="start")=>{if(l.current){d.current();let t=ei(l.current);t.length&&eo("start"===e?t:t.reverse())}},[]),m=(0,o.useCallback)(()=>{if(l.current){let e=ei(l.current);e.length&&(d.current=function(e){return e.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{e.forEach(e=>{let t=e.dataset.tabindex;e.setAttribute("tabindex",t)})}}(e))}},[]);return(0,o.createElement)(U,{scope:r,value:n||s||"LEGACY_REACT_AUTO_VALUE",triggerRef:c,contentRef:l,focusProxyRef:h,wasEscapeCloseRef:f,onEntryKeyDown:p,onFocusProxyEnter:p,onRootContentClose:m,onContentFocusOutside:m},(0,o.createElement)(u.sG.li,(0,i.A)({},a,{ref:t})))}),q="NavigationMenuTrigger",$=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,disabled:n,...a}=e,s=j(q,e.__scopeNavigationMenu),c=G(q,e.__scopeNavigationMenu),d=(0,o.useRef)(null),f=(0,h.s)(d,c.triggerRef,t),p=el(s.baseId,c.value),m=eu(s.baseId,c.value),g=(0,o.useRef)(!1),y=(0,o.useRef)(!1),v=c.value===s.value;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(C.ItemSlot,{scope:r,value:c.value},(0,o.createElement)(en,{asChild:!0},(0,o.createElement)(u.sG.button,(0,i.A)({id:p,disabled:n,"data-disabled":n?"":void 0,"data-state":es(v),"aria-expanded":v,"aria-controls":m},a,{ref:f,onPointerEnter:(0,l.m)(e.onPointerEnter,()=>{y.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:(0,l.m)(e.onPointerMove,ec(()=>{n||y.current||c.wasEscapeCloseRef.current||g.current||(s.onTriggerEnter(c.value),g.current=!0)})),onPointerLeave:(0,l.m)(e.onPointerLeave,ec(()=>{n||(s.onTriggerLeave(),g.current=!1)})),onClick:(0,l.m)(e.onClick,()=>{s.onItemSelect(c.value),y.current=v}),onKeyDown:(0,l.m)(e.onKeyDown,e=>{let t={horizontal:"ArrowDown",vertical:"rtl"===s.dir?"ArrowLeft":"ArrowRight"}[s.orientation];v&&e.key===t&&(c.onEntryKeyDown(),e.preventDefault())})})))),v&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(E,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:e=>{let t=c.contentRef.current,r=e.relatedTarget,n=r===d.current,i=null==t?void 0:t.contains(r);(n||!i)&&c.onFocusProxyEnter(n?"start":"end")}}),s.viewport&&(0,o.createElement)("span",{"aria-owns":m})))}),W=((e,t)=>{let{__scopeNavigationMenu:r,...n}=e,a=j("NavigationMenuIndicator",r),s=A(r),[l,c]=(0,o.useState)(null),[h,d]=(0,o.useState)(null),f="horizontal"===a.orientation,p=!!a.value;(0,o.useEffect)(()=>{var e;let t=null===(e=s().find(e=>e.value===a.value))||void 0===e?void 0:e.ref.current;t&&c(t)},[s,a.value]);let m=()=>{l&&d({size:f?l.offsetWidth:l.offsetHeight,offset:f?l.offsetLeft:l.offsetTop})};return ea(l,m),ea(a.indicatorTrack,m),h?(0,o.createElement)(u.sG.div,(0,i.A)({"aria-hidden":!0,"data-state":p?"visible":"hidden","data-orientation":a.orientation},n,{ref:t,style:{position:"absolute",...f?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...n.style}})):null},"NavigationMenuContent"),X=(0,o.forwardRef)((e,t)=>{let{forceMount:r,...n}=e,a=j(W,e.__scopeNavigationMenu),s=G(W,e.__scopeNavigationMenu),u=(0,h.s)(s.contentRef,t),c=s.value===a.value,d={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...n};return a.viewport?(0,o.createElement)(Z,(0,i.A)({forceMount:r},d,{ref:u})):(0,o.createElement)(f.C,{present:r||c},(0,o.createElement)(Y,(0,i.A)({"data-state":es(c)},d,{ref:u,onPointerEnter:(0,l.m)(e.onPointerEnter,a.onContentEnter),onPointerLeave:(0,l.m)(e.onPointerLeave,ec(a.onContentLeave)),style:{pointerEvents:!c&&a.isRootMenu?"none":void 0,...d.style}})))}),Z=(0,o.forwardRef)((e,t)=>{let{onViewportContentChange:r,onViewportContentRemove:n}=j(W,e.__scopeNavigationMenu);return(0,p.N)(()=>{r(e.value,{ref:t,...e})},[e,t,r]),(0,p.N)(()=>()=>n(e.value),[e.value,n]),null}),K="navigationMenu.rootContentDismiss",Y=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,value:n,triggerRef:a,focusProxyRef:s,wasEscapeCloseRef:u,onRootContentClose:c,onContentFocusOutside:d,...f}=e,p=j(W,r),m=(0,o.useRef)(null),g=(0,h.s)(m,t),y=el(p.baseId,n),v=eu(p.baseId,n),b=A(r),_=(0,o.useRef)(null),{onItemDismiss:x}=p;(0,o.useEffect)(()=>{let e=m.current;if(p.isRootMenu&&e){let t=()=>{var t;x(),c(),e.contains(document.activeElement)&&(null===(t=a.current)||void 0===t||t.focus())};return e.addEventListener(K,t),()=>e.removeEventListener(K,t)}},[p.isRootMenu,e.value,a,x,c]);let S=(0,o.useMemo)(()=>{let e=b().map(e=>e.value);"rtl"===p.dir&&e.reverse();let t=e.indexOf(p.value),r=e.indexOf(p.previousValue),i=n===p.value,o=r===e.indexOf(n);if(!i&&!o)return _.current;let a=(()=>{if(t!==r){if(i&&-1!==r)return t>r?"from-end":"from-start";if(o&&-1!==t)return t>r?"to-start":"to-end"}return null})();return _.current=a,a},[p.previousValue,p.value,p.dir,b,n]);return(0,o.createElement)(et,{asChild:!0},(0,o.createElement)(w,(0,i.A)({id:v,"aria-labelledby":y,"data-motion":S,"data-orientation":p.orientation},f,{ref:g,onDismiss:()=>{var e;let t=new Event(K,{bubbles:!0,cancelable:!0});null===(e=m.current)||void 0===e||e.dispatchEvent(t)},onFocusOutside:(0,l.m)(e.onFocusOutside,e=>{var t;d();let r=e.target;null!==(t=p.rootNavigationMenu)&&void 0!==t&&t.contains(r)&&e.preventDefault()}),onPointerDownOutside:(0,l.m)(e.onPointerDownOutside,e=>{var t;let r=e.target,n=b().some(e=>{var t;return null===(t=e.ref.current)||void 0===t?void 0:t.contains(r)}),i=p.isRootMenu&&(null===(t=p.viewport)||void 0===t?void 0:t.contains(r));(n||i||!p.isRootMenu)&&e.preventDefault()}),onKeyDown:(0,l.m)(e.onKeyDown,e=>{let t=e.altKey||e.ctrlKey||e.metaKey;if("Tab"===e.key&&!t){let t=ei(e.currentTarget),n=document.activeElement,i=t.findIndex(e=>e===n);if(eo(e.shiftKey?t.slice(0,i).reverse():t.slice(i+1,t.length)))e.preventDefault();else{var r;null===(r=s.current)||void 0===r||r.focus()}}}),onEscapeKeyDown:(0,l.m)(e.onEscapeKeyDown,e=>{u.current=!0})})))}),Q="NavigationMenuViewport",J=(0,o.forwardRef)((e,t)=>{let{forceMount:r,...n}=e,a=!!j(Q,e.__scopeNavigationMenu).value;return(0,o.createElement)(f.C,{present:r||a},(0,o.createElement)(ee,(0,i.A)({},n,{ref:t})))}),ee=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,children:n,...a}=e,s=j(Q,r),c=(0,h.s)(t,s.onViewportChange),d=B(W,e.__scopeNavigationMenu),[p,m]=(0,o.useState)(null),[g,y]=(0,o.useState)(null),v=p?(null==p?void 0:p.width)+"px":void 0,b=p?(null==p?void 0:p.height)+"px":void 0,_=!!s.value,x=_?s.value:s.previousValue;return ea(g,()=>{g&&m({width:g.offsetWidth,height:g.offsetHeight})}),(0,o.createElement)(u.sG.div,(0,i.A)({"data-state":es(_),"data-orientation":s.orientation},a,{ref:c,style:{pointerEvents:!_&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":v,"--radix-navigation-menu-viewport-height":b,...a.style},onPointerEnter:(0,l.m)(e.onPointerEnter,s.onContentEnter),onPointerLeave:(0,l.m)(e.onPointerLeave,ec(s.onContentLeave))}),Array.from(d.items).map(([e,{ref:t,forceMount:r,...n}])=>{let a=x===e;return(0,o.createElement)(f.C,{key:e,present:r||a},(0,o.createElement)(Y,(0,i.A)({},n,{ref:(0,h.t)(t,e=>{a&&e&&y(e)})})))}))}),et=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,...n}=e,a=j("FocusGroup",r);return(0,o.createElement)(k.Provider,{scope:r},(0,o.createElement)(k.Slot,{scope:r},(0,o.createElement)(u.sG.div,(0,i.A)({dir:a.dir},n,{ref:t}))))}),er=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],en=(0,o.forwardRef)((e,t)=>{let{__scopeNavigationMenu:r,...n}=e,a=O(r),s=j("FocusGroupItem",r);return(0,o.createElement)(k.ItemSlot,{scope:r},(0,o.createElement)(u.sG.button,(0,i.A)({},n,{ref:t,onKeyDown:(0,l.m)(e.onKeyDown,e=>{if(["Home","End",...er].includes(e.key)){let t=a().map(e=>e.ref.current);if(["rtl"===s.dir?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(e.key)&&t.reverse(),er.includes(e.key)){let r=t.indexOf(e.currentTarget);t=t.slice(r+1)}setTimeout(()=>eo(t)),e.preventDefault()}})})))});function ei(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eo(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}function ea(e,t){let r=(0,c.c)(t);(0,p.N)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}function es(e){return e?"open":"closed"}function el(e,t){return`${e}-trigger-${t}`}function eu(e,t){return`${e}-content-${t}`}function ec(e){return t=>"mouse"===t.pointerType?e(t):void 0}let eh=F,ed=V,ef=H,ep=$,em=X,eg=J},7971:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(96540),i=r(40961),o=r(91071),a=r(88200);let s=e=>{let{present:t,children:r}=e,s=function(e){var t,r;let[o,s]=(0,n.useState)(),u=(0,n.useRef)({}),c=(0,n.useRef)(e),h=(0,n.useRef)("none"),[d,f]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,n.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,n.useEffect)(()=>{let e=l(u.current);h.current="mounted"===d?e:"none"},[d]),(0,a.N)(()=>{let t=u.current,r=c.current;if(r!==e){let n=h.current,i=l(t);e?f("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?f("UNMOUNT"):r&&n!==i?f("ANIMATION_OUT"):f("UNMOUNT"),c.current=e}},[e,f]),(0,a.N)(()=>{if(o){let e=e=>{let t=l(u.current).includes(e.animationName);e.target===o&&t&&(0,i.flushSync)(()=>f("ANIMATION_END"))},t=e=>{e.target===o&&(h.current=l(u.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),()=>{o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}f("ANIMATION_END")},[o,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,n.useCallback)(e=>{e&&(u.current=getComputedStyle(e)),s(e)},[])}}(t),u="function"==typeof r?r({present:s.isPresent}):n.Children.only(r),c=(0,o.s)(s.ref,u.ref);return"function"==typeof r||s.isPresent?(0,n.cloneElement)(u,{ref:c}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},12579:(e,t,r)=>{"use strict";r.d(t,{hO:()=>l,sG:()=>s});var n=r(58168),i=r(96540),o=r(40961),a=r(33362);let s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,i.forwardRef)((e,r)=>{let{asChild:o,...s}=e,l=o?a.DX:t;return(0,i.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,i.createElement)(l,(0,n.A)({},s,{ref:r}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l(e,t){e&&(0,o.flushSync)(()=>e.dispatchEvent(t))}},14955:(e,t,r)=>{"use strict";r.d(t,{C1:()=>e_,q7:()=>eb,bL:()=>ev});var n=r(96540),i=r.t(n,2);function o(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(s(...e),e)}var u=r(74848);function c(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),a=r.length;r=[...r,i];let s=t=>{let{scope:r,children:i,...s}=t,l=r?.[e]?.[a]||o,c=n.useMemo(()=>s,Object.values(s));return(0,u.jsx)(l.Provider,{value:c,children:i})};return s.displayName=t+"Provider",[s,function(r,s){let l=s?.[e]?.[a]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}r(40961);var h=Symbol("radix.slottable");function d(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(l.ref=t?s(t,a):a),n.cloneElement(r,l)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e,a=n.Children.toArray(i),s=a.find(d);if(s){let e=s.props.children,i=a.map(t=>t!==s?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,u.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,u.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(i?r:t,{...o,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function p(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function m(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),a=r.length;r=[...r,i];let s=t=>{let{scope:r,children:i,...s}=t,l=r?.[e]?.[a]||o,c=n.useMemo(()=>s,Object.values(s));return(0,u.jsx)(l.Provider,{value:c,children:i})};return s.displayName=t+"Provider",[s,function(r,s){let l=s?.[e]?.[a]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}function g(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function y(...e){return t=>{let r=!1,n=e.map(e=>{let n=g(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():g(e[t],null)}}}}function v(...e){return n.useCallback(y(...e),e)}function b(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(s.ref=t?y(t,a):a),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e,a=n.Children.toArray(i),s=a.find(x);if(s){let e=s.props.children,i=a.map(t=>t!==s?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,u.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,u.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var _=Symbol("radix.slottable");function x(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_}var w=globalThis?.document?n.useLayoutEffect:()=>{},S=i[" useId ".trim().toString()]||(()=>void 0),T=0,E=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=b(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(i?r:t,{...o,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),P=i[" useInsertionEffect ".trim().toString()]||w,C=(Symbol("RADIX:SYNC_STATE"),n.createContext(void 0)),A="rovingFocusGroup.onEntryFocus",M={bubbles:!1,cancelable:!0},k="RovingFocusGroup",[O,I,R]=function(e){let t=e+"CollectionProvider",[r,i]=m(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{let{scope:t,children:r}=e,i=n.useRef(null),a=n.useRef(new Map).current;return(0,u.jsx)(o,{scope:t,itemMap:a,collectionRef:i,children:r})};s.displayName=t;let l=e+"CollectionSlot",c=b(l),h=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=v(t,a(l,r).collectionRef);return(0,u.jsx)(c,{ref:i,children:n})});h.displayName=l;let d=e+"CollectionItemSlot",f="data-radix-collection-item",p=b(d),g=n.forwardRef((e,t)=>{let{scope:r,children:i,...o}=e,s=n.useRef(null),l=v(t,s),c=a(d,r);return n.useEffect(()=>(c.itemMap.set(s,{ref:s,...o}),()=>void c.itemMap.delete(s))),(0,u.jsx)(p,{[f]:"",ref:l,children:i})});return g.displayName=d,[{Provider:s,Slot:h,ItemSlot:g},function(t){let r=a(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}(k),[D,L]=m(k,[R]),[j,z]=D(k),B=n.forwardRef((e,t)=>(0,u.jsx)(O.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(O.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(F,{...e,ref:t})})}));B.displayName=k;var F=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:d=!1,...f}=e,m=n.useRef(null),g=v(t,m),y=function(e){let t=n.useContext(C);return e||t||"ltr"}(a),[b,_]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return P(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}({prop:s,defaultProp:l??null,onChange:c,caller:k}),[x,w]=n.useState(!1),S=function(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}(h),T=I(r),O=n.useRef(!1),[R,D]=n.useState(0);return n.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(A,S),()=>e.removeEventListener(A,S)},[S]),(0,u.jsx)(j,{scope:r,orientation:i,dir:y,loop:o,currentTabStopId:b,onItemFocus:n.useCallback(e=>_(e),[_]),onItemShiftTab:n.useCallback(()=>w(!0),[]),onFocusableItemAdd:n.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>D(e=>e-1),[]),children:(0,u.jsx)(E.div,{tabIndex:x||0===R?-1:0,"data-orientation":i,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{O.current=!0}),onFocus:p(e.onFocus,e=>{let t=!O.current;if(e.target===e.currentTarget&&t&&!x){let t=new CustomEvent(A,M);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=T().filter(e=>e.focusable);G([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),d)}}O.current=!1}),onBlur:p(e.onBlur,()=>w(!1))})})}),N="RovingFocusGroupItem",V=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:o=!1,tabStopId:a,children:s,...l}=e,c=function(e){let[t,r]=n.useState(S());return w(()=>{r(e=>e??String(T++))},[void 0]),t?`radix-${t}`:""}(),h=a||c,d=z(N,r),f=d.currentTabStopId===h,m=I(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:v}=d;return n.useEffect(()=>{if(i)return g(),()=>y()},[i,g,y]),(0,u.jsx)(O.ItemSlot,{scope:r,id:h,focusable:i,active:o,children:(0,u.jsx)(E.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:p(e.onMouseDown,e=>{i?d.onItemFocus(h):e.preventDefault()}),onFocus:p(e.onFocus,()=>d.onItemFocus(h)),onKeyDown:p(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){d.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let i=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return U[i]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=d.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>G(r))}}),children:"function"==typeof s?s({isCurrentTabStop:f,hasTabStop:null!=v}):s})})});V.displayName=N;var U={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var H=globalThis?.document?n.useLayoutEffect:()=>{},q=i[" useInsertionEffect ".trim().toString()]||H,$=(Symbol("RADIX:SYNC_STATE"),n.createContext(void 0)),W=r(31185),X=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[i,o]=n.useState(),a=n.useRef(null),s=n.useRef(e),l=n.useRef("none"),[u,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=Z(a.current);l.current="mounted"===u?e:"none"},[u]),H(()=>{let t=a.current,r=s.current;if(r!==e){let n=l.current,i=Z(t);e?c("MOUNT"):"none"===i||t?.display==="none"?c("UNMOUNT"):r&&n!==i?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),H(()=>{if(i){let e;let t=i.ownerDocument.defaultView??window,r=r=>{let n=Z(a.current).includes(r.animationName);if(r.target===i&&n&&(c("ANIMATION_END"),!s.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(l.current=Z(a.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}c("ANIMATION_END")},[i,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,o(e)},[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),a=l(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:a}):null};function Z(e){return e?.animationName||"none"}X.displayName="Presence";var K="Radio",[Y,Q]=c(K),[J,ee]=Y(K),et=n.forwardRef((e,t)=>{let{__scopeRadio:r,name:i,checked:a=!1,required:s,disabled:c,value:h="on",onCheck:d,form:p,...m}=e,[g,y]=n.useState(null),v=l(t,e=>y(e)),b=n.useRef(!1),_=!g||p||!!g.closest("form");return(0,u.jsxs)(J,{scope:r,checked:a,disabled:c,children:[(0,u.jsx)(f.button,{type:"button",role:"radio","aria-checked":a,"data-state":eo(a),"data-disabled":c?"":void 0,disabled:c,value:h,...m,ref:v,onClick:o(e.onClick,e=>{a||d?.(),_&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),_&&(0,u.jsx)(ei,{control:g,bubbles:!b.current,name:i,value:h,checked:a,required:s,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});et.displayName=K;var er="RadioIndicator",en=n.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:n,...i}=e,o=ee(er,r);return(0,u.jsx)(X,{present:n||o.checked,children:(0,u.jsx)(f.span,{"data-state":eo(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});en.displayName=er;var ei=n.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:i=!0,...o},a)=>{let s=n.useRef(null),c=l(s,a),h=function(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),d=(0,W.X)(t);return n.useEffect(()=>{let e=s.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let n=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(n)}},[h,r,i]),(0,u.jsx)(f.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:c,style:{...o.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function eo(e){return e?"checked":"unchecked"}ei.displayName="RadioBubbleInput";var ea=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],es="RadioGroup",[el,eu]=c(es,[L,Q]),ec=L(),eh=Q(),[ed,ef]=el(es),ep=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:i,defaultValue:o,value:a,required:s=!1,disabled:l=!1,orientation:c,dir:h,loop:d=!0,onValueChange:p,...m}=e,g=ec(r),y=function(e){let t=n.useContext($);return e||t||"ltr"}(h),[v,b]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return q(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}({prop:a,defaultProp:o??null,onChange:p,caller:es});return(0,u.jsx)(ed,{scope:r,name:i,required:s,disabled:l,value:v,onValueChange:b,children:(0,u.jsx)(B,{asChild:!0,...g,orientation:c,dir:y,loop:d,children:(0,u.jsx)(f.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});ep.displayName=es;var em="RadioGroupItem",eg=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:i,...a}=e,s=ef(em,r),c=s.disabled||i,h=ec(r),d=eh(r),f=n.useRef(null),p=l(t,f),m=s.value===a.value,g=n.useRef(!1);return n.useEffect(()=>{let e=e=>{ea.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,u.jsx)(V,{asChild:!0,...h,focusable:!c,active:m,children:(0,u.jsx)(et,{disabled:c,required:s.required,checked:m,...d,...a,name:s.name,ref:p,onCheck:()=>s.onValueChange(a.value),onKeyDown:o(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:o(a.onFocus,()=>{g.current&&f.current?.click()})})})});eg.displayName=em;var ey=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...n}=e,i=eh(r);return(0,u.jsx)(en,{...i,...n,ref:t})});ey.displayName="RadioGroupIndicator";var ev=ep,eb=eg,e_=ey},14674:(e,t,r)=>{"use strict";r.d(t,{bL:()=>U,Ze:()=>H,zi:()=>q,LM:()=>G});var n=r(58168),i=r(96540),o=r(12579),a=r(7971),s=r(62133),l=r(91071),u=r(10263),c=r(71427),h=r(88200),d=r(32338);let f="ScrollArea",[p,m]=(0,s.A)(f),[g,y]=p(f),v=(0,i.forwardRef)((e,t)=>{let{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:u=600,...h}=e,[d,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(null),[y,v]=(0,i.useState)(null),[b,_]=(0,i.useState)(null),[x,w]=(0,i.useState)(null),[S,T]=(0,i.useState)(0),[E,P]=(0,i.useState)(0),[C,A]=(0,i.useState)(!1),[M,k]=(0,i.useState)(!1),O=(0,l.s)(t,e=>f(e)),I=(0,c.jH)(s);return(0,i.createElement)(g,{scope:r,type:a,dir:I,scrollHideDelay:u,scrollArea:d,viewport:p,onViewportChange:m,content:y,onContentChange:v,scrollbarX:b,onScrollbarXChange:_,scrollbarXEnabled:C,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:k,onCornerWidthChange:T,onCornerHeightChange:P},(0,i.createElement)(o.sG.div,(0,n.A)({dir:I},h,{ref:O,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})))}),b=(0,i.forwardRef)((e,t)=>{let{__scopeScrollArea:r,children:a,...s}=e,u=y("ScrollAreaViewport",r),c=(0,i.useRef)(null),h=(0,l.s)(t,c,u.onViewportChange);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,i.createElement)(o.sG.div,(0,n.A)({"data-radix-scroll-area-viewport":""},s,{ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,i.createElement)("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"}},a)))}),_="ScrollAreaScrollbar",x=(0,i.forwardRef)((e,t)=>{let{forceMount:r,...o}=e,a=y(_,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=a,u="horizontal"===e.orientation;return(0,i.useEffect)(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),"hover"===a.type?(0,i.createElement)(w,(0,n.A)({},o,{ref:t,forceMount:r})):"scroll"===a.type?(0,i.createElement)(S,(0,n.A)({},o,{ref:t,forceMount:r})):"auto"===a.type?(0,i.createElement)(T,(0,n.A)({},o,{ref:t,forceMount:r})):"always"===a.type?(0,i.createElement)(E,(0,n.A)({},o,{ref:t})):null}),w=(0,i.forwardRef)((e,t)=>{let{forceMount:r,...o}=e,s=y(_,e.__scopeScrollArea),[l,u]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),u(!0)},n=()=>{t=window.setTimeout(()=>u(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),(0,i.createElement)(a.C,{present:r||l},(0,i.createElement)(T,(0,n.A)({"data-state":l?"visible":"hidden"},o,{ref:t})))}),S=(0,i.forwardRef)((e,t)=>{var r,o;let{forceMount:s,...l}=e,u=y(_,e.__scopeScrollArea),c="horizontal"===e.orientation,h=N(()=>p("SCROLL_END"),100),[f,p]=(r="hidden",o={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,i.useReducer)((e,t)=>{let r=o[e][t];return null!=r?r:e},r));return(0,i.useEffect)(()=>{if("idle"===f){let e=window.setTimeout(()=>p("HIDE"),u.scrollHideDelay);return()=>window.clearTimeout(e)}},[f,u.scrollHideDelay,p]),(0,i.useEffect)(()=>{let e=u.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(p("SCROLL"),h()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[u.viewport,c,p,h]),(0,i.createElement)(a.C,{present:s||"hidden"!==f},(0,i.createElement)(E,(0,n.A)({"data-state":"hidden"===f?"hidden":"visible"},l,{ref:t,onPointerEnter:(0,d.m)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,d.m)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})))}),T=(0,i.forwardRef)((e,t)=>{let r=y(_,e.__scopeScrollArea),{forceMount:o,...s}=e,[l,u]=(0,i.useState)(!1),c="horizontal"===e.orientation,h=N(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;u(c?e:t)}},10);return V(r.viewport,h),V(r.content,h),(0,i.createElement)(a.C,{present:o||l},(0,i.createElement)(E,(0,n.A)({"data-state":l?"visible":"hidden"},s,{ref:t})))}),E=(0,i.forwardRef)((e,t)=>{let{orientation:r="vertical",...o}=e,a=y(_,e.__scopeScrollArea),s=(0,i.useRef)(null),l=(0,i.useRef)(0),[u,c]=(0,i.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=L(u.viewport,u.content),d={...o,sizes:u,onSizesChange:c,hasThumb:!!(h>0&&h<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function f(e,t){return function(e,t,r,n="ltr"){let i=j(r),o=t||i/2,a=r.scrollbar.paddingStart+o,s=r.scrollbar.size-r.scrollbar.paddingEnd-(i-o),l=r.content-r.viewport;return B([a,s],"ltr"===n?[0,l]:[-1*l,0])(e)}(e,l.current,u,t)}return"horizontal"===r?(0,i.createElement)(P,(0,n.A)({},d,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){let e=z(a.viewport.scrollLeft,u,a.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=f(e,a.dir))}})):"vertical"===r?(0,i.createElement)(C,(0,n.A)({},d,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){let e=z(a.viewport.scrollTop,u);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=f(e))}})):null}),P=(0,i.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:o,...a}=e,s=y(_,e.__scopeScrollArea),[u,c]=(0,i.useState)(),h=(0,i.useRef)(null),d=(0,l.s)(t,h,s.onScrollbarXChange);return(0,i.useEffect)(()=>{h.current&&c(getComputedStyle(h.current))},[h]),(0,i.createElement)(k,(0,n.A)({"data-orientation":"horizontal"},a,{ref:d,sizes:r,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":j(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{h.current&&s.viewport&&u&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:D(u.paddingLeft),paddingEnd:D(u.paddingRight)}})}}))}),C=(0,i.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:o,...a}=e,s=y(_,e.__scopeScrollArea),[u,c]=(0,i.useState)(),h=(0,i.useRef)(null),d=(0,l.s)(t,h,s.onScrollbarYChange);return(0,i.useEffect)(()=>{h.current&&c(getComputedStyle(h.current))},[h]),(0,i.createElement)(k,(0,n.A)({"data-orientation":"vertical"},a,{ref:d,sizes:r,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":j(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{h.current&&s.viewport&&u&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:D(u.paddingTop),paddingEnd:D(u.paddingBottom)}})}}))}),[A,M]=p(_),k=(0,i.forwardRef)((e,t)=>{let{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:c,onThumbPointerUp:h,onThumbPointerDown:f,onThumbPositionChange:p,onDragScroll:m,onWheelScroll:g,onResize:v,...b}=e,x=y(_,r),[w,S]=(0,i.useState)(null),T=(0,l.s)(t,e=>S(e)),E=(0,i.useRef)(null),P=(0,i.useRef)(""),C=x.viewport,M=a.content-a.viewport,k=(0,u.c)(g),O=(0,u.c)(p),I=N(v,10);function R(e){E.current&&m({x:e.clientX-E.current.left,y:e.clientY-E.current.top})}return(0,i.useEffect)(()=>{let e=e=>{let t=e.target;(null==w?void 0:w.contains(t))&&k(e,M)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[C,w,M,k]),(0,i.useEffect)(O,[a,O]),V(w,I),V(x.content,I),(0,i.createElement)(A,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:(0,u.c)(c),onThumbPointerUp:(0,u.c)(h),onThumbPositionChange:O,onThumbPointerDown:(0,u.c)(f)},(0,i.createElement)(o.sG.div,(0,n.A)({},b,{ref:T,style:{position:"absolute",...b.style},onPointerDown:(0,d.m)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),E.current=w.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),R(e))}),onPointerMove:(0,d.m)(e.onPointerMove,R),onPointerUp:(0,d.m)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=P.current,x.viewport&&(x.viewport.style.scrollBehavior=""),E.current=null})})))}),O="ScrollAreaThumb",I=(0,i.forwardRef)((e,t)=>{let{forceMount:r,...o}=e,s=M(O,e.__scopeScrollArea);return(0,i.createElement)(a.C,{present:r||s.hasThumb},(0,i.createElement)(R,(0,n.A)({ref:t},o)))}),R=(0,i.forwardRef)((e,t)=>{let{__scopeScrollArea:r,style:a,...s}=e,u=y(O,r),c=M(O,r),{onThumbPositionChange:h}=c,f=(0,l.s)(t,e=>c.onThumbChange(e)),p=(0,i.useRef)(),m=N(()=>{p.current&&(p.current(),p.current=void 0)},100);return(0,i.useEffect)(()=>{let e=u.viewport;if(e){let t=()=>{if(m(),!p.current){let t=F(e,h);p.current=t,h()}};return h(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[u.viewport,m,h]),(0,i.createElement)(o.sG.div,(0,n.A)({"data-state":c.hasThumb?"visible":"hidden"},s,{ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:(0,d.m)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;c.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,d.m)(e.onPointerUp,c.onThumbPointerUp)}))});function D(e){return e?parseInt(e,10):0}function L(e,t){let r=e/t;return isNaN(r)?0:r}function j(e){let t=L(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function z(e,t,r="ltr"){let n=j(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,a]:[-1*a,0]);return B([0,a],[0,o-n])(s)}function B(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}(e,t)=>{let{__scopeScrollArea:r,...a}=e,s=y("ScrollAreaCorner",r),[l,u]=(0,i.useState)(0),[c,h]=(0,i.useState)(0),d=!!(l&&c);return V(s.scrollbarX,()=>{var e;let t=(null===(e=s.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;s.onCornerHeightChange(t),h(t)}),V(s.scrollbarY,()=>{var e;let t=(null===(e=s.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;s.onCornerWidthChange(t),u(t)}),d?(0,i.createElement)(o.sG.div,(0,n.A)({},a,{ref:t,style:{width:l,height:c,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}})):null};let F=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return!function i(){let o={left:e.scrollLeft,top:e.scrollTop},a=r.left!==o.left,s=r.top!==o.top;(a||s)&&t(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function N(e,t){let r=(0,u.c)(e),n=(0,i.useRef)(0);return(0,i.useEffect)(()=>()=>window.clearTimeout(n.current),[]),(0,i.useCallback)(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function V(e,t){let r=(0,u.c)(t);(0,h.N)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}let U=v,G=b,H=x,q=I},33362:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var n=r(58168),i=r(96540),o=r(91071);let a=(0,i.forwardRef)((e,t)=>{let{children:r,...o}=e,a=i.Children.toArray(r),l=a.find(u);if(l){let e=l.props.children,r=a.map(t=>t!==l?t:i.Children.count(e)>1?i.Children.only(null):(0,i.isValidElement)(e)?e.props.children:null);return(0,i.createElement)(s,(0,n.A)({},o,{ref:t}),(0,i.isValidElement)(e)?(0,i.cloneElement)(e,void 0,r):null)}return(0,i.createElement)(s,(0,n.A)({},o,{ref:t}),r)});a.displayName="Slot";let s=(0,i.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{...function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:t?(0,o.t)(t,r.ref):r.ref}):i.Children.count(r)>1?i.Children.only(null):null});s.displayName="SlotClone";let l=({children:e})=>(0,i.createElement)(i.Fragment,null,e);function u(e){return(0,i.isValidElement)(e)&&e.type===l}},56211:(e,t,r)=>{"use strict";r.d(t,{bL:()=>E,zi:()=>P});var n=r(96540),i=r.t(n,2);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let r=!1,n=e.map(e=>{let n=o(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():o(e[t],null)}}}}function s(...e){return n.useCallback(a(...e),e)}"undefined"!=typeof window&&window.document&&window.document.createElement;var l=r(74848),u=globalThis?.document?n.useLayoutEffect:()=>{},c=i[" useInsertionEffect ".trim().toString()]||u,h=(Symbol("RADIX:SYNC_STATE"),r(31185));r(40961);var d=Symbol("radix.slottable");function f(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(l.ref=t?a(t,s):s),n.cloneElement(r,l)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e,a=n.Children.toArray(i),s=a.find(f);if(s){let e=s.props.children,i=a.map(t=>t!==s?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,l.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i?r:t,{...o,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),m="Switch",[g,y]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),a=r.length;r=[...r,i];let s=t=>{let{scope:r,children:i,...s}=t,u=r?.[e]?.[a]||o,c=n.useMemo(()=>s,Object.values(s));return(0,l.jsx)(u.Provider,{value:c,children:i})};return s.displayName=t+"Provider",[s,function(r,s){let l=s?.[e]?.[a]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}(m),[v,b]=g(m),_=n.forwardRef((e,t)=>{let{__scopeSwitch:r,name:i,checked:o,defaultChecked:a,required:u,disabled:h,value:d="on",onCheckedChange:f,form:g,...y}=e,[b,_]=n.useState(null),x=s(t,e=>_(e)),w=n.useRef(!1),E=!b||g||!!b.closest("form"),[P,C]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return c(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}({prop:o,defaultProp:a??!1,onChange:f,caller:m});return(0,l.jsxs)(v,{scope:r,checked:P,disabled:h,children:[(0,l.jsx)(p.button,{type:"button",role:"switch","aria-checked":P,"aria-required":u,"data-state":T(P),"data-disabled":h?"":void 0,disabled:h,value:d,...y,ref:x,onClick:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}(e.onClick,e=>{C(e=>!e),E&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),E&&(0,l.jsx)(S,{control:b,bubbles:!w.current,name:i,value:d,checked:P,required:u,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});_.displayName=m;var x="SwitchThumb",w=n.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,i=b(x,r);return(0,l.jsx)(p.span,{"data-state":T(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});w.displayName=x;var S=n.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...o},a)=>{let u=n.useRef(null),c=s(u,a),d=function(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),f=(0,h.X)(t);return n.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let n=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(n)}},[d,r,i]),(0,l.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function T(e){return e?"checked":"unchecked"}S.displayName="SwitchBubbleInput";var E=_,P=w},91190:(e,t,r)=>{"use strict";r.d(t,{UC:()=>eo,B8:()=>en,bL:()=>er,l9:()=>ei});var n=r(96540),i=r.t(n,2);function o(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var a=r(74848);function s(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),s=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,u=r?.[e]?.[s]||o,c=n.useMemo(()=>l,Object.values(l));return(0,a.jsx)(u.Provider,{value:c,children:i})};return l.displayName=t+"Provider",[l,function(r,a){let l=a?.[e]?.[s]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function u(...e){return t=>{let r=!1,n=e.map(e=>{let n=l(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():l(e[t],null)}}}}function c(...e){return n.useCallback(u(...e),e)}function h(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(s.ref=t?u(t,a):a),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e,s=n.Children.toArray(i),l=s.find(f);if(l){let e=l.props.children,i=s.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,a.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var d=Symbol("radix.slottable");function f(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var p=globalThis?.document?n.useLayoutEffect:()=>{},m=i[" useId ".trim().toString()]||(()=>void 0),g=0;function y(e){let[t,r]=n.useState(m());return p(()=>{e||r(e=>e??String(g++))},[e]),e||(t?`radix-${t}`:"")}r(40961);var v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=h(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?r:t,{...o,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),b=i[" useInsertionEffect ".trim().toString()]||p;function _({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[o,a,s]=function({defaultProp:e,onChange:t}){let[r,i]=n.useState(e),o=n.useRef(r),a=n.useRef(t);return b(()=>{a.current=t},[t]),n.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,i,a]}({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,i])}return[u,n.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}Symbol("RADIX:SYNC_STATE");var x=n.createContext(void 0);function w(e){let t=n.useContext(x);return e||t||"ltr"}var S="rovingFocusGroup.onEntryFocus",T={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[P,C,A]=function(e){let t=e+"CollectionProvider",[r,i]=s(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:r}=e,i=n.useRef(null),s=n.useRef(new Map).current;return(0,a.jsx)(o,{scope:t,itemMap:s,collectionRef:i,children:r})};u.displayName=t;let d=e+"CollectionSlot",f=h(d),p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=c(t,l(d,r).collectionRef);return(0,a.jsx)(f,{ref:i,children:n})});p.displayName=d;let m=e+"CollectionItemSlot",g="data-radix-collection-item",y=h(m),v=n.forwardRef((e,t)=>{let{scope:r,children:i,...o}=e,s=n.useRef(null),u=c(t,s),h=l(m,r);return n.useEffect(()=>(h.itemMap.set(s,{ref:s,...o}),()=>void h.itemMap.delete(s))),(0,a.jsx)(y,{[g]:"",ref:u,children:i})});return v.displayName=m,[{Provider:u,Slot:p,ItemSlot:v},function(t){let r=l(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${g}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}(E),[M,k]=s(E,[A]),[O,I]=M(E),R=n.forwardRef((e,t)=>(0,a.jsx)(P.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(P.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(D,{...e,ref:t})})}));R.displayName=E;var D=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:s=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=e,g=n.useRef(null),y=c(t,g),b=w(l),[x,P]=_({prop:u,defaultProp:h??null,onChange:d,caller:E}),[A,M]=n.useState(!1),k=function(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}(f),I=C(r),R=n.useRef(!1),[D,L]=n.useState(0);return n.useEffect(()=>{let e=g.current;if(e)return e.addEventListener(S,k),()=>e.removeEventListener(S,k)},[k]),(0,a.jsx)(O,{scope:r,orientation:i,dir:b,loop:s,currentTabStopId:x,onItemFocus:n.useCallback(e=>P(e),[P]),onItemShiftTab:n.useCallback(()=>M(!0),[]),onFocusableItemAdd:n.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>L(e=>e-1),[]),children:(0,a.jsx)(v.div,{tabIndex:A||0===D?-1:0,"data-orientation":i,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:o(e.onMouseDown,()=>{R.current=!0}),onFocus:o(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!A){let t=new CustomEvent(S,T);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);B([e.find(e=>e.active),e.find(e=>e.id===x),...e].filter(Boolean).map(e=>e.ref.current),p)}}R.current=!1}),onBlur:o(e.onBlur,()=>M(!1))})})}),L="RovingFocusGroupItem",j=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:s=!1,tabStopId:l,children:u,...c}=e,h=y(),d=l||h,f=I(L,r),p=f.currentTabStopId===d,m=C(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:_}=f;return n.useEffect(()=>{if(i)return g(),()=>b()},[i,g,b]),(0,a.jsx)(P.ItemSlot,{scope:r,id:d,focusable:i,active:s,children:(0,a.jsx)(v.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:o(e.onMouseDown,e=>{i?f.onItemFocus(d):e.preventDefault()}),onFocus:o(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:o(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let i=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return z[i]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=f.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>B(r))}}),children:"function"==typeof u?u({isCurrentTabStop:p,hasTabStop:null!=_}):u})})});j.displayName=L;var z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var F=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[i,o]=n.useState(),a=n.useRef(null),s=n.useRef(e),l=n.useRef("none"),[u,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=N(a.current);l.current="mounted"===u?e:"none"},[u]),p(()=>{let t=a.current,r=s.current;if(r!==e){let n=l.current,i=N(t);e?c("MOUNT"):"none"===i||t?.display==="none"?c("UNMOUNT"):r&&n!==i?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),p(()=>{if(i){let e;let t=i.ownerDocument.defaultView??window,r=r=>{let n=N(a.current).includes(CSS.escape(r.animationName));if(r.target===i&&n&&(c("ANIMATION_END"),!s.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(l.current=N(a.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}c("ANIMATION_END")},[i,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,o(e)},[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),a=c(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:a}):null};function N(e){return e?.animationName||"none"}F.displayName="Presence";var V="Tabs",[U,G]=s(V,[k]),H=k(),[q,$]=U(V),W=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:l,activationMode:u="automatic",...c}=e,h=w(l),[d,f]=_({prop:n,onChange:i,defaultProp:o??"",caller:V});return(0,a.jsx)(q,{scope:r,baseId:y(),value:d,onValueChange:f,orientation:s,dir:h,activationMode:u,children:(0,a.jsx)(v.div,{dir:h,"data-orientation":s,...c,ref:t})})});W.displayName=V;var X="TabsList",Z=n.forwardRef((e,t)=>{let{__scopeTabs:r,loop:n=!0,...i}=e,o=$(X,r),s=H(r);return(0,a.jsx)(R,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:n,children:(0,a.jsx)(v.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});Z.displayName=X;var K="TabsTrigger",Y=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,l=$(K,r),u=H(r),c=ee(l.baseId,n),h=et(l.baseId,n),d=n===l.value;return(0,a.jsx)(j,{asChild:!0,...u,focusable:!i,active:d,children:(0,a.jsx)(v.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":h,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:o(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:o(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:o(e.onFocus,()=>{let e="manual"!==l.activationMode;d||i||!e||l.onValueChange(n)})})})});Y.displayName=K;var Q="TabsContent",J=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:o,children:s,...l}=e,u=$(Q,r),c=ee(u.baseId,i),h=et(u.baseId,i),d=i===u.value,f=n.useRef(d);return n.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(F,{present:o||d,children:({present:r})=>(0,a.jsx)(v.div,{"data-state":d?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&s})})});function ee(e,t){return`${e}-trigger-${t}`}function et(e,t){return`${e}-content-${t}`}J.displayName=Q;var er=W,en=Z,ei=Y,eo=J},10263:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(96540);function i(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>(...e)=>{var r;return null===(r=t.current)||void 0===r?void 0:r.call(t,...e)},[])}},88200:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(96540);let i=(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{}},31185:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(96540),i=globalThis?.document?n.useLayoutEffect:()=>{};function o(e){let[t,r]=n.useState(void 0);return i(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},3174:(e,t,r)=>{"use strict";r.d(t,{s6:()=>c});var n=r(96540);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}r(40961);var o=r(74848),a=Symbol("radix.slottable");function s(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}var l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...o}=e;if(n.isValidElement(r)){let e,a;let s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(o,r.props);return r.type!==n.Fragment&&(l.ref=t?function(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}(t,s):s),n.cloneElement(r,l)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...a}=e,l=n.Children.toArray(i),u=l.find(s);if(u){let e=u.props.children,i=l.map(t=>t!==u?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,o.jsx)(t,{...a,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),a=n.forwardRef((e,n)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i?r:t,{...a,ref:n})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),u=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c=n.forwardRef((e,t)=>(0,o.jsx)(l.span,{...e,ref:t,style:{...u,...e.style}}));c.displayName="VisuallyHidden"},62517:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(94323),i=r(12295);class o extends n.Q{constructor(){super(),this.setup=e=>{if(!i.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}let a=new o},97502:(e,t,r)=>{"use strict";function n(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,a,s,l;let u;let c=null==(t=e.fetchOptions)?void 0:null==(r=t.meta)?void 0:r.refetchPage,h=null==(n=e.fetchOptions)?void 0:null==(a=n.meta)?void 0:a.fetchMore,d=null==h?void 0:h.pageParam,f=(null==h?void 0:h.direction)==="forward",p=(null==h?void 0:h.direction)==="backward",m=(null==(s=e.state.data)?void 0:s.pages)||[],g=(null==(l=e.state.data)?void 0:l.pageParams)||[],y=g,v=!1,b=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?v=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{v=!0}),e.signal}})},_=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),x=(e,t,r,n)=>(y=n?[t,...y]:[...y,t],n?[r,...e]:[...e,r]),w=(t,r,n,i)=>{if(v)return Promise.reject("Cancelled");if(void 0===n&&!r&&t.length)return Promise.resolve(t);let o={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};return b(o),Promise.resolve(_(o)).then(e=>x(t,n,e,i))};if(m.length){if(f){let t=void 0!==d,r=t?d:i(e.options,m);u=w(m,t,r)}else if(p){let t=void 0!==d,r=t?d:o(e.options,m);u=w(m,t,r,!0)}else{y=[];let t=void 0===e.options.getNextPageParam;u=!c||!m[0]||c(m[0],0,m)?w([],t,g[0]):Promise.resolve(x([],g[0],m[0]));for(let r=1;r<m.length;r++)u=u.then(n=>{if(!c||!m[r]||c(m[r],r,m)){let o=t?g[r]:i(e.options,n);return w(n,t,o)}return Promise.resolve(x(n,g[r],m[r]))})}}else u=w([]);return u.then(e=>({pages:e,pageParams:y}))}}}}function i(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function o(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function a(e,t){if(e.getNextPageParam&&Array.isArray(t)){let r=i(e,t);return null!=r&&!1!==r}}function s(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){let r=o(e,t);return null!=r&&!1!==r}}r.d(t,{PL:()=>n,RQ:()=>s,rB:()=>a})},52904:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});let n=console},36801:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,s:()=>s});var n=r(52904),i=r(8448),o=r(91931),a=r(94255);class s extends o.k{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||n.U,this.observers=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){var e,t,r,n,i,o,s,l,u,c,h,d,f,p,m,g,y,v,b,_;let x="loading"===this.state.status;try{if(!x){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(u=(c=this.mutationCache.config).onMutate)?void 0:u.call(c,this.state.variables,this));let e=await (null==(h=(d=this.options).onMutate)?void 0:h.call(d,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}let f=await (()=>{var e;return this.retryer=(0,a.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise})();return await (null==(e=(t=this.mutationCache.config).onSuccess)?void 0:e.call(t,f,this.state.variables,this.state.context,this)),await (null==(r=(n=this.options).onSuccess)?void 0:r.call(n,f,this.state.variables,this.state.context)),await (null==(i=(o=this.mutationCache.config).onSettled)?void 0:i.call(o,f,null,this.state.variables,this.state.context,this)),await (null==(s=(l=this.options).onSettled)?void 0:s.call(l,f,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:f}),f}catch(e){try{throw await (null==(f=(p=this.mutationCache.config).onError)?void 0:f.call(p,e,this.state.variables,this.state.context,this)),await (null==(m=(g=this.options).onError)?void 0:m.call(g,e,this.state.variables,this.state.context)),await (null==(y=(v=this.mutationCache.config).onSettled)?void 0:y.call(v,void 0,e,this.state.variables,this.state.context,this)),await (null==(b=(_=this.options).onSettled)?void 0:b.call(_,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,a.v_)(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),i.j.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}},8448:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var n=r(12295);let i=function(){let e=[],t=0,r=e=>{e()},i=e=>{e()},o=i=>{t?e.push(i):(0,n.G6)(()=>{r(i)})},a=()=>{let t=e;e=[],t.length&&(0,n.G6)(()=>{i(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||a()}return r},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{i=e}}}()},43626:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(94323),i=r(12295);let o=["online","offline"];class a extends n.Q{constructor(){super(),this.setup=e=>{if(!i.S$&&window.addEventListener){let t=()=>e();return o.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{o.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}let s=new a},5054:(e,t,r)=>{"use strict";r.d(t,{E:()=>g});var n=r(12295),i=r(52904),o=r(8448),a=r(94255),s=r(91931);class l extends s.k{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||i.U,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){let r=(0,n.pl)(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;let r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,n.j3)(this.state.dataUpdatedAt,e)}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i,o,s;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let l=(0,n.jY)(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}})};c(u);let h={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};c(h),null==(r=this.options.behavior)||r.onFetch(h),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=h.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(s=h.fetchOptions)?void 0:s.meta});let d=e=>{if((0,a.wm)(e)&&e.silent||this.dispatch({type:"error",error:e}),!(0,a.wm)(e)){var t,r,n,i;null==(t=(r=this.cache.config).onError)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,this.state.data,e,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,a.II)({fn:h.fetchFn,abort:null==l?void 0:l.abort.bind(l),onSuccess:e=>{var t,r,n,i;if(void 0===e){d(Error(this.queryHash+" data is undefined"));return}this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:(0,a.v_)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=e.error;if((0,a.wm)(i)&&i.revert&&this.revertState)return{...this.revertState,fetchStatus:"idle"};return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),o.j.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}var u=r(94323);class c extends u.Q{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;let o=t.queryKey,a=null!=(i=t.queryHash)?i:(0,n.F$)(o,t),s=this.get(a);return s||(s=new l({cache:this,logger:e.getLogger(),queryKey:o,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){let t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){o.j.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){let[r]=(0,n.b_)(e,t);return void 0===r.exact&&(r.exact=!0),this.queries.find(e=>(0,n.MK)(r,e))}findAll(e,t){let[r]=(0,n.b_)(e,t);return Object.keys(r).length>0?this.queries.filter(e=>(0,n.MK)(r,e)):this.queries}notify(e){o.j.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){o.j.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){o.j.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}var h=r(36801);class d extends u.Q{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){let n=new h.s({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){o.j.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>(0,n.nJ)(e,t))}findAll(e){return this.mutations.filter(t=>(0,n.nJ)(e,t))}notify(e){o.j.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{let e=this.mutations.filter(e=>e.state.isPaused);return o.j.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(n.lQ)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}var f=r(62517),p=r(43626),m=r(97502);class g{constructor(e={}){this.queryCache=e.queryCache||new c,this.mutationCache=e.mutationCache||new d,this.logger=e.logger||i.U,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=f.m.subscribe(()=>{f.m.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=p.t.subscribe(()=>{p.t.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){let[r]=(0,n.b_)(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){let i=(0,n.vh)(e,t,r),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let i=this.queryCache.find(e),o=null==i?void 0:i.state.data,a=(0,n.Zw)(t,o);if(void 0===a)return;let s=(0,n.vh)(e),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return o.j.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){let[r]=(0,n.b_)(e,t),i=this.queryCache;o.j.batch(()=>{i.findAll(r).forEach(e=>{i.remove(e)})})}resetQueries(e,t,r){let[i,a]=(0,n.b_)(e,t,r),s=this.queryCache,l={type:"active",...i};return o.j.batch(()=>(s.findAll(i).forEach(e=>{e.reset()}),this.refetchQueries(l,a)))}cancelQueries(e,t,r){let[i,a={}]=(0,n.b_)(e,t,r);return void 0===a.revert&&(a.revert=!0),Promise.all(o.j.batch(()=>this.queryCache.findAll(i).map(e=>e.cancel(a)))).then(n.lQ).catch(n.lQ)}invalidateQueries(e,t,r){let[i,a]=(0,n.b_)(e,t,r);return o.j.batch(()=>{var e,t;if(this.queryCache.findAll(i).forEach(e=>{e.invalidate()}),"none"===i.refetchType)return Promise.resolve();let r={...i,type:null!=(e=null!=(t=i.refetchType)?t:i.type)?e:"active"};return this.refetchQueries(r,a)})}refetchQueries(e,t,r){let[i,a]=(0,n.b_)(e,t,r),s=Promise.all(o.j.batch(()=>this.queryCache.findAll(i).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...a,cancelRefetch:null==(t=null==a?void 0:a.cancelRefetch)||t,meta:{refetchPage:i.refetchPage}})}))).then(n.lQ);return null!=a&&a.throwOnError||(s=s.catch(n.lQ)),s}fetchQuery(e,t,r){let i=(0,n.vh)(e,t,r),o=this.defaultQueryOptions(i);void 0===o.retry&&(o.retry=!1);let a=this.queryCache.build(this,o);return a.isStaleByTime(o.staleTime)?a.fetch(o):Promise.resolve(a.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(n.lQ).catch(n.lQ)}fetchInfiniteQuery(e,t,r){let i=(0,n.vh)(e,t,r);return i.behavior=(0,m.PL)(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(n.lQ).catch(n.lQ)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){let r=this.queryDefaults.find(t=>(0,n.Od)(e)===(0,n.Od)(t.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;let t=this.queryDefaults.find(t=>(0,n.Cp)(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){let r=this.mutationDefaults.find(t=>(0,n.Od)(e)===(0,n.Od)(t.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;let t=this.mutationDefaults.find(t=>(0,n.Cp)(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;let t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,n.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}},1522:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(12295),i=r(8448),o=r(62517),a=r(94323),s=r(94255);class l extends a.Q{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),u(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,n.f8)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();let o=this.hasListeners();o&&h(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();let a=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return e.keepPreviousData||(void 0!==e.placeholderData?!r.isPlaceholderData:(0,n.f8)(this.getCurrentResult(),r))||(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(n.lQ)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),n.S$||this.currentResult.isStale||!(0,n.gn)(this.options.staleTime))return;let e=(0,n.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!n.S$&&!1!==this.options.enabled&&(0,n.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||o.m.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let r;let i=this.currentQuery,o=this.options,a=this.currentResult,l=this.currentResultState,c=this.currentResultOptions,f=e!==i,p=f?e.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,{state:g}=e,{dataUpdatedAt:y,error:v,errorUpdatedAt:b,fetchStatus:_,status:x}=g,w=!1,S=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&u(e,t),a=r&&h(e,i,t,o);(n||a)&&(_=(0,s.v_)(e.options.networkMode)?"fetching":"paused",y||(x="loading")),"isRestoring"===t._optimisticResults&&(_="idle")}if(t.keepPreviousData&&!g.dataUpdatedAt&&null!=m&&m.isSuccess&&"error"!==x)r=m.data,y=m.dataUpdatedAt,x=m.status,w=!0;else if(t.select&&void 0!==g.data){if(a&&g.data===(null==l?void 0:l.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(g.data),r=(0,n.pl)(null==a?void 0:a.data,r,t),this.selectResult=r,this.selectError=null}catch(e){this.selectError=e}}else r=g.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===x){let e;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==c?void 0:c.placeholderData))e=a.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(x="success",r=(0,n.pl)(null==a?void 0:a.data,e,t),S=!0)}this.selectError&&(v=this.selectError,r=this.selectResult,b=Date.now(),x="error");let T="fetching"===_,E="loading"===x,P="error"===x;return{status:x,fetchStatus:_,isLoading:E,isSuccess:"success"===x,isError:P,isInitialLoading:E&&T,data:r,dataUpdatedAt:y,error:v,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:P&&0===g.dataUpdatedAt,isPaused:"paused"===_,isPlaceholderData:S,isPreviousData:w,isRefetchError:P&&0!==g.dataUpdatedAt,isStale:d(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){let t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,n.f8)(r,t))return;this.currentResult=r;let i={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.trackedProps.size)return!0;let n=new Set(null!=r?r:this.trackedProps);return this.options.useErrorBoundary&&n.add("error"),Object.keys(this.currentResult).some(e=>this.currentResult[e]!==t[e]&&n.has(e))})()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,s.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){i.j.batch(()=>{var t,r,n,i,o,a,s,l;e.onSuccess?(null==(t=(r=this.options).onSuccess)||t.call(r,this.currentResult.data),null==(n=(i=this.options).onSettled)||n.call(i,this.currentResult.data,null)):e.onError&&(null==(o=(a=this.options).onError)||o.call(a,this.currentResult.error),null==(s=(l=this.options).onSettled)||s.call(l,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function u(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&("error"!==e.state.status||!1!==t.retryOnMount)||e.state.dataUpdatedAt>0&&c(e,t,t.refetchOnMount)}function c(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&d(e,t)}return!1}function h(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&d(e,r)}function d(e,t){return e.isStaleByTime(t.staleTime)}},91931:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(12295);class i{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:n.S$?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}},94255:(e,t,r)=>{"use strict";r.d(t,{II:()=>c,v_:()=>s,wm:()=>u});var n=r(62517),i=r(43626),o=r(12295);function a(e){return Math.min(1e3*2**e,3e4)}function s(e){return(null!=e?e:"online")!=="online"||i.t.isOnline()}class l{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function u(e){return e instanceof l}function c(e){let t,r,u,c=!1,h=0,d=!1,f=new Promise((e,t)=>{r=e,u=t}),p=()=>!n.m.isFocused()||"always"!==e.networkMode&&!i.t.isOnline(),m=n=>{d||(d=!0,null==e.onSuccess||e.onSuccess(n),null==t||t(),r(n))},g=r=>{d||(d=!0,null==e.onError||e.onError(r),null==t||t(),u(r))},y=()=>new Promise(r=>{t=e=>{let t=d||!p();return t&&r(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,d||null==e.onContinue||e.onContinue()}),v=()=>{let t;if(!d){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch(t=>{var r,n;if(d)return;let i=null!=(r=e.retry)?r:3,s=null!=(n=e.retryDelay)?n:a,l="function"==typeof s?s(h,t):s,u=!0===i||"number"==typeof i&&h<i||"function"==typeof i&&i(h,t);if(c||!u){g(t);return}h++,null==e.onFail||e.onFail(h,t),(0,o.yy)(l).then(()=>{if(p())return y()}).then(()=>{c?g(t):v()})})}};return s(e.networkMode)?v():y().then(v),{promise:f,cancel:t=>{d||(g(new l(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?f:Promise.resolve(),cancelRetry:()=>{c=!0},continueRetry:()=>{c=!1}}}},94323:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});class n{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){let t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},12295:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>m,F$:()=>f,G6:()=>S,GR:()=>u,MK:()=>h,Od:()=>p,S$:()=>n,Zw:()=>o,b_:()=>c,f8:()=>y,gn:()=>a,j3:()=>s,jY:()=>T,lQ:()=>i,nJ:()=>d,pl:()=>E,vh:()=>l,yy:()=>w});let n="undefined"==typeof window||"Deno"in window;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function s(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t,r){return x(e)?"function"==typeof t?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function u(e,t,r){return x(e)?"function"==typeof t?{...r,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:"function"==typeof e?{...t,mutationFn:e}:{...e}}function c(e,t,r){return x(e)?[{...t,queryKey:e},r]:[e||{},t]}function h(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(x(a)){if(n){if(t.queryHash!==f(a,t.options))return!1}else{if(!g(t.queryKey,a))return!1}}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof s||t.isStale()===s)&&(void 0===i||i===t.state.fetchStatus)&&(!o||!!o(t))}function d(e,t){let{exact:r,fetching:n,predicate:i,mutationKey:o}=e;if(x(o)){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(o))return!1}else{if(!g(t.options.mutationKey,o))return!1}}return("boolean"!=typeof n||"loading"===t.state.status===n)&&(!i||!!i(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>b(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function m(e,t){return g(e,t)}function g(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!g(e[r],t[r]))}function y(e,t){if(e&&!t||t&&!e)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(!_(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(_(r)&&r.hasOwnProperty("isPrototypeOf"))}function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return Array.isArray(e)}function w(e){return new Promise(t=>{setTimeout(t,e)})}function S(e){w(0).then(e)}function T(){if("function"==typeof AbortController)return new AbortController}function E(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=v(t)&&v(r);if(n||b(t)&&b(r)){let i=n?t.length:Object.keys(t).length,o=n?r:Object.keys(r),a=o.length,s=n?[]:{},l=0;for(let i=0;i<a;i++){let a=n?i:o[i];s[a]=e(t[a],r[a]),s[a]===t[a]&&l++}return i===a&&l===i?t:s}return r}(e,t):t}},31793:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});let n=function(){return null}},36586:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(96540),i=r(63064);let o=({children:e,options:t,state:r})=>(!function(e,t={}){let r=(0,i.jE)({context:t.context}),o=n.useRef(t);o.current=t,n.useMemo(()=>{e&&function(e,t,r){if("object"!=typeof t||null===t)return;let n=e.getMutationCache(),i=e.getQueryCache(),o=t.mutations||[],a=t.queries||[];o.forEach(t=>{var i;n.build(e,{...null==r?void 0:null==(i=r.defaultOptions)?void 0:i.mutations,mutationKey:t.mutationKey},t.state)}),a.forEach(({queryKey:t,state:n,queryHash:o})=>{var a;let s=i.get(o);if(s){if(s.state.dataUpdatedAt<n.dataUpdatedAt){let{fetchStatus:e,...t}=n;s.setState(t)}return}i.build(e,{...null==r?void 0:null==(a=r.defaultOptions)?void 0:a.queries,queryKey:t,queryHash:o},{...n,fetchStatus:"idle"})})}(r,e,o.current)},[r,e])}(r,t),e)},63064:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>l,jE:()=>s});var n=r(96540);let i=n.createContext(void 0),o=n.createContext(!1);function a(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=i),window.ReactQueryClientContext):i)}let s=({context:e}={})=>{let t=n.useContext(a(e,n.useContext(o)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},l=({client:e,children:t,context:r,contextSharing:i=!1})=>{n.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);let s=a(r,i);return n.createElement(o.Provider,{value:!r&&i},n.createElement(s.Provider,{value:e},t))}},35598:(e,t,r)=>{"use strict";r.d(t,{t:()=>b});var n=r(96540),i=r(8448),o=r(56266);let a=n.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),s=()=>n.useContext(a);var l=r(63064);let u=n.createContext(!1),c=()=>n.useContext(u);u.Provider;var h=r(42657);let d=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},f=e=>{n.useEffect(()=>{e.clearReset()},[e])},p=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,h.G)(r,[e.error,n]),m=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},g=(e,t)=>e.isLoading&&e.isFetching&&!t,y=(e,t,r)=>(null==e?void 0:e.suspense)&&g(t,r),v=(e,t,r)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});function b(e,t){let r=(0,l.jE)({context:e.context}),a=c(),u=s(),h=r.defaultQueryOptions(e);h._optimisticResults=a?"isRestoring":"optimistic",h.onError&&(h.onError=i.j.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=i.j.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=i.j.batchCalls(h.onSettled)),m(h),d(h,u),f(u);let[g]=n.useState(()=>new t(r,h)),b=g.getOptimisticResult(h);if((0,o.r)(n.useCallback(e=>{let t=a?()=>void 0:g.subscribe(i.j.batchCalls(e));return g.updateResult(),t},[g,a]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),n.useEffect(()=>{g.setOptions(h,{listeners:!1})},[h,g]),y(h,b,a))throw v(h,g,u);if(p({result:b,errorResetBoundary:u,useErrorBoundary:h.useErrorBoundary,query:g.getCurrentQuery()}))throw b.error;return h.notifyOnChangeProps?b:g.trackResult(b)}},21154:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var n=r(96540),i=r(12295),o=r(36801),a=r(8448),s=r(94323);class l extends s.Q{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let r=this.options;this.options=this.client.defaultMutationOptions(e),(0,i.f8)(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,o.$)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){a.j.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,r,n,i,o,a,s,l;e.onSuccess?(null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(i=this.mutateOptions).onSettled)||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(o=(a=this.mutateOptions).onError)||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(s=(l=this.mutateOptions).onSettled)||s.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var u=r(56266),c=r(63064),h=r(42657);function d(e,t,r){let o=(0,i.GR)(e,t,r),s=(0,c.jE)({context:o.context}),[d]=n.useState(()=>new l(s,o));n.useEffect(()=>{d.setOptions(o)},[d,o]);let p=(0,u.r)(n.useCallback(e=>d.subscribe(a.j.batchCalls(e)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),m=n.useCallback((e,t)=>{d.mutate(e,t).catch(f)},[d]);if(p.error&&(0,h.G)(d.options.useErrorBoundary,[p.error]))throw p.error;return{...p,mutate:m,mutateAsync:p.mutate}}function f(){}},9421:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(12295),i=r(1522),o=r(35598);function a(e,t,r){let a=(0,n.vh)(e,t,r);return(0,o.t)(a,i.$)}},56266:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});let n=r(19888).useSyncExternalStore},42657:(e,t,r)=>{"use strict";function n(e,t){return"function"==typeof e?e(...t):!!e}r.d(t,{G:()=>n})},5317:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let n={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function i(e={}){let t,r,o,a;let s=null,l=0,u=!1,c=!1,h=!1,d=!1;function f(){if(!o){if(g()){h=!0;return}u||r.emit("autoplay:play"),function(){let{ownerWindow:e}=r.internalEngine();e.clearTimeout(l),l=e.setTimeout(x,a[r.selectedScrollSnap()]),s=new Date().getTime(),r.emit("autoplay:timerset")}(),u=!0}}function p(){o||(u&&r.emit("autoplay:stop"),function(){let{ownerWindow:e}=r.internalEngine();e.clearTimeout(l),l=0,s=null,r.emit("autoplay:timerstopped")}(),u=!1)}function m(){if(g())return h=u,p();h&&f()}function g(){let{ownerDocument:e}=r.internalEngine();return"hidden"===e.visibilityState}function y(){c||p()}function v(){c||f()}function b(){c=!0,p()}function _(){c=!1,f()}function x(){let{index:e}=r.internalEngine(),n=e.clone().add(1).get(),i=r.scrollSnapList().length-1,o=t.stopOnLastSnap&&n===i;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),o)return p();f()}return{name:"autoplay",options:e,init:function(s,l){r=s;let{mergeOptions:u,optionsAtMedia:c}=l,h=u(n,i.globalOptions);if(t=c(u(h,e)),r.scrollSnapList().length<=1)return;d=t.jump,o=!1,a=function(e,t){let r=e.scrollSnapList();return"number"==typeof t?r.map(()=>t):t(r,e)}(r,t.delay);let{eventStore:g,ownerDocument:x}=r.internalEngine(),w=!!r.internalEngine().options.watchDrag,S=function(e,t){let r=e.rootNode();return t&&t(r)||r}(r,t.rootNode);g.add(x,"visibilitychange",m),w&&r.on("pointerDown",y),w&&!t.stopOnInteraction&&r.on("pointerUp",v),t.stopOnMouseEnter&&g.add(S,"mouseenter",b),t.stopOnMouseEnter&&!t.stopOnInteraction&&g.add(S,"mouseleave",_),t.stopOnFocusIn&&r.on("slideFocusStart",p),t.stopOnFocusIn&&!t.stopOnInteraction&&g.add(r.containerNode(),"focusout",f),t.playOnInit&&f()},destroy:function(){r.off("pointerDown",y).off("pointerUp",v).off("slideFocusStart",p),p(),o=!0,u=!1},play:function(e){void 0!==e&&(d=e),f()},stop:function(){u&&p()},reset:function(){u&&f()},isPlaying:function(){return u},timeUntilNext:function(){return s?a[r.selectedScrollSnap()]-(new Date().getTime()-s):null}}}i.globalOptions=void 0},26674:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var n=r(96540);function i(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function o(e,t){let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&r.every(r=>{let n=e[r],a=t[r];return"function"==typeof n?`${n}`==`${a}`:i(n)&&i(a)?o(n,a):n===a})}function a(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function s(e){return"number"==typeof e}function l(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function h(e){return Math.abs(e)}function d(e){return Math.sign(e)}function f(e){return y(e).map(Number)}function p(e){return e[m(e)]}function m(e){return Math.max(0,e.length-1)}function g(e,t=0){return Array.from(Array(e),(e,r)=>t+r)}function y(e){return Object.keys(e)}function v(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function b(){let e=[],t={add:function(r,n,i,o={passive:!0}){let a;return"addEventListener"in r?(r.addEventListener(n,i,o),a=()=>r.removeEventListener(n,i,o)):(r.addListener(i),a=()=>r.removeListener(i)),e.push(a),t},clear:function(){e=e.filter(e=>e())}};return t}function _(e=0,t=0){let r=h(e-t);function n(r){return r<e||r>t}return{length:r,max:t,min:e,constrain:function(r){return n(r)?r<e?e:t:r},reachedAny:n,reachedMax:function(e){return e>t},reachedMin:function(t){return t<e},removeOffset:function(e){return r?e-r*Math.ceil((e-t)/r):e}}}function x(e){let t=e;function r(e){return s(e)?e:e.get()}return{get:function(){return t},set:function(e){t=r(e)},add:function(e){t+=r(e)},subtract:function(e){t-=r(e)}}}function w(e,t){let r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},n=t.style,i=null,o=!1;return{clear:function(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(o)return;let a=Math.round(100*e.direction(t))/100;a!==i&&(n.transform=r(a),i=a)},toggleActive:function(e){o=!e}}}let S={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function T(e,t,r){let n,i,o,a,E;let P=e.ownerDocument,C=P.defaultView,A=function(e){function t(e,t){return function e(t,r){return[t,r].reduce((t,r)=>(y(r).forEach(n=>{let i=t[n],o=r[n],a=c(i)&&c(o);t[n]=a?e(i,o):o}),t),{})}(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(r){let n=r.breakpoints||{},i=y(n).filter(t=>e.matchMedia(t).matches).map(e=>n[e]).reduce((e,r)=>t(e,r),{});return t(r,i)},optionsMediaQueries:function(t){return t.map(e=>y(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}}}(C),M=(E=[],{init:function(e,t){return(E=t.filter(({options:e})=>!1!==A.optionsAtMedia(e).active)).forEach(t=>t.init(e,A)),t.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){E=E.filter(e=>e.destroy())}}),k=b(),O=function(){let e,t={},r={init:function(t){e=t},emit:function(n){return(t[n]||[]).forEach(t=>t(e,n)),r},off:function(e,n){return t[e]=(t[e]||[]).filter(e=>e!==n),r},on:function(e,n){return t[e]=(t[e]||[]).concat([n]),r},clear:function(){t={}}};return r}(),{mergeOptions:I,optionsAtMedia:R,optionsMediaQueries:D}=A,{on:L,off:j,emit:z}=O,B=!1,F=I(S,T.globalOptions),N=I(F),V=[];function U(t,r){!B&&(N=R(F=I(F,t)),V=r||V,function(){let{container:t,slides:r}=N;o=(l(t)?e.querySelector(t):t)||e.children[0];let n=l(r)?o.querySelectorAll(r):r;a=[].slice.call(n||o.children)}(),n=function t(r){let n=function(e,t,r,n,i,o,a){let c,S;let{align:T,axis:E,direction:P,startIndex:C,loop:A,duration:M,dragFree:k,dragThreshold:O,inViewThreshold:I,slidesToScroll:R,skipSnaps:D,containScroll:L,watchResize:j,watchSlides:z,watchDrag:B,watchFocus:F}=o,N={measure:function(e){let{offsetTop:t,offsetLeft:r,offsetWidth:n,offsetHeight:i}=e;return{top:t,right:r+n,bottom:t+i,left:r,width:n,height:i}}},V=N.measure(t),U=r.map(N.measure),G=function(e,t){let r="rtl"===t,n="y"===e,i=!n&&r?-1:1;return{scroll:n?"y":"x",cross:n?"x":"y",startEdge:n?"top":r?"right":"left",endEdge:n?"bottom":r?"left":"right",measureSize:function(e){let{height:t,width:r}=e;return n?t:r},direction:function(e){return e*i}}}(E,P),H=G.measureSize(V),q={measure:function(e){return e/100*H}},$=function(e,t){let r={start:function(){return 0},center:function(e){return(t-e)/2},end:function(e){return t-e}};return{measure:function(n,i){return l(e)?r[e](n):e(t,n,i)}}}(T,H),W=!A&&!!L,{slideSizes:X,slideSizesWithGaps:Z,startGap:K,endGap:Y}=function(e,t,r,n,i,o){let{measureSize:a,startEdge:s,endEdge:l}=e,u=r[0]&&i,c=function(){if(!u)return 0;let e=r[0];return h(t[s]-e[s])}(),d=u?parseFloat(o.getComputedStyle(p(n)).getPropertyValue(`margin-${l}`)):0,f=r.map(a),g=r.map((e,t,r)=>{let n=t===m(r);return t?n?f[t]+d:r[t+1][s]-e[s]:f[t]+c}).map(h);return{slideSizes:f,slideSizesWithGaps:g,startGap:c,endGap:d}}(G,V,U,r,A||!!L,i),Q=function(e,t,r,n,i,o,a,l,u){let{startEdge:c,endEdge:d,direction:g}=e,y=s(r);return{groupSlides:function(e){return y?f(e).filter(e=>e%r==0).map(t=>e.slice(t,t+r)):e.length?f(e).reduce((r,s,u)=>{let f=p(r)||0,y=s===m(e),v=i[c]-o[f][c],b=i[c]-o[s][d],_=n||0!==f?0:g(a),x=h(b-(!n&&y?g(l):0)-(v+_));return u&&x>t+2&&r.push(s),y&&r.push(e.length),r},[]).map((t,r,n)=>{let i=Math.max(n[r-1]||0);return e.slice(i,t)}):[]}}}(G,H,R,A,V,U,K,Y,0),{snaps:J,snapsAligned:ee}=function(e,t,r,n,i){let{startEdge:o,endEdge:a}=e,{groupSlides:s}=i,l=s(n).map(e=>p(e)[a]-e[0][o]).map(h).map(t.measure),u=n.map(e=>r[o]-e[o]).map(e=>-h(e)),c=s(u).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:u,snapsAligned:c}}(G,$,V,U,Q),et=-p(J)+p(Z),{snapsContained:er,scrollContainLimit:en}=function(e,t,r,n,i){let o=_(-t+e,0),a=r.map((e,t)=>{let{min:n,max:i}=o,a=o.constrain(e),s=t===m(r);return t?s||1>=h(n-a)?n:1>=h(i-a)?i:a:i}).map(e=>parseFloat(e.toFixed(3))),s=function(){let e=a[0],t=p(a);return _(a.lastIndexOf(e),a.indexOf(t)+1)}();return{snapsContained:function(){if(t<=e+2)return[o.max];if("keepSnaps"===n)return a;let{min:r,max:i}=s;return a.slice(r,i)}(),scrollContainLimit:s}}(H,et,ee,L,0),ei=W?er:ee,{limit:eo}=function(e,t,r){let n=t[0];return{limit:_(r?n-e:p(t),n)}}(et,ei,A),ea=function e(t,r,n){let{constrain:i}=_(0,t),o=t+1,a=s(r);function s(e){return n?h((o+e)%o):i(e)}function l(){return e(t,a,n)}let u={get:function(){return a},set:function(e){return a=s(e),u},add:function(e){return l().set(a+e)},clone:l};return u}(m(ei),C,A),es=ea.clone(),el=f(r),eu=({dragHandler:e,scrollBody:t,scrollBounds:r,options:{loop:n}})=>{n||r.constrain(e.pointerDown()),t.seek()},ec=({scrollBody:e,translate:t,location:r,offsetLocation:n,previousLocation:i,scrollLooper:o,slideLooper:a,dragHandler:s,animation:l,eventHandler:u,scrollBounds:c,options:{loop:h}},d)=>{let f=e.settled(),p=!c.shouldConstrain(),m=h?f:f&&p,g=m&&!s.pointerDown();g&&l.stop();let y=r.get()*d+i.get()*(1-d);n.set(y),h&&(o.loop(e.direction()),a.loop()),t.to(n.get()),g&&u.emit("settle"),m||u.emit("scroll")},eh=function(e,t,r,n){let i=b(),o=1e3/60,a=null,s=0,l=0;function u(e){if(!l)return;a||(a=e,r(),r());let i=e-a;for(a=e,s+=i;s>=o;)r(),s-=o;n(s/o),l&&(l=t.requestAnimationFrame(u))}function c(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){i.add(e,"visibilitychange",()=>{e.hidden&&(a=null,s=0)})},destroy:function(){c(),i.clear()},start:function(){l||(l=t.requestAnimationFrame(u))},stop:c,update:r,render:n}}(n,i,()=>eu(eE),e=>ec(eE,e)),ed=ei[ea.get()],ef=x(ed),ep=x(ed),em=x(ed),eg=x(ed),ey=function(e,t,r,n,i,o){let a=0,s=0,l=i,u=.68,c=e.get(),f=0;function p(e){return l=e,g}function m(e){return u=e,g}let g={direction:function(){return s},duration:function(){return l},velocity:function(){return a},seek:function(){let t=n.get()-e.get(),i=0;return l?(r.set(e),a+=t/l,a*=u,c+=a,e.add(a),i=c-f):(a=0,r.set(n),e.set(n),i=t),s=d(i),f=c,g},settled:function(){return .001>h(n.get()-t.get())},useBaseFriction:function(){return m(.68)},useBaseDuration:function(){return p(i)},useFriction:m,useDuration:p};return g}(ef,em,ep,eg,M,0),ev=function(e,t,r,n,i){let{reachedAny:o,removeOffset:a,constrain:s}=n;function l(e){return e.concat().sort((e,t)=>h(e)-h(t))[0]}function u(t,n){let i=[t,t+r,t-r];if(!e)return t;if(!n)return l(i);let o=i.filter(e=>d(e)===n);return o.length?l(o):p(i)-r}return{byDistance:function(r,n){let l=i.get()+r,{index:c,distance:d}=function(r){let n=e?a(r):s(r),{index:i}=t.map((e,t)=>({diff:u(e-n,0),index:t})).sort((e,t)=>h(e.diff)-h(t.diff))[0];return{index:i,distance:n}}(l),f=!e&&o(l);if(!n||f)return{index:c,distance:r};let p=r+u(t[c]-d,0);return{index:c,distance:p}},byIndex:function(e,r){let n=u(t[e]-i.get(),r);return{index:e,distance:n}},shortcut:u}}(A,ei,et,eo,eg),eb=function(e,t,r,n,i,o,a){function s(i){let s=i.distance,l=i.index!==t.get();o.add(s),s&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(r.set(t.get()),t.set(i.index),a.emit("select"))}return{distance:function(e,t){s(i.byDistance(e,t))},index:function(e,r){let n=t.clone().set(e);s(i.byIndex(n.get(),r))}}}(eh,ea,es,ey,ev,eg,a),e_=function(e){let{max:t,length:r}=e;return{get:function(e){return r?-((e-t)/r):0}}}(eo),ex=b(),ew=function(e,t,r,n){let i;let o={},a=null,s=null,l=!1;return{init:function(){i=new IntersectionObserver(e=>{l||(e.forEach(e=>{o[t.indexOf(e.target)]=e}),a=null,s=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(e=>i.observe(e))},destroy:function(){i&&i.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&s)return s;let t=y(o).reduce((t,r)=>{let n=parseInt(r),{isIntersecting:i}=o[n];return(e&&i||!e&&!i)&&t.push(n),t},[]);return e&&(a=t),e||(s=t),t}}}(t,r,a,I),{slideRegistry:eS}=function(e,t,r,n,i,o){let{groupSlides:a}=i,{min:s,max:l}=n;return{slideRegistry:function(){let n=a(o);return 1===r.length?[o]:e&&"keepSnaps"!==t?n.slice(s,l).map((e,t,r)=>{let n=t===m(r);return t?n?g(m(o)-p(r)[0]+1,p(r)[0]):e:g(p(r[0])+1)}):n}()}}(W,L,ei,en,Q,el),eT=function(e,t,r,n,i,o,a,l){let c={passive:!0,capture:!0},h=0;function d(e){"Tab"===e.code&&(h=new Date().getTime())}return{init:function(f){l&&(o.add(document,"keydown",d,!1),t.forEach((t,d)=>{o.add(t,"focus",t=>{(u(l)||l(f,t))&&function(t){if(new Date().getTime()-h>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;let o=r.findIndex(e=>e.includes(t));s(o)&&(i.useDuration(0),n.index(o,0),a.emit("slideFocus"))}(d)},c)}))}}}(e,r,eS,eb,ey,ex,a,F),eE={ownerDocument:n,ownerWindow:i,eventHandler:a,containerRect:V,slideRects:U,animation:eh,axis:G,dragHandler:function(e,t,r,n,i,o,a,s,l,c,f,p,m,g,y,x,w,S,T){let{cross:E,direction:P}=e,C=["INPUT","SELECT","TEXTAREA"],A={passive:!1},M=b(),k=b(),O=_(50,225).constrain(g.measure(20)),I={mouse:300,touch:400},R={mouse:500,touch:600},D=y?43:25,L=!1,j=0,z=0,B=!1,F=!1,N=!1,V=!1;function U(e){if(!v(e,n)&&e.touches.length>=2)return G(e);let t=o.readPoint(e),r=o.readPoint(e,E),a=h(t-j),l=h(r-z);if(!F&&!V&&(!e.cancelable||!(F=a>l)))return G(e);let u=o.pointerMove(e);a>x&&(N=!0),c.useFriction(.3).useDuration(.75),s.start(),i.add(P(u)),e.preventDefault()}function G(e){let t=f.byDistance(0,!1).index!==p.get(),r=o.pointerUp(e)*(y?R:I)[V?"mouse":"touch"],n=function(e,t){let r=p.add(-1*d(e)),n=f.byDistance(e,!y).distance;return y||h(e)<O?n:w&&t?.5*n:f.byIndex(r.get(),0).distance}(P(r),t),i=function(e,t){var r,n;if(0===e||0===t||h(e)<=h(t))return 0;let i=(r=h(e),n=h(t),h(r-n));return h(i/e)}(r,n);F=!1,B=!1,k.clear(),c.useDuration(D-10*i).useFriction(.68+i/50),l.distance(n,!y),V=!1,m.emit("pointerUp")}function H(e){N&&(e.stopPropagation(),e.preventDefault(),N=!1)}return{init:function(e){T&&M.add(t,"dragstart",e=>e.preventDefault(),A).add(t,"touchmove",()=>void 0,A).add(t,"touchend",()=>void 0).add(t,"touchstart",s).add(t,"mousedown",s).add(t,"touchcancel",G).add(t,"contextmenu",G).add(t,"click",H,!0);function s(s){(u(T)||T(e,s))&&function(e){let s=v(e,n);V=s,N=y&&s&&!e.buttons&&L,L=h(i.get()-a.get())>=2,s&&0!==e.button||function(e){let t=e.nodeName||"";return C.includes(t)}(e.target)||(B=!0,o.pointerDown(e),c.useFriction(0).useDuration(0),i.set(a),function(){let e=V?r:t;k.add(e,"touchmove",U,A).add(e,"touchend",G).add(e,"mousemove",U,A).add(e,"mouseup",G)}(),j=o.readPoint(e),z=o.readPoint(e,E),m.emit("pointerDown"))}(s)}},destroy:function(){M.clear(),k.clear()},pointerDown:function(){return B}}}(G,e,n,i,eg,function(e,t){let r,n;function i(e){return e.timeStamp}function o(r,n){let i=n||e.scroll,o=`client${"x"===i?"X":"Y"}`;return(v(r,t)?r:r.touches[0])[o]}return{pointerDown:function(e){return r=e,n=e,o(e)},pointerMove:function(e){let t=o(e)-o(n),a=i(e)-i(r)>170;return n=e,a&&(r=e),t},pointerUp:function(e){if(!r||!n)return 0;let t=o(n)-o(r),a=i(e)-i(r),s=i(e)-i(n)>170,l=t/a;return a&&!s&&h(l)>.1?l:0},readPoint:o}}(G,i),ef,eh,eb,ey,ev,ea,a,q,k,O,D,0,B),eventStore:ex,percentOfView:q,index:ea,indexPrevious:es,limit:eo,location:ef,offsetLocation:em,previousLocation:ep,options:o,resizeHandler:function(e,t,r,n,i,o,a){let s,l;let c=[e].concat(n),d=[],f=!1;function p(e){return i.measureSize(a.measure(e))}return{init:function(i){o&&(l=p(e),d=n.map(p),s=new ResizeObserver(r=>{(u(o)||o(i,r))&&function(r){for(let o of r){if(f)return;let r=o.target===e,a=n.indexOf(o.target),s=r?l:d[a];if(h(p(r?e:n[a])-s)>=.5){i.reInit(),t.emit("resize");break}}}(r)}),r.requestAnimationFrame(()=>{c.forEach(e=>s.observe(e))}))},destroy:function(){f=!0,s&&s.disconnect()}}}(t,a,i,r,G,j,N),scrollBody:ey,scrollBounds:function(e,t,r,n,i){let o=i.measure(10),a=i.measure(50),s=_(.1,.99),l=!1;function u(){return!!(!l&&e.reachedAny(r.get())&&e.reachedAny(t.get()))}return{shouldConstrain:u,constrain:function(i){if(!u())return;let l=e.reachedMin(t.get())?"min":"max",c=h(e[l]-t.get()),d=r.get()-t.get(),f=s.constrain(c/a);r.subtract(d*f),!i&&h(d)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}(eo,em,eg,ey,q),scrollLooper:function(e,t,r,n){let{reachedMin:i,reachedMax:o}=_(t.min+.1,t.max+.1);return{loop:function(t){if(!(1===t?o(r.get()):-1===t&&i(r.get())))return;let a=-1*t*e;n.forEach(e=>e.add(a))}}}(et,eo,em,[ef,em,ep,eg]),scrollProgress:e_,scrollSnapList:ei.map(e_.get),scrollSnaps:ei,scrollTarget:ev,scrollTo:eb,slideLooper:function(e,t,r,n,i,o,a,s,l){let u=f(i),c=p(d(f(i).reverse(),a[0]),r,!1).concat(p(d(u,t-a[0]-1),-r,!0));function h(e,t){return e.reduce((e,t)=>e-i[t],t)}function d(e,t){return e.reduce((e,r)=>h(e,t)>0?e.concat([r]):e,[])}function p(i,a,u){let c=o.map((e,r)=>({start:e-n[r]+.5+a,end:e+t-.5+a}));return i.map(t=>{let n=u?0:-r,i=u?r:0,o=c[t][u?"end":"start"];return{index:t,loopPoint:o,slideLocation:x(-1),translate:w(e,l[t]),target:()=>s.get()>o?n:i}})}return{canLoop:function(){return c.every(({index:e})=>.1>=h(u.filter(t=>t!==e),t))},clear:function(){c.forEach(e=>e.translate.clear())},loop:function(){c.forEach(e=>{let{target:t,translate:r,slideLocation:n}=e,i=t();i!==n.get()&&(r.to(i),n.set(i))})},loopPoints:c}}(G,H,et,X,Z,J,ei,em,r),slideFocus:eT,slidesHandler:(S=!1,{init:function(e){z&&(c=new MutationObserver(t=>{!S&&(u(z)||z(e,t))&&function(t){for(let r of t)if("childList"===r.type){e.reInit(),a.emit("slidesChanged");break}}(t)})).observe(t,{childList:!0})},destroy:function(){c&&c.disconnect(),S=!0}}),slidesInView:ew,slideIndexes:el,slideRegistry:eS,slidesToScroll:Q,target:eg,translate:w(G,t)};return eE}(e,o,a,P,C,r,O);return r.loop&&!n.slideLooper.canLoop()?t(Object.assign({},r,{loop:!1})):n}(N),D([F,...V.map(({options:e})=>e)]).forEach(e=>k.add(e,"change",G)),N.active&&(n.translate.to(n.location.get()),n.animation.init(),n.slidesInView.init(),n.slideFocus.init(W),n.eventHandler.init(W),n.resizeHandler.init(W),n.slidesHandler.init(W),n.options.loop&&n.slideLooper.loop(),o.offsetParent&&a.length&&n.dragHandler.init(W),i=M.init(W,V)))}function G(e,t){let r=$();H(),U(I({startIndex:r},e),t),O.emit("reInit")}function H(){n.dragHandler.destroy(),n.eventStore.clear(),n.translate.clear(),n.slideLooper.clear(),n.resizeHandler.destroy(),n.slidesHandler.destroy(),n.slidesInView.destroy(),n.animation.destroy(),M.destroy(),k.clear()}function q(e,t,r){N.active&&!B&&(n.scrollBody.useBaseFriction().useDuration(!0===t?0:N.duration),n.scrollTo.index(e,r||0))}function $(){return n.index.get()}let W={canScrollNext:function(){return n.index.add(1).get()!==$()},canScrollPrev:function(){return n.index.add(-1).get()!==$()},containerNode:function(){return o},internalEngine:function(){return n},destroy:function(){B||(B=!0,k.clear(),H(),O.emit("destroy"),O.clear())},off:j,on:L,emit:z,plugins:function(){return i},previousScrollSnap:function(){return n.indexPrevious.get()},reInit:G,rootNode:function(){return e},scrollNext:function(e){q(n.index.add(1).get(),e,-1)},scrollPrev:function(e){q(n.index.add(-1).get(),e,1)},scrollProgress:function(){return n.scrollProgress.get(n.offsetLocation.get())},scrollSnapList:function(){return n.scrollSnapList},scrollTo:q,selectedScrollSnap:$,slideNodes:function(){return a},slidesInView:function(){return n.slidesInView.get()},slidesNotInView:function(){return n.slidesInView.get(!1)}};return U(t,r),setTimeout(()=>O.emit("init"),0),W}function E(e={},t=[]){let r=(0,n.useRef)(e),i=(0,n.useRef)(t),[s,l]=(0,n.useState)(),[u,c]=(0,n.useState)(),h=(0,n.useCallback)(()=>{s&&s.reInit(r.current,i.current)},[s]);return(0,n.useEffect)(()=>{o(r.current,e)||(r.current=e,h())},[e,h]),(0,n.useEffect)(()=>{!function(e,t){if(e.length!==t.length)return!1;let r=a(e),n=a(t);return r.every((e,t)=>o(e,n[t]))}(i.current,t)&&(i.current=t,h())},[t,h]),(0,n.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&u){T.globalOptions=E.globalOptions;let e=T(u,r.current,i.current);return l(e),()=>e.destroy()}l(void 0)},[u,l]),[c,s]}T.globalOptions=void 0,E.globalOptions=void 0},67771:(e,t,r)=>{"use strict";r.d(t,{P:()=>i6});var n,i,o=r(31635),a=r(96540),s=r(65606),l=(void 0===s||s.env,"production"),u=function(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}},c={measureLayout:u(["layout","layoutId","drag"]),animation:u(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:u(["exit"]),drag:u(["drag","dragControls"]),focus:u(["whileFocus"]),hover:u(["whileHover","onHoverStart","onHoverEnd"]),tap:u(["whileTap","onTap","onTapStart","onTapCancel"]),pan:u(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:u(["whileInView","onViewportEnter","onViewportLeave"])},h=function(){},d=function(){},f=(0,a.createContext)({strict:!1}),p=Object.keys(c),m=p.length,g=(0,a.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),y=(0,a.createContext)({}),v=(0,a.createContext)(null),b="undefined"!=typeof document,_=b?a.useLayoutEffect:a.useEffect,x={current:null},w=!1;function S(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function T(e){return Array.isArray(e)}function E(e){return"string"==typeof e||T(e)}function P(e,t,r,n,i){var o;return void 0===n&&(n={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=r?r:e.custom,n,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=r?r:e.custom,n,i)),t}function C(e,t,r){var n,i,o=e.getProps();return P(o,t,null!=r?r:o.custom,(n={},e.forEachValue(function(e,t){return n[t]=e.get()}),n),(i={},e.forEachValue(function(e,t){return i[t]=e.getVelocity()}),i))}function A(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||E(e.initial)||E(e.animate)||E(e.whileHover)||E(e.whileDrag)||E(e.whileTap)||E(e.whileFocus)||E(e.exit)}function M(e){return!!(A(e)||e.variants)}function k(e){return Array.isArray(e)?e.join(" "):e}function O(e){var t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}var I={hasAnimatedSinceResize:!0,hasEverUpdated:!1},R=1,D=(0,a.createContext)({}),L=(0,a.createContext)({}),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,r=e.props;t&&t.setProps(r)},t.prototype.render=function(){return this.props.children},t}(a.Component),z=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function B(e){if("string"!=typeof e||e.includes("-"));else if(z.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}var F={},N=["","X","Y","Z"],V=["transformPerspective","x","y","z"];function U(e,t){return V.indexOf(e)-V.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(e){return N.forEach(function(t){return V.push(e+t)})});var G=new Set(V);function H(e){return G.has(e)}var q=new Set(["originX","originY","originZ"]);function $(e,t){var r=t.layout,n=t.layoutId;return H(e)||q.has(e)||(r||void 0!==n)&&(!!F[e]||"opacity"===e)}var W=function(e){return!!(null!==e&&"object"==typeof e&&e.getVelocity)},X={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Z(e){return e.startsWith("--")}let K=(e,t)=>r=>Math.max(Math.min(r,t),e),Y=e=>e%1?Number(e.toFixed(5)):e,Q=/(-)?([\d]*\.?[\d])+/g,J=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,ee=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function et(e){return"string"==typeof e}let er=e=>({test:t=>et(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),en=er("deg"),ei=er("%"),eo=er("px"),ea=er("vh"),es=er("vw"),el=Object.assign(Object.assign({},ei),{parse:e=>ei.parse(e)/100,transform:e=>ei.transform(100*e)}),eu={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ec=Object.assign(Object.assign({},eu),{transform:K(0,1)}),eh=Object.assign(Object.assign({},eu),{default:1});var ed=(0,o.Cl)((0,o.Cl)({},eu),{transform:Math.round}),ef={borderWidth:eo,borderTopWidth:eo,borderRightWidth:eo,borderBottomWidth:eo,borderLeftWidth:eo,borderRadius:eo,radius:eo,borderTopLeftRadius:eo,borderTopRightRadius:eo,borderBottomRightRadius:eo,borderBottomLeftRadius:eo,width:eo,maxWidth:eo,height:eo,maxHeight:eo,size:eo,top:eo,right:eo,bottom:eo,left:eo,padding:eo,paddingTop:eo,paddingRight:eo,paddingBottom:eo,paddingLeft:eo,margin:eo,marginTop:eo,marginRight:eo,marginBottom:eo,marginLeft:eo,rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:eh,scaleX:eh,scaleY:eh,scaleZ:eh,skew:en,skewX:en,skewY:en,distance:eo,translateX:eo,translateY:eo,translateZ:eo,x:eo,y:eo,z:eo,perspective:eo,transformPerspective:eo,opacity:ec,originX:el,originY:el,originZ:eo,zIndex:ed,fillOpacity:ec,strokeOpacity:ec,numOctaves:ed};function ep(e,t,r,n){var i,o,a,s,l=e.style,u=e.vars,c=e.transform,h=e.transformKeys,d=e.transformOrigin;h.length=0;var f=!1,p=!1,m=!0;for(var g in t){var y=t[g];if(Z(g)){u[g]=y;continue}var v=ef[g],b=v&&"number"==typeof y?v.transform(y):y;if(H(g)){if(f=!0,c[g]=b,h.push(g),!m)continue;y!==(null!==(s=v.default)&&void 0!==s?s:0)&&(m=!1)}else q.has(g)?(d[g]=b,p=!0):l[g]=b}f?l.transform=function(e,t,r,n){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=t.allowTransformNone,l="";o.sort(U);for(var u=!1,c=o.length,h=0;h<c;h++){var d=o[h];l+="".concat(X[d]||d,"(").concat(i[d],") "),"z"===d&&(u=!0)}return!u&&(void 0===a||a)?l+="translateZ(0)":l=l.trim(),n?l=n(i,r?"":l):(void 0===s||s)&&r&&(l="none"),l}(e,r,m,n):n?l.transform=n({},""):!t.transform&&l.transform&&(l.transform="none"),p&&(l.transformOrigin=(i=d.originX,o=d.originY,a=d.originZ,"".concat(void 0===i?"50%":i," ").concat(void 0===o?"50%":o," ").concat(void 0===a?0:a)))}var em=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function eg(e,t,r){for(var n in t)W(t[n])||$(n,r)||(e[n]=t[n])}var ey=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function ev(e){return ey.has(e)}var eb=function(e){return!ev(e)};try{!function(e){e&&(eb=function(t){return t.startsWith("on")?!ev(t):e(t)})}(require("@emotion/is-prop-valid").default)}catch(e){}function e_(e,t,r){return"string"==typeof e?e:eo.transform(t+r*e)}var ex={offset:"stroke-dashoffset",array:"stroke-dasharray"},ew={offset:"strokeDashoffset",array:"strokeDasharray"};function eS(e,t,r,n){var i,a,s,l,u,c,h,d,f,p,m=t.attrX,g=t.attrY,y=t.originX,v=t.originY,b=t.pathLength,_=t.pathSpacing,x=t.pathOffset;ep(e,(0,o.Tt)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),r,n),e.attrs=e.style,e.style={};var w=e.attrs,S=e.style,T=e.dimensions;w.transform&&(T&&(S.transform=w.transform),delete w.transform),T&&(void 0!==y||void 0!==v||S.transform)&&(S.transformOrigin=(i=void 0!==y?y:.5,a=void 0!==v?v:.5,s=e_(i,T.x,T.width),l=e_(a,T.y,T.height),"".concat(s," ").concat(l))),void 0!==m&&(w.x=m),void 0!==g&&(w.y=g),void 0!==b&&(h=!1,void 0===(u=void 0===_?1:_)&&(u=1),void 0===(c=void 0===x?0:x)&&(c=0),void 0===h&&(h=!0),w.pathLength=1,w[(d=h?ex:ew).offset]=eo.transform(-c),f=eo.transform(b),p=eo.transform(u),w[d.array]="".concat(f," ").concat(p))}var eT=function(){return(0,o.Cl)((0,o.Cl)({},em()),{attrs:{}})},eE=/([a-z])([A-Z])/g,eP=function(e){return e.replace(eE,"$1-$2").toLowerCase()};function eC(e,t,r,n){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,n&&n.getProjectionStyles(r)),o)e.style.setProperty(a,o[a])}var eA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function eM(e,t,r,n){for(var i in eC(e,t,void 0,n),t.attrs)e.setAttribute(eA.has(i)?i:eP(i),t.attrs[i])}function ek(e){var t=e.style,r={};for(var n in t)(W(t[n])||$(n,e))&&(r[n]=t[n]);return r}function eO(e){var t=ek(e);for(var r in e)W(e[r])&&(t["x"===r||"y"===r?"attr"+r.toUpperCase():r]=e[r]);return t}function eI(e){return"object"==typeof e&&"function"==typeof e.start}var eR=function(e){return Array.isArray(e)},eD=function(e){return eR(e)?e[e.length-1]||0:e};function eL(e){var t=W(e)?e.get():e;return t&&"object"==typeof t&&t.mix&&t.toValue?t.toValue():t}function ej(e,t,r,n){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,s=e.onMount,l={latestValues:function(e,t,r,n){var i={},a=(null==r?void 0:r.initial)===!1,s=n(e);for(var l in s)i[l]=eL(s[l]);var u=e.initial,c=e.animate,h=A(e),d=M(e);t&&d&&!h&&!1!==e.inherit&&(null!=u||(u=t.initial),null!=c||(c=t.animate));var f=a||!1===u,p=f?c:u;return p&&"boolean"!=typeof p&&!eI(p)&&(Array.isArray(p)?p:[p]).forEach(function(t){var r=P(e,t);if(r){var n=r.transitionEnd;r.transition;var a=(0,o.Tt)(r,["transitionEnd","transition"]);for(var s in a){var l=a[s];if(Array.isArray(l)){var u=f?l.length-1:0;l=l[u]}null!==l&&(i[s]=l)}for(var s in n)i[s]=n[s]}}),i}(t,r,n,i),renderState:a()};return s&&(l.mount=function(e){return s(t,e,l)}),l}var ez=function(e){return function(t,r){var n=(0,a.useContext)(y),i=(0,a.useContext)(v);return r?ej(e,t,n,i):O(function(){return ej(e,t,n,i)})}},eB={useVisualState:ez({scrapeMotionValuesFromProps:eO,createRenderState:eT,onMount:function(e,t,r){var n=r.renderState,i=r.latestValues;try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){n.dimensions={x:0,y:0,width:0,height:0}}eS(n,i,{enableHardwareAcceleration:!1},e.transformTemplate),eM(t,n)}})},eF={useVisualState:ez({scrapeMotionValuesFromProps:ek,createRenderState:em})};function eN(e,t,r,n){return void 0===n&&(n={passive:!0}),e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r)}}function eV(e,t,r,n){(0,a.useEffect)(function(){var i=e.current;if(r&&i)return eN(i,t,r,n)},[e,t,r,n])}function eU(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?"mouse"===e.pointerType:e instanceof MouseEvent}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(n||(n={}));var eG={pageX:0,pageY:0};function eH(e,t){var r,n,i;return void 0===t&&(t="page"),{point:e.touches?(void 0===(r=t)&&(r="page"),{x:(n=e.touches[0]||e.changedTouches[0]||eG)[r+"X"],y:n[r+"Y"]}):(void 0===(i=t)&&(i="page"),{x:e[i+"X"],y:e[i+"Y"]})}}var eq=function(e,t){void 0===t&&(t=!1);var r=function(t){return e(t,eH(t))};return t?function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}:r},e$={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},eW={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function eX(e){if(b&&null===window.onpointerdown);else if(b&&null===window.ontouchstart)return eW[e];else if(b&&null===window.onmousedown)return e$[e];return e}function eZ(e,t,r,n){return eN(e,eX(t),eq(r,"pointerdown"===t),n)}function eK(e,t,r,n){return eV(e,eX(t),r&&eq(r,"pointerdown"===t),n)}function eY(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var eQ=eY("dragHorizontal"),eJ=eY("dragVertical");function e0(e){var t=!1;if("y"===e)t=eJ();else if("x"===e)t=eQ();else{var r=eQ(),n=eJ();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function e1(){var e=e0(!0);return!e||(e(),!1)}function e2(e,t,r){return function(i,o){var a;!eU(i)||e1()||(null===(a=e.animationState)||void 0===a||a.setActive(n.Hover,t),null==r||r(i,o))}}var e3=function(e,t){return!!t&&(e===t||e3(e,t.parentElement))};function e5(e){return(0,a.useEffect)(function(){return function(){return e()}},[])}let e6=(e,t)=>r=>t(e(r)),e4=(...e)=>e.reduce(e6);var e8=new Set,e7=new WeakMap,e9=new WeakMap,te=function(e){var t;null===(t=e7.get(e.target))||void 0===t||t(e)},tt=function(e){e.forEach(te)},tr={some:0,all:1},tn=function(e){return function(t){return e(t),null}},ti={inView:tn(function(e){var t=e.visualElement,r=e.whileInView,i=e.onViewportEnter,s=e.onViewportLeave,u=e.viewport,c=void 0===u?{}:u,h=(0,a.useRef)({hasEnteredView:!1,isInView:!1}),d=!!(r||i||s);c.once&&h.current.hasEnteredView&&(d=!1),("undefined"==typeof IntersectionObserver?function(e,t,r,i){var o=i.fallback,s=void 0===o||o;(0,a.useEffect)(function(){if(e&&s){if("production"!==l){var i;i="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",e8.has(i)||(console.warn(i),e8.add(i))}requestAnimationFrame(function(){t.hasEnteredView=!0;var e,i=r.getProps().onViewportEnter;null==i||i(null),null===(e=r.animationState)||void 0===e||e.setActive(n.InView,!0)})}},[e])}:function(e,t,r,i){var s=i.root,l=i.margin,u=i.amount,c=void 0===u?"some":u,h=i.once;(0,a.useEffect)(function(){if(e){var i,a,u,d,f,p,m,g,y={root:null==s?void 0:s.current,rootMargin:l,threshold:"number"==typeof c?c:tr[c]};return i=r.getInstance(),a=function(e){var i,o=e.isIntersecting;if(t.isInView!==o){if(t.isInView=o,h&&!o&&t.hasEnteredView)return;o&&(t.hasEnteredView=!0),null===(i=r.animationState)||void 0===i||i.setActive(n.InView,o);var a=r.getProps(),s=o?a.onViewportEnter:a.onViewportLeave;null==s||s(e)}},u=y.root,d=(0,o.Tt)(y,["root"]),f=u||document,e9.has(f)||e9.set(f,{}),(p=e9.get(f))[m=JSON.stringify(d)]||(p[m]=new IntersectionObserver(tt,(0,o.Cl)({root:u},d))),g=p[m],e7.set(i,a),g.observe(i),function(){e7.delete(i),g.unobserve(i)}}},[e,s,l,c])})(d,h.current,t,c)}),tap:tn(function(e){var t=e.onTap,r=e.onTapStart,i=e.onTapCancel,o=e.whileTap,s=e.visualElement,l=t||r||i||o,u=(0,a.useRef)(!1),c=(0,a.useRef)(null),h={passive:!(r||t||i||g)};function d(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return d(),u.current=!1,null===(e=s.animationState)||void 0===e||e.setActive(n.Tap,!1),!e1()}function p(e,r){f()&&(e3(s.getInstance(),e.target)?null==t||t(e,r):null==i||i(e,r))}function m(e,t){f()&&(null==i||i(e,t))}function g(e,t){var i;d(),u.current||(u.current=!0,c.current=e4(eZ(window,"pointerup",p,h),eZ(window,"pointercancel",m,h)),null===(i=s.animationState)||void 0===i||i.setActive(n.Tap,!0),null==r||r(e,t))}eK(s,"pointerdown",l?g:void 0,h),e5(d)}),focus:tn(function(e){var t=e.whileFocus,r=e.visualElement;eV(r,"focus",t?function(){var e;null===(e=r.animationState)||void 0===e||e.setActive(n.Focus,!0)}:void 0),eV(r,"blur",t?function(){var e;null===(e=r.animationState)||void 0===e||e.setActive(n.Focus,!1)}:void 0)}),hover:tn(function(e){var t=e.onHoverStart,r=e.onHoverEnd,n=e.whileHover,i=e.visualElement;eK(i,"pointerenter",t||n?e2(i,!0,t):void 0,{passive:!t}),eK(i,"pointerleave",r||n?e2(i,!1,r):void 0,{passive:!r})})},to=0,ta=function(){return to++};function ts(){var e=(0,a.useContext)(v);if(null===e)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,i=O(ta);return(0,a.useEffect)(function(){return n(i)},[]),!t&&r?[!1,function(){return null==r?void 0:r(i)}]:[!0]}function tl(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}let tu=(e,t,r)=>Math.min(Math.max(r,e),t);function tc(e,t){return e*Math.sqrt(1-t*t)}let th=["duration","bounce"],td=["stiffness","damping","mass"];function tf(e,t){return t.some(t=>void 0!==e[t])}function tp(e){var{from:t=0,to:r=1,restSpeed:n=2,restDelta:i}=e,a=(0,o.Tt)(e,["from","to","restSpeed","restDelta"]);let s={done:!1,value:t},{stiffness:l,damping:u,mass:c,velocity:d,duration:f,isResolvedFromDuration:p}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!tf(e,td)&&tf(e,th)){let r=function({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,o;h(e<=1e4,"Spring duration must be 10 seconds or less");let a=1-t;a=tu(.05,1,a),e=tu(.01,10,e/1e3),a<1?(i=t=>{let n=t*a,i=n*e;return .001-(n-r)/tc(t,a)*Math.exp(-i)},o=t=>{let n=t*a*e,o=Math.pow(a,2)*Math.pow(t,2)*e,s=Math.exp(-n),l=tc(Math.pow(t,2),a);return(n*r+r-o)*s*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),o=t=>e*e*(r-t)*Math.exp(-t*e));let s=function(e,t,r){let n=r;for(let r=1;r<12;r++)n-=e(n)/t(n);return n}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(s,2)*n;return{stiffness:t,damping:2*a*Math.sqrt(n*t),duration:e}}}(e);(t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),m=tm,g=tm;function y(){let e=d?-(d/1e3):0,n=r-t,o=u/(2*Math.sqrt(l*c)),a=Math.sqrt(l/c)/1e3;if(void 0===i&&(i=Math.min(Math.abs(r-t)/100,.4)),o<1){let t=tc(a,o);m=i=>r-Math.exp(-o*a*i)*((e+o*a*n)/t*Math.sin(t*i)+n*Math.cos(t*i)),g=r=>{let i=Math.exp(-o*a*r);return o*a*i*(Math.sin(t*r)*(e+o*a*n)/t+n*Math.cos(t*r))-i*(Math.cos(t*r)*(e+o*a*n)-t*n*Math.sin(t*r))}}else if(1===o)m=t=>r-Math.exp(-a*t)*(n+(e+a*n)*t);else{let t=a*Math.sqrt(o*o-1);m=i=>{let s=Math.exp(-o*a*i),l=Math.min(t*i,300);return r-s*((e+o*a*n)*Math.sinh(l)+t*n*Math.cosh(l))/t}}}return y(),{next:e=>{let t=m(e);if(p)s.done=e>=f;else{let o=Math.abs(1e3*g(e))<=n,a=Math.abs(r-t)<=i;s.done=o&&a}return s.value=s.done?r:t,s},flipTarget:()=>{d=-d,[t,r]=[r,t],y()}}}tp.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;let tm=e=>0,tg=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n},ty=(e,t,r)=>-r*e+r*t+e,tv=(e,t)=>r=>!!(et(r)&&ee.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),tb=(e,t,r)=>n=>{if(!et(n))return n;let[i,o,a,s]=n.match(Q);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},t_=K(0,255),tx=Object.assign(Object.assign({},eu),{transform:e=>Math.round(t_(e))}),tw={test:tv("rgb","red"),parse:tb("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+tx.transform(e)+", "+tx.transform(t)+", "+tx.transform(r)+", "+Y(ec.transform(n))+")"},tS={test:tv("#"),parse:function(e){let t="",r="",n="",i="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),i=e.substr(4,1),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:tw.transform},tT={test:tv("hsl","hue"),parse:tb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ei.transform(Y(t))+", "+ei.transform(Y(r))+", "+Y(ec.transform(n))+")"};function tE(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function tP({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let i=0,o=0,a=0;if(t/=100){let n=r<.5?r*(1+t):r+t-r*t,s=2*r-n;i=tE(s,n,e+1/3),o=tE(s,n,e),a=tE(s,n,e-1/3)}else i=o=a=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:n}}let tC=(e,t,r)=>{let n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},tA=[tS,tw,tT],tM=e=>tA.find(t=>t.test(e)),tk=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,tO=(e,t)=>{let r=tM(e),n=tM(t);d(!!r,tk(e)),d(!!n,tk(t));let i=r.parse(e),o=n.parse(t);r===tT&&(i=tP(i),r=tw),n===tT&&(o=tP(o),n=tw);let a=Object.assign({},i);return e=>{for(let t in a)"alpha"!==t&&(a[t]=tC(i[t],o[t],e));return a.alpha=ty(i.alpha,o.alpha,e),r.transform(a)}},tI={test:e=>tw.test(e)||tS.test(e)||tT.test(e),parse:e=>tw.test(e)?tw.parse(e):tT.test(e)?tT.parse(e):tS.parse(e),transform:e=>et(e)?e:e.hasOwnProperty("red")?tw.transform(e):tT.transform(e)},tR="${c}",tD="${n}";function tL(e){"number"==typeof e&&(e=`${e}`);let t=[],r=0,n=e.match(J);n&&(r=n.length,e=e.replace(J,tR),t.push(...n.map(tI.parse)));let i=e.match(Q);return i&&(e=e.replace(Q,tD),t.push(...i.map(eu.parse))),{values:t,numColors:r,tokenised:e}}function tj(e){return tL(e).values}function tz(e){let{values:t,numColors:r,tokenised:n}=tL(e),i=t.length;return e=>{let t=n;for(let n=0;n<i;n++)t=t.replace(n<r?tR:tD,n<r?tI.transform(e[n]):Y(e[n]));return t}}let tB=e=>"number"==typeof e?0:e,tF={test:function(e){var t,r,n,i;return isNaN(e)&&et(e)&&(null!==(r=null===(t=e.match(Q))||void 0===t?void 0:t.length)&&void 0!==r?r:0)+(null!==(i=null===(n=e.match(J))||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0},parse:tj,createTransformer:tz,getAnimatableNone:function(e){let t=tj(e);return tz(e)(t.map(tB))}},tN=e=>"number"==typeof e;function tV(e,t){return tN(e)?r=>ty(e,t,r):tI.test(e)?tO(e,t):tq(e,t)}let tU=(e,t)=>{let r=[...e],n=r.length,i=e.map((e,r)=>tV(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}},tG=(e,t)=>{let r=Object.assign(Object.assign({},e),t),n={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=tV(e[i],t[i]));return e=>{for(let t in n)r[t]=n[t](e);return r}};function tH(e){let t=tF.parse(e),r=t.length,n=0,i=0,o=0;for(let e=0;e<r;e++)n||"number"==typeof t[e]?n++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:n,numRGB:i,numHSL:o}}let tq=(e,t)=>{let r=tF.createTransformer(t),n=tH(e),i=tH(t);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?e4(tU(n.parsed,i.parsed),r):(h(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),r=>`${r>0?t:e}`)},t$=(e,t)=>r=>ty(e,t,r);function tW(e,t,{clamp:r=!0,ease:n,mixer:i}={}){let o=e.length;d(o===t.length,"Both input and output ranges must be the same length"),d(!n||!Array.isArray(n)||n.length===o-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());let a=function(e,t,r){var n;let i=[],o=r||("number"==typeof(n=e[0])?t$:"string"==typeof n?tI.test(n)?tO:tq:Array.isArray(n)?tU:"object"==typeof n?tG:void 0),a=e.length-1;for(let r=0;r<a;r++){let n=o(e[r],e[r+1]);t&&(n=e4(Array.isArray(t)?t[r]:t,n)),i.push(n)}return i}(t,n,i),s=2===o?function([e,t],[r]){return n=>r(tg(e,t,n))}(e,a):function(e,t){let r=e.length,n=r-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[n]&&(o=n-1,a=!0),!a){let t=1;for(;t<r&&!(e[t]>i)&&t!==n;t++);o=t-1}let s=tg(e[o],e[o+1],i);return t[o](s)}}(e,a);return r?t=>s(tu(e[0],e[o-1],t)):s}let tX=e=>t=>1-e(1-t),tZ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tK=e=>t=>t*t*((e+1)*t-e),tY=4/11,tQ=8/11,tJ=e=>e,t0=e=>Math.pow(e,2),t1=tX(t0),t2=tZ(t0),t3=e=>1-Math.sin(Math.acos(e)),t5=tX(t3),t6=tZ(t5),t4=tK(1.525),t8=tX(t4),t7=tZ(t4),t9=(e=>{let t=tK(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(1.525),re=4356/361,rt=35442/1805,rr=16061/1805,rn=e=>{if(1===e||0===e)return e;let t=e*e;return e<tY?7.5625*t:e<tQ?9.075*t-9.9*e+3.4:e<.9?re*t-rt*e+rr:10.8*e*e-20.52*e+10.72},ri=tX(rn);function ro({from:e=0,to:t=1,ease:r,offset:n,duration:i=300}){let o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=(n&&n.length===a.length?n:function(e){let t=e.length;return e.map((e,r)=>0!==r?r/(t-1):0)}(a)).map(e=>e*i);function l(){return tW(s,a,{ease:Array.isArray(r)?r:a.map(()=>r||t2).splice(0,a.length-1)})}let u=l();return{next:e=>(o.value=u(e),o.done=e>=i,o),flipTarget:()=>{a.reverse(),u=l()}}}let ra={keyframes:ro,spring:tp,decay:function({velocity:e=0,from:t=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:o}){let a={done:!1,value:t},s=r*e,l=t+s,u=void 0===o?l:o(l);return u!==l&&(s=u-t),{next:e=>{let t=-s*Math.exp(-e/n);return a.done=!(t>i||t<-i),a.value=a.done?u:u+t,a},flipTarget:()=>{}}}},rs=1/60*1e3,rl="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),ru="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(rl()),rs),rc=!0,rh=!1,rd=!1,rf={delta:0,timestamp:0},rp=["read","update","preRender","render","postRender"],rm=rp.reduce((e,t)=>(e[t]=function(e){let t=[],r=[],n=0,i=!1,o=!1,a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{let l=s&&i,u=l?t:r;return o&&a.add(e),-1===u.indexOf(e)&&(u.push(e),l&&i&&(n=t.length)),e},cancel:e=>{let t=r.indexOf(e);-1!==t&&r.splice(t,1),a.delete(e)},process:l=>{if(i){o=!0;return}if(i=!0,[t,r]=[r,t],r.length=0,n=t.length)for(let r=0;r<n;r++){let n=t[r];n(l),a.has(n)&&(s.schedule(n),e())}i=!1,o&&(o=!1,s.process(l))}};return s}(()=>rh=!0),e),{}),rg=rp.reduce((e,t)=>{let r=rm[t];return e[t]=(e,t=!1,n=!1)=>(rh||rx(),r.schedule(e,t,n)),e},{}),ry=rp.reduce((e,t)=>(e[t]=rm[t].cancel,e),{}),rv=rp.reduce((e,t)=>(e[t]=()=>rm[t].process(rf),e),{}),rb=e=>rm[e].process(rf),r_=e=>{rh=!1,rf.delta=rc?rs:Math.max(Math.min(e-rf.timestamp,40),1),rf.timestamp=e,rd=!0,rp.forEach(rb),rd=!1,rh&&(rc=!1,ru(r_))},rx=()=>{rh=!0,rc=!0,rd||ru(r_)},rw=()=>rf;function rS(e,t,r=0){return e-t-r}let rT=e=>{let t=({delta:t})=>e(t);return{start:()=>rg.update(t,!0),stop:()=>ry.update(t)}};function rE(e){let t,r,n;var i,{from:a,autoplay:s=!0,driver:l=rT,elapsed:u=0,repeat:c=0,repeatType:h="loop",repeatDelay:d=0,onPlay:f,onStop:p,onComplete:m,onRepeat:g,onUpdate:y}=e,v=(0,o.Tt)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:b}=v,_=0,x=v.duration,w=!1,S=!0,T=function(e){if(Array.isArray(e.to))return ro;if(ra[e.type])return ra[e.type];let t=new Set(Object.keys(e));if(t.has("ease")||t.has("duration")&&!t.has("dampingRatio"));else if(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))return tp;return ro}(v);(null===(i=T.needsInterpolation)||void 0===i?void 0:i.call(T,a,b))&&(n=tW([0,100],[a,b],{clamp:!1}),a=0,b=100);let E=T(Object.assign(Object.assign({},v),{from:a,to:b}));return s&&(null==f||f(),(t=l(function(e){if(S||(e=-e),u+=e,!w){let e=E.next(Math.max(0,u));r=e.value,n&&(r=n(r)),w=S?e.done:u<=0}if(null==y||y(r),w){if(0===_&&(null!=x||(x=u)),_<c){var i,o;i=u,o=x,(S?i>=o+d:i<=-d)&&(_++,"reverse"===h?u=function(e,t,r=0,n=!0){return n?rS(t+-e,t,r):t-(e-t)+r}(u,x,d,S=_%2==0):(u=rS(u,x,d),"mirror"===h&&E.flipTarget()),w=!1,g&&g())}else t.stop(),m&&m()}})).start()),{stop:()=>{null==p||p(),t.stop()}}}var rP=function(e){return 1e3*e};let rC=(e,t)=>1-3*t+3*e,rA=(e,t)=>3*t-6*e,rM=e=>3*e,rk=(e,t,r)=>((rC(t,r)*e+rA(t,r))*e+rM(t))*e,rO=(e,t,r)=>3*rC(t,r)*e*e+2*rA(t,r)*e+rM(t);var rI={linear:tJ,easeIn:t0,easeInOut:t2,easeOut:t1,circIn:t3,circInOut:t6,circOut:t5,backIn:t4,backInOut:t7,backOut:t8,anticipate:t9,bounceIn:ri,bounceInOut:e=>e<.5?.5*(1-rn(1-2*e)):.5*rn(2*e-1)+.5,bounceOut:rn},rR=function(e){if(Array.isArray(e)){d(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=(0,o.zs)(e,4);return function(e,t,r,n){if(e===t&&r===n)return tJ;let i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=rk(.1*t,e,r);return o=>0===o||1===o?o:rk(function(t){let n=0,o=1;for(;10!==o&&i[o]<=t;++o)n+=.1;let a=n+(t-i[--o])/(i[o+1]-i[o])*.1,s=rO(a,e,r);return s>=.001?function(e,t,r,n){for(let i=0;i<8;++i){let i=rO(t,r,n);if(0===i)break;let o=rk(t,r,n)-e;t-=o/i}return t}(t,a,e,r):0===s?a:function(e,t,r,n,i){let o,a;let s=0;do(o=rk(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a;while(Math.abs(o)>1e-7&&++s<10)return a}(t,n,n+.1,e,r)}(o),t,n)}(t[0],t[1],t[2],t[3])}return"string"==typeof e?(d(void 0!==rI[e],"Invalid easing type '".concat(e,"'")),rI[e]):e},rD=function(e,t){return"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&tF.test(t)&&!t.startsWith("url("))},rL=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},rj=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},rz=function(){return{type:"keyframes",ease:"linear",duration:.3}},rB=function(e){return{type:"keyframes",duration:.8,values:e}},rF={x:rL,y:rL,z:rL,rotate:rL,rotateX:rL,rotateY:rL,rotateZ:rL,scaleX:rj,scaleY:rj,scale:rj,opacity:rz,backgroundColor:rz,color:rz,default:rj},rN=function(e,t){var r;return r=eR(t)?rB:rF[e]||rF.default,(0,o.Cl)({to:t},r(t))};let rV=new Set(["brightness","contrast","saturate","opacity"]);function rU(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=r.match(Q)||[];if(!n)return e;let i=r.replace(n,""),o=+!!rV.has(t);return n!==r&&(o*=100),t+"("+o+i+")"}let rG=/([a-z-]*)\(.*?\)/g,rH=Object.assign(Object.assign({},tF),{getAnimatableNone:e=>{let t=e.match(rG);return t?t.map(rU).join(" "):e}});var rq=(0,o.Cl)((0,o.Cl)({},ef),{color:tI,backgroundColor:tI,outlineColor:tI,fill:tI,stroke:tI,borderColor:tI,borderTopColor:tI,borderRightColor:tI,borderBottomColor:tI,borderLeftColor:tI,filter:rH,WebkitFilter:rH}),r$=function(e){return rq[e]};function rW(e,t){var r,n=r$(e);return n!==rH&&(n=tF),null===(r=n.getAnimatableNone)||void 0===r?void 0:r.call(n,t)}var rX={current:!1},rZ=!1;function rK(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function rY(e){return"number"==typeof e?0:rW("",e)}function rQ(e,t){return e[t]||e.default||e}function rJ(e,t,r,n){return void 0===n&&(n={}),rX.current&&(n={type:!1}),t.start(function(i){var a,s,l,u,c,d,f,p,m,g,y,v=(u=r,f=null!==(c=(d=rQ(n,e)).from)&&void 0!==c?c:t.get(),p=rD(e,u),"none"===f&&p&&"string"==typeof u?f=rW(e,u):rK(f)&&"string"==typeof u?f=rY(u):!Array.isArray(u)&&rK(u)&&"string"==typeof f&&(u=rY(f)),h((m=rD(e,f))===p,"You are trying to animate ".concat(e,' from "').concat(f,'" to "').concat(u,'". ').concat(f," is not an animatable value - to enable this animation set ").concat(f," to a value animatable to ").concat(u," via the `style` property.")),m&&p&&!1!==d.type?function(){var r,n,a,s,l,c,p,m,g,y,v,b,_,x={from:f,to:u,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===d.type||"decay"===d.type?function({from:e=0,velocity:t=0,min:r,max:n,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:d,onStop:f}){let p;function m(e){return void 0!==r&&e<r||void 0!==n&&e>n}function g(e){return void 0===r?n:void 0===n?r:Math.abs(r-e)<Math.abs(n-e)?r:n}function y(e){null==p||p.stop(),p=rE(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var r;null==h||h(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:d,onStop:f}))}function v(e){y(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:l},e))}if(m(e))v({from:e,velocity:t,to:g(e)});else{let n,a,s=i*t+e;void 0!==u&&(s=u(s));let c=g(s),h=c===r?-1:1;y({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:l,modifyTarget:u,onUpdate:m(s)?e=>{var r,i;n=a,a=e,r=e-n,t=(i=rw().delta)?1e3/i*r:0,(1===h&&e>c||-1===h&&e<c)&&v({from:e,to:c,velocity:t})}:void 0})}return{stop:()=>null==p?void 0:p.stop()}}((0,o.Cl)((0,o.Cl)({},x),d)):rE((0,o.Cl)((0,o.Cl)({},(r=d,n=x,a=e,Array.isArray(n.to)&&(null!==(s=r.duration)&&void 0!==s||(r.duration=.8)),Array.isArray(n.to)&&null===n.to[0]&&(n.to=(0,o.fX)([],(0,o.zs)(n.to),!1),n.to[0]=n.from),(l=r).when,l.delay,l.delayChildren,l.staggerChildren,l.staggerDirection,l.repeat,l.repeatType,l.repeatDelay,l.from,Object.keys((0,o.Tt)(l,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"])).length||(r=(0,o.Cl)((0,o.Cl)({},r),rN(a,n.to))),(0,o.Cl)((0,o.Cl)({},n),(p=(c=r).ease,m=c.times,g=c.yoyo,y=c.flip,v=c.loop,b=(0,o.Tt)(c,["ease","times","yoyo","flip","loop"]),_=(0,o.Cl)({},b),m&&(_.offset=m),b.duration&&(_.duration=rP(b.duration)),b.repeatDelay&&(_.repeatDelay=rP(b.repeatDelay)),p&&(_.ease=Array.isArray(p)&&"number"!=typeof p[0]?p.map(rR):rR(p)),"tween"===b.type&&(_.type="keyframes"),(g||v||y)&&(h(!rZ,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),rZ=!0,g?_.repeatType="reverse":v?_.repeatType="loop":y&&(_.repeatType="mirror"),_.repeat=v||g||y||b.repeat),"spring"!==b.type&&(_.type="keyframes"),_)))),{onUpdate:function(e){var t;x.onUpdate(e),null===(t=d.onUpdate)||void 0===t||t.call(d,e)},onComplete:function(){var e;x.onComplete(),null===(e=d.onComplete)||void 0===e||e.call(d)}}))}:function(){var e,r,n=eD(u);return t.set(n),i(),null===(e=null==d?void 0:d.onUpdate)||void 0===e||e.call(d,n),null===(r=null==d?void 0:d.onComplete)||void 0===r||r.call(d),{stop:function(){}}}),b=null!==(l=null!==(s=(rQ(a=n,e)||{}).delay)&&void 0!==s?s:a.delay)&&void 0!==l?l:0,_=function(){return y=v()};return b?g=window.setTimeout(_,rP(b)):_(),function(){clearTimeout(g),null==y||y.stop()}})}function r0(e,t){-1===e.indexOf(t)&&e.push(t)}function r1(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var r2=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return r0(this.subscriptions,e),function(){return r1(t.subscriptions,e)}},e.prototype.notify=function(e,t,r){var n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,r);else for(var i=0;i<n;i++){var o=this.subscriptions[i];o&&o(e,t,r)}}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),r3=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new r2,this.velocityUpdateSubscribers=new r2,this.renderSubscribers=new r2,this.canTrackVelocity=!1,this.updateAndNotify=function(e,r){void 0===r&&(r=!0),t.prev=t.current,t.current=e;var n=rw(),i=n.delta,o=n.timestamp;t.lastUpdated!==o&&(t.timeDelta=i,t.lastUpdated=o,rg.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),r&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return rg.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){var e,t;return this.canTrackVelocity?(e=parseFloat(this.current)-parseFloat(this.prev),(t=this.timeDelta)?1e3/t*e:0):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(r){t.hasAnimated=!0,t.stopAnimation=e(r)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function r5(e){return new r3(e)}var r6=function(e){return function(t){return t.test(e)}},r4=[eu,eo,ei,en,es,ea,{test:function(e){return"auto"===e},parse:function(e){return e}}],r8=function(e){return r4.find(r6(e))},r7=(0,o.fX)((0,o.fX)([],(0,o.zs)(r4),!1),[tI,tF],!1);function r9(e,t,r){void 0===r&&(r={});var n,i=C(e,t,r.custom),a=(i||{}).transition,s=void 0===a?e.getDefaultTransition()||{}:a;r.transitionOverride&&(s=r.transitionOverride);var l=i?function(){return ne(e,i,r)}:function(){return Promise.resolve()},u=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(n){void 0===n&&(n=0);var i,a,l,u,c,h,d,f=s.delayChildren;return i=(void 0===f?0:f)+n,a=s.staggerChildren,l=s.staggerDirection,u=r,void 0===i&&(i=0),void 0===a&&(a=0),void 0===l&&(l=1),c=[],h=(e.variantChildren.size-1)*a,d=1===l?function(e){return void 0===e&&(e=0),e*a}:function(e){return void 0===e&&(e=0),h-e*a},Array.from(e.variantChildren).sort(nt).forEach(function(e,r){c.push(r9(e,t,(0,o.Cl)((0,o.Cl)({},u),{delay:i+d(r)})).then(function(){return e.notifyAnimationComplete(t)}))}),Promise.all(c)}:function(){return Promise.resolve()},c=s.when;if(!c)return Promise.all([l(),u(r.delay)]);var h=(0,o.zs)("beforeChildren"===c?[l,u]:[u,l],2),d=h[0],f=h[1];return d().then(f)}function ne(e,t,r){var n,i=void 0===r?{}:r,a=i.delay,s=void 0===a?0:a,l=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),h=c.transition,d=void 0===h?e.getDefaultTransition():h,f=c.transitionEnd,p=(0,o.Tt)(c,["transition","transitionEnd"]);l&&(d=l);var m=[],g=u&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[u]);for(var y in p){var v=e.getValue(y),b=p[y];if(!(!v||void 0===b||g&&function(e,t){var r=e.protectedKeys,n=e.needsAnimating,i=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,i}(g,y))){var _=(0,o.Cl)({delay:s},d);e.shouldReduceMotion&&H(y)&&(_=(0,o.Cl)((0,o.Cl)({},_),{type:!1,delay:0}));var x=rJ(y,v,b,_);m.push(x)}}return Promise.all(m).then(function(){f&&function(e,t){var r=C(e,t),n=r?e.makeTargetAnimatable(r,!1):{},i=n.transitionEnd;n.transition;var a=(0,o.Tt)(n,["transitionEnd","transition"]);for(var s in a=(0,o.Cl)((0,o.Cl)({},a),void 0===i?{}:i)){var l=eD(a[s]);e.hasValue(s)?e.getValue(s).set(l):e.addValue(s,r5(l))}}(e,f)})}function nt(e,t){return e.sortNodePosition(t)}var nr=[n.Animate,n.InView,n.Focus,n.Hover,n.Tap,n.Drag,n.Exit],nn=(0,o.fX)([],(0,o.zs)(nr),!1).reverse(),ni=nr.length;function no(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var na={animation:tn(function(e){var t=e.visualElement,r=e.animate;t.animationState||(t.animationState=function(e){var t,r=function(t){return Promise.all(t.map(function(t){return function(e,t,r){if(void 0===r&&(r={}),e.notifyAnimationStart(t),Array.isArray(t)){var n;n=Promise.all(t.map(function(t){return r9(e,t,r)}))}else if("string"==typeof t)n=r9(e,t,r);else{var i="function"==typeof t?C(e,t,r.custom):t;n=ne(e,i,r)}return n.then(function(){return e.notifyAnimationComplete(t)})}(e,t.animation,t.options)}))},i=((t={})[n.Animate]=no(!0),t[n.InView]=no(),t[n.Hover]=no(),t[n.Tap]=no(),t[n.Drag]=no(),t[n.Focus]=no(),t[n.Exit]=no(),t),a={},s=!0,l=function(t,r){var n=C(e,r);if(n){n.transition;var i=n.transitionEnd,a=(0,o.Tt)(n,["transition","transitionEnd"]);t=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},t),a),i)}return t};function u(t,n){for(var u,c=e.getProps(),h=e.getVariantContext(!0)||{},d=[],f=new Set,p={},m=1/0,g=0;g<ni;g++)!function(r){var a,g=nn[r],y=i[g],v=null!==(u=c[g])&&void 0!==u?u:h[g],b=E(v),_=g===n?y.isActive:null;!1===_&&(m=r);var x=v===h[g]&&v!==c[g]&&b;if(x&&s&&e.manuallyAnimateOnMount&&(x=!1),y.protectedKeys=(0,o.Cl)({},p),!(!y.isActive&&null===_||!v&&!y.prevProp||eI(v))&&"boolean"!=typeof v){var w=(a=y.prevProp,"string"==typeof v?v!==a:!!T(v)&&!tl(v,a)),S=w||g===n&&y.isActive&&!x&&b||r>m&&b,P=Array.isArray(v)?v:[v],C=P.reduce(l,{});!1===_&&(C={});var A=y.prevResolvedValues,M=void 0===A?{}:A,k=(0,o.Cl)((0,o.Cl)({},M),C),O=function(e){S=!0,f.delete(e),y.needsAnimating[e]=!0};for(var I in k){var R=C[I],D=M[I];p.hasOwnProperty(I)||(R!==D?eR(R)&&eR(D)?!tl(R,D)||w?O(I):y.protectedKeys[I]=!0:void 0!==R?O(I):f.add(I):void 0!==R&&f.has(I)?O(I):y.protectedKeys[I]=!0)}y.prevProp=v,y.prevResolvedValues=C,y.isActive&&(p=(0,o.Cl)((0,o.Cl)({},p),C)),s&&e.blockInitialAnimation&&(S=!1),S&&!x&&d.push.apply(d,(0,o.fX)([],(0,o.zs)(P.map(function(e){return{animation:e,options:(0,o.Cl)({type:g},t)}})),!1))}}(g);if(a=(0,o.Cl)({},p),f.size){var y={};f.forEach(function(t){var r=e.getBaseTarget(t);void 0!==r&&(y[t]=r)}),d.push({animation:y})}var v=!!d.length;return s&&!1===c.initial&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?r(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==a[e]},animateChanges:u,setActive:function(t,r,n){if(i[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),i[t].isActive=r;var o,a=u(n,t);for(var s in i)i[s].protectedKeys={};return a},setAnimateFunction:function(t){r=t(e)},getState:function(){return i}}}(t)),eI(r)&&(0,a.useEffect)(function(){return r.subscribe(t)},[r])}),exit:tn(function(e){var t=e.custom,r=e.visualElement,i=(0,o.zs)(ts(),2),s=i[0],l=i[1],u=(0,a.useContext)(v);(0,a.useEffect)(function(){r.isPresent=s;var e,i,o=null===(e=r.animationState)||void 0===e?void 0:e.setActive(n.Exit,!s,{custom:null!==(i=null==u?void 0:u.custom)&&void 0!==i?i:t});s||null==o||o.then(l)},[s])})};let ns=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),nl=e=>ns(e)&&e.hasOwnProperty("z"),nu=(e,t)=>Math.abs(e-t);function nc(e,t){return tN(e)&&tN(t)?nu(e,t):ns(e)&&ns(t)?Math.sqrt(Math.pow(nu(e.x,t.x),2)+Math.pow(nu(e.y,t.y),2)+Math.pow(nl(e)&&nl(t)?nu(e.z,t.z):0,2)):void 0}var nh=function(){function e(e,t,r){var n=this,i=(void 0===r?{}:r).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var e=np(n.lastMoveEventInfo,n.history),t=null!==n.startEvent,r=nc(e.offset,{x:0,y:0})>=3;if(t||r){var i=e.point,a=rw().timestamp;n.history.push((0,o.Cl)((0,o.Cl)({},i),{timestamp:a}));var s=n.handlers,l=s.onStart,u=s.onMove;t||(l&&l(n.lastMoveEvent,e),n.startEvent=n.lastMoveEvent),u&&u(n.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){if(n.lastMoveEvent=e,n.lastMoveEventInfo=nd(t,n.transformPagePoint),eU(e)&&0===e.buttons){n.handlePointerUp(e,t);return}rg.update(n.updatePoint,!0)},this.handlePointerUp=function(e,t){n.end();var r=n.handlers,i=r.onEnd,o=r.onSessionEnd,a=np(nd(t,n.transformPagePoint),n.history);n.startEvent&&i&&i(e,a),o&&o(e,a)},!e.touches||!(e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=nd(eH(e),this.transformPagePoint),s=a.point,l=rw().timestamp;this.history=[(0,o.Cl)((0,o.Cl)({},s),{timestamp:l})];var u=t.onSessionStart;u&&u(e,np(a,this.history)),this.removeListeners=e4(eZ(window,"pointermove",this.handlePointerMove),eZ(window,"pointerup",this.handlePointerUp),eZ(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),ry.update(this.updatePoint)},e}();function nd(e,t){return t?{point:t(e.point)}:e}function nf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function np(e,t){var r=e.point;return{point:r,delta:nf(r,nm(t)),offset:nf(r,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,i=nm(e);r>=0&&(n=e[r],!(i.timestamp-n.timestamp>rP(.1)));)r--;if(!n)return{x:0,y:0};var o=(i.timestamp-n.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function nm(e){return e[e.length-1]}function ng(e){return e.max-e.min}function ny(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=.01),nc(e,t)<r}function nv(e,t,r,n){void 0===n&&(n=.5),e.origin=n,e.originPoint=ty(t.min,t.max,e.origin),e.scale=ng(r)/ng(t),(ny(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ty(r.min,r.max,e.origin)-e.originPoint,(ny(e.translate)||isNaN(e.translate))&&(e.translate=0)}function nb(e,t,r,n){nv(e.x,t.x,r.x,null==n?void 0:n.originX),nv(e.y,t.y,r.y,null==n?void 0:n.originY)}function n_(e,t,r){e.min=r.min+t.min,e.max=e.min+ng(t)}function nx(e,t,r){e.min=t.min-r.min,e.max=e.min+ng(t)}function nw(e,t,r){nx(e.x,t.x,r.x),nx(e.y,t.y,r.y)}function nS(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function nT(e,t){var r,n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=(r=(0,o.zs)([i,n],2))[0],i=r[1]),{min:n,max:i}}function nE(e,t,r){return{min:nP(e,t),max:nP(e,r)}}function nP(e,t){var r;return"number"==typeof e?e:null!==(r=e[t])&&void 0!==r?r:0}var nC=function(){return{translate:0,scale:1,origin:0,originPoint:0}},nA=function(){return{x:nC(),y:nC()}},nM=function(){return{min:0,max:0}},nk=function(){return{x:nM(),y:nM()}};function nO(e){return[e("x"),e("y")]}function nI(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function nR(e){return void 0===e||1===e}function nD(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!nR(t)||!nR(r)||!nR(n)}function nL(e){var t,r;return nD(e)||(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r||e.z||e.rotate||e.rotateX||e.rotateY}function nj(e,t,r,n,i){return void 0!==i&&(e=n+i*(e-n)),n+r*(e-n)+t}function nz(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=1),e.min=nj(e.min,t,r,n,i),e.max=nj(e.max,t,r,n,i)}function nB(e,t){var r=t.x,n=t.y;nz(e.x,r.translate,r.scale,r.originPoint),nz(e.y,n.translate,n.scale,n.originPoint)}function nF(e,t){e.min=e.min+t,e.max=e.max+t}function nN(e,t,r){var n=(0,o.zs)(r,3),i=n[0],a=n[1],s=n[2],l=void 0!==t[s]?t[s]:.5,u=ty(e.min,e.max,l);nz(e,t[i],t[a],u,t.scale)}var nV=["x","scaleX","originX"],nU=["y","scaleY","originY"];function nG(e,t){nN(e.x,t,nV),nN(e.y,t,nU)}function nH(e,t){return nI(function(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}var nq=new WeakMap,n$=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nk(),this.visualElement=e}return e.prototype.start=function(e,t){var r=this,i=(void 0===t?{}:t).snapToCursor,o=void 0!==i&&i;!1!==this.visualElement.isPresent&&(this.panSession=new nh(e,{onSessionStart:function(e){r.stopAnimation(),o&&r.snapToCursor(eH(e,"page").point)},onStart:function(e,t){var i,o=r.getProps(),a=o.drag,s=o.dragPropagation,l=o.onDragStart;(!a||s||(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=e0(a),r.openGlobalLock))&&(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),nO(function(e){var t,n,i=r.getAxisMotionValue(e).get()||0;if(ei.test(i)){var o=null===(n=null===(t=r.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.actual[e];o&&(i=ng(o)*(parseFloat(i)/100))}r.originPoint[e]=i}),null==l||l(e,t),null===(i=r.visualElement.animationState)||void 0===i||i.setActive(n.Drag,!0))},onMove:function(e,t){var n=r.getProps(),i=n.dragPropagation,o=n.dragDirectionLock,a=n.onDirectionLock,s=n.onDrag;if(i||r.openGlobalLock){var l,u,c=t.offset;if(o&&null===r.currentDirection){r.currentDirection=(void 0===l&&(l=10),u=null,Math.abs(c.y)>l?u="y":Math.abs(c.x)>l&&(u="x"),u),null!==r.currentDirection&&(null==a||a(r.currentDirection));return}r.updateAxis("x",t.point,c),r.updateAxis("y",t.point,c),r.visualElement.syncRender(),null==s||s(e,t)}},onSessionEnd:function(e,t){return r.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var r=this.isDragging;if(this.cancel(),r){var n=t.velocity;this.startAnimation(n);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(n.Drag,!1)},e.prototype.updateAxis=function(e,t,r){var n=this.getProps().drag;if(r&&nW(e,n,this.currentDirection)){var i,o,a,s,l,u=this.getAxisMotionValue(e),c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=c,o=this.constraints[e],a=this.elastic[e],s=o.min,l=o.max,void 0!==s&&i<s?i=a?ty(s,i,a.min):Math.max(i,s):void 0!==l&&i>l&&(i=a?ty(l,i,a.max):Math.min(i,l)),c=i),u.set(c)}},e.prototype.resolveConstraints=function(){var e,t,r,n,i,o,a=this,s=this.getProps(),l=s.dragConstraints,u=s.dragElastic,c=(this.visualElement.projection||{}).layout,h=this.constraints;l&&S(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&c?this.constraints=(e=c.actual,t=l.top,r=l.left,n=l.bottom,i=l.right,{x:nS(e.x,r,i),y:nS(e.y,t,n)}):this.constraints=!1,this.elastic=(void 0===(o=u)&&(o=.35),!1===o?o=0:!0===o&&(o=.35),{x:nE(o,"left","right"),y:nE(o,"top","bottom")}),h!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&nO(function(e){if(a.getAxisMotionValue(e)){var t,r,n;a.constraints[e]=(t=c.actual[e],r=a.constraints[e],n={},void 0!==r.min&&(n.min=r.min-t.min),void 0!==r.max&&(n.max=r.max-t.min),n)}})},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!S(t))return!1;var n=t.current;d(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=(s=i.root,l=nH(n,this.visualElement.getTransformPagePoint()),(u=s.scroll)&&(nF(l.x,u.x),nF(l.y,u.y)),l),a={x:nT((c=i.layout.actual).x,o.x),y:nT(c.y,o.y)};if(r){var s,l,u,c,h,f,p,m=r((f=(h=a).x,{top:(p=h.y).min,right:f.max,bottom:p.max,left:f.min}));this.hasMutatedConstraints=!!m,m&&(a=nI(m))}return a},e.prototype.startAnimation=function(e){var t=this,r=this.getProps(),n=r.drag,i=r.dragMomentum,a=r.dragElastic,s=r.dragTransition,l=r.dragSnapToOrigin,u=r.onDragTransitionEnd,c=this.constraints||{};return Promise.all(nO(function(r){if(nW(r,n,t.currentDirection)){var u,h=null!==(u=null==c?void 0:c[r])&&void 0!==u?u:{};l&&(h={min:0,max:0});var d=(0,o.Cl)((0,o.Cl)({type:"inertia",velocity:i?e[r]:0,bounceStiffness:a?200:1e6,bounceDamping:a?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},s),h);return t.startAxisValueAnimation(r,d)}})).then(u)},e.prototype.startAxisValueAnimation=function(e,t){var r=this.getAxisMotionValue(e);return rJ(e,r,0,t)},e.prototype.stopAnimation=function(){var e=this;nO(function(t){return e.getAxisMotionValue(t).stop()})},e.prototype.getAxisMotionValue=function(e){var t,r,n="_drag"+e.toUpperCase();return this.visualElement.getProps()[n]||this.visualElement.getValue(e,null!==(r=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==r?r:0)},e.prototype.snapToCursor=function(e){var t=this;nO(function(r){if(nW(r,t.getProps().drag,t.currentDirection)){var n=t.visualElement.projection,i=t.getAxisMotionValue(r);if(n&&n.layout){var o=n.layout.actual[r],a=o.min,s=o.max;i.set(e[r]-ty(a,s,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,r=this.getProps(),n=r.drag,i=r.dragConstraints,o=this.visualElement.projection;if(S(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};nO(function(e){var r=t.getAxisMotionValue(e);if(r){var n,i,o,s,l,u=r.get();a[e]=(n={min:u,max:u},i=t.constraints[e],o=.5,s=ng(n),(l=ng(i))>s?o=tg(i.min,i.max-s,n.min):s>l&&(o=tg(n.min,n.max-l,i.min)),tu(0,1,o))}});var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),nO(function(e){if(nW(e,n,null)){var r=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;r.set(ty(o,s,a[e]))}})}},e.prototype.addListeners=function(){var e,t=this;nq.set(this.visualElement,this);var r=eZ(this.visualElement.getInstance(),"pointerdown",function(e){var r=t.getProps(),n=r.drag,i=r.dragListener;n&&(void 0===i||i)&&t.start(e)}),n=function(){S(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",n);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),n();var a=eN(window,"resize",function(){return t.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(e){var r=e.delta,n=e.hasLayoutChanged;t.isDragging&&n&&(nO(function(e){var n=t.getAxisMotionValue(e);n&&(t.originPoint[e]+=r[e].translate,n.set(n.get()+r[e].translate))}),t.visualElement.syncRender())}),function(){a(),r(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,r=e.dragDirectionLock,n=e.dragPropagation,i=e.dragConstraints,a=e.dragElastic,s=e.dragMomentum;return(0,o.Cl)((0,o.Cl)({},e),{drag:void 0!==t&&t,dragDirectionLock:void 0!==r&&r,dragPropagation:void 0!==n&&n,dragConstraints:void 0!==i&&i,dragElastic:void 0===a?.35:a,dragMomentum:void 0===s||s})},e}();function nW(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var nX={pan:tn(function(e){var t=e.onPan,r=e.onPanStart,n=e.onPanEnd,i=e.onPanSessionStart,o=e.visualElement,s=(0,a.useRef)(null),l=(0,a.useContext)(g).transformPagePoint,u={onSessionStart:i,onStart:r,onMove:t,onEnd:function(e,t){s.current=null,n&&n(e,t)}};(0,a.useEffect)(function(){null!==s.current&&s.current.updateHandlers(u)}),eK(o,"pointerdown",(t||r||n||i)&&function(e){s.current=new nh(e,u,{transformPagePoint:l})}),e5(function(){return s.current&&s.current.end()})}),drag:tn(function(e){var t=e.dragControls,r=e.visualElement,n=O(function(){return new n$(r)});(0,a.useEffect)(function(){return t&&t.subscribe(n)},[n,t]),(0,a.useEffect)(function(){return n.addListeners()},[n])})},nZ=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],nK=function(e){var t=e.treeType,r=void 0===t?"":t,n=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,s=e.measureViewportBox,l=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,h=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var f,p,m,g,y,v=e.parent,b=e.props,_=e.presenceId,x=e.blockInitialAnimation,w=e.visualState,S=e.shouldReduceMotion;void 0===t&&(t={});var T=!1,P=w.latestValues,C=w.renderState,k=(f=nZ.map(function(){return new r2}),p={},m={clearAllListeners:function(){return f.forEach(function(e){return e.clear()})},updatePropListeners:function(e){nZ.forEach(function(t){var r,n="on"+t,i=e[n];null===(r=p[t])||void 0===r||r.call(p),i&&(p[t]=m[n](i))})}},f.forEach(function(e,t){m["on"+nZ[t]]=function(t){return e.add(t)},m["notify"+nZ[t]]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.notify.apply(e,(0,o.fX)([],(0,o.zs)(t),!1))}}),m),O=new Map,I=new Map,R={},D=(0,o.Cl)({},P);function L(){g&&T&&(j(),l(g,C,b.style,H.projection))}function j(){n(H,C,P,t,b)}function z(){k.notifyUpdate(P)}function B(e,t){var r=t.onChange(function(t){P[e]=t,b.onUpdate&&rg.update(z,!1,!0)}),n=t.onRenderRequest(H.scheduleRender);I.set(e,function(){r(),n()})}var F=d(b);for(var N in F){var V=F[N];void 0!==P[N]&&W(V)&&V.set(P[N],!1)}var U=A(b),G=M(b),H=(0,o.Cl)((0,o.Cl)({treeType:r,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:_,shouldReduceMotion:S,variantChildren:G?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(null==v?void 0:v.isMounted()),blockInitialAnimation:x,isMounted:function(){return!!g},mount:function(e){T=!0,g=H.current=e,H.projection&&H.projection.mount(e),G&&v&&!U&&(y=null==v?void 0:v.addVariantChild(H)),O.forEach(function(e,t){return B(t,e)}),null==v||v.children.add(H),H.setProps(b)},unmount:function(){var e;null===(e=H.projection)||void 0===e||e.unmount(),ry.update(z),ry.render(L),I.forEach(function(e){return e()}),null==y||y(),null==v||v.children.delete(H),k.clearAllListeners(),g=void 0,T=!1},addVariantChild:function(e){var t,r=H.getClosestVariantNode();if(r)return null===(t=r.variantChildren)||void 0===t||t.add(e),function(){return r.variantChildren.delete(e)}},sortNodePosition:function(e){return h&&r===e.treeType?h(H.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return G?H:null==v?void 0:v.getClosestVariantNode()},getLayoutId:function(){return b.layoutId},getInstance:function(){return g},getStaticValue:function(e){return P[e]},setStaticValue:function(e,t){return P[e]=t},getLatestValues:function(){return P},setVisibility:function(e){H.isVisible!==e&&(H.isVisible=e,H.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(H,e,b,t)},measureViewportBox:function(){return s(g,b)},addValue:function(e,t){H.hasValue(e)&&H.removeValue(e),O.set(e,t),P[e]=t.get(),B(e,t)},removeValue:function(e){var t;O.delete(e),null===(t=I.get(e))||void 0===t||t(),I.delete(e),delete P[e],c(e,C)},hasValue:function(e){return O.has(e)},getValue:function(e,t){var r=O.get(e);return void 0===r&&void 0!==t&&(r=r5(t),H.addValue(e,r)),r},forEachValue:function(e){return O.forEach(e)},readValue:function(e){var r;return null!==(r=P[e])&&void 0!==r?r:u(g,e,t)},setBaseTarget:function(e,t){D[e]=t},getBaseTarget:function(e){if(i){var t=i(b,e);if(void 0!==t&&!W(t))return t}return D[e]}},k),{build:function(){return j(),C},scheduleRender:function(){rg.render(L,!1,!0)},syncRender:L,setProps:function(e){(e.transformTemplate||b.transformTemplate)&&H.scheduleRender(),b=e,k.updatePropListeners(e),R=function(e,t,r){var n;for(var i in t){var o=t[i],a=r[i];if(W(o))e.addValue(i,o);else if(W(a))e.addValue(i,r5(o));else if(a!==o){if(e.hasValue(i)){var s=e.getValue(i);s.hasAnimated||s.set(o)}else e.addValue(i,r5(null!==(n=e.getStaticValue(i))&&void 0!==n?n:o))}}for(var i in r)void 0===t[i]&&e.removeValue(i);return t}(H,d(b),R)},getProps:function(){return b},getVariant:function(e){var t;return null===(t=b.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return b.transition},getTransformPagePoint:function(){return b.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==v?void 0:v.getVariantContext();if(!U){var t=(null==v?void 0:v.getVariantContext())||{};return void 0!==b.initial&&(t.initial=b.initial),t}for(var r={},n=0;n<nQ;n++){var i=nY[n],o=b[i];(E(o)||!1===o)&&(r[i]=o)}return r}});return H}},nY=(0,o.fX)(["initial"],(0,o.zs)(nr),!1),nQ=nY.length;function nJ(e){return"string"==typeof e&&e.startsWith("var(--")}var n0=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n1(e,t,r){void 0===r&&(r=1),d(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var n=(0,o.zs)(function(e){var t=n0.exec(e);if(!t)return[,];var r=(0,o.zs)(t,3);return[r[1],r[2]]}(e),2),i=n[0],a=n[1];if(i){var s=window.getComputedStyle(t).getPropertyValue(i);return s?s.trim():nJ(a)?n1(a,t,r+1):a}}var n2=new Set(["width","height","top","left","right","bottom","x","y"]),n3=function(e){return n2.has(e)},n5=function(e,t){e.set(t,!1),e.set(t)},n6=function(e){return e===eu||e===eo};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(i||(i={}));var n4=function(e,t){return parseFloat(e.split(", ")[t])},n8=function(e,t){return function(r,n){var i=n.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return n4(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?n4(a[1],e):0}},n7=new Set(["x","y","z"]),n9=V.filter(function(e){return!n7.has(e)}),ie={width:function(e,t){var r=e.x,n=t.paddingLeft,i=t.paddingRight;return r.max-r.min-parseFloat(void 0===n?"0":n)-parseFloat(void 0===i?"0":i)},height:function(e,t){var r=e.y,n=t.paddingTop,i=t.paddingBottom;return r.max-r.min-parseFloat(void 0===n?"0":n)-parseFloat(void 0===i?"0":i)},top:function(e,t){return parseFloat(t.top)},left:function(e,t){return parseFloat(t.left)},bottom:function(e,t){var r=e.y;return parseFloat(t.top)+(r.max-r.min)},right:function(e,t){var r=e.x;return parseFloat(t.left)+(r.max-r.min)},x:n8(4,13),y:n8(5,14)},it=function(e,t,r){var n=t.measureViewportBox(),i=getComputedStyle(t.getInstance()),o=i.display,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),r.forEach(function(e){a[e]=ie[e](n,i)}),t.syncRender();var s=t.measureViewportBox();return r.forEach(function(r){n5(t.getValue(r),a[r]),e[r]=ie[r](s,i)}),e},ir=function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n={}),t=(0,o.Cl)({},t),n=(0,o.Cl)({},n);var i=Object.keys(t).filter(n3),a=[],s=!1,l=[];if(i.forEach(function(i){var o,u=e.getValue(i);if(e.hasValue(i)){var c=r[i],h=r8(c),f=t[i];if(eR(f)){var p=f.length,m=+(null===f[0]);h=r8(c=f[m]);for(var g=m;g<p;g++)o?d(r8(f[g])===o,"All keyframes must be of the same type"):d((o=r8(f[g]))===h||n6(h)&&n6(o),"Keyframes must be of the same dimension as the current value")}else o=r8(f);if(h!==o){if(n6(h)&&n6(o)){var y,v=u.get();"string"==typeof v&&u.set(parseFloat(v)),"string"==typeof f?t[i]=parseFloat(f):Array.isArray(f)&&o===eo&&(t[i]=f.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==o?void 0:o.transform)&&(0===c||0===f)?0===c?u.set(o.transform(c)):t[i]=h.transform(f):(s||(y=[],n9.forEach(function(t){var r=e.getValue(t);void 0!==r&&(y.push([t,r.get()]),r.set(+!!t.startsWith("scale")))}),y.length&&e.syncRender(),a=y,s=!0),l.push(i),n[i]=void 0!==n[i]?n[i]:t[i],n5(u,f))}}}),!l.length)return{target:t,transitionEnd:n};var u=l.indexOf("height")>=0?window.pageYOffset:null,c=it(t,e,l);return a.length&&a.forEach(function(t){var r=(0,o.zs)(t,2),n=r[0],i=r[1];e.getValue(n).set(i)}),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:n}},ii=function(e,t,r,n){var i,a,s=function(e,t,r){var n,i=(0,o.Tt)(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:r};for(var s in r&&(r=(0,o.Cl)({},r)),e.forEachValue(function(e){var t=e.get();if(nJ(t)){var r=n1(t,a);r&&e.set(r)}}),i){var l=i[s];if(nJ(l)){var u=n1(l,a);u&&(i[s]=u,r&&(null!==(n=r[s])&&void 0!==n||(r[s]=l)))}}return{target:i,transitionEnd:r}}(e,t,n);return t=s.target,n=s.transitionEnd,i=t,a=n,Object.keys(i).some(n3)?ir(e,i,r,a):{target:i,transitionEnd:a}},io={treeType:"dom",readValueFromInstance:function(e,t){if(H(t)){var r=r$(t);return r&&r.default||0}var n=window.getComputedStyle(e);return(Z(t)?n.getPropertyValue(t):n[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var r;return null===(r=e.style)||void 0===r?void 0:r[t]},measureViewportBox:function(e,t){return nH(e,t.transformPagePoint)},resetTransform:function(e,t,r){var n=r.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]},makeTargetAnimatable:function(e,t,r,n){var i=r.transformValues;void 0===n&&(n=!0);var a=t.transition,s=t.transitionEnd,l=(0,o.Tt)(t,["transition","transitionEnd"]),u=function(e,t,r){var n,i,o={};for(var a in e)o[a]=null!==(n=function(e,t){if(t)return(t[e]||t.default||t).from}(a,t))&&void 0!==n?n:null===(i=r.getValue(a))||void 0===i?void 0:i.get();return o}(l,a||{},e);if(i&&(s&&(s=i(s)),l&&(l=i(l)),u&&(u=i(u))),n){!function(e,t,r){var n,i,o,a=Object.keys(t).filter(function(t){return!e.hasValue(t)}),s=a.length;if(s)for(var l=0;l<s;l++){var u,c,h,d=a[l],f=t[d],p=null;Array.isArray(f)&&(p=f[0]),null===p&&(p=null!==(i=null!==(n=r[d])&&void 0!==n?n:e.readValue(d))&&void 0!==i?i:t[d]),null!=p&&("string"==typeof p&&(u=p,/^\-?\d*\.?\d+$/.test(u)||(c=p,/^0[^.\s]+$/.test(c)))?p=parseFloat(p):(h=p,!r7.find(r6(h))&&tF.test(f)&&(p=rW(d,f))),e.addValue(d,r5(p)),null!==(o=r[d])&&void 0!==o||(r[d]=p),e.setBaseTarget(d,p))}}(e,l,u);var c=ii(e,l,u,s);s=c.transitionEnd,l=c.target}return(0,o.Cl)({transition:a,transitionEnd:s},l)},scrapeMotionValuesFromProps:ek,build:function(e,t,r,n,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),ep(t,r,n,i.transformTemplate)},render:eC},ia=nK(io),is=nK((0,o.Cl)((0,o.Cl)({},io),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var r;return H(t)?(null===(r=r$(t))||void 0===r?void 0:r.default)||0:(t=eA.has(t)?t:eP(t),e.getAttribute(t))},scrapeMotionValuesFromProps:eO,build:function(e,t,r,n,i){eS(t,r,n,i.transformTemplate)},render:eM})),il=function(e,t){return B(e)?is(t,{enableHardwareAcceleration:!1}):ia(t,{enableHardwareAcceleration:!0})};function iu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var ic={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!eo.test(e))return e;e=parseFloat(e)}var r=iu(e,t.target.x),n=iu(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},ih="_$css",id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.visualElement,n=t.layoutGroup,i=t.switchLayoutGroup,a=t.layoutId,s=r.projection;Object.assign(F,ip),s&&((null==n?void 0:n.group)&&n.group.add(s),(null==i?void 0:i.register)&&a&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",function(){e.safeToRemove()}),s.setOptions((0,o.Cl)((0,o.Cl)({},s.options),{onExitComplete:function(){return e.safeToRemove()}}))),I.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,r=this.props,n=r.layoutDependency,i=r.visualElement,o=r.drag,a=r.isPresent,s=i.projection;return s&&(s.isPresent=a,o||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent===a||(a?s.promote():s.relegate()||rg.postRender(function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,r=e.layoutGroup,n=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==r?void 0:r.group)&&r.group.remove(i),(null==n?void 0:n.deregister)&&n.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(a.Component),ip={borderRadius:(0,o.Cl)((0,o.Cl)({},ic),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ic,borderTopRightRadius:ic,borderBottomLeftRadius:ic,borderBottomRightRadius:ic,boxShadow:{correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(n0,function(e){return a.push(e),ih}));var s=tF.parse(e);if(s.length>5)return i;var l=tF.createTransformer(e),u=+("number"!=typeof s[0]),c=n.x.scale*r.x,h=n.y.scale*r.y;s[0+u]/=c,s[1+u]/=h;var d=ty(c,h,.5);"number"==typeof s[2+u]&&(s[2+u]/=d),"number"==typeof s[3+u]&&(s[3+u]/=d);var f=l(s);if(o){var p=0;f=f.replace(ih,function(){var e=a[p];return p++,e})}return f}}},im=["TopLeft","TopRight","BottomLeft","BottomRight"],ig=im.length,iy=function(e){return"string"==typeof e?parseFloat(e):e},iv=function(e){return"number"==typeof e||eo.test(e)};function ib(e,t){var r;return null!==(r=e[t])&&void 0!==r?r:e.borderRadius}var i_=iw(0,.5,t5),ix=iw(.5,.95,tJ);function iw(e,t,r){return function(n){return n<e?0:n>t?1:r(tg(e,t,n))}}function iS(e,t){e.min=t.min,e.max=t.max}function iT(e,t){iS(e.x,t.x),iS(e.y,t.y)}function iE(e,t,r,n,i){return e-=t,e=n+1/r*(e-n),void 0!==i&&(e=n+1/i*(e-n)),e}function iP(e,t,r,n,i){var a=(0,o.zs)(r,3),s=a[0],l=a[1],u=a[2];!function(e,t,r,n,i,o,a){if(void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===o&&(o=e),void 0===a&&(a=e),ei.test(t)&&(t=parseFloat(t),t=ty(a.min,a.max,t/100)-a.min),"number"==typeof t){var s=ty(o.min,o.max,n);e===o&&(s-=t),e.min=iE(e.min,t,r,s,i),e.max=iE(e.max,t,r,s,i)}}(e,t[s],t[l],t[u],t.scale,n,i)}var iC=["x","scaleX","originX"],iA=["y","scaleY","originY"];function iM(e,t,r,n){iP(e.x,t,iC,null==r?void 0:r.x,null==n?void 0:n.x),iP(e.y,t,iA,null==r?void 0:r.y,null==n?void 0:n.y)}function ik(e){return 0===e.translate&&1===e.scale}function iO(e){return ik(e.x)&&ik(e.y)}function iI(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var iR=function(){function e(){this.members=[]}return e.prototype.add=function(e){r0(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(r1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,r=this.members.findIndex(function(t){return e===t});if(0===r)return!1;for(var n=r;n>=0;n--){var i=this.members[n];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var r,n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues,e.snapshot.isShared=!0),(null===(r=e.root)||void 0===r?void 0:r.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,r,n,i,o;null===(r=(t=e.options).onExitComplete)||void 0===r||r.call(t),null===(o=null===(n=e.resumingFrom)||void 0===n?void 0:(i=n.options).onExitComplete)||void 0===o||o.call(i)})},e.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();function iD(e,t,r){var n=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(n,"px, ").concat(i,"px, 0) ");if(o+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),r){var a=r.rotate,s=r.rotateX,l=r.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),l&&(o+="rotateY(".concat(l,"deg) "))}var u=e.x.scale*t.x,c=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(o+="scale(".concat(u,", ").concat(c,")"))?"none":o}var iL=function(e,t){return e.depth-t.depth},ij=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){r0(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){r1(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(iL),this.isDirty=!1,this.children.forEach(e)},e}();function iz(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=null==r?void 0:r()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(iH),i.nodes.forEach(iq)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?(0,o.fX)((0,o.fX)([],(0,o.zs)(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new ij)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new r2),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.eventHandlers.get(e);null==n||n.notify.apply(n,(0,o.fX)([],(0,o.zs)(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,r){var n=this;if(void 0===r&&(r=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,a=i.layoutId,s=i.layout,l=i.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(u=this.parent)||void 0===u||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),r&&(s||a)&&(this.isLayoutDirty=!0),t){var u,c,h=function(){return n.root.updateBlockedByResize=!1};t(e,function(){n.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(h,250),I.hasAnimatedSinceResize&&(I.hasAnimatedSinceResize=!1,n.nodes.forEach(iG))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&l&&(a||s)&&this.addEventListener("didUpdate",function(e){var t,r,i,a,s,u=e.delta,c=e.hasLayoutChanged,h=e.hasRelativeTargetChanged,d=e.layout;if(n.isTreeAnimationBlocked()){n.target=void 0,n.relativeTarget=void 0;return}var f=null!==(r=null!==(t=n.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==r?r:iY,p=l.getProps(),m=p.onLayoutAnimationStart,g=p.onLayoutAnimationComplete,y=!n.targetLayout||!iI(n.targetLayout,d)||h,v=!c&&h;if((null===(i=n.resumeFrom)||void 0===i?void 0:i.instance)||v||c&&(y||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(u,v);var b=(0,o.Cl)((0,o.Cl)({},rQ(f,"layout")),{onPlay:m,onComplete:g});l.shouldReduceMotion&&(b.delay=0,b.type=!1),n.startAnimation(b)}else c||0!==n.animationProgress||n.finishAnimation(),n.isLead()&&(null===(s=(a=n.options).onExitComplete)||void 0===s||s.call(a));n.targetLayout=d})}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,ry.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(i$))},e.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked()){null===(r=(t=this.options).onExitComplete)||void 0===r||r.call(t);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t,r,n,i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,l=a.layout;if(void 0!==s||l){var u=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null==u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iV);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(iQ),this.potentialNodes.clear()),this.nodes.forEach(iU),this.nodes.forEach(iB),this.nodes.forEach(iF),this.clearAllSnapshots(),rv.update(),rv.preRender(),rv.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(iN),this.sharedNodes.forEach(iW)},e.prototype.scheduleUpdateProjection=function(){rg.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;rg.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));i0(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e,t=0;t<this.path.length;t++)this.path[t].updateScroll();var r=this.measure();i0(r);var n=this.layout;this.layout={measured:r,actual:this.removeElementScroll(r)},this.layoutCorrected=nk(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=n(this.instance))},e.prototype.resetTransform=function(){if(a){var e,t=this.isLayoutDirty||this.shouldResetTransform,r=this.projectionDelta&&!iO(this.projectionDelta),n=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null==n?void 0:n(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(r||nL(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return nk();var t=e.measureViewportBox(),r=this.root.scroll;return r&&(nF(t.x,r.x),nF(t.y,r.y)),t},e.prototype.removeElementScroll=function(e){var t=nk();iT(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r],i=n.scroll,o=n.options,a=n.isScrollRoot;if(n!==this.root&&i&&o.layoutScroll){if(a){iT(t,e);var s=this.root.scroll;s&&(nF(t.x,-s.x),nF(t.y,-s.y))}nF(t.x,i.x),nF(t.y,i.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var r=nk();iT(r,e);for(var n=0;n<this.path.length;n++){var i=this.path[n];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nG(r,{x:-i.scroll.x,y:-i.scroll.y}),nL(i.latestValues)&&nG(r,i.latestValues)}return nL(this.latestValues)&&nG(r,this.latestValues),r},e.prototype.removeTransform=function(e){var t,r=nk();iT(r,e);for(var n=0;n<this.path.length;n++){var i=this.path[n];if(i.instance&&nL(i.latestValues)){nD(i.latestValues)&&i.updateSnapshot();var o=nk();iT(o,i.measure()),iM(r,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return nL(this.latestValues)&&iM(r,this.latestValues),r},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,r,n,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=nk(),this.relativeTargetOrigin=nk(),nw(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),iT(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=nk(),this.targetWithTransforms=nk()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(n=this.relativeParent)||void 0===n?void 0:n.target))?(e=this.target,t=this.relativeTarget,r=this.relativeParent.target,n_(e.x,t.x,r.x),n_(e.y,t.y,r.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):iT(this.target,this.layout.actual),nB(this.target,this.targetDelta)):iT(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=nk(),this.relativeTargetOrigin=nk(),nw(this.relativeTargetOrigin,this.target,this.relativeParent.target),iT(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(!(!this.parent||nL(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,r=t.layout,n=t.layoutId;if(this.isTreeAnimating=!!((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(r||n)){var i=this.getLead();iT(this.layoutCorrected,this.layout.actual),function(e,t,r,n){void 0===n&&(n=!1);var i,o,a,s,l=r.length;if(l){t.x=t.y=1;for(var u=0;u<l;u++)s=(a=r[u]).projectionDelta,(null===(o=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)!=="contents"&&(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&nG(e,{x:-a.scroll.x,y:-a.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,nB(e,s)),n&&nL(a.latestValues)&&nG(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta=nA(),this.projectionDeltaWithTransform=nA());var a=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;nb(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=iD(this.projectionDelta,this.treeScale),(this.projectionTransform!==l||this.treeScale.x!==a||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,r,n;void 0===e&&(e=!0),null===(r=(t=this.options).scheduleRender)||void 0===r||r.call(t),e&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var r,n=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null==i?void 0:i.latestValues)||{},s=(0,o.Cl)({},this.latestValues),l=nA();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u=nk(),c=null==i?void 0:i.isShared,h=1>=((null===(r=this.getStack())||void 0===r?void 0:r.members.length)||0),d=!!(c&&!h&&!0===this.options.crossfade&&!this.path.some(iK));this.animationProgress=0,this.mixTargetDelta=function(t){var r,i,o,f=t/1e3;iX(l.x,e.x,f),iX(l.y,e.y,f),n.setTargetDelta(l),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(o=n.relativeParent)||void 0===o?void 0:o.layout)&&(nw(u,n.layout.actual,n.relativeParent.layout.actual),r=n.relativeTarget,i=n.relativeTargetOrigin,iZ(r.x,i.x,u.x,f),iZ(r.y,i.y,u.y,f)),c&&(n.animationValues=s,function(e,t,r,n,i,o){var a,s,l,u;i?(e.opacity=ty(0,null!==(a=r.opacity)&&void 0!==a?a:1,i_(n)),e.opacityExit=ty(null!==(s=t.opacity)&&void 0!==s?s:1,0,ix(n))):o&&(e.opacity=ty(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=r.opacity)&&void 0!==u?u:1,n));for(var c=0;c<ig;c++){var h="border".concat(im[c],"Radius"),d=ib(t,h),f=ib(r,h);(void 0!==d||void 0!==f)&&(d||(d=0),f||(f=0),0===d||0===f||iv(d)===iv(f)?(e[h]=Math.max(ty(iy(d),iy(f),n),0),(ei.test(f)||ei.test(d))&&(e[h]+="%")):e[h]=f)}(t.rotate||r.rotate)&&(e.rotate=ty(t.rotate||0,r.rotate||0,n))}(s,a,n.latestValues,f,d,h)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=f},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,r,n=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(r=this.resumingFrom.currentAnimation)||void 0===r||r.stop()),this.pendingAnimation&&(ry.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rg.update(function(){var t,r;I.hasAnimatedSinceResize=!0,n.currentAnimation=(void 0===(t=(0,o.Cl)((0,o.Cl)({},e),{onUpdate:function(t){var r;n.mixTargetDelta(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),n.completeAnimation()}}))&&(t={}),rJ("",r=W(0)?0:r5(0),1e3,t),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}),n.resumingFrom&&(n.resumingFrom.currentAnimation=n.currentAnimation),n.pendingAnimation=void 0})},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,r=e.target,n=e.layout,i=e.latestValues;t&&r&&n&&(iT(t,r),nG(t,i),nb(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var r,n,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new iR),this.sharedNodes.get(e).add(t),t.promote({transition:null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.transition,preserveFollowOpacity:null===(i=null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(n,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,r=t.needsReset,n=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),r&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,r={},n=0;n<N.length;n++){var i="rotate"+N[n];e.getStaticValue(i)&&(t=!0,r[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),r)e.setStaticValue(i,r[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){void 0===e&&(e={});var t,r,n,i,o,a,s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=eL(e.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!==(r=this.latestValues.opacity)&&void 0!==r?r:1,c.pointerEvents=eL(e.pointerEvents)||""),this.hasProjected&&!nL(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=iD(this.projectionDeltaWithTransform,this.treeScale,h),l&&(s.transform=l(h,s.transform));var d=this.projectionDelta,f=d.x,p=d.y;for(var m in s.transformOrigin="".concat(100*f.origin,"% ").concat(100*p.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(i=null!==(n=h.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=u===this?null!==(o=h.opacity)&&void 0!==o?o:"":null!==(a=h.opacityExit)&&void 0!==a?a:0,F)if(void 0!==h[m]){var g=F[m],y=g.correct,v=g.applyTo,b=y(h[m],u);if(v)for(var _=v.length,x=0;x<_;x++)s[v[x]]=b;else s[m]=b}return this.options.layoutId&&(s.pointerEvents=u===this?eL(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach(function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(iV),this.root.sharedNodes.clear()},e}()}function iB(e){e.updateLayout()}function iF(e){var t,r,n,i,o=null!==(r=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==r?r:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,l=a.measured;"size"===e.options.animationType?nO(function(e){var t=o.isShared?o.measured[e]:o.layout[e],r=ng(t);t.min=s[e].min,t.max=t.min+r}):"position"===e.options.animationType&&nO(function(e){var t=o.isShared?o.measured[e]:o.layout[e],r=ng(s[e]);t.max=t.min+r});var u=nA();nb(u,s,o.layout);var c=nA();o.isShared?nb(c,e.applyTransform(l,!0),o.measured):nb(c,s,o.layout);var h=!iO(u),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var f=e.relativeParent,p=f.snapshot,m=f.layout;if(p&&m){var g=nk();nw(g,o.layout,p.layout);var y=nk();nw(y,s,m.actual),iI(g,y)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(i=(n=e.options).onExitComplete)||void 0===i||i.call(n));e.options.transition=void 0}function iN(e){e.clearSnapshot()}function iV(e){e.clearMeasurements()}function iU(e){var t=e.options.visualElement;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function iG(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function iH(e){e.resolveTargetDelta()}function iq(e){e.calcProjection()}function i$(e){e.resetRotation()}function iW(e){e.removeLeadSnapshot()}function iX(e,t,r){e.translate=ty(t.translate,0,r),e.scale=ty(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function iZ(e,t,r,n){e.min=ty(t.min,r.min,n),e.max=ty(t.max,r.max,n)}function iK(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var iY={duration:.45,ease:[.4,0,.1,1]};function iQ(e,t){for(var r=e.root,n=e.path.length-1;n>=0;n--)if(e.path[n].instance){r=e.path[n];break}var i=(r&&r!==e.root?r.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function iJ(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function i0(e){iJ(e.x),iJ(e.y)}var i1=iz({attachResizeListener:function(e,t){return eN(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),i2={current:void 0},i3=iz({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!i2.current){var e=new i1(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),i2.current=e}return i2.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"},checkIsScrollRoot:function(e){return"fixed"===window.getComputedStyle(e).position}}),i5=(0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)({},na),ti),nX),{measureLayout:function(e){var t=(0,o.zs)(ts(),2),r=t[0],n=t[1],i=(0,a.useContext)(D);return a.createElement(id,(0,o.Cl)({},e,{layoutGroup:i,switchLayoutGroup:(0,a.useContext)(L),isPresent:r,safeToRemove:n}))}}),i6=function(e){function t(t,r){var n,i,s,u,h,T,P;return void 0===r&&(r={}),i=(n=e(t,r)).preloadedFeatures,s=n.createVisualElement,u=n.projectionNodeConstructor,h=n.useRender,T=n.useVisualState,P=n.Component,i&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?c.projectionNodeConstructor=e[t]:c[t].Component=e[t])}(i),(0,a.forwardRef)(function(e,t){var r,n,C,M,z,B,F,N,V,U,G,H,q,$,W,X,Z,K,Y,Q,J,ee,et,er,en,ei,eo,ea=(H=e.layoutId,(q=null===(G=(0,a.useContext)(D))||void 0===G?void 0:G.id)&&void 0!==H?q+"-"+H:H);e=(0,o.Cl)((0,o.Cl)({},e),{layoutId:ea});var es=(0,a.useContext)(g),el=null,eu=(W=($=function(e,t){if(A(e)){var r=e.initial,n=e.animate;return{initial:!1===r||E(r)?r:void 0,animate:E(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(y))).initial,X=$.animate,(0,a.useMemo)(function(){return{initial:W,animate:X}},[k(W),k(X)])),ec=es.isStatic?void 0:O(function(){if(I.hasEverUpdated)return R++}),eh=T(e,es.isStatic);return!es.isStatic&&b&&(eu.visualElement=(Z=(0,o.Cl)((0,o.Cl)({},es),e),K=s,Y=(0,a.useContext)(f),Q=(0,a.useContext)(y).visualElement,J=(0,a.useContext)(v),w||function(){if(w=!0,b){if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return x.current=e.matches};e.addListener(t),t()}else x.current=!1}}(),ee=(0,o.zs)((0,a.useState)(x.current),1)[0],er="never"!==(et=(0,a.useContext)(g).reducedMotion)&&("always"===et||ee),en=(0,a.useRef)(void 0),K||(K=Y.renderer),!en.current&&K&&(en.current=K(P,{visualState:eh,parent:Q,props:Z,presenceId:null==J?void 0:J.id,blockInitialAnimation:(null==J?void 0:J.initial)===!1,shouldReduceMotion:er})),ei=en.current,_(function(){null==ei||ei.syncRender()}),(0,a.useEffect)(function(){var e;null===(e=null==ei?void 0:ei.animationState)||void 0===e||e.animateChanges()}),_(function(){return function(){return null==ei?void 0:ei.notifyUnmount()}},[]),ei),r=e,n=eu.visualElement,C=u||c.projectionNodeConstructor,z=r.layoutId,B=r.layout,F=r.drag,N=r.dragConstraints,V=r.layoutScroll,U=(0,a.useContext)(L),!C||!n||(null==n?void 0:n.projection)||(n.projection=new C(ec,n.getLatestValues(),null===(M=n.parent)||void 0===M?void 0:M.projection),n.projection.setOptions({layoutId:z,layout:B,alwaysMeasureLayout:!!F||N&&S(N),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof B?B:"both",initialPromotionConfig:U,layoutScroll:V})),el=function(e,t,r){var n=[],i=(0,a.useContext)(f);if(!t)return null;"production"!==l&&r&&i.strict&&d(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var s=0;s<m;s++){var u=p[s],h=c[u],g=h.isEnabled,y=h.Component;g(e)&&y&&n.push(a.createElement(y,(0,o.Cl)({key:u},e,{visualElement:t})))}return n}(e,eu.visualElement,i)),a.createElement(j,{visualElement:eu.visualElement,props:(0,o.Cl)((0,o.Cl)({},es),e)},el,a.createElement(y.Provider,{value:eu},h(P,e,ec,(eo=eu.visualElement,(0,a.useCallback)(function(e){var r;e&&(null===(r=eh.mount)||void 0===r||r.call(eh,e)),eo&&(e?eo.mount(e):eo.unmount()),t&&("function"==typeof t?t(e):S(t)&&(t.current=e))},[eo])),eh,es.isStatic,eu.visualElement)))})}if("undefined"==typeof Proxy)return t;var r=new Map;return new Proxy(t,{get:function(e,n){return r.has(n)||r.set(n,t(n)),r.get(n)}})}(function(e,t){var r,n,i;return r=t.forwardMotionProps,n=B(e)?eB:eF,(0,o.Cl)((0,o.Cl)({},n),{preloadedFeatures:i5,useRender:(void 0===(i=void 0!==r&&r)&&(i=!1),function(e,t,r,n,s,l){var u=s.latestValues,c=(B(e)?function(e,t){var r=(0,a.useMemo)(function(){var r=eT();return eS(r,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,o.Cl)((0,o.Cl)({},r.attrs),{style:(0,o.Cl)({},r.style)})},[t]);if(e.style){var n={};eg(n,e.style,e),r.style=(0,o.Cl)((0,o.Cl)({},n),r.style)}return r}:function(e,t,r){var n,i,s={},l=(eg(n={},e.style||{},e),Object.assign(n,(i=e.transformTemplate,(0,a.useMemo)(function(){var e=em();ep(e,t,{enableHardwareAcceleration:!r},i);var n=e.vars,a=e.style;return(0,o.Cl)((0,o.Cl)({},n),a)},[t]))),e.transformValues&&(n=e.transformValues(n)),n);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),s.style=l,s})(t,u,l),h=function(e,t,r){var n={};for(var i in e)(eb(i)||!0===r&&ev(i)||!t&&!ev(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}(t,"string"==typeof e,i),d=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},h),c),{ref:n});return r&&(d["data-projection-id"]=r),(0,a.createElement)(e,d)}),createVisualElement:il,projectionNodeConstructor:i3,Component:e})})},12240:(e,t,r)=>{"use strict";r.d(t,{A:()=>eN});var n=r(16443);class i{static setup(e={}){i.options=e}static get(){return i.options||{}}static clear(){i.options={},i.errorCallback=null}static onError(e){i.errorCallback=e}static sendError(e){i.errorCallback&&e&&i.errorCallback(e)}}i.errorCallback=null,i.defaultOptions={live:!1,logLevel:"error",host:"https://api.radar.io",version:"v1",debug:!1};let o={none:0,error:1,warn:2,info:3,debug:4},a=()=>{if(window&&window.RADAR_TEST_ENV)return o.none;let{logLevel:e,debug:t}=i.get();return t?o.debug:e?o[e]:o.error};class s{static debug(e,t){a()===o.debug&&console.log(`Radar SDK (debug): ${e.trim()}`,t)}static info(e){a()>=o.info&&console.log(`Radar SDK: ${e.trim()}`)}static warn(e){a()>=o.warn&&console.warn(`Radar SDK: ${e.trim()}`)}static error(e){a()>=o.error&&console.error(`Radar SDK: ${e.trim()}`)}}class l{static get USER_ID(){return"radar-userId"}static get DEVICE_ID(){return"radar-deviceId"}static get INSTALL_ID(){return"radar-installId"}static get SESSION_ID(){return"radar-sessionId"}static get DESCRIPTION(){return"radar-description"}static get METADATA(){return"radar-metadata"}static get CACHED_LOCATION(){return"radar-cached-location"}static get TRIP_OPTIONS(){return"radar-trip-options"}static get PRODUCT(){return"radar-product"}static getStorage(){let e=null==window?void 0:window.localStorage;return e||s.warn("localStorage not available."),e}static setItem(e,t){let r=this.getStorage();r&&null!=t&&r.setItem(e,t)}static getItem(e){let t=this.getStorage();if(!t)return null;let r=t.getItem(e);return null!=r?r:null}static getJSON(e){let t=this.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(t){return s.warn(`could not getJSON from storage for key: ${e}`),null}}static removeItem(e){let t=this.getStorage();if(!t)return null;t.removeItem(e)}static clear(){let e=this.getStorage();if(!e)return null;e.clear()}}function u(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}class c extends Error{constructor(e){super(e),this.status=""}}class h extends c{constructor(e){super(e),this.name="RadarPublishableKeyError",this.status="ERROR_PUBLISHABLE_KEY"}}class d extends c{constructor(e){super(e),this.name="RadarLocationError",this.status="ERROR_LOCATION"}}class f extends c{constructor(e){super(e),this.name="RadarPermissionsError",this.status="ERROR_PERMISSIONS"}}class p extends c{constructor(){super("Radar Verify app not running."),this.name="RadarVerifyAppError",this.status="ERROR_VERIFY_APP"}}class m extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Bad request."),this.name="RadarBadRequestError",this.code=400,this.response=e,this.status="ERROR_BAD_REQUEST"}}class g extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Unauthorized."),this.name="RadarUnauthorizedError",this.code=401,this.response=e,this.status="ERROR_UNAUTHORIZED"}}class y extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Payment required."),this.name="RadarPaymentRequiredError",this.code=402,this.response=e,this.status="ERROR_PAYMENT_REQUIRED"}}class v extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Forbidden."),this.name="RadarForbiddenError",this.code=403,this.response=e,this.status="ERROR_FORBIDDEN"}}class b extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Not found."),this.name="RadarNotFoundError",this.code=404,this.response=e,this.status="ERROR_NOT_FOUND"}}class _ extends c{constructor(e){var t,r;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Rate limit exceeded."),this.name="RadarRateLimitError",this.code=429,this.response=e,this.type=null===(r=null==e?void 0:e.meta)||void 0===r?void 0:r.type,this.status="ERROR_RATE_LIMIT"}}class x extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Internal server error."),this.name="RadarServerError",this.response=e,this.status="ERROR_SERVER"}}class w extends c{constructor(){super("Request timed out."),this.name="RadarNetworkError",this.status="ERROR_NETWORK"}}class S extends c{constructor(e){var t;super((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.message)||"Something went wrong."),this.name="RadarUnknownError",this.response=e,this.status="ERROR_UNKNOWN"}}class T extends c{constructor(e){super(e),this.name="RadarAutocompleteContainerNotFound",this.status="CONTAINER_NOT_FOUND"}}let E={maximumAge:0,timeout:1e4,enableHighAccuracy:!0},P=e=>"high"===e;class C{static getCurrentPosition(e={}){return u(this,void 0,void 0,function*(){return new Promise((t,r)=>{let n=i.get();if(!navigator||!navigator.geolocation)return r(new d("navigator.geolocation is not available."));if(n.cacheLocationMinutes)try{let e=l.getItem(l.CACHED_LOCATION);if(e){let{latitude:r,longitude:n,accuracy:i,expiresAt:o}=JSON.parse(e)||{};if(Date.now()<parseInt(o)&&r&&n&&i)return t({latitude:r,longitude:n,accuracy:i})}}catch(e){s.warn("could not load cached location.")}let o=Object.assign({},E);void 0!==n.locationMaximumAge&&(o.maximumAge=n.locationMaximumAge),void 0!==n.locationTimeout&&(o.timeout=n.locationTimeout),void 0!==n.desiredAccuracy&&(o.enableHighAccuracy=P(n.desiredAccuracy)),void 0!==e.desiredAccuracy&&(o.enableHighAccuracy=P(e.desiredAccuracy)),s.info(`Using geolocation options: ${JSON.stringify(o)}`),navigator.geolocation.getCurrentPosition(e=>{if(!e||!e.coords)return r(new d("device location return empty coordinates."));let{latitude:i,longitude:o,accuracy:a}=e.coords;if(n.cacheLocationMinutes){let e=Number.parseFloat(n.cacheLocationMinutes),t=Date.now();l.setItem(l.CACHED_LOCATION,JSON.stringify({latitude:i,longitude:o,accuracy:a,updatedAt:t,expiresAt:t+6e4*e}))}return t({latitude:i,longitude:o,accuracy:a})},e=>e&&1===e.code?r(new f("Location permissions denied.")):r(new d("Could not determine location.")),o)})})}static getPermissionStatus(){return u(this,void 0,void 0,function*(){return new Promise(e=>{let t="NOT_DETERMINED";if(!navigator||!navigator.permissions)return e(t);navigator.permissions.query({name:"geolocation"}).then(r=>{switch(r.state){case"granted":t="GRANTED_FOREGROUND";break;case"denied":t="DENIED";break;case"prompt":t="NOT_DETERMINED"}return e(t)})})})}static online(){return navigator&&navigator.onLine}}var A="4.5.5";let M=new Map;class k{static request({method:e,path:t,data:r,host:n,version:o,headers:a={},responseType:l,requestId:c}){return u(this,void 0,void 0,function*(){return new Promise((u,T)=>{let E=i.get(),P=E.publishableKey;if(!P){T(new h("publishableKey not set."));return}let k=n||E.host,O=o||E.version,I=`${k}/${O}/${t}`,R={};if(Object.keys(r||{}).forEach(e=>{let t=r[e];void 0!==t&&(R[e]=t)}),"GET"===e){let e=Object.keys(R).map(e=>`${e}=${encodeURIComponent(R[e])}`);if(e.length>0){let t=e.join("&");I=`${I}?${t}`}R=void 0}if(c){let e=M.get(c);e&&e.abort()}let D=new XMLHttpRequest;D.open(e,I,!0),c&&M.set(c,D);let L={};"function"==typeof E.getRequestHeaders&&(L=E.getRequestHeaders());let j=Object.assign({Authorization:P,"Content-Type":"application/json","X-Radar-Device-Type":"Web","X-Radar-SDK-Version":A},L,a);Object.keys(j).forEach(e=>{D.setRequestHeader(e,j[e])}),l&&(D.responseType=l),D.onload=()=>{var e;let t;c&&M.delete(c);try{t="blob"===D.responseType?{code:D.status,data:D.response}:JSON.parse(D.response)}catch(e){return T(new x(t))}let r=null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.error;return"ERROR_PERMISSIONS"===r?T(new f("Location permissions not granted.")):"ERROR_LOCATION"===r?T(new d("Could not determine location.")):"ERROR_NETWORK"===r?T(new w):200==D.status?u(t):void(E.debug&&(s.debug(`API call failed: ${I}`),s.debug(JSON.stringify(t))),400===D.status?T(new m(t)):401===D.status?T(new g(t)):402===D.status?T(new y(t)):403===D.status?T(new v(t)):404===D.status?T(new b(t)):429===D.status?T(new _(t)):500<=D.status&&D.status<600?T(new x(t)):T(new S(t)))},D.onerror=function(){n&&("http://localhost:52516"===n||"https://radar-verify.com:52516"===n)?T(C.online()?new p:new w):T(new w)},D.ontimeout=function(){n&&("http://localhost:52516"===n||"https://radar-verify.com:52516"===n)?T(C.online()?new p:new w):T(new w)},D.send(JSON.stringify(R))})})}}class O{static validateAddress(e){return u(this,void 0,void 0,function*(){let t=i.get(),r=yield k.request({method:"GET",path:"addresses/validate",data:e}),{address:n,result:o}=r,a={address:n,result:o};return t.debug&&(a.response=r),a})}}let I=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)});class R{static getDeviceId(){let e=l.getItem(l.DEVICE_ID);if(e)return e;let t=I();return l.setItem(l.DEVICE_ID,t),t}static getInstallId(){let e=l.getItem(l.INSTALL_ID);if(e)return e;let t=I();return l.setItem(l.INSTALL_ID,t),t}}let D=e=>300>Math.abs(Math.trunc(Date.now()/1e3)-Number.parseInt(e));class L{static getSessionId(){let e=l.getItem(l.SESSION_ID);if(e&&D(e))return e;let t=Math.trunc(Date.now()/1e3).toString();return l.setItem(l.SESSION_ID,t),t}}class j{static getConfig(e={}){return u(this,void 0,void 0,function*(){let t;if("v1"!=i.get().version){s.info("Skipping /config call.");return}let r=e.deviceId||R.getDeviceId(),n=e.installId||R.getInstallId(),o=L.getSessionId();try{t=yield C.getPermissionStatus()}catch(e){s.warn(`Location authorization error: ${e.message}`)}let a={deviceId:r,installId:n,sessionId:o,locationAuthorization:t};try{yield k.request({method:"GET",path:"config",data:a})}catch(e){s.warn(`Error calling /config: ${e.message}`)}})}}class z{static getContext(e){return u(this,void 0,void 0,function*(){let t=i.get();e.latitude&&e.longitude||(e=yield C.getCurrentPosition());let{latitude:r,longitude:n,accuracy:o}=e,a=yield k.request({method:"GET",path:"context",data:{coordinates:`${r},${n}`,accuracy:o}}),{geofences:s,place:l,country:u,state:c,dma:h,postalCode:d}=a,f={location:e,geofences:s,place:l,country:u,state:c,dma:h,postalCode:d};return t.debug&&(f.response=a),f})}}class B{static logConversion(e){return u(this,void 0,void 0,function*(){let t=i.get(),r=e.name,n=e.userId||l.getItem(l.USER_ID),o=e.deviceId||R.getDeviceId(),a=e.installId||R.getInstallId(),s=e.metadata||{},u=e.createdAt;e.revenue&&(s.revenue=e.revenue);let c={name:r,userId:n,deviceId:o,installId:a,metadata:s};"string"==typeof u?c.createdAt=u:u instanceof Date?c.createdAt=u.toISOString():c.createdAt=new Date().toISOString();let h=yield k.request({method:"POST",path:"events",data:c}),d={event:h.event};return t.debug&&(d.response=h),d})}}class F{static forwardGeocode(e){return u(this,void 0,void 0,function*(){let t=i.get(),{query:r,layers:n,country:o,lang:a}=e,s=yield k.request({method:"GET",path:"geocode/forward",data:{query:r,layers:n,country:o,lang:a}}),l={addresses:s.addresses};return t.debug&&(l.response=s),l})}static reverseGeocode(e){return u(this,void 0,void 0,function*(){let t=i.get(),{latitude:r,longitude:n,layers:o}=e;if(!r||!n){let e=yield C.getCurrentPosition();r=e.latitude,n=e.longitude}let a=yield k.request({method:"GET",path:"geocode/reverse",data:{coordinates:`${r},${n}`,layers:o}}),s={addresses:a.addresses};return t.debug&&(s.response=a),s})}static ipGeocode(){return u(this,void 0,void 0,function*(){let e=i.get(),t=yield k.request({method:"GET",path:"geocode/ip"}),r={ip:t.ip,address:t.address,proxy:t.proxy};return e.debug&&(r.response=t),r})}}class N{static distance(e){return u(this,void 0,void 0,function*(){let t=i.get(),{origin:r,destination:n,modes:o,units:a,geometry:s,geometryPoints:l,avoid:u}=e;if(r){if("string"!=typeof r){let{latitude:e,longitude:t}=r;r=`${e},${t}`}}else{let{latitude:e,longitude:t}=yield C.getCurrentPosition();r=`${e},${t}`}if("string"!=typeof n){let{latitude:e,longitude:t}=n;n=`${e},${t}`}Array.isArray(o)&&(o=o.join(",")),Array.isArray(u)&&(u=u.join(","));let c=yield k.request({method:"GET",path:"route/distance",data:{origin:r,destination:n,modes:o,units:a,geometry:s,geometryPoints:l,avoid:u}}),h={routes:c.routes};return t.debug&&(h.response=c),h})}static matrix(e){return u(this,void 0,void 0,function*(){let t=i.get(),{origins:r,destinations:n,mode:o,units:a,avoid:s}=e;if(r)Array.isArray(r)&&(r=r.map(e=>`${e.latitude},${e.longitude}`).join("|"));else{let{latitude:e,longitude:t}=yield C.getCurrentPosition(),i=[];for(let r=0;r<n.length;r++)i.push(`${e},${t}`);r=i.join("|")}Array.isArray(n)&&(n=n.map(e=>`${e.latitude},${e.longitude}`).join("|")),Array.isArray(s)&&(s=s.join(","));let l=yield k.request({method:"GET",path:"route/matrix",data:{origins:r,destinations:n,mode:o,units:a,avoid:s}}),u={origins:l.origins,destinations:l.destinations,matrix:l.matrix};return t.debug&&(u.response=l),u})}}class V{static autocomplete(e,t){return u(this,void 0,void 0,function*(){let r=i.get(),{query:n,near:o,limit:a,layers:s,countryCode:l,expandUnits:u,mailable:c,lang:h,postalCode:d}=e;o&&"string"!=typeof o&&o.latitude&&o.longitude&&(o=`${o.latitude},${o.longitude}`);let f=yield k.request({method:"GET",path:"search/autocomplete",data:{query:n,near:o,limit:a,layers:s,countryCode:l,expandUnits:u,mailable:c,lang:h,postalCode:d},requestId:t}),p={addresses:f.addresses};return r.debug&&(p.response=f),p})}static searchGeofences(e){return u(this,void 0,void 0,function*(){let t=i.get(),{near:r,radius:n,tags:o,metadata:a,limit:s,includeGeometry:l}=e;if(r){if("string"!=typeof r){let{latitude:e,longitude:t}=r;r=`${e},${t}`}}else{let{latitude:e,longitude:t}=yield C.getCurrentPosition();r=`${e},${t}`}Array.isArray(o)&&(o=o.join(","));let u=yield k.request({method:"GET",path:"search/geofences",data:{near:r,radius:n,tags:o,metadata:a,limit:s,includeGeometry:l}}),c={geofences:u.geofences};return t.debug&&(c.response=u),c})}static searchPlaces(e){return u(this,void 0,void 0,function*(){let t=i.get(),{near:r,radius:n,chains:o,categories:a,groups:s,limit:l}=e;if(r){if("string"!=typeof r){let{latitude:e,longitude:t}=r;r=`${e},${t}`}}else{let{latitude:e,longitude:t}=yield C.getCurrentPosition();r=`${e},${t}`}Array.isArray(o)&&(o=o.join(",")),Array.isArray(a)&&(a=a.join(",")),Array.isArray(s)&&(s=s.join(","));let u=yield k.request({method:"GET",path:"search/places",data:{near:r,radius:n,chains:o,categories:a,groups:s,limit:l}}),c={places:u.places};return t.debug&&(c.response=u),c})}}let U=e=>e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e);class G{static setTripOptions(e){if(!e){G.clearTripOptions();return}let t=JSON.stringify(e);s.debug(`Saving trip options: ${t}`),l.setItem(l.TRIP_OPTIONS,t)}static getTripOptions(){let e=l.getItem(l.TRIP_OPTIONS);return e&&(e=JSON.parse(e)),e}static clearTripOptions(){l.removeItem(l.TRIP_OPTIONS)}static startTrip(e){return u(this,void 0,void 0,function*(){let t=i.get();(e=e||G.getTripOptions())||s.warn('tripOptions not set when calling "startTrip"');let r=e.userId||l.getItem(l.USER_ID);r&&r!==l.getItem(l.USER_ID)&&l.setItem(l.USER_ID,r);let{externalId:n,destinationGeofenceTag:o,destinationGeofenceExternalId:a,mode:u,metadata:c,approachingThreshold:h,scheduledArrivalAt:d}=e,f={userId:r,externalId:n,destinationGeofenceTag:o,destinationGeofenceExternalId:a,mode:u,metadata:c,approachingThreshold:h};U(d)?f.scheduledArrivalAt=null==d?void 0:d.toJSON():(d&&s.warn("Invalid date format for scheduledArrivalAt"),f.scheduledArrivalAt=void 0);let p=yield k.request({method:"POST",path:"trips",data:f});G.setTripOptions(e);let m={trip:p.trip,events:p.events};return t.debug&&(m.response=p),m})}static updateTrip(e,t){return u(this,void 0,void 0,function*(){let r=i.get();(e=e||G.getTripOptions())||s.warn('tripOptions not set when calling "startTrip"');let{externalId:n,destinationGeofenceTag:o,destinationGeofenceExternalId:a,mode:l,metadata:u,approachingThreshold:c,scheduledArrivalAt:h}=e,d={status:t,externalId:n,destinationGeofenceTag:o,destinationGeofenceExternalId:a,mode:l,metadata:u,approachingThreshold:c};U(h)?d.scheduledArrivalAt=null==h?void 0:h.toJSON():(h&&s.warn("Invalid date format for scheduledArrivalAt"),d.scheduledArrivalAt=void 0);let f=yield k.request({method:"PATCH",path:`trips/${n}/update`,data:d}),p={trip:f.trip,events:f.events};return r.debug&&(p.response=f),p})}static completeTrip(){return u(this,void 0,void 0,function*(){let e=G.getTripOptions(),t=yield G.updateTrip(e,"completed");return G.clearTripOptions(),t})}static cancelTrip(){return u(this,void 0,void 0,function*(){let e=G.getTripOptions(),t=yield G.updateTrip(e,"canceled");return G.clearTripOptions(),t})}}let H=e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),q=(e,t)=>u(void 0,void 0,void 0,function*(){let r=new TextEncoder,n=H(JSON.stringify({alg:"HS256",typ:"JWT"})),i=H(JSON.stringify(e)),o=r.encode(t),a=r.encode(`${n}.${i}`),s=yield crypto.subtle.importKey("raw",o,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),l=H(String.fromCharCode(...Array.from(new Uint8Array((yield crypto.subtle.sign("HMAC",s,a))))));return`${n}.${i}.${l}`});class ${static trackOnce(e){return u(this,void 0,void 0,function*(){let t,r;let n=i.get(),{latitude:o,longitude:a,accuracy:u,desiredAccuracy:c,fraud:h}=e;if(!o||!a){let e=yield C.getCurrentPosition({desiredAccuracy:c});o=e.latitude,a=e.longitude,u=e.accuracy}let d=yield C.getPermissionStatus(),f=e.userId||l.getItem(l.USER_ID),p=e.deviceId||R.getDeviceId(),m=e.installId||R.getInstallId(),g=L.getSessionId(),y=e.deviceType||"Web",v=e.description||l.getItem(l.DESCRIPTION);try{t=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){s.warn(`Error getting time zone: ${e.message}`)}f?l.setItem(l.USER_ID,f):s.warn("userId not provided for trackOnce.");let b=e.metadata||l.getJSON(l.METADATA),_=e.tripOptions||G.getTripOptions();_&&(_.version="2");let x={},w=l.getItem(l.PRODUCT);w&&(x["X-Radar-Product"]=w);let S=Object.assign(Object.assign({},e),{locationAuthorization:d,accuracy:u,description:v,deviceId:p,deviceType:y,foreground:!0,installId:m,sessionId:g,latitude:o,longitude:a,metadata:b,sdkVersion:A,stopped:!0,userId:f,tripOptions:_,timeZone:t});if(h){let e="https://api-verified.radar.io",t=navigator.language,i=navigator.languages,{dk:s}=yield k.request({host:e,method:"GET",path:"config",data:{deviceId:p,installId:m,sessionId:g,locationAuthorization:d},headers:{"X-Radar-Desktop-Device-Type":"Web"}}),l={payload:JSON.stringify(Object.assign(Object.assign({},S),{lang:t,langs:i}))},c=yield q(l,s);x["X-Radar-Body-Is-Token"]="true";let{user:h,events:f,token:y,expiresAt:v,expiresIn:b,passed:_,failureReasons:w,_id:T}=r=yield k.request({host:e,method:"POST",path:"track",data:{token:c},headers:x}),E={latitude:o,longitude:a,accuracy:u};v&&(v=new Date(v));let P={user:h,events:f,location:E,token:y,expiresAt:v,expiresIn:b,passed:_,failureReasons:w,_id:T};return n.debug&&(P.response=r),P}let{user:T,events:E}=r=yield k.request({method:"POST",path:"track",data:S,headers:x}),P={user:T,events:E,location:{latitude:o,longitude:a,accuracy:u}};return n.debug&&(P.response=r),P})}}let W=null,X=!0,Z=null,K=null,Y=0,Q=null,J=null;class ee{static trackVerified(e,t=!1){return u(this,void 0,void 0,function*(){try{let r;let n=i.get(),{skipVerifyApp:o}=e,a=e.userId||l.getItem(l.USER_ID),u=R.getDeviceId(),c=R.getInstallId(),h=L.getSessionId(),d=e.description||l.getItem(l.DESCRIPTION);a?l.setItem(l.USER_ID,a):s.warn("userId not provided for trackVerified.");let f=e.metadata||l.getJSON(l.METADATA);if(o)r=yield $.trackOnce({userId:null!=a?a:void 0,description:null!=d?d:void 0,metadata:f,fraud:!0});else{let i;let o=Object.assign(Object.assign({},e),{description:d,deviceId:u,foreground:!0,installId:c,sessionId:h,metadata:f,sdkVersion:A,stopped:!0,userId:a,encrypted:t,expectedCountryCode:Q,expectedStateCode:J}),s=navigator.userAgent,l=s&&(s.toLowerCase().includes("mac")||s.toLowerCase().includes("iphone")||s.toLowerCase().includes("ipod")||s.toLowerCase().includes("ipad")),p=yield k.request({method:"GET",path:"verify",data:o,host:l?"https://radar-verify.com:52516":"http://localhost:52516"}),{user:m,events:g,token:y,expiresAt:v,expiresIn:b,passed:_,failureReasons:x,_id:w}=p;m&&m.location&&m.location.coordinates&&m.locationAccuracy&&(i={latitude:m.location.coordinates[1],longitude:m.location.coordinates[0],accuracy:m.locationAccuracy}),v&&(v=new Date(v)),r={user:m,events:g,location:i,token:y,expiresAt:v,expiresIn:b,passed:_,failureReasons:x,_id:w},n.debug&&(r.response=p)}return K=r,Y=performance.now(),Z&&Z(r),r}catch(e){throw i.sendError(e),e}})}static startTrackingVerified(e){X=!0;let t=()=>u(this,void 0,void 0,function*(){let{interval:t}=e;t||(t=20);let n=t;if(K){let e=(performance.now()-Y)/1e3;n=Math.min((K.expiresIn||0)-e,t)}(n-=10)<10&&(n=10),W&&clearTimeout(W),X&&(W=setTimeout(r,1e3*n))}),r=()=>u(this,void 0,void 0,function*(){try{yield this.trackVerified(e)}catch(e){s.error(`trackVerified error: ${e.message}`)}t()});this.isLastTokenValid()?t():r()}static stopTrackingVerified(){X=!1,W&&clearTimeout(W)}static getVerifiedLocationToken(e){return u(this,void 0,void 0,function*(){return this.isLastTokenValid()?K:this.trackVerified(e)})}static clearVerifiedLocationToken(){K=null}static isLastTokenValid(){if(!K)return!1;let e=(performance.now()-Y)/1e3;return K.passed&&e<(K.expiresIn||0)}static setExpectedJurisdiction(e,t){Q=e||null,J=t||null}static onTokenUpdated(e){Z=e}}let et=e=>e.includes("_sk_"),er=e=>e.includes("_live_"),en=class{static get VERSION(){return A}static initialize(e,t={}){if(!e)throw new h("Publishable key required in initialization.");if(et(e))throw new h("Secret keys are not allowed. Please use your Radar publishable key.");let r=er(e),n=Object.assign(i.defaultOptions,{publishableKey:e,live:r,logLevel:r?"error":"info",debug:!r},t);i.setup(n),s.info(`initialized with ${r?"live":"test"} publishableKey.`),t.debug&&s.debug("using options",t),(null==window?void 0:window.RADAR_TEST_ENV)||j.getConfig()}static clear(){i.clear()}static setUserId(e){if(!e){l.removeItem(l.USER_ID);return}l.setItem(l.USER_ID,String(e).trim())}static setDescription(e){if(!e){l.removeItem(l.DESCRIPTION);return}l.setItem(l.DESCRIPTION,String(e).trim())}static setMetadata(e){if(!e){l.removeItem(l.METADATA);return}l.setItem(l.METADATA,JSON.stringify(e))}static getLocation(){return C.getCurrentPosition()}static trackOnce(e={}){try{return $.trackOnce(e)}finally{j.getConfig(e)}}static trackVerified(e={}){return ee.trackVerified(e)}static startTrackingVerified(e){ee.startTrackingVerified(e)}static stopTrackingVerified(){ee.stopTrackingVerified()}static getVerifiedLocationToken(e={}){return ee.getVerifiedLocationToken(e)}static clearVerifiedLocationToken(){ee.clearVerifiedLocationToken()}static setExpectedJurisdiction(e,t){ee.setExpectedJurisdiction(e,t)}static getContext(e){return z.getContext(e)}static setTripOptions(e){G.setTripOptions(e)}static clearTripOptions(){G.clearTripOptions()}static getTripOptions(){return G.getTripOptions()}static startTrip(e){return G.startTrip(e)}static updateTrip(e){return G.updateTrip(e)}static completeTrip(){return G.completeTrip()}static cancelTrip(){return G.cancelTrip()}static logConversion(e){return B.logConversion(e)}static setProduct(e){if(!e){l.removeItem(l.PRODUCT);return}l.setItem(l.PRODUCT,String(e).trim())}static onTokenUpdated(e){ee.onTokenUpdated(e)}static onError(e){i.onError(e)}static forwardGeocode(e){return F.forwardGeocode(e)}static reverseGeocode(e){return F.reverseGeocode(e)}static ipGeocode(){return F.ipGeocode()}static autocomplete(e){return V.autocomplete(e)}static searchGeofences(e){return V.searchGeofences(e)}static searchPlaces(e){return V.searchPlaces(e)}static validateAddress(e){return O.validateAddress(e)}static distance(e){return N.distance(e)}static matrix(e){return N.matrix(e)}};class ei{constructor(e,t,r){this.type=e,this.feature=t,this.originalEvent=r}}class eo{constructor(e,t){var r;this._sourceIds=[],this._layerIds=[],this.id=(null!==(r=t.id)&&void 0!==r?r:`feature-${Date.now()}`).toString(),(e.getFeatures()||[]).forEach(e=>{if(e.id===this.id)throw Error(`RadarMapFeature: feature with id ${this.id} already exists.`)}),this.geometry=t.geometry,this.properties=t.properties||{},this._feature=t,this._map=e}remove(){this._layerIds.forEach(e=>{this._map.getLayer(e)&&this._map.removeLayer(e)}),this._sourceIds.forEach(e=>{this._map.getSource(e)&&this._map.removeSource(e)}),this._map._features=this._map._features.filter(e=>e.id!==this.id)}on(e,t){this._map.on(e,this.id,r=>{t(new ei(e,this,r))}),"click"===e&&(this._map.on("mouseenter",this.id,()=>{this._map.getCanvas().style.cursor="pointer"}),this._map.on("mouseleave",this.id,()=>{this._map.getCanvas().style.cursor=""}))}}let ea=(e,t=6)=>{let r,n,i=0,o=0,a=0,s=[],l=0,u=0,c=null,h=Math.pow(10,t||6);for(;i<e.length;){c=null,l=0,u=0;do u|=(31&(c=e.charCodeAt(i++)-63))<<l,l+=5;while(c>=32)r=1&u?~(u>>1):u>>1,l=u=0;do u|=(31&(c=e.charCodeAt(i++)-63))<<l,l+=5;while(c>=32)n=1&u?~(u>>1):u>>1,o+=r,a+=n,s.push([a/h,o/h])}return s},es=e=>{let t={};return Object.entries(e).forEach(([e,r])=>{void 0!==r&&(t[e]=r)}),t},el=(e,t={})=>{let r=Object.assign({},e);for(let n in t)t[n]instanceof Object&&!Array.isArray(t[n])&&n in e?r[n]=el(e[n],t[n]):Array.isArray(t[n])&&Array.isArray(e[n])?r[n]=e[n].concat(t[n]):r[n]=t[n];return r},eu={paint:{"line-cap":"round","line-color":"#000257","line-width":4,"border-color":"#FFFFFF","border-width":2}};class ec extends eo{constructor(e,t,r){super(e,t);let n=this.id,i=el(eu,r),o=()=>{if(i.paint=i.paint||{},e.addSource(n,{type:"geojson",data:t}),this._sourceIds.push(n),i.paint["line-width"]&&i.paint["border-width"]){let t=`${n}-border`,r=i.paint["line-width"]+i.paint["border-width"];e.addLayer({id:t,source:n,type:"line",layout:{"line-cap":i.paint["line-cap"]},paint:es({"line-color":i.paint["border-color"],"line-opacity":i.paint["border-opacity"],"line-width":r})}),this._layerIds.push(t)}e.addLayer({id:n,source:n,type:"line",layout:{"line-cap":i.paint["line-cap"]},paint:es({"line-color":i.paint["line-color"],"line-width":i.paint["line-width"],"line-opacity":i.paint["line-opacity"],"line-offset":i.paint["line-offset"],"line-blur":i.paint["line-blur"],"line-dasharray":i.paint["line-dasharray"],"line-gap-width":i.paint["line-gap-width"],"line-gradient":i.paint["line-gradient"]})}),this._layerIds.push(n)};return e.loaded()?o():e.once("data",()=>{o()}),this}static fromPolyline(e,t,r){return new ec(e,{id:(null==r?void 0:r.id)||`polyline-feature-${Date.now()}`,type:"Feature",geometry:{type:"LineString",coordinates:ea(t,null==r?void 0:r.precision)},properties:(null==r?void 0:r.properties)||{}},r)}}let eh={paint:{"fill-color":"#FF6F00","fill-opacity":.3,"border-color":"#FF6F00","border-opacity":1,"border-width":2}};class ed extends eo{constructor(e,t,r){super(e,t);let n=this.id,i=el(eh,r),o=()=>{if(i.paint=i.paint||{},e.addSource(n,{type:"geojson",data:t}),this._sourceIds.push(n),e.addLayer({id:n,source:n,type:"fill",layout:{},paint:es({"fill-color":i.paint["fill-color"],"fill-opacity":i.paint["fill-opacity"]})}),this._layerIds.push(n),i.paint["border-color"]&&i.paint["border-width"]&&i.paint["border-opacity"]){let t=`${n}-border`;e.addLayer({id:t,source:n,type:"line",layout:{},paint:es({"line-color":i.paint["border-color"],"line-opacity":i.paint["border-opacity"],"line-width":i.paint["border-width"]})}),this._layerIds.push(t)}};return e.loaded()?o():e.once("data",()=>{o()}),this}}class ef{onAdd(){let e=document.createElement("img");return e.src="https://api.radar.io/maps/static/images/logo.svg",e.alt="Radar Maps Platform",this.link=document.createElement("a"),this.link.id="radar-map-logo",this.link.href="https://radar.com?ref=powered_by_radar",this.link.target="_blank",this.link.style.pointerEvents="auto",this.link.appendChild(e),this.link}onRemove(){var e;null===(e=this.link)||void 0===e||e.remove()}}let ep=(e,t)=>{t.forEach(t=>{e.push(t)})},em=e=>{let t=[],r=e.geometry;switch(r.type){case"Point":t.push(r.coordinates);break;case"MultiPoint":case"LineString":ep(t,r.coordinates);break;case"MultiLineString":case"Polygon":r.coordinates.forEach(e=>ep(t,e));break;case"MultiPolygon":r.coordinates.forEach(e=>{e.forEach(e=>ep(t,e))})}return t},eg=e=>{let t=[];return(e||[]).forEach(e=>{em(e).forEach(e=>{t.push(e)})}),t},ey=["radar-default-v1","radar-light-v1","radar-dark-v1"],ev={showZoomControls:!0},eb={maxZoom:20,attributionControl:!1,dragRotate:!1,touchPitch:!1,maplibreLogo:!1},e_={padding:50},ex=(e,t)=>{let r=t.style||"radar-default-v1",n=`${e.host}/maps/styles/${r}`;return t.language&&(n+=`?language=${t.language}`),n},ew=e=>!!ey.includes(e)||!/^(http:|https:)/.test(e),eS=(e,t)=>{let r=t.style;return!r||"string"==typeof r&&ew(r)?ex(e,t):t.style};class eT extends n.Map{constructor(e){let t=i.get();t.publishableKey||s.warn("publishableKey not set. Call Radar.initialize() with key before creating a new map.");let r=eS(t,e),o=Object.assign({},ev,eb,e,{style:r},{validateStyle:!t.live});s.debug("map initialized with options",o),o.transformRequest=(e,r)=>{"Style"===r&&ew(e)&&(e=ex(t,Object.assign(Object.assign({},o),{style:e})));let n={Authorization:t.publishableKey,"X-Radar-Device-Type":"Web","X-Radar-SDK-Version":A};return"function"==typeof t.getRequestHeaders&&(n=Object.assign(n,t.getRequestHeaders())),{url:e,headers:n}},super(o),this._markers=[],this._features=[];let a=this.getContainer();a.style.width||a.style.height||s.warn('map container does not have a set "width" or "height"');let l=new ef;this.addControl(l,"bottom-left");let u=new n.AttributionControl({compact:!1});this.addControl(u,"bottom-right");let c=new n.NavigationControl({showCompass:!1,showZoom:o.showZoomControls});this.addControl(c,"bottom-right");let h=()=>{let e=document.querySelector(".maplibregl-ctrl-attrib");e&&(this.getContainer().clientWidth<380?e.classList.add("hidden"):e.classList.remove("hidden"))};this.on("resize",h),this.on("load",h)}addMarker(e){this._markers.push(e)}removeMarker(e){this._markers=this._markers.filter(t=>t!==e)}getMarkers(){return this._markers}fitToMarkers(e={},t){let r=t||this.getMarkers();if(0===r.length)return;let i=new n.LngLatBounds;r.forEach(e=>{i.extend(e.getLngLat())});let o=Object.assign(e_,e);this.fitBounds(i,o)}clearMarkers(){this._markers.forEach(e=>{e.remove()})}getFeatures(){return this._features}fitToFeatures(e={},t){let r=eg((t||this._features).map(e=>e._feature));if(r.length>0){let t=new n.LngLatBounds;r.forEach(e=>{t.extend(e)}),this.fitBounds(t,e)}}clearFeatures(){this._features.forEach(e=>{e.remove()})}addPolygon(e,t){let r=new ed(this,e,t);return this._features.push(r),r}addLine(e,t){let r=new ec(this,e,t);return this._features.push(r),r}addPolyline(e,t){let r=ec.fromPolyline(this,e,t);return this._features.push(r),r}}class eE{constructor(e,t,r){this.target=t,this.originalEvent=r,this.point=t._pos,this.lngLat=t.getLngLat(),this.type=e}}let eP=new Map,eC=(e,t=5e3)=>new Promise((r,n)=>{if(!eP.has(e))return eP.set(e,"pending"),n("miss");let i=Date.now(),o=setInterval(()=>{let a=eP.get(e);"pending"===a?Date.now()-i>t&&(clearInterval(o),n("timed out")):"failed"===a?(clearInterval(o),n("failed")):void 0!==a&&(clearInterval(o),r(a))},100)}),eA=e=>{let t=document.createElement("img");return t.src=e.url,e.width&&("number"==typeof e.width?t.width=e.width:t.style.width=e.width),e.height&&("number"==typeof e.height?t.height=e.height:t.style.height=e.height),e.width||e.height||(t.style.maxWidth="64px",t.style.maxHeight="64px",t.style.width="100%",t.style.height="100%"),t},eM={color:"#000257"};class ek extends n.Marker{constructor(e){let t=Object.assign({},eM);if(e.color&&(t.color=e.color),e.element&&(t.element=e.element),e.scale&&(t.scale=e.scale),super(t),e.marker||e.url){let t=this._element.cloneNode(!0);this._element.childNodes.forEach(e=>{e.remove()});let r=t=>{this._element.replaceChildren(eA({width:e.width,height:e.height,url:t}))},n=r=>{s.error(`Could not load marker: ${r.message} - falling back to default marker`),eP.set(e.url,"failed"),this._element.replaceChildren(...Array.from(t.childNodes))};if(e.url){let t=()=>{fetch(e.url).then(t=>{200===t.status?t.blob().then(t=>{let n=URL.createObjectURL(t);eP.set(e.url,n),r(n)}).catch(n):n(Error(t.statusText))}).catch(n)};eC(e.url).then(r).catch(r=>{"miss"!==r&&s.debug(`RadarMarker: cache lookup for ${e.url}: ${r}`),t()})}if(e.marker){let t=()=>{k.request({method:"GET",version:"maps",path:`markers/${e.marker}`,responseType:"blob"}).then(({data:t})=>{let n=URL.createObjectURL(t);eP.set(e.marker,n),r(n)}).catch(n)};eC(e.marker).then(r).catch(r=>{"miss"!==r&&s.debug(`RadarMarker: cache lookup for ${e.marker} ${r}`),t()})}}if(e.text&&(s.warn('marker option "text" is deprecated, and will be removed in a future version. Use "popup.text".'),e.popup=e.popup||{},e.popup.text=e.text),e.html&&(s.warn('marker option "html" is deprecated, and will be removed in a future version. Use "popup.html".'),e.popup=e.popup||{},e.popup.html=e.html),e.popup){let t=new n.Popup(e.popup);e.popup.text&&t.setText(e.popup.text),e.popup.html&&t.setHTML(e.popup.html),e.popup.element&&t.setDOMContent(e.popup.element),this.setPopup(t)}let r=this.getElement();r&&r.addEventListener("click",e=>{e.stopPropagation(),this.getPopup()&&((this._map.getMarkers()||[]).forEach(e=>{var t;(null===(t=e.getPopup())||void 0===t?void 0:t.isOpen())&&e.togglePopup()}),this.togglePopup()),this.fire("click",new eE("click",this,e))})}addTo(e){return e.addMarker(this),super.addTo(e)}remove(){return this._map&&this._map.removeMarker(this),super.remove()}}class eO extends n.Popup{constructor(e){super(e),e.text&&this.setText(e.text),e.html&&this.setHTML(e.html),e.element&&this.setDOMContent(e.element)}}class eI{static getMapLibre(){return n}static createMap(e){return new eT(e)}static createMarker(e={}){return new ek(e)}static createPopup(e){return new eO(e)}}let eR={WRAPPER:"radar-autocomplete-wrapper",INPUT:"radar-autocomplete-input",SEARCH_ICON:"radar-autocomplete-search-icon",RESULTS_LIST:"radar-autocomplete-results-list",RESULTS_ITEM:"radar-autocomplete-results-item",RESULTS_MARKER:"radar-autocomplete-results-marker",SELECTED_ITEM:"radar-autocomplete-results-item-selected",POWERED_BY_RADAR:"radar-powered",NO_RESULTS:"radar-no-results"},eD={container:"autocomplete",debounceMS:200,minCharacters:3,limit:8,placeholder:"Search address",responsive:!0,disabled:!1,showMarkers:!0,hideResultsOnBlur:!0},eL=e=>"number"==typeof e?`${e}px`:e,ej=(e,t)=>{if(t.responsive){e.style.width="100%",t.width&&(e.style.maxWidth=eL(t.width));return}e.style.width=eL(t.width||400),e.style.removeProperty("max-width")},ez=(e,t)=>{t.maxHeight&&(e.style.maxHeight=eL(t.maxHeight),e.style.overflowY="auto")},eB=(e="#ACBDC8")=>{let t=e.replace("#","%23"),r=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.5704 6.57036C12.5704 4.11632 10.6342 2.11257 8.21016 2C8.14262 2 8.06757 2 8.00003 2C7.93249 2 7.85744 2 7.7899 2C5.35838 2.11257 3.42967 4.11632 3.42967 6.57036C3.42967 6.60037 3.42967 6.6379 3.42967 6.66792C3.42967 6.69794 3.42967 6.73546 3.42967 6.76548C3.42967 9.46717 7.09196 13.3621 7.4672 13.7598C7.61729 13.9174 7.84994 14 8.00003 14C8.15012 14 8.38277 13.9174 8.53286 13.7598C8.9156 13.3621 12.5704 9.46717 12.5704 6.76548C12.5704 6.72795 12.5704 6.69794 12.5704 6.66792C12.5704 6.6379 12.5704 6.60037 12.5704 6.57036ZM7.99252 8.28893C7.04693 8.28893 6.27395 7.52345 6.27395 6.57036C6.27395 5.61726 7.03943 4.85178 7.99252 4.85178C8.94562 4.85178 9.7111 5.61726 9.7111 6.57036C9.7111 7.52345 8.94562 8.28893 7.99252 8.28893Z" fill="${t}"/>
  </svg>`.trim();return`data:image/svg+xml;charset=utf-8,${r}`};class eF{static createAutocomplete(e){return new eF(e)}constructor(e={}){let t;if(this.config=Object.assign({},eD,e),this.isOpen=!1,this.debouncedFetchResults=this.debounce(this.fetchResults,this.config.debounceMS),this.results=[],this.highlightedIndex=-1,void 0!==this.config.threshold&&(this.config.minCharacters=this.config.threshold,s.warn('AutocompleteUI option "threshold" is deprecated, use "minCharacters" instead.')),e.near&&("string"==typeof e.near?this.near=e.near:this.near=`${e.near.latitude},${e.near.longitude}`),!(t="string"==typeof this.config.container?document.getElementById(this.config.container):this.config.container))throw new T(`Could not find container element: ${this.config.container}`);if(this.container=t,this.wrapper=document.createElement("div"),this.wrapper.classList.add(eR.WRAPPER),this.wrapper.style.display=this.config.responsive?"block":"inline-block",ej(this.wrapper,this.config),this.resultsList=document.createElement("ul"),this.resultsList.classList.add(eR.RESULTS_LIST),this.resultsList.setAttribute("id",eR.RESULTS_LIST),this.resultsList.setAttribute("role","listbox"),this.resultsList.setAttribute("aria-live","polite"),this.resultsList.setAttribute("aria-label","Search results"),ez(this.resultsList,this.config),"INPUT"===t.nodeName)this.inputField=t,this.wrapper.appendChild(this.resultsList),t.parentNode.appendChild(this.wrapper);else{this.inputField=document.createElement("input"),this.inputField.classList.add(eR.INPUT),this.inputField.placeholder=this.config.placeholder,this.inputField.type="text",this.inputField.disabled=this.config.disabled;let e=document.createElement("div");e.classList.add(eR.SEARCH_ICON),this.wrapper.appendChild(this.inputField),this.wrapper.appendChild(this.resultsList),this.wrapper.appendChild(e),this.container.appendChild(this.wrapper)}this.inputField.setAttribute("autocomplete","off"),this.inputField.setAttribute("role","combobox"),this.inputField.setAttribute("aria-controls",eR.RESULTS_LIST),this.inputField.setAttribute("aria-expanded","false"),this.inputField.setAttribute("aria-haspopup","listbox"),this.inputField.setAttribute("aria-autocomplete","list"),this.inputField.setAttribute("aria-activedescendant",""),this.inputField.addEventListener("input",this.handleInput.bind(this)),this.inputField.addEventListener("keydown",this.handleKeyboardNavigation.bind(this)),this.config.hideResultsOnBlur&&this.inputField.addEventListener("blur",this.close.bind(this),!0),s.debug("AutocompleteUI initialized with options",this.config)}handleInput(){let e=this.inputField.value;e.length<this.config.minCharacters||this.debouncedFetchResults(e).then(e=>{let t=this.config.onResults;t&&t(e),this.displayResults(e)}).catch(e=>{s.warn(`Autocomplete ui error: ${e.message}`);let t=this.config.onError;t&&t(e)})}debounce(e,t){let r,n,i;return(...o)=>(clearTimeout(r),r=setTimeout(()=>{let t=e.apply(this,o);t instanceof Promise&&t.then(e=>{n&&n(e)}).catch(e=>{i&&i(e)})},t),new Promise((e,t)=>{n=e,i=t}))}fetchResults(e){return u(this,void 0,void 0,function*(){let{limit:t,layers:r,countryCode:n,expandUnits:i,mailable:o,lang:a,postalCode:s,onRequest:l}=this.config,u={query:e,limit:t,layers:r,countryCode:n,expandUnits:i,mailable:o,lang:a,postalCode:s};this.near&&(u.near=this.near),l&&l(u);let{addresses:c}=yield V.autocomplete(u,"autocomplete-ui");return c})}displayResults(e){let t;if(this.clearResultsList(),this.results=e,this.config.showMarkers&&((t=document.createElement("img")).classList.add(eR.RESULTS_MARKER),t.setAttribute("src",eB(this.config.markerColor))),e.forEach((e,r)=>{let n;let i=document.createElement("li");if(i.classList.add(eR.RESULTS_ITEM),i.setAttribute("role","option"),i.setAttribute("id",`${eR.RESULTS_ITEM}}-${r}`),e.formattedAddress.includes(e.addressLabel)&&"postalCode"!==e.layer){let t=RegExp(`(${e.addressLabel}),?`);n=e.formattedAddress.replace(t,"<b>$1</b>")}else{let t=e.placeLabel||e.addressLabel;n=`<b>${t}</b> ${e.formattedAddress}`}i.innerHTML=n,t&&i.prepend(t.cloneNode()),i.addEventListener("mousedown",()=>{this.select(r)}),this.resultsList.appendChild(i)}),this.open(),e.length>0){let e=document.createElement("a");e.href="https://radar.com?ref=powered_by_radar",e.target="_blank",this.poweredByLink=e;let t=document.createElement("span");t.textContent="Powered by",e.appendChild(t);let r=document.createElement("span");r.id="radar-powered-logo",r.textContent="Radar",e.appendChild(r);let n=document.createElement("div");n.classList.add(eR.POWERED_BY_RADAR),n.appendChild(e),this.resultsList.appendChild(n)}else{let e=document.createElement("div");e.classList.add(eR.NO_RESULTS),e.textContent="No results",this.resultsList.appendChild(e)}}open(){this.isOpen||(this.inputField.setAttribute("aria-expanded","true"),this.resultsList.removeAttribute("hidden"),this.isOpen=!0)}close(e){this.isOpen&&setTimeout(()=>{this.inputField.setAttribute("aria-expanded","false"),this.inputField.setAttribute("aria-activedescendant",""),this.resultsList.setAttribute("hidden",""),this.highlightedIndex=-1,this.isOpen=!1,this.clearResultsList()},100*!!(e&&e.relatedTarget===this.poweredByLink))}goTo(e){if(!this.isOpen||!this.results.length)return;e<0?e=this.results.length-1:e>=this.results.length&&(e=0);let t=this.resultsList.getElementsByTagName("li");this.highlightedIndex>-1&&t[this.highlightedIndex].classList.remove(eR.SELECTED_ITEM),t[e].classList.add(eR.SELECTED_ITEM),this.inputField.setAttribute("aria-activedescendant",`${eR.RESULTS_ITEM}-${e}`),this.highlightedIndex=e}handleKeyboardNavigation(e){let t=e.key;if(this.isOpen)switch("Tab"===t&&e.shiftKey&&(t="ArrowUp"),t){case"Tab":case"ArrowDown":e.preventDefault(),this.goTo(this.highlightedIndex+1);break;case"ArrowUp":e.preventDefault(),this.goTo(this.highlightedIndex-1);break;case"Enter":this.select(this.highlightedIndex);break;case"Esc":this.close()}}select(e){let t;let r=this.results[e];if(!r){s.warn(`No autocomplete result found at index: ${e}`);return}if(r.formattedAddress.includes(r.addressLabel))t=r.formattedAddress;else{let e=r.placeLabel||r.addressLabel;t=`${e}, ${r.formattedAddress}`}this.inputField.value=t;let n=this.config.onSelection;n&&n(r),this.close()}clearResultsList(){this.resultsList.innerHTML="",this.results=[]}remove(){s.debug("AutocompleteUI removed."),this.inputField.remove(),this.resultsList.remove(),this.wrapper.remove()}setNear(e){return null==e?this.near=void 0:"string"==typeof e?this.near=e:this.near=`${e.latitude},${e.longitude}`,this}setPlaceholder(e){return this.config.placeholder=e,this.inputField.placeholder=e,this}setDisabled(e){return this.config.disabled=e,this.inputField.disabled=e,this}setResponsive(e){return this.config.responsive=e,ej(this.wrapper,this.config),this}setWidth(e){return null===e?this.config.width=void 0:("string"==typeof e||"number"==typeof e)&&(this.config.width=e),ej(this.wrapper,this.config),this}setMaxHeight(e){return null===e?this.config.maxHeight=void 0:("string"==typeof e||"number"==typeof e)&&(this.config.maxHeight=e),ez(this.resultsList,this.config),this}setMinCharacters(e){return this.config.minCharacters=e,this.config.threshold=e,this}setLimit(e){return this.config.limit=e,this}setLang(e){return null===e?this.config.lang=void 0:"string"==typeof e&&(this.config.lang=e),this}setPostalCode(e){return null===e?this.config.postalCode=void 0:"string"==typeof e&&(this.config.postalCode=e),this}setShowMarkers(e){if(this.config.showMarkers=e,e){let e=document.createElement("img");e.classList.add(eR.RESULTS_MARKER),e.setAttribute("src",eB(this.config.markerColor));let t=this.resultsList.getElementsByTagName("li");for(let r=0;r<t.length;r++)t[r].getElementsByClassName(eR.RESULTS_MARKER)[0]||t[r].prepend(e.cloneNode())}else{let e=this.resultsList.getElementsByTagName("li");for(let t=0;t<e.length;t++){let r=e[t].getElementsByClassName(eR.RESULTS_MARKER)[0];r&&r.remove()}}return this}setMarkerColor(e){this.config.markerColor=e;let t=this.resultsList.getElementsByClassName(eR.RESULTS_MARKER);for(let r=0;r<t.length;r++)t[r].setAttribute("src",eB(e));return this}setHideResultsOnBlur(e){return this.config.hideResultsOnBlur=e,e?this.inputField.addEventListener("blur",this.close.bind(this),!0):this.inputField.removeEventListener("blur",this.close.bind(this),!0),this}}class eN extends en{static get ui(){return{maplibregl:eI.getMapLibre(),map:eI.createMap,marker:eI.createMarker,popup:eI.createPopup,autocomplete:eF.createAutocomplete}}}},50856:(e,t,r)=>{"use strict";r.d(t,{QP:()=>Z});let n=e=>{let t=s(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),i(r,t)||a(e)},getConflictingClassGroupIds:(e,t)=>{let i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}},i=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),o=n?i(e.slice(1),n):void 0;if(o)return o;if(0===t.validators.length)return;let a=e.join("-");return t.validators.find(({validator:e})=>e(a))?.classGroupId},o=/^\[(.+)\]$/,a=e=>{if(o.test(e)){let t=o.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},s=e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return h(Object.entries(e.classGroups),r).forEach(([e,r])=>{l(r,n,e,t)}),n},l=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:u(t,e)).classGroupId=r;return}if("function"==typeof e){if(c(e)){l(e(n),t,r,n);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,i])=>{l(i,u(t,e),r,n)})})},u=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},c=e=>e.isThemeGetter,h=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,d=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,i=(i,o)=>{r.set(i,o),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},f=e=>{let{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],o=t.length,a=e=>{let r;let a=[],s=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===s){if(c===i&&(n||e.slice(u,u+o)===t)){a.push(e.slice(l,u)),l=u+o;continue}if("/"===c){r=u;continue}}"["===c?s++:"]"===c&&s--}let u=0===a.length?e:e.substring(l),c=u.startsWith("!"),h=c?u.substring(1):u;return{modifiers:a,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:r&&r>l?r-l:void 0}};return r?e=>r({className:e,parseClassName:a}):a},p=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},m=e=>({cache:d(e.cacheSize),parseClassName:f(e),...n(e)}),g=/\s+/,y=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(g),s="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{modifiers:l,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:h}=r(t),d=!!h,f=n(d?c.substring(0,h):c);if(!f){if(!d||!(f=n(c))){s=t+(s.length>0?" "+s:s);continue}d=!1}let m=p(l).join(":"),g=u?m+"!":m,y=g+f;if(o.includes(y))continue;o.push(y);let v=i(f,d);for(let e=0;e<v.length;++e){let t=v[e];o.push(g+t)}s=t+(s.length>0?" "+s:s)}return s};function v(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=b(e))&&(n&&(n+=" "),n+=t);return n}let b=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=b(e[n]))&&(r&&(r+=" "),r+=t);return r},_=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},x=/^\[(?:([a-z-]+):)?(.+)\]$/i,w=/^\d+\/\d+$/,S=new Set(["px","full","screen"]),T=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,M=e=>O(e)||S.has(e)||w.test(e),k=e=>H(e,"length",q),O=e=>!!e&&!Number.isNaN(Number(e)),I=e=>H(e,"number",O),R=e=>!!e&&Number.isInteger(Number(e)),D=e=>e.endsWith("%")&&O(e.slice(0,-1)),L=e=>x.test(e),j=e=>T.test(e),z=new Set(["length","size","percentage"]),B=e=>H(e,z,$),F=e=>H(e,"position",$),N=new Set(["image","url"]),V=e=>H(e,N,X),U=e=>H(e,"",W),G=()=>!0,H=(e,t,r)=>{let n=x.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},q=e=>E.test(e)&&!P.test(e),$=()=>!1,W=e=>C.test(e),X=e=>A.test(e);Symbol.toStringTag;let Z=function(e,...t){let r,n,i;let o=function(s){return n=(r=m(t.reduce((e,t)=>t(e),e()))).cache.get,i=r.cache.set,o=a,a(s)};function a(e){let t=n(e);if(t)return t;let o=y(e,r);return i(e,o),o}return function(){return o(v.apply(null,arguments))}}(()=>{let e=_("colors"),t=_("spacing"),r=_("blur"),n=_("brightness"),i=_("borderColor"),o=_("borderRadius"),a=_("borderSpacing"),s=_("borderWidth"),l=_("contrast"),u=_("grayscale"),c=_("hueRotate"),h=_("invert"),d=_("gap"),f=_("gradientColorStops"),p=_("gradientColorStopPositions"),m=_("inset"),g=_("margin"),y=_("opacity"),v=_("padding"),b=_("saturate"),x=_("scale"),w=_("sepia"),S=_("skew"),T=_("space"),E=_("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",L,t],z=()=>[L,t],N=()=>["",M,k],H=()=>["auto",O,L],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",L],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[O,L];return{cacheSize:500,separator:":",theme:{colors:[G],spacing:[M,k],blur:["none","",j,L],brightness:Y(),borderColor:[e],borderRadius:["none","","full",j,L],borderSpacing:z(),borderWidth:N(),contrast:Y(),grayscale:Z(),hueRotate:Y(),invert:Z(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[D,k],inset:A(),margin:A(),opacity:Y(),padding:z(),saturate:Y(),scale:Y(),sepia:Z(),skew:Y(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[j]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),L]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",R,L]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",R,L]}],"grid-cols":[{"grid-cols":[G]}],"col-start-end":[{col:["auto",{span:["full",R,L]},L]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[G]}],"row-start-end":[{row:["auto",{span:[R,L]},L]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,t]}],"min-w":[{"min-w":[L,t,"min","max","fit"]}],"max-w":[{"max-w":[L,t,"none","full","min","max","fit","prose",{screen:[j]},j]}],h:[{h:[L,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,t,"auto","min","max","fit"]}],"font-size":[{text:["base",j,k]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",I]}],"font-family":[{font:[G]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",O,I]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",M,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",M,k]}],"underline-offset":[{"underline-offset":["auto",M,L]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),F]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[M,L]}],"outline-w":[{outline:[M,k]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[M,k]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",j,U]}],"shadow-color":[{shadow:[G]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",j,L]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[R,L]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[M,k,I]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}})},31635:(e,t,r)=>{"use strict";r.d(t,{C6:()=>i,Cl:()=>o,Tt:()=>a,fX:()=>l,zs:()=>s});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);